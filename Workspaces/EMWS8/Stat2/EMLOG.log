*------------------------------------------------------------*
User:                Lukas Fahr
Date:                19. April 2016
Time:                17.21 Uhr
Site:                70107571
Platform:            X64_7PRO
Maintenance Release: 9.03.01M2P081512
EM Version:          12.1
* 
MPRINT(EM_DIAGRAM):    data _null_;
MPRINT(EM_DIAGRAM):   call symput('NLDATE', strip(put(date(), NLDATE.)));
MPRINT(EM_DIAGRAM):   call symput('NLTIME', strip(put(datetime(), NLTIME.)));
MPRINT(EM_DIAGRAM):   run;
MPRINT(EM_DIAGRAM):   data _null_;
MPRINT(EM_DIAGRAM):   nldate= sasmsg("sashelp.dmine", "log_date_note", 'N', "19. April 2016" );
MPRINT(EM_DIAGRAM):   nltime= sasmsg("sashelp.dmine", "log_time_note", 'N', "17.21 Uhr" );
MPRINT(EM_DIAGRAM):   put "*------------------------------------------------------------*";
MPRINT(EM_DIAGRAM):   put "* Training Log";
MPRINT(EM_DIAGRAM):   put nldate;
MPRINT(EM_DIAGRAM):   put nltime;
MPRINT(EM_DIAGRAM):   put "*------------------------------------------------------------*";
MPRINT(EM_DIAGRAM):   run;
*------------------------------------------------------------*
* Training Log
Date:                19. April 2016
Time:                17.21 Uhr
*------------------------------------------------------------*
MPRINT(EM_DIAGRAM):    filename O0SGRW3K "C:\\predictive-models-project\Workspaces\EMWS8\Stat2\EMTRAIN.out" encoding="UTF-8" NOBOM;
MPRINT(EM_DIAGRAM):   proc printto print=O0SGRW3K new;
MPRINT(EM_DIAGRAM):   run;
MPRINT(EM_DIAGRAM):    filename _LOG "C:\\predictive-models-project\Workspaces\EMWS8\Stat2\EMLOG.log" encoding="UTF-8" NOBOM;
MPRINT(EM_DIAGRAM):    data _null_;
MPRINT(EM_DIAGRAM):   call symput('NLDATE', strip(put(date(), NLDATE.)));
MPRINT(EM_DIAGRAM):   call symput('NLTIME', strip(put(datetime(), NLTIME.)));
MPRINT(EM_DIAGRAM):   run;
MPRINT(EM_DIAGRAM):   data _null_;
MPRINT(EM_DIAGRAM):   nldate= sasmsg("sashelp.dmine", "log_date_note", 'N', "19. April 2016" );
MPRINT(EM_DIAGRAM):   nltime= sasmsg("sashelp.dmine", "log_time_note", 'N', "17.21 Uhr" );
MPRINT(EM_DIAGRAM):   file _LOG;
MPRINT(EM_DIAGRAM):   put "*------------------------------------------------------------*";
MPRINT(EM_DIAGRAM):   put "User:                Lukas Fahr";
MPRINT(EM_DIAGRAM):   put nldate;
MPRINT(EM_DIAGRAM):   put nltime;
MPRINT(EM_DIAGRAM):   put "Site:                70107571";
MPRINT(EM_DIAGRAM):   put "Platform:            X64_7PRO";
MPRINT(EM_DIAGRAM):   put "Maintenance Release: 9.03.01M2P081512";
MPRINT(EM_DIAGRAM):   put "EM Version:          12.1";
MPRINT(EM_DIAGRAM):   put "* ";
MPRINT(EM_DIAGRAM):   run;
MPRINT(EM_DIAGRAM):    filename _LOGIN "C:\\predictive-models-project\Workspaces\EMWS8\Stat2\EMTRAIN.log" encoding="UTF-8" NOBOM;
MPRINT(EM_COPYFILE):   data _null_;
MPRINT(EM_COPYFILE):   length line $20000;
MPRINT(EM_COPYFILE):   file _LOG MOD lrecl=20000;
MPRINT(EM_COPYFILE):   fid=fopen("_LOGIN",'i',20000,'v');
MPRINT(EM_COPYFILE):   if fid > 0 then do;
MPRINT(EM_COPYFILE):   do while(^fread(fid));
MPRINT(EM_COPYFILE):   rlen = frlen(fid);
MPRINT(EM_COPYFILE):   rc= fget(fid,line,20000);
MPRINT(EM_COPYFILE):   start = length(line)-length(left(line))+1;
MPRINT(EM_COPYFILE):   line=strip(line);
MPRINT(EM_COPYFILE):   put @start line;
MPRINT(EM_COPYFILE):   end;
MPRINT(EM_COPYFILE):   if fid > 0 then rc=fclose(fid);
MPRINT(EM_COPYFILE):   end;
MPRINT(EM_COPYFILE):   run;
MPRINT(EM_DIAGRAM):  ;
MPRINT(EM_DIAGRAM):   filename _LOGIN;
MPRINT(EM_DIAGRAM):    data _null_;
MPRINT(EM_DIAGRAM):   file _LOG mod;
MPRINT(EM_DIAGRAM):   put _page_;
MPRINT(EM_DIAGRAM):   run;
MPRINT(EM_DIAGRAM):   filename _LOGIN "C:\\predictive-models-project\Workspaces\EMWS8\Stat2\EMSCORE.log" encoding="UTF-8" NOBOM;
MPRINT(EM_DIAGRAM):  ;
MPRINT(EM_DIAGRAM):   data _null_;
MPRINT(EM_DIAGRAM):   file _LOG mod;
MPRINT(EM_DIAGRAM):   put _page_;
MPRINT(EM_DIAGRAM):   run;
MPRINT(EM_DIAGRAM):    filename _LOGIN "C:\\predictive-models-project\Workspaces\EMWS8\Stat2\EMREPORT.log" encoding="UTF-8" NOBOM;
MPRINT(EM_DIAGRAM):  ;
MPRINT(EM_DIAGRAM):   filename _LOGIN;
MPRINT(EM_DIAGRAM):    filename _LOG;
MPRINT(EM_DIAGRAM):    filename _OUT "C:\\predictive-models-project\Workspaces\EMWS8\Stat2\EMOUTPUT.out" encoding="UTF-8" NOBOM;
MPRINT(EM_DIAGRAM):    data _null_;
MPRINT(EM_DIAGRAM):   call symput('NLDATE', strip(put(date(), NLDATE.)));
MPRINT(EM_DIAGRAM):   call symput('NLTIME', strip(put(datetime(), NLTIME.)));
MPRINT(EM_DIAGRAM):   run;
MPRINT(EM_DIAGRAM):   data _null_;
MPRINT(EM_DIAGRAM):   nldate= sasmsg("sashelp.dmine", "log_date_note", 'N', "19. April 2016" );
MPRINT(EM_DIAGRAM):   nltime= sasmsg("sashelp.dmine", "log_time_note", 'N', "17.21 Uhr" );
MPRINT(EM_DIAGRAM):   file _OUT;
MPRINT(EM_DIAGRAM):   put "*------------------------------------------------------------*";
MPRINT(EM_DIAGRAM):   put "User:                Lukas Fahr";
MPRINT(EM_DIAGRAM):   put nldate;
MPRINT(EM_DIAGRAM):   put nltime;
MPRINT(EM_DIAGRAM):   put "*------------------------------------------------------------*";
MPRINT(EM_DIAGRAM):   put "* Training Output";
MPRINT(EM_DIAGRAM):   put "*------------------------------------------------------------*";
MPRINT(EM_DIAGRAM):   run;
MPRINT(EM_DIAGRAM):    filename _OUTIN "C:\\predictive-models-project\Workspaces\EMWS8\Stat2\EMTRAIN.out" encoding="UTF-8" NOBOM;
MPRINT(EM_DIAGRAM):   ;
MPRINT(EM_COPYFILE):   data _null_;
MPRINT(EM_COPYFILE):   length line $20000;
MPRINT(EM_COPYFILE):   file _OUT MOD lrecl=20000;
MPRINT(EM_COPYFILE):   fid=fopen("_OUTIN",'i',20000,'v');
MPRINT(EM_COPYFILE):   if fid > 0 then do;
MPRINT(EM_COPYFILE):   do while(^fread(fid));
MPRINT(EM_COPYFILE):   rlen = frlen(fid);
MPRINT(EM_COPYFILE):   rc= fget(fid,line,20000);
MPRINT(EM_COPYFILE):   start = length(line)-length(left(line))+1;
MPRINT(EM_COPYFILE):   line=strip(line);
MPRINT(EM_COPYFILE):   put @start line;
MPRINT(EM_COPYFILE):   end;
MPRINT(EM_COPYFILE):   if fid > 0 then rc=fclose(fid);
MPRINT(EM_COPYFILE):   end;
MPRINT(EM_COPYFILE):   run;
MPRINT(EM_DIAGRAM):  ;
MPRINT(EM_DIAGRAM):   filename _OUTIN;
MPRINT(EM_DIAGRAM):    data _null_;
MPRINT(EM_DIAGRAM):   file _OUT mod;
MPRINT(EM_DIAGRAM):   put _page_;
MPRINT(EM_DIAGRAM):   put // "*------------------------------------------------------------*";
MPRINT(EM_DIAGRAM):   put "* Score Output";
MPRINT(EM_DIAGRAM):   put "*------------------------------------------------------------*";
MPRINT(EM_DIAGRAM):   run;
MPRINT(EM_DIAGRAM):    filename _OUTIN "C:\\predictive-models-project\Workspaces\EMWS8\Stat2\EMSCORE.out" encoding="UTF-8" NOBOM;
MPRINT(EM_DIAGRAM):  ;
MPRINT(EM_DIAGRAM):   filename _OUTIN;
MPRINT(EM_DIAGRAM):    data _null_;
MPRINT(EM_DIAGRAM):   file _OUT mod;
MPRINT(EM_DIAGRAM):   put _page_;
MPRINT(EM_DIAGRAM):   put // "*------------------------------------------------------------*";
MPRINT(EM_DIAGRAM):   put "* Report Output";
MPRINT(EM_DIAGRAM):   put "*------------------------------------------------------------*";
MPRINT(EM_DIAGRAM):   run;
MPRINT(EM_DIAGRAM):    filename _OUTIN "C:\\predictive-models-project\Workspaces\EMWS8\Stat2\EMREPORT.out" encoding="UTF-8" NOBOM;
MPRINT(EM_DIAGRAM):  ;
MPRINT(EM_DIAGRAM):   filename _OUTIN;
MPRINT(EM_DIAGRAM):    filename _OUT;
MPRINT(EM_DIAGRAM):    filename _emtool_ 'C:\\predictive-models-project\Workspaces\EMWS8\Stat2\EMRUNSTATUS.xml' encoding="UTF-8" NOBOM;
116188     proc freq data=EMWS8.Stat2_VariableSet noprint;
MPRINT(EM_DIAGRAM):    proc freq data=EMWS8.Stat2_VariableSet noprint;
116189     table ROLE*LEVEL/out=WORK.Stat2META;
MPRINT(EM_DIAGRAM):   table ROLE*LEVEL/out=WORK.Stat2META;
116190     run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 36 observations read from the data set EMWS8.STAT2_VARIABLESET.
NOTE: The data set WORK.STAT2META has 6 observations and 4 variables.
NOTE: PROCEDURE FREQ used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
116191     proc print data=WORK.Stat2META label noobs;
MPRINT(EM_DIAGRAM):   proc print data=WORK.Stat2META label noobs;
116192     var ROLE LEVEL COUNT;
MPRINT(EM_DIAGRAM):   var ROLE LEVEL COUNT;
116193     label ROLE = "%sysfunc(sasmsg(sashelp.dmine, meta_role_vlabel, NOQUOTE))" LEVEL = "%sysfunc(sasmsg(sashelp.dmine, meta_level_vlabel, NOQUOTE))" COUNT = "%sysfunc(sasmsg(sashelp.dmine, rpt_count_vlabel, NOQUOTE))";
MPRINT(EM_DIAGRAM):   label ROLE = "Role" LEVEL = "Measurement Level" COUNT = "Frequency Count";
116194     title9 ' ';
MPRINT(EM_DIAGRAM):   title9 ' ';
116195     title10 "%sysfunc(sasmsg(sashelp.dmine, rpt_varSummary_title  , NOQUOTE))";
MPRINT(EM_DIAGRAM):   title10 "Variable Summary";
MPRINT(EM_DIAGRAM):   run;
116196     run;
 
NOTE: There were 6 observations read from the data set WORK.STAT2META.
NOTE: The PROCEDURE PRINT printed page 59.
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
116197     title10;
MPRINT(EM_DIAGRAM):   title10;
116198     data WORK.M1YFSQ8T;
MPRINT(EM_DIAGRAM):    data WORK.M1YFSQ8T;
116199     set WORK.M1YFSQ8T;
MPRINT(EM_DIAGRAM):   set WORK.M1YFSQ8T;
116200     where((role in('TARGET' 'FREQ' 'INPUT') and use in('D','Y')) or (role = 'REJECTED' and use = 'Y'));
MPRINT(EM_DIAGRAM):   where((role in('TARGET' 'FREQ' 'INPUT') and use in('D','Y')) or (role = 'REJECTED' and use = 'Y'));
116201     if ROLE = 'REJECTED' then role = 'INPUT';
MPRINT(EM_DIAGRAM):   if ROLE = 'REJECTED' then role = 'INPUT';
116202     run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 34 observations read from the data set WORK.M1YFSQ8T.
      WHERE (role in ('FREQ', 'INPUT', 'TARGET') and use in ('D', 'Y')) or ((role='REJECTED') and (use='Y'));
NOTE: The data set WORK.M1YFSQ8T has 34 observations and 21 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
116203     *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):    *------------------------------------------------------------*;
116204     * Stat2: Determining Analysis Variables;
MPRINT(EM_DIAGRAM):   * Stat2: Determining Analysis Variables;
116205     *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
116206     *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
116207     * Stat2: Creating Macros for Variable Selection;
MPRINT(EM_DIAGRAM):   * Stat2: Creating Macros for Variable Selection;
116208     *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
116209     *------------------------------------------------------------* ;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------* ;
116210     * Stat2: Interval Input Variables Macro ;
MPRINT(EM_DIAGRAM):   * Stat2: Interval Input Variables Macro ;
116211     *------------------------------------------------------------* ;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------* ;
116212     %macro INTINPUTS;
116213         AcceptedCmpTotal Age Frq Income Kidhome Mnt MntFishProducts MntFruits
116214        MntGoldProds MntMeatProducts MntSweetProducts MntWines MonthsAsCustomer
116215        NumCatalogPurchases NumDealsPurchases NumDistPurchases NumStorePurchases
116216        NumWebPurchases NumWebVisitsMonth RFMstat RMntFrq Recency Teenhome Year_Birth
116217     %mend INTINPUTS;
116218     *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
116219     * Stat2: Creating Macros for Variable Selection;
MPRINT(EM_DIAGRAM):   * Stat2: Creating Macros for Variable Selection;
116220     *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
116221     *------------------------------------------------------------* ;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------* ;
116222     * Stat2: Binary and Nominal Input Variables Macro ;
MPRINT(EM_DIAGRAM):   * Stat2: Binary and Nominal Input Variables Macro ;
116223     *------------------------------------------------------------* ;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------* ;
116224     %macro NOMINPUTS;
116225         AcceptedCmp1 AcceptedCmp2 AcceptedCmp3 AcceptedCmp4 AcceptedCmp5 Complain
116226        Education HigherEducationBinary Marital_Status
116227     %mend NOMINPUTS;
116228     *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
116229     * Stat2: Creating Macros for Variable Selection;
MPRINT(EM_DIAGRAM):   * Stat2: Creating Macros for Variable Selection;
116230     *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
116231     *------------------------------------------------------------* ;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------* ;
116232     * Stat2: Ordinal Input Variables Macro ;
MPRINT(EM_DIAGRAM):   * Stat2: Ordinal Input Variables Macro ;
116233     *------------------------------------------------------------* ;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------* ;
116234     %macro ORDINPUTS;
116235
116236     %mend ORDINPUTS;
116237     data work.EM_Stat2_tree / view=work.EM_Stat2_tree;
MPRINT(EM_DIAGRAM):   data work.EM_Stat2_tree / view=work.EM_Stat2_tree;
116238     set EMWS8.Part_TRAIN(obs=100000
MPRINT(EM_DIAGRAM):   set EMWS8.Part_TRAIN(obs=100000 keep
116238   !                                 keep=%INTINPUTS %ORDINPUTS %NOMINPUTS DepVar);
MPRINT(EM_DIAGRAM):  =AcceptedCmpTotal Age Frq Income Kidhome Mnt MntFishProducts MntFruits MntGoldProds MntMeatProducts MntSweetProducts MntWines MonthsAsCustomer NumCatalogPurchases NumDealsPurchases NumDistPurchases NumStorePurchases NumWebPurchases
NumWebVisitsMonth RFMstat RMntFrq Recency Teenhome Year_Birth AcceptedCmp1 AcceptedCmp2 AcceptedCmp3 AcceptedCmp4 AcceptedCmp5 Complain Education HigherEducationBinary Marital_Status DepVar);
116239     run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: DATA STEP view saved on file WORK.EM_STAT2_TREE.
NOTE: A stored DATA STEP view cannot run under a different operating system.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
116240     proc arbor data=EMWS8.Part_TRAIN(obs=100000
MPRINT(EM_DIAGRAM):   proc arbor data=EMWS8.Part_TRAIN(obs=100000 keep
116240   !                                             keep=%INTINPUTS %ORDINPUTS %NOMINPUTS DepVar) Criterion=GINI Leafsize=5 Mincatsize = 5 Maxbranch=5 Maxdepth=1 Padjust= NONE NORULELIMIT MAXRULES=33 MAXSURRS=0 Missing=USEINSEARCH Exhaustive=5000;
MPRINT(EM_DIAGRAM):  =AcceptedCmpTotal Age Frq Income Kidhome Mnt MntFishProducts MntFruits MntGoldProds MntMeatProducts MntSweetProducts MntWines MonthsAsCustomer NumCatalogPurchases NumDealsPurchases NumDistPurchases NumStorePurchases NumWebPurchases
NumWebVisitsMonth RFMstat RMntFrq Recency Teenhome Year_Birth AcceptedCmp1 AcceptedCmp2 AcceptedCmp3 AcceptedCmp4 AcceptedCmp5 Complain Education HigherEducationBinary Marital_Status DepVar) Criterion=GINI Leafsize=5 Mincatsize = 5 Maxbranch=5 Maxdepth=1
Padjust= NONE NORULELIMIT MAXRULES=33 MAXSURRS=0 Missing=USEINSEARCH Exhaustive=5000;
WARNING: PADJUST and PVAR options are ignored with this splitting criterion.
MPRINT(EM_DIAGRAM):   input
116241     input %INTINPUTS / level = interval;
MPRINT(INTINPUTS):   AcceptedCmpTotal Age Frq Income Kidhome Mnt MntFishProducts MntFruits MntGoldProds MntMeatProducts MntSweetProducts MntWines MonthsAsCustomer NumCatalogPurchases NumDealsPurchases NumDistPurchases NumStorePurchases NumWebPurchases
NumWebVisitsMonth RFMstat RMntFrq Recency Teenhome Year_Birth
MPRINT(EM_DIAGRAM):   / level = interval;
MPRINT(EM_DIAGRAM):   input
116242     input %NOMINPUTS / level=nominal;
MPRINT(NOMINPUTS):   AcceptedCmp1 AcceptedCmp2 AcceptedCmp3 AcceptedCmp4 AcceptedCmp5 Complain Education HigherEducationBinary Marital_Status
MPRINT(EM_DIAGRAM):   / level=nominal;
116243     target DepVar / level=BINARY;
MPRINT(EM_DIAGRAM):   target DepVar / level=BINARY;
116244     Performance Disk NodeSize=10000;
MPRINT(EM_DIAGRAM):   Performance Disk NodeSize=10000;
116245     Assess NoValidata measure=MISC;
MPRINT(EM_DIAGRAM):   Assess NoValidata measure=MISC;
NOTE: 1622920 kilobytes of physical memory.
NOTE: Will use 2374 out of 2374 training cases.
NOTE: Using memory pool with 176261120 bytes.
NOTE: Passed training data 2 times.
NOTE: Training used 2001648 bytes of work memory.
NOTE: The subtree sequence contains 2 subtrees. The largest has 6 nodes and 5 leaves.
NOTE: Using subtree with 6 nodes and 5 leaves.
116246     SUBTREE BEST;
MPRINT(EM_DIAGRAM):   SUBTREE BEST;
NOTE: Using subtree with 6 nodes and 5 leaves.
116247     save RULES=WORK.Stat2_RULE;
MPRINT(EM_DIAGRAM):   save RULES=WORK.Stat2_RULE;
NOTE: The data set WORK.STAT2_RULE has 273 observations and 6 variables.
116248     run;
MPRINT(EM_DIAGRAM):   run;
 
116249     quit;
MPRINT(EM_DIAGRAM):   quit;
 
NOTE: There were 2374 observations read from the data set EMWS8.PART_TRAIN.
NOTE: PROCEDURE ARBOR used (Total process time):
      real time           0.04 seconds
      cpu time            0.04 seconds
 
 
116250     data WORK.Stat2_RULE(keep=Target Name Rank Numeric_Value StatVar rename=(numeric_value=Worth));
MPRINT(EM_DIAGRAM):    data WORK.Stat2_RULE(keep=Target Name Rank Numeric_Value StatVar rename=(numeric_value=Worth));
116251     label Target = "%sysfunc(sasmsg(sashelp.dmine, rpt_target_vlabel,      NOQUOTE))" Name = "%sysfunc(sasmsg(sashelp.dmine, rpt_variable_vlabel,    NOQUOTE))" Rank = "%sysfunc(sasmsg(sashelp.dmine, rpt_importance_vlabel,  NOQUOTE))" Numeric_Value =
116252        "%sysfunc(sasmsg(sashelp.dmine, rpt_worth_vlabel,       NOQUOTE))" StatVar = "%sysfunc(sasmsg(sashelp.dmine, rpt_analysisVar_vlabel, NOQUOTE))";
MPRINT(EM_DIAGRAM):   label Target = "Target" Name = "Variable" Rank = "Importance" Numeric_Value = "Worth" StatVar = "Analysis Variable";
116253     length Target $32 Name $32;
MPRINT(EM_DIAGRAM):   length Target $32 Name $32;
116254     retain TARGET "DepVar" Name;
MPRINT(EM_DIAGRAM):   retain TARGET "DepVar" Name;
116255     format STATVAR 6.0;
MPRINT(EM_DIAGRAM):   format STATVAR 6.0;
116256     set WORK.Stat2_RULE;
MPRINT(EM_DIAGRAM):   set WORK.Stat2_RULE;
116257     where stat in('VARIABLE','WORTH');
MPRINT(EM_DIAGRAM):   where stat in('VARIABLE','WORTH');
116258     if stat = 'VARIABLE' then Name = character_value;
MPRINT(EM_DIAGRAM):   if stat = 'VARIABLE' then Name = character_value;
116259     else do;
MPRINT(EM_DIAGRAM):   else do;
116260     if _N_<= 2*1000 then STATVAR=1;
MPRINT(EM_DIAGRAM):   if _N_<= 2*1000 then STATVAR=1;
116261     else STATVAR=0;
MPRINT(EM_DIAGRAM):   else STATVAR=0;
116262     output;
MPRINT(EM_DIAGRAM):   output;
116263     end;
MPRINT(EM_DIAGRAM):   end;
116264     run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 66 observations read from the data set WORK.STAT2_RULE.
      WHERE stat in ('VARIABLE', 'WORTH');
NOTE: The data set WORK.STAT2_RULE has 33 observations and 5 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
116265     proc append base=EMWS8.Stat2_WORTH data=WORK.Stat2_RULE force;
MPRINT(EM_DIAGRAM):   proc append base=EMWS8.Stat2_WORTH data=WORK.Stat2_RULE force;
116266     run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: Appending WORK.STAT2_RULE to EMWS8.STAT2_WORTH.
NOTE: BASE data set does not exist. DATA file is being copied to BASE file.
NOTE: There were 33 observations read from the data set WORK.STAT2_RULE.
NOTE: The data set EMWS8.STAT2_WORTH has 33 observations and 5 variables.
NOTE: PROCEDURE APPEND used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
116267     *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):    *------------------------------------------------------------*;
116268     * Stat2: Counting Levels;
MPRINT(EM_DIAGRAM):   * Stat2: Counting Levels;
116269     *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
116270     proc sql;
MPRINT(EM_DIAGRAM):   proc sql;
116271     create view WORK.Stat2_distinct as select distinct Custid from EMWS8.Part_TRAIN(obs=100000);
MPRINT(EM_DIAGRAM):   create view WORK.Stat2_distinct as select distinct Custid from EMWS8.Part_TRAIN(obs=100000);
NOTE: SQL view WORK.STAT2_DISTINCT has been defined.
116272     quit;
MPRINT(EM_DIAGRAM):   quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
116273     proc sql;
MPRINT(EM_DIAGRAM):   proc sql;
116274     reset noprint;
MPRINT(EM_DIAGRAM):   reset noprint;
116275     select count(*) into :_tmpcount from WORK.Stat2_distinct;
MPRINT(EM_DIAGRAM):   select count(*) into :_tmpcount from WORK.Stat2_distinct;
116276     quit;
MPRINT(EM_DIAGRAM):   quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
116277     proc sql;
MPRINT(EM_DIAGRAM):    proc sql;
116278     create view WORK.Stat2_distinct as select distinct DepVar from EMWS8.Part_TRAIN(obs=100000);
MPRINT(EM_DIAGRAM):   create view WORK.Stat2_distinct as select distinct DepVar from EMWS8.Part_TRAIN(obs=100000);
NOTE: SQL view WORK.STAT2_DISTINCT has been defined.
116279     quit;
MPRINT(EM_DIAGRAM):   quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
116280     proc sql;
MPRINT(EM_DIAGRAM):   proc sql;
116281     reset noprint;
MPRINT(EM_DIAGRAM):   reset noprint;
116282     select count(*) into :_tmpcount from WORK.Stat2_distinct;
MPRINT(EM_DIAGRAM):   select count(*) into :_tmpcount from WORK.Stat2_distinct;
116283     quit;
MPRINT(EM_DIAGRAM):   quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
116284     proc sql;
MPRINT(EM_DIAGRAM):    proc sql;
116285     create view WORK.Stat2_distinct as select distinct _dataobs_ from EMWS8.Part_TRAIN(obs=100000);
MPRINT(EM_DIAGRAM):   create view WORK.Stat2_distinct as select distinct _dataobs_ from EMWS8.Part_TRAIN(obs=100000);
NOTE: SQL view WORK.STAT2_DISTINCT has been defined.
116286     quit;
MPRINT(EM_DIAGRAM):   quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
116287     proc sql;
MPRINT(EM_DIAGRAM):   proc sql;
116288     reset noprint;
MPRINT(EM_DIAGRAM):   reset noprint;
116289     select count(*) into :_tmpcount from WORK.Stat2_distinct;
MPRINT(EM_DIAGRAM):   select count(*) into :_tmpcount from WORK.Stat2_distinct;
116290     quit;
MPRINT(EM_DIAGRAM):   quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
116291     proc sort data=WORK.Stat2_count NOTHREADS;
MPRINT(EM_DIAGRAM):    proc sort data=WORK.Stat2_count NOTHREADS;
116292     by NAME ROLE DATA;
MPRINT(EM_DIAGRAM):   by NAME ROLE DATA;
116293     run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 3 observations read from the data set WORK.STAT2_COUNT.
NOTE: The data set WORK.STAT2_COUNT has 3 observations and 4 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
116294     proc print data=WORK.Stat2_count(obs=500) label noobs;
MPRINT(EM_DIAGRAM):   proc print data=WORK.Stat2_count(obs=500) label noobs;
116295     label NAME = "%sysfunc(sasmsg(sashelp.dmine, rpt_variable_vlabel,    NOQUOTE))" COUNT = "%sysfunc(sasmsg(sashelp.dmine, rpt_count_vlabel,       NOQUOTE))" ROLE = "%sysfunc(sasmsg(sashelp.dmine, meta_role_vlabel,       NOQUOTE))";
MPRINT(EM_DIAGRAM):   label NAME = "Variable" COUNT = "Frequency Count" ROLE = "Role";
116296     var NAME ROLE COUNT;
MPRINT(EM_DIAGRAM):   var NAME ROLE COUNT;
116297     title9 "%sysfunc(sasmsg(sashelp.dmine, rpt_varLevels_title, NOQUOTE))";
MPRINT(EM_DIAGRAM):   title9 "Variable Levels Summary";
116298     title10 "%sysfunc(sasmsg(sashelp.dmine, rpt_maxObsPrinted_title, NOQUOTE))";
MPRINT(EM_DIAGRAM):   title10 "(maximum 500 observations printed)";
MPRINT(EM_DIAGRAM):   run;
116299     run;
 
NOTE: There were 3 observations read from the data set WORK.STAT2_COUNT.
NOTE: The PROCEDURE PRINT printed page 60.
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
116300     title9;
MPRINT(EM_DIAGRAM):   title9;
116301     title10;
MPRINT(EM_DIAGRAM):   title10;
116302     proc sort data=EMWS8.Stat2_WORTH nodupkey out=WORK.Stat2_SELVAR(keep=Name StatVar);
MPRINT(EM_DIAGRAM):    proc sort data=EMWS8.Stat2_WORTH nodupkey out=WORK.Stat2_SELVAR(keep=Name StatVar);
116303     by NAME;
MPRINT(EM_DIAGRAM):   by NAME;
116304     where statvar=1;
MPRINT(EM_DIAGRAM):   where statvar=1;
116305     run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 33 observations read from the data set EMWS8.STAT2_WORTH.
      WHERE statvar=1;
NOTE: 0 observations with duplicate key values were deleted.
NOTE: The data set WORK.STAT2_SELVAR has 33 observations and 2 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
116306     proc sort data=EMWS8.Stat2_WORTH;
MPRINT(EM_DIAGRAM):    proc sort data=EMWS8.Stat2_WORTH;
116307     by Rank;
MPRINT(EM_DIAGRAM):   by Rank;
116308     where statvar=1;
MPRINT(EM_DIAGRAM):   where statvar=1;
116309     run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 33 observations read from the data set EMWS8.STAT2_WORTH.
      WHERE statvar=1;
NOTE: The data set EMWS8.STAT2_WORTH has 33 observations and 5 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
116310     proc sort data=WORK.M0DC9VM3;
MPRINT(EM_DIAGRAM):    proc sort data=WORK.M0DC9VM3;
116311     by name;
MPRINT(EM_DIAGRAM):   by name;
116312     run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 36 observations read from the data set WORK.M0DC9VM3.
NOTE: The data set WORK.M0DC9VM3 has 36 observations and 21 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
116313     data WORK.Stat2_analysisMeta;
MPRINT(EM_DIAGRAM):   data WORK.Stat2_analysisMeta;
116314     merge WORK.M0DC9VM3 WORK.Stat2_SELVAR(in=_a);
MPRINT(EM_DIAGRAM):   merge WORK.M0DC9VM3 WORK.Stat2_SELVAR(in=_a);
116315     by name;
MPRINT(EM_DIAGRAM):   by name;
116316     if _a then STATVAR = 1;
MPRINT(EM_DIAGRAM):   if _a then STATVAR = 1;
116317     else if ROLE in('INPUT', 'REJECTED') and REPORT ne 'Y' then delete;
MPRINT(EM_DIAGRAM):   else if ROLE in('INPUT', 'REJECTED') and REPORT ne 'Y' then delete;
116318     if REPORT eq 'Y' then STATVAR = 1;
MPRINT(EM_DIAGRAM):   if REPORT eq 'Y' then STATVAR = 1;
116319     run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 36 observations read from the data set WORK.M0DC9VM3.
NOTE: There were 33 observations read from the data set WORK.STAT2_SELVAR.
NOTE: The data set WORK.STAT2_ANALYSISMETA has 36 observations and 22 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
116320     data WORK.M293ADDM;
MPRINT(EM_DIAGRAM):    data WORK.M293ADDM;
116321     set WORK.M293ADDM;
MPRINT(EM_DIAGRAM):   set WORK.M293ADDM;
116322     where(use = 'Y' or Report='Y' or (role in('TARGET' 'FREQ' 'PREDICT' 'RESIDUAL' 'INPUT') and use = 'D'));
MPRINT(EM_DIAGRAM):   where(use = 'Y' or Report='Y' or (role in('TARGET' 'FREQ' 'PREDICT' 'RESIDUAL' 'INPUT') and use = 'D'));
116323     if ROLE = 'SEGMENT' then delete;
MPRINT(EM_DIAGRAM):   if ROLE = 'SEGMENT' then delete;
116324     else if ROLE ^in('FREQ','TARGET') then role = 'INPUT';
MPRINT(EM_DIAGRAM):   else if ROLE ^in('FREQ','TARGET') then role = 'INPUT';
116325     run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 34 observations read from the data set WORK.M293ADDM.
      WHERE (use='Y') or (Report='Y') or (role in ('FREQ', 'INPUT', 'PREDICT', 'RESIDUAL', 'TARGET') and (use='D'));
NOTE: The data set WORK.M293ADDM has 34 observations and 22 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
116326     data WORK.M34ZUEC7;
MPRINT(EM_DIAGRAM):    data WORK.M34ZUEC7;
116327     set WORK.M34ZUEC7;
MPRINT(EM_DIAGRAM):   set WORK.M34ZUEC7;
116328     where(use = 'Y' or Report='Y' or (role in('SEGMENT', 'TARGET' 'FREQ' 'PREDICT' 'RESIDUAL' 'INPUT') and use = 'D'));
MPRINT(EM_DIAGRAM):   where(use = 'Y' or Report='Y' or (role in('SEGMENT', 'TARGET' 'FREQ' 'PREDICT' 'RESIDUAL' 'INPUT') and use = 'D'));
116329     if ROLE ne 'FREQ' then role = 'INPUT';
MPRINT(EM_DIAGRAM):   if ROLE ne 'FREQ' then role = 'INPUT';
116330     run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 34 observations read from the data set WORK.M34ZUEC7.
      WHERE (use='Y') or (Report='Y') or (role in ('FREQ', 'INPUT', 'PREDICT', 'RESIDUAL', 'SEGMENT', 'TARGET') and (use='D'));
NOTE: The data set WORK.M34ZUEC7 has 34 observations and 22 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
116331     *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):    *------------------------------------------------------------*;
116332     * Stat2: Computing Statistics for Interval Variables;
MPRINT(EM_DIAGRAM):   * Stat2: Computing Statistics for Interval Variables;
116333     *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
116334     proc dmdb data=EMWS8.Part_TRAIN(obs=100000) nonorm maxlevel=513
116335     varout=work._DMDBVAR(RENAME=(NAME=VARIABLE))
116336     classout=WORK.Stat2CLASS(drop=NMISSPERCENT rename=(NAME=VARIABLE FREQUENCY=COUNT FREQPERCENT=PERCENT))
116337     ;
MPRINT(EM_DIAGRAM):   proc dmdb data=EMWS8.Part_TRAIN(obs=100000) nonorm maxlevel=513 varout=work._DMDBVAR(RENAME=(NAME=VARIABLE)) classout=WORK.Stat2CLASS(drop=NMISSPERCENT rename=(NAME=VARIABLE FREQUENCY=COUNT FREQPERCENT=PERCENT)) ;
116338     var
116339     AcceptedCmpTotal Age Frq Income Kidhome Mnt MntFishProducts MntFruits
116340     MntGoldProds MntMeatProducts MntSweetProducts MntWines MonthsAsCustomer
116341     NumCatalogPurchases NumDealsPurchases NumDistPurchases NumStorePurchases
116342     NumWebPurchases NumWebVisitsMonth RFMstat RMntFrq Recency Teenhome Year_Birth
116343     ;
MPRINT(EM_DIAGRAM):   var AcceptedCmpTotal Age Frq Income Kidhome Mnt MntFishProducts MntFruits MntGoldProds MntMeatProducts MntSweetProducts MntWines MonthsAsCustomer NumCatalogPurchases NumDealsPurchases NumDistPurchases NumStorePurchases
NumWebPurchases NumWebVisitsMonth RFMstat RMntFrq Recency Teenhome Year_Birth ;
116344     class
116345     AcceptedCmp1 AcceptedCmp2 AcceptedCmp3 AcceptedCmp4 AcceptedCmp5 Complain
116346     DepVar Education HigherEducationBinary Marital_Status
116347     ;
MPRINT(EM_DIAGRAM):   class AcceptedCmp1 AcceptedCmp2 AcceptedCmp3 AcceptedCmp4 AcceptedCmp5 Complain DepVar Education HigherEducationBinary Marital_Status ;
116348     ;
MPRINT(EM_DIAGRAM):   ;
116349     run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: Records processed = 2374   Memory used = 511K.
NOTE: There were 2374 observations read from the data set EMWS8.PART_TRAIN.
NOTE: The data set WORK._DMDBVAR has 24 observations and 9 variables.
NOTE: The data set WORK.STAT2CLASS has 26 observations and 8 variables.
NOTE: PROCEDURE DMDB used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
116350     proc stdize data = EMWS8.Part_TRAIN(obs=100000) out=_null_ outstat=work._STDIZE add=0 fuzz=1E-14 initial=MAD vardef=df method=STD mult=1 pctlmtd=ORD_STAT pctldef=2 pctlpts=(0 5 50 95 100);
MPRINT(EM_DIAGRAM):   proc stdize data = EMWS8.Part_TRAIN(obs=100000) out=_null_ outstat=work._STDIZE add=0 fuzz=1E-14 initial=MAD vardef=df method=STD mult=1 pctlmtd=ORD_STAT pctldef=2 pctlpts=(0 5 50 95 100);
116351     var
116352     AcceptedCmpTotal Age Frq Income Kidhome Mnt MntFishProducts MntFruits
116353     MntGoldProds MntMeatProducts MntSweetProducts MntWines MonthsAsCustomer
116354     NumCatalogPurchases NumDealsPurchases NumDistPurchases NumStorePurchases
116355     NumWebPurchases NumWebVisitsMonth RFMstat RMntFrq Recency Teenhome Year_Birth
116356     ;
MPRINT(EM_DIAGRAM):   var AcceptedCmpTotal Age Frq Income Kidhome Mnt MntFishProducts MntFruits MntGoldProds MntMeatProducts MntSweetProducts MntWines MonthsAsCustomer NumCatalogPurchases NumDealsPurchases NumDistPurchases NumStorePurchases
NumWebPurchases NumWebVisitsMonth RFMstat RMntFrq Recency Teenhome Year_Birth ;
116357     run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: INITIAL= will be ignored.
NOTE: There were 2374 observations read from the data set EMWS8.PART_TRAIN.
NOTE: The data set WORK._STDIZE has 13 observations and 25 variables.
NOTE: PROCEDURE STDIZE used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
116358     proc transpose data=work._STDIZE out=work._TRANSSTDIZE(drop=_LABEL_ rename=(_NAME_=VARIABLE));
MPRINT(EM_DIAGRAM):   proc transpose data=work._STDIZE out=work._TRANSSTDIZE(drop=_LABEL_ rename=(_NAME_=VARIABLE));
116359     id _type_;
MPRINT(EM_DIAGRAM):   id _type_;
116360     where _TYPE_='P50';
MPRINT(EM_DIAGRAM):   where _TYPE_='P50';
116361     run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 1 observations read from the data set WORK._STDIZE.
      WHERE _TYPE_='P50';
NOTE: The data set WORK._TRANSSTDIZE has 24 observations and 2 variables.
NOTE: PROCEDURE TRANSPOSE used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
116362     proc sort data=work._TRANSSTDIZE;
MPRINT(EM_DIAGRAM):   proc sort data=work._TRANSSTDIZE;
116363     by VARIABLE;
MPRINT(EM_DIAGRAM):   by VARIABLE;
116364     run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 24 observations read from the data set WORK._TRANSSTDIZE.
NOTE: The data set WORK._TRANSSTDIZE has 24 observations and 2 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
116365     proc sort data=work._DMDBVAR;
MPRINT(EM_DIAGRAM):   proc sort data=work._DMDBVAR;
116366     by VARIABLE;
MPRINT(EM_DIAGRAM):   by VARIABLE;
116367     run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 24 observations read from the data set WORK._DMDBVAR.
NOTE: The data set WORK._DMDBVAR has 24 observations and 9 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
116368     data WORK.Stat2INTERVAL;
MPRINT(EM_DIAGRAM):   data WORK.Stat2INTERVAL;
116369     merge work._TRANSSTDIZE work._DMDBVAR;
MPRINT(EM_DIAGRAM):   merge work._TRANSSTDIZE work._DMDBVAR;
116370     format N NMISS 8. MIN MAX P50 MEAN STD SKEWNESS KURTOSIS BEST8.3;
MPRINT(EM_DIAGRAM):   format N NMISS 8. MIN MAX P50 MEAN STD SKEWNESS KURTOSIS BEST8.3;
116371     by VARIABLE;
MPRINT(EM_DIAGRAM):   by VARIABLE;
116372     run;
MPRINT(EM_DIAGRAM):   run;
 
WARNING: Multiple lengths were specified for the BY variable VARIABLE by input data sets. This may cause unexpected results.
NOTE: There were 24 observations read from the data set WORK._TRANSSTDIZE.
NOTE: There were 24 observations read from the data set WORK._DMDBVAR.
NOTE: The data set WORK.STAT2INTERVAL has 24 observations and 10 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
116373     proc sort data=WORK.Stat2CLASS;
MPRINT(EM_DIAGRAM):    proc sort data=WORK.Stat2CLASS;
116374     by Variable Level;
MPRINT(EM_DIAGRAM):   by Variable Level;
116375     run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 26 observations read from the data set WORK.STAT2CLASS.
NOTE: The data set WORK.STAT2CLASS has 26 observations and 8 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
NOTE: There were 13 observations read from the data set WORK._STDIZE.
NOTE: The data set EMWS8.STAT2_TRAINPCTLS has 13 observations and 25 variables.
116376     data colorindex;
MPRINT(EM_DIAGRAM):    data colorindex;
116377     retain LevelIndex 0;
MPRINT(EM_DIAGRAM):   retain LevelIndex 0;
116378     set WORK.Stat2CLASS(keep=Variable Level);
MPRINT(EM_DIAGRAM):   set WORK.Stat2CLASS(keep=Variable Level);
116379     by variable level;
MPRINT(EM_DIAGRAM):   by variable level;
116380     if first.variable then LevelIndex = 0;
MPRINT(EM_DIAGRAM):   if first.variable then LevelIndex = 0;
116381     if first.level then LevelIndex + 1;
MPRINT(EM_DIAGRAM):   if first.level then LevelIndex + 1;
116382     run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 26 observations read from the data set WORK.STAT2CLASS.
NOTE: The data set WORK.COLORINDEX has 26 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
116383     data WORK.Stat2CLASS;
MPRINT(EM_DIAGRAM):    data WORK.Stat2CLASS;
116384     merge WORK.Stat2CLASS(in=_a) colorindex;
MPRINT(EM_DIAGRAM):   merge WORK.Stat2CLASS(in=_a) colorindex;
116385     by variable level;
MPRINT(EM_DIAGRAM):   by variable level;
116386     if _a then output;
MPRINT(EM_DIAGRAM):   if _a then output;
116387     run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 26 observations read from the data set WORK.STAT2CLASS.
NOTE: There were 26 observations read from the data set WORK.COLORINDEX.
NOTE: The data set WORK.STAT2CLASS has 26 observations and 9 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
116388     data WORK.Stat2INTERVAL;
MPRINT(EM_DIAGRAM):    data WORK.Stat2INTERVAL;
116389     length DATAROLE $20;
MPRINT(EM_DIAGRAM):   length DATAROLE $20;
116390     retain DATAROLE "TRAIN";
MPRINT(EM_DIAGRAM):   retain DATAROLE "TRAIN";
116391     length Target $32 TargetValue $32;
MPRINT(EM_DIAGRAM):   length Target $32 TargetValue $32;
116392     label Target = "%sysfunc(sasmsg(sashelp.dmine, rpt_target_vlabel, NOQUOTE))" TargetValue = "%sysfunc(sasmsg(sashelp.dmine, rpt_targetlevel_vlabel, NOQUOTE))";
MPRINT(EM_DIAGRAM):   label Target = "Target" TargetValue = "Target Level";
116393     retain Target '_OVERALL_';
MPRINT(EM_DIAGRAM):   retain Target '_OVERALL_';
116394     set WORK.Stat2INTERVAL;
MPRINT(EM_DIAGRAM):   set WORK.Stat2INTERVAL;
116395     run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: Variable TargetValue is uninitialized.
NOTE: There were 24 observations read from the data set WORK.STAT2INTERVAL.
NOTE: The data set WORK.STAT2INTERVAL has 24 observations and 13 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
116396     proc append base=EMWS8.Stat2_INTERVAL data=WORK.Stat2INTERVAL force;
MPRINT(EM_DIAGRAM):   proc append base=EMWS8.Stat2_INTERVAL data=WORK.Stat2INTERVAL force;
116397     run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: Appending WORK.STAT2INTERVAL to EMWS8.STAT2_INTERVAL.
NOTE: BASE data set does not exist. DATA file is being copied to BASE file.
NOTE: There were 24 observations read from the data set WORK.STAT2INTERVAL.
NOTE: The data set EMWS8.STAT2_INTERVAL has 24 observations and 13 variables.
NOTE: PROCEDURE APPEND used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
116398     data WORK.Stat2CLASS;
MPRINT(EM_DIAGRAM):    data WORK.Stat2CLASS;
116399     length DATAROLE $20;
MPRINT(EM_DIAGRAM):   length DATAROLE $20;
116400     retain DATAROLE "TRAIN";
MPRINT(EM_DIAGRAM):   retain DATAROLE "TRAIN";
116401     length Target $32 TargetValue $32;
MPRINT(EM_DIAGRAM):   length Target $32 TargetValue $32;
116402     label Target = "%sysfunc(sasmsg(sashelp.dmine, rpt_target_vlabel, NOQUOTE))" TargetValue = "%sysfunc(sasmsg(sashelp.dmine, rpt_targetlevel_vlabel, NOQUOTE))";
MPRINT(EM_DIAGRAM):   label Target = "Target" TargetValue = "Target Level";
116403     retain Target '_OVERALL_';
MPRINT(EM_DIAGRAM):   retain Target '_OVERALL_';
116404     set WORK.Stat2CLASS;
MPRINT(EM_DIAGRAM):   set WORK.Stat2CLASS;
116405     run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: Variable TargetValue is uninitialized.
NOTE: There were 26 observations read from the data set WORK.STAT2CLASS.
NOTE: The data set WORK.STAT2CLASS has 26 observations and 12 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
116406     proc append base=EMWS8.Stat2_CLASS data=WORK.Stat2CLASS force;
MPRINT(EM_DIAGRAM):   proc append base=EMWS8.Stat2_CLASS data=WORK.Stat2CLASS force;
116407     run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: Appending WORK.STAT2CLASS to EMWS8.STAT2_CLASS.
NOTE: BASE data set does not exist. DATA file is being copied to BASE file.
NOTE: There were 26 observations read from the data set WORK.STAT2CLASS.
NOTE: The data set EMWS8.STAT2_CLASS has 26 observations and 12 variables.
NOTE: PROCEDURE APPEND used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
116408     data WORK.M0S_EZ2C;
MPRINT(EM_DIAGRAM):    data WORK.M0S_EZ2C;
116409     set WORK.M0S_EZ2C;
MPRINT(EM_DIAGRAM):   set WORK.M0S_EZ2C;
116410     where(use = 'Y' or Report='Y' or (role in('TARGET' 'FREQ' 'PREDICT' 'RESIDUAL' 'INPUT') and use = 'D'));
MPRINT(EM_DIAGRAM):   where(use = 'Y' or Report='Y' or (role in('TARGET' 'FREQ' 'PREDICT' 'RESIDUAL' 'INPUT') and use = 'D'));
116411     if ROLE = 'SEGMENT' or (ROLE = 'TARGET' and LEVEL ne 'INTERVAL') then delete;
MPRINT(EM_DIAGRAM):   if ROLE = 'SEGMENT' or (ROLE = 'TARGET' and LEVEL ne 'INTERVAL') then delete;
116412     else if ROLE ne 'FREQ' then role = 'INPUT';
MPRINT(EM_DIAGRAM):   else if ROLE ne 'FREQ' then role = 'INPUT';
116413     run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 34 observations read from the data set WORK.M0S_EZ2C.
      WHERE (use='Y') or (Report='Y') or (role in ('FREQ', 'INPUT', 'PREDICT', 'RESIDUAL', 'TARGET') and (use='D'));
NOTE: The data set WORK.M0S_EZ2C has 33 observations and 22 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
116414     proc freq data=EMWS8.Part_TRAIN noprint;
MPRINT(EM_DIAGRAM):    proc freq data=EMWS8.Part_TRAIN noprint;
116415     table
116416     DepVar / out=EMWS8.Stat2_BYVAR(drop=COUNT PERCENT) missing;
MPRINT(EM_DIAGRAM):   table DepVar / out=EMWS8.Stat2_BYVAR(drop=COUNT PERCENT) missing;
116417     run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 2374 observations read from the data set EMWS8.PART_TRAIN.
NOTE: The data set EMWS8.STAT2_BYVAR has 2 observations and 1 variables.
NOTE: PROCEDURE FREQ used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
116418     data WORK.STATEXPLORE_DATA / view=WORK.STATEXPLORE_DATA;
MPRINT(EM_DIAGRAM):    data WORK.STATEXPLORE_DATA / view=WORK.STATEXPLORE_DATA;
116419     set EMWS8.Part_TRAIN;
MPRINT(EM_DIAGRAM):   set EMWS8.Part_TRAIN;
116420     where left(trim(put(DepVar,BEST.))) ="0";
MPRINT(EM_DIAGRAM):   where left(trim(put(DepVar,BEST.))) ="0";
116421     run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: DATA STEP view saved on file WORK.STATEXPLORE_DATA.
NOTE: A stored DATA STEP view cannot run under a different operating system.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
116422     *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):    *------------------------------------------------------------*;
116423     * Stat2: Computing Statistics for Interval Variables;
MPRINT(EM_DIAGRAM):   * Stat2: Computing Statistics for Interval Variables;
116424     *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
116425     proc dmdb data=WORK.STATEXPLORE_DATA(obs=100000) nonorm maxlevel=513
116426     varout=work._DMDBVAR(RENAME=(NAME=VARIABLE))
116427     classout=WORK.Stat2CLASS(drop=NMISSPERCENT rename=(NAME=VARIABLE FREQUENCY=COUNT FREQPERCENT=PERCENT))
116428     ;
MPRINT(EM_DIAGRAM):   proc dmdb data=WORK.STATEXPLORE_DATA(obs=100000) nonorm maxlevel=513 varout=work._DMDBVAR(RENAME=(NAME=VARIABLE)) classout=WORK.Stat2CLASS(drop=NMISSPERCENT rename=(NAME=VARIABLE FREQUENCY=COUNT FREQPERCENT=PERCENT)) ;
116429     var
116430     AcceptedCmpTotal Age Frq Income Kidhome Mnt MntFishProducts MntFruits
116431     MntGoldProds MntMeatProducts MntSweetProducts MntWines MonthsAsCustomer
116432     NumCatalogPurchases NumDealsPurchases NumDistPurchases NumStorePurchases
116433     NumWebPurchases NumWebVisitsMonth RFMstat RMntFrq Recency Teenhome Year_Birth
116434     ;
MPRINT(EM_DIAGRAM):   var AcceptedCmpTotal Age Frq Income Kidhome Mnt MntFishProducts MntFruits MntGoldProds MntMeatProducts MntSweetProducts MntWines MonthsAsCustomer NumCatalogPurchases NumDealsPurchases NumDistPurchases NumStorePurchases
NumWebPurchases NumWebVisitsMonth RFMstat RMntFrq Recency Teenhome Year_Birth ;
116435     class
116436     AcceptedCmp1 AcceptedCmp2 AcceptedCmp3 AcceptedCmp4 AcceptedCmp5 Complain
116437     Education HigherEducationBinary Marital_Status
116438     ;
MPRINT(EM_DIAGRAM):   class AcceptedCmp1 AcceptedCmp2 AcceptedCmp3 AcceptedCmp4 AcceptedCmp5 Complain Education HigherEducationBinary Marital_Status ;
116439     ;
MPRINT(EM_DIAGRAM):   ;
116440     run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: Records processed = 2015   Memory used = 511K.
NOTE: View WORK.STATEXPLORE_DATA.VIEW used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
NOTE: There were 2015 observations read from the data set EMWS8.PART_TRAIN.
      WHERE LEFT(TRIM(PUT(DepVar, BEST12.)))='0';
NOTE: There were 2015 observations read from the data set WORK.STATEXPLORE_DATA.
NOTE: The data set WORK._DMDBVAR has 24 observations and 9 variables.
NOTE: The data set WORK.STAT2CLASS has 24 observations and 8 variables.
NOTE: PROCEDURE DMDB used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
116441     proc stdize data = WORK.STATEXPLORE_DATA(obs=100000) out=_null_ outstat=work._STDIZE add=0 fuzz=1E-14 initial=MAD vardef=df method=STD mult=1 pctlmtd=ORD_STAT pctldef=2 pctlpts=(0 5 50 95 100);
MPRINT(EM_DIAGRAM):   proc stdize data = WORK.STATEXPLORE_DATA(obs=100000) out=_null_ outstat=work._STDIZE add=0 fuzz=1E-14 initial=MAD vardef=df method=STD mult=1 pctlmtd=ORD_STAT pctldef=2 pctlpts=(0 5 50 95 100);
116442     var
116443     AcceptedCmpTotal Age Frq Income Kidhome Mnt MntFishProducts MntFruits
116444     MntGoldProds MntMeatProducts MntSweetProducts MntWines MonthsAsCustomer
116445     NumCatalogPurchases NumDealsPurchases NumDistPurchases NumStorePurchases
116446     NumWebPurchases NumWebVisitsMonth RFMstat RMntFrq Recency Teenhome Year_Birth
116447     ;
MPRINT(EM_DIAGRAM):   var AcceptedCmpTotal Age Frq Income Kidhome Mnt MntFishProducts MntFruits MntGoldProds MntMeatProducts MntSweetProducts MntWines MonthsAsCustomer NumCatalogPurchases NumDealsPurchases NumDistPurchases NumStorePurchases
NumWebPurchases NumWebVisitsMonth RFMstat RMntFrq Recency Teenhome Year_Birth ;
116448     run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: INITIAL= will be ignored.
NOTE: View WORK.STATEXPLORE_DATA.VIEW used (Total process time):
      real time           0.13 seconds
      cpu time            0.14 seconds
 
NOTE: There were 2015 observations read from the data set EMWS8.PART_TRAIN.
      WHERE LEFT(TRIM(PUT(DepVar, BEST12.)))='0';
NOTE: There were 2015 observations read from the data set WORK.STATEXPLORE_DATA.
NOTE: The data set WORK._STDIZE has 13 observations and 25 variables.
NOTE: PROCEDURE STDIZE used (Total process time):
      real time           0.13 seconds
      cpu time            0.14 seconds
 
 
116449     proc transpose data=work._STDIZE out=work._TRANSSTDIZE(drop=_LABEL_ rename=(_NAME_=VARIABLE));
MPRINT(EM_DIAGRAM):   proc transpose data=work._STDIZE out=work._TRANSSTDIZE(drop=_LABEL_ rename=(_NAME_=VARIABLE));
116450     id _type_;
MPRINT(EM_DIAGRAM):   id _type_;
116451     where _TYPE_='P50';
MPRINT(EM_DIAGRAM):   where _TYPE_='P50';
116452     run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 1 observations read from the data set WORK._STDIZE.
      WHERE _TYPE_='P50';
NOTE: The data set WORK._TRANSSTDIZE has 24 observations and 2 variables.
NOTE: PROCEDURE TRANSPOSE used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
116453     proc sort data=work._TRANSSTDIZE;
MPRINT(EM_DIAGRAM):   proc sort data=work._TRANSSTDIZE;
116454     by VARIABLE;
MPRINT(EM_DIAGRAM):   by VARIABLE;
116455     run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 24 observations read from the data set WORK._TRANSSTDIZE.
NOTE: The data set WORK._TRANSSTDIZE has 24 observations and 2 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
116456     proc sort data=work._DMDBVAR;
MPRINT(EM_DIAGRAM):   proc sort data=work._DMDBVAR;
116457     by VARIABLE;
MPRINT(EM_DIAGRAM):   by VARIABLE;
116458     run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 24 observations read from the data set WORK._DMDBVAR.
NOTE: The data set WORK._DMDBVAR has 24 observations and 9 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
116459     data WORK.Stat2INTERVAL;
MPRINT(EM_DIAGRAM):   data WORK.Stat2INTERVAL;
116460     merge work._TRANSSTDIZE work._DMDBVAR;
MPRINT(EM_DIAGRAM):   merge work._TRANSSTDIZE work._DMDBVAR;
116461     format N NMISS 8. MIN MAX P50 MEAN STD SKEWNESS KURTOSIS BEST8.3;
MPRINT(EM_DIAGRAM):   format N NMISS 8. MIN MAX P50 MEAN STD SKEWNESS KURTOSIS BEST8.3;
116462     by VARIABLE;
MPRINT(EM_DIAGRAM):   by VARIABLE;
116463     run;
MPRINT(EM_DIAGRAM):   run;
 
WARNING: Multiple lengths were specified for the BY variable VARIABLE by input data sets. This may cause unexpected results.
NOTE: There were 24 observations read from the data set WORK._TRANSSTDIZE.
NOTE: There were 24 observations read from the data set WORK._DMDBVAR.
NOTE: The data set WORK.STAT2INTERVAL has 24 observations and 10 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
116464     proc sort data=WORK.Stat2CLASS;
MPRINT(EM_DIAGRAM):    proc sort data=WORK.Stat2CLASS;
116465     by Variable Level;
MPRINT(EM_DIAGRAM):   by Variable Level;
116466     run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 24 observations read from the data set WORK.STAT2CLASS.
NOTE: The data set WORK.STAT2CLASS has 24 observations and 8 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
116467     data WORK.Stat2CLASS;
MPRINT(EM_DIAGRAM):    data WORK.Stat2CLASS;
116468     merge WORK.Stat2CLASS(in=_a) colorindex;
MPRINT(EM_DIAGRAM):   merge WORK.Stat2CLASS(in=_a) colorindex;
116469     by variable level;
MPRINT(EM_DIAGRAM):   by variable level;
116470     if _a then output;
MPRINT(EM_DIAGRAM):   if _a then output;
116471     run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 24 observations read from the data set WORK.STAT2CLASS.
NOTE: There were 26 observations read from the data set WORK.COLORINDEX.
NOTE: The data set WORK.STAT2CLASS has 24 observations and 9 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
116472     data WORK.Stat2INTERVAL;
MPRINT(EM_DIAGRAM):    data WORK.Stat2INTERVAL;
116473     length DATAROLE $20;
MPRINT(EM_DIAGRAM):   length DATAROLE $20;
116474     retain DATAROLE "TRAIN";
MPRINT(EM_DIAGRAM):   retain DATAROLE "TRAIN";
116475     length Target $32 TargetValue $32;
MPRINT(EM_DIAGRAM):   length Target $32 TargetValue $32;
116476     label Target = "%sysfunc(sasmsg(sashelp.dmine, rpt_target_vlabel, NOQUOTE))" TargetValue = "%sysfunc(sasmsg(sashelp.dmine, rpt_targetlevel_vlabel, NOQUOTE))";
MPRINT(EM_DIAGRAM):   label Target = "Target" TargetValue = "Target Level";
116477     Target = "DepVar";
MPRINT(EM_DIAGRAM):   Target = "DepVar";
116478     TargetValue = '0';
MPRINT(EM_DIAGRAM):   TargetValue = '0';
116479     set WORK.Stat2INTERVAL;
MPRINT(EM_DIAGRAM):   set WORK.Stat2INTERVAL;
116480     run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 24 observations read from the data set WORK.STAT2INTERVAL.
NOTE: The data set WORK.STAT2INTERVAL has 24 observations and 13 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
116481     proc append base=EMWS8.Stat2_INTERVAL data=WORK.Stat2INTERVAL force;
MPRINT(EM_DIAGRAM):   proc append base=EMWS8.Stat2_INTERVAL data=WORK.Stat2INTERVAL force;
116482     run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: Appending WORK.STAT2INTERVAL to EMWS8.STAT2_INTERVAL.
NOTE: There were 24 observations read from the data set WORK.STAT2INTERVAL.
NOTE: 24 observations added.
NOTE: The data set EMWS8.STAT2_INTERVAL has 48 observations and 13 variables.
NOTE: PROCEDURE APPEND used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
116483     data WORK.Stat2CLASS;
MPRINT(EM_DIAGRAM):    data WORK.Stat2CLASS;
116484     length DATAROLE $20;
MPRINT(EM_DIAGRAM):   length DATAROLE $20;
116485     retain DATAROLE "TRAIN";
MPRINT(EM_DIAGRAM):   retain DATAROLE "TRAIN";
116486     length Target $32 TargetValue $32;
MPRINT(EM_DIAGRAM):   length Target $32 TargetValue $32;
116487     label Target = "%sysfunc(sasmsg(sashelp.dmine, rpt_target_vlabel, NOQUOTE))" TargetValue = "%sysfunc(sasmsg(sashelp.dmine, rpt_targetlevel_vlabel, NOQUOTE))";
MPRINT(EM_DIAGRAM):   label Target = "Target" TargetValue = "Target Level";
116488     Target = "DepVar";
MPRINT(EM_DIAGRAM):   Target = "DepVar";
116489     TargetValue = '0';
MPRINT(EM_DIAGRAM):   TargetValue = '0';
116490     set WORK.Stat2CLASS;
MPRINT(EM_DIAGRAM):   set WORK.Stat2CLASS;
116491     run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 24 observations read from the data set WORK.STAT2CLASS.
NOTE: The data set WORK.STAT2CLASS has 24 observations and 12 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
116492     proc append base=EMWS8.Stat2_CLASS data=WORK.Stat2CLASS force;
MPRINT(EM_DIAGRAM):   proc append base=EMWS8.Stat2_CLASS data=WORK.Stat2CLASS force;
116493     run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: Appending WORK.STAT2CLASS to EMWS8.STAT2_CLASS.
NOTE: There were 24 observations read from the data set WORK.STAT2CLASS.
NOTE: 24 observations added.
NOTE: The data set EMWS8.STAT2_CLASS has 50 observations and 12 variables.
NOTE: PROCEDURE APPEND used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
116494     data WORK.STATEXPLORE_DATA / view=WORK.STATEXPLORE_DATA;
MPRINT(EM_DIAGRAM):    data WORK.STATEXPLORE_DATA / view=WORK.STATEXPLORE_DATA;
116495     set EMWS8.Part_TRAIN;
MPRINT(EM_DIAGRAM):   set EMWS8.Part_TRAIN;
116496     where left(trim(put(DepVar,BEST.))) ="1";
MPRINT(EM_DIAGRAM):   where left(trim(put(DepVar,BEST.))) ="1";
116497     run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: DATA STEP view saved on file WORK.STATEXPLORE_DATA.
NOTE: A stored DATA STEP view cannot run under a different operating system.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
116498     *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):    *------------------------------------------------------------*;
116499     * Stat2: Computing Statistics for Interval Variables;
MPRINT(EM_DIAGRAM):   * Stat2: Computing Statistics for Interval Variables;
116500     *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
116501     proc dmdb data=WORK.STATEXPLORE_DATA(obs=100000) nonorm maxlevel=513
116502     varout=work._DMDBVAR(RENAME=(NAME=VARIABLE))
116503     classout=WORK.Stat2CLASS(drop=NMISSPERCENT rename=(NAME=VARIABLE FREQUENCY=COUNT FREQPERCENT=PERCENT))
116504     ;
MPRINT(EM_DIAGRAM):   proc dmdb data=WORK.STATEXPLORE_DATA(obs=100000) nonorm maxlevel=513 varout=work._DMDBVAR(RENAME=(NAME=VARIABLE)) classout=WORK.Stat2CLASS(drop=NMISSPERCENT rename=(NAME=VARIABLE FREQUENCY=COUNT FREQPERCENT=PERCENT)) ;
116505     var
116506     AcceptedCmpTotal Age Frq Income Kidhome Mnt MntFishProducts MntFruits
116507     MntGoldProds MntMeatProducts MntSweetProducts MntWines MonthsAsCustomer
116508     NumCatalogPurchases NumDealsPurchases NumDistPurchases NumStorePurchases
116509     NumWebPurchases NumWebVisitsMonth RFMstat RMntFrq Recency Teenhome Year_Birth
116510     ;
MPRINT(EM_DIAGRAM):   var AcceptedCmpTotal Age Frq Income Kidhome Mnt MntFishProducts MntFruits MntGoldProds MntMeatProducts MntSweetProducts MntWines MonthsAsCustomer NumCatalogPurchases NumDealsPurchases NumDistPurchases NumStorePurchases
NumWebPurchases NumWebVisitsMonth RFMstat RMntFrq Recency Teenhome Year_Birth ;
116511     class
116512     AcceptedCmp1 AcceptedCmp2 AcceptedCmp3 AcceptedCmp4 AcceptedCmp5 Complain
116513     Education HigherEducationBinary Marital_Status
116514     ;
MPRINT(EM_DIAGRAM):   class AcceptedCmp1 AcceptedCmp2 AcceptedCmp3 AcceptedCmp4 AcceptedCmp5 Complain Education HigherEducationBinary Marital_Status ;
116515     ;
MPRINT(EM_DIAGRAM):   ;
116516     run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: Records processed = 359   Memory used = 511K.
NOTE: View WORK.STATEXPLORE_DATA.VIEW used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
NOTE: There were 359 observations read from the data set EMWS8.PART_TRAIN.
      WHERE LEFT(TRIM(PUT(DepVar, BEST12.)))='1';
NOTE: There were 359 observations read from the data set WORK.STATEXPLORE_DATA.
NOTE: The data set WORK._DMDBVAR has 24 observations and 9 variables.
NOTE: The data set WORK.STAT2CLASS has 24 observations and 8 variables.
NOTE: PROCEDURE DMDB used (Total process time):
      real time           0.03 seconds
      cpu time            0.01 seconds
 
 
116517     proc stdize data = WORK.STATEXPLORE_DATA(obs=100000) out=_null_ outstat=work._STDIZE add=0 fuzz=1E-14 initial=MAD vardef=df method=STD mult=1 pctlmtd=ORD_STAT pctldef=2 pctlpts=(0 5 50 95 100);
MPRINT(EM_DIAGRAM):   proc stdize data = WORK.STATEXPLORE_DATA(obs=100000) out=_null_ outstat=work._STDIZE add=0 fuzz=1E-14 initial=MAD vardef=df method=STD mult=1 pctlmtd=ORD_STAT pctldef=2 pctlpts=(0 5 50 95 100);
116518     var
116519     AcceptedCmpTotal Age Frq Income Kidhome Mnt MntFishProducts MntFruits
116520     MntGoldProds MntMeatProducts MntSweetProducts MntWines MonthsAsCustomer
116521     NumCatalogPurchases NumDealsPurchases NumDistPurchases NumStorePurchases
116522     NumWebPurchases NumWebVisitsMonth RFMstat RMntFrq Recency Teenhome Year_Birth
116523     ;
MPRINT(EM_DIAGRAM):   var AcceptedCmpTotal Age Frq Income Kidhome Mnt MntFishProducts MntFruits MntGoldProds MntMeatProducts MntSweetProducts MntWines MonthsAsCustomer NumCatalogPurchases NumDealsPurchases NumDistPurchases NumStorePurchases
NumWebPurchases NumWebVisitsMonth RFMstat RMntFrq Recency Teenhome Year_Birth ;
116524     run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: INITIAL= will be ignored.
NOTE: View WORK.STATEXPLORE_DATA.VIEW used (Total process time):
      real time           0.12 seconds
      cpu time            0.11 seconds
 
NOTE: There were 359 observations read from the data set EMWS8.PART_TRAIN.
      WHERE LEFT(TRIM(PUT(DepVar, BEST12.)))='1';
NOTE: There were 359 observations read from the data set WORK.STATEXPLORE_DATA.
NOTE: The data set WORK._STDIZE has 13 observations and 25 variables.
NOTE: PROCEDURE STDIZE used (Total process time):
      real time           0.12 seconds
      cpu time            0.11 seconds
 
 
116525     proc transpose data=work._STDIZE out=work._TRANSSTDIZE(drop=_LABEL_ rename=(_NAME_=VARIABLE));
MPRINT(EM_DIAGRAM):   proc transpose data=work._STDIZE out=work._TRANSSTDIZE(drop=_LABEL_ rename=(_NAME_=VARIABLE));
116526     id _type_;
MPRINT(EM_DIAGRAM):   id _type_;
116527     where _TYPE_='P50';
MPRINT(EM_DIAGRAM):   where _TYPE_='P50';
116528     run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 1 observations read from the data set WORK._STDIZE.
      WHERE _TYPE_='P50';
NOTE: The data set WORK._TRANSSTDIZE has 24 observations and 2 variables.
NOTE: PROCEDURE TRANSPOSE used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
116529     proc sort data=work._TRANSSTDIZE;
MPRINT(EM_DIAGRAM):   proc sort data=work._TRANSSTDIZE;
116530     by VARIABLE;
MPRINT(EM_DIAGRAM):   by VARIABLE;
116531     run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 24 observations read from the data set WORK._TRANSSTDIZE.
NOTE: The data set WORK._TRANSSTDIZE has 24 observations and 2 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
116532     proc sort data=work._DMDBVAR;
MPRINT(EM_DIAGRAM):   proc sort data=work._DMDBVAR;
116533     by VARIABLE;
MPRINT(EM_DIAGRAM):   by VARIABLE;
116534     run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 24 observations read from the data set WORK._DMDBVAR.
NOTE: The data set WORK._DMDBVAR has 24 observations and 9 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
116535     data WORK.Stat2INTERVAL;
MPRINT(EM_DIAGRAM):   data WORK.Stat2INTERVAL;
116536     merge work._TRANSSTDIZE work._DMDBVAR;
MPRINT(EM_DIAGRAM):   merge work._TRANSSTDIZE work._DMDBVAR;
116537     format N NMISS 8. MIN MAX P50 MEAN STD SKEWNESS KURTOSIS BEST8.3;
MPRINT(EM_DIAGRAM):   format N NMISS 8. MIN MAX P50 MEAN STD SKEWNESS KURTOSIS BEST8.3;
116538     by VARIABLE;
MPRINT(EM_DIAGRAM):   by VARIABLE;
116539     run;
MPRINT(EM_DIAGRAM):   run;
 
WARNING: Multiple lengths were specified for the BY variable VARIABLE by input data sets. This may cause unexpected results.
NOTE: There were 24 observations read from the data set WORK._TRANSSTDIZE.
NOTE: There were 24 observations read from the data set WORK._DMDBVAR.
NOTE: The data set WORK.STAT2INTERVAL has 24 observations and 10 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
116540     proc sort data=WORK.Stat2CLASS;
MPRINT(EM_DIAGRAM):    proc sort data=WORK.Stat2CLASS;
116541     by Variable Level;
MPRINT(EM_DIAGRAM):   by Variable Level;
116542     run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 24 observations read from the data set WORK.STAT2CLASS.
NOTE: The data set WORK.STAT2CLASS has 24 observations and 8 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
116543     data WORK.Stat2CLASS;
MPRINT(EM_DIAGRAM):    data WORK.Stat2CLASS;
116544     merge WORK.Stat2CLASS(in=_a) colorindex;
MPRINT(EM_DIAGRAM):   merge WORK.Stat2CLASS(in=_a) colorindex;
116545     by variable level;
MPRINT(EM_DIAGRAM):   by variable level;
116546     if _a then output;
MPRINT(EM_DIAGRAM):   if _a then output;
116547     run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 24 observations read from the data set WORK.STAT2CLASS.
NOTE: There were 26 observations read from the data set WORK.COLORINDEX.
NOTE: The data set WORK.STAT2CLASS has 24 observations and 9 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
116548     data WORK.Stat2INTERVAL;
MPRINT(EM_DIAGRAM):    data WORK.Stat2INTERVAL;
116549     length DATAROLE $20;
MPRINT(EM_DIAGRAM):   length DATAROLE $20;
116550     retain DATAROLE "TRAIN";
MPRINT(EM_DIAGRAM):   retain DATAROLE "TRAIN";
116551     length Target $32 TargetValue $32;
MPRINT(EM_DIAGRAM):   length Target $32 TargetValue $32;
116552     label Target = "%sysfunc(sasmsg(sashelp.dmine, rpt_target_vlabel, NOQUOTE))" TargetValue = "%sysfunc(sasmsg(sashelp.dmine, rpt_targetlevel_vlabel, NOQUOTE))";
MPRINT(EM_DIAGRAM):   label Target = "Target" TargetValue = "Target Level";
116553     Target = "DepVar";
MPRINT(EM_DIAGRAM):   Target = "DepVar";
116554     TargetValue = '1';
MPRINT(EM_DIAGRAM):   TargetValue = '1';
116555     set WORK.Stat2INTERVAL;
MPRINT(EM_DIAGRAM):   set WORK.Stat2INTERVAL;
116556     run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 24 observations read from the data set WORK.STAT2INTERVAL.
NOTE: The data set WORK.STAT2INTERVAL has 24 observations and 13 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
116557     proc append base=EMWS8.Stat2_INTERVAL data=WORK.Stat2INTERVAL force;
MPRINT(EM_DIAGRAM):   proc append base=EMWS8.Stat2_INTERVAL data=WORK.Stat2INTERVAL force;
116558     run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: Appending WORK.STAT2INTERVAL to EMWS8.STAT2_INTERVAL.
NOTE: There were 24 observations read from the data set WORK.STAT2INTERVAL.
NOTE: 24 observations added.
NOTE: The data set EMWS8.STAT2_INTERVAL has 72 observations and 13 variables.
NOTE: PROCEDURE APPEND used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
116559     data WORK.Stat2CLASS;
MPRINT(EM_DIAGRAM):    data WORK.Stat2CLASS;
116560     length DATAROLE $20;
MPRINT(EM_DIAGRAM):   length DATAROLE $20;
116561     retain DATAROLE "TRAIN";
MPRINT(EM_DIAGRAM):   retain DATAROLE "TRAIN";
116562     length Target $32 TargetValue $32;
MPRINT(EM_DIAGRAM):   length Target $32 TargetValue $32;
116563     label Target = "%sysfunc(sasmsg(sashelp.dmine, rpt_target_vlabel, NOQUOTE))" TargetValue = "%sysfunc(sasmsg(sashelp.dmine, rpt_targetlevel_vlabel, NOQUOTE))";
MPRINT(EM_DIAGRAM):   label Target = "Target" TargetValue = "Target Level";
116564     Target = "DepVar";
MPRINT(EM_DIAGRAM):   Target = "DepVar";
116565     TargetValue = '1';
MPRINT(EM_DIAGRAM):   TargetValue = '1';
116566     set WORK.Stat2CLASS;
MPRINT(EM_DIAGRAM):   set WORK.Stat2CLASS;
116567     run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 24 observations read from the data set WORK.STAT2CLASS.
NOTE: The data set WORK.STAT2CLASS has 24 observations and 12 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
116568     proc append base=EMWS8.Stat2_CLASS data=WORK.Stat2CLASS force;
MPRINT(EM_DIAGRAM):   proc append base=EMWS8.Stat2_CLASS data=WORK.Stat2CLASS force;
116569     run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: Appending WORK.STAT2CLASS to EMWS8.STAT2_CLASS.
NOTE: There were 24 observations read from the data set WORK.STAT2CLASS.
NOTE: 24 observations added.
NOTE: The data set EMWS8.STAT2_CLASS has 74 observations and 12 variables.
NOTE: PROCEDURE APPEND used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
116570     proc sort data=EMWS8.Stat2_VariableSet out=tempVariable(keep=name label role rename=(name=variable));
MPRINT(EM_DIAGRAM):    proc sort data=EMWS8.Stat2_VariableSet out=tempVariable(keep=name label role rename=(name=variable));
116571     by name;
MPRINT(EM_DIAGRAM):   by name;
116572     run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 36 observations read from the data set EMWS8.STAT2_VARIABLESET.
NOTE: The data set WORK.TEMPVARIABLE has 36 observations and 3 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
116573     proc sort data=EMWS8.Stat2_CLASS;
MPRINT(EM_DIAGRAM):   proc sort data=EMWS8.Stat2_CLASS;
116574     by Variable;
MPRINT(EM_DIAGRAM):   by Variable;
116575     run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 74 observations read from the data set EMWS8.STAT2_CLASS.
NOTE: The data set EMWS8.STAT2_CLASS has 74 observations and 12 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
116576     data EMWS8.Stat2_CLASS;
MPRINT(EM_DIAGRAM):   data EMWS8.Stat2_CLASS;
116577     merge EMWS8.Stat2_CLASS(in=_a) tempVariable;
MPRINT(EM_DIAGRAM):   merge EMWS8.Stat2_CLASS(in=_a) tempVariable;
116578     by variable;
MPRINT(EM_DIAGRAM):   by variable;
116579     if label = '' then label=Variable;
MPRINT(EM_DIAGRAM):   if label = '' then label=Variable;
116580     if _a then output;
MPRINT(EM_DIAGRAM):   if _a then output;
116581     run;
MPRINT(EM_DIAGRAM):   run;
 
WARNING: Multiple lengths were specified for the BY variable VARIABLE by input data sets. This may cause unexpected results.
NOTE: There were 74 observations read from the data set EMWS8.STAT2_CLASS.
NOTE: There were 36 observations read from the data set WORK.TEMPVARIABLE.
NOTE: The data set EMWS8.STAT2_CLASS has 74 observations and 14 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
116582     proc sort data=EMWS8.Stat2_INTERVAL NOTHREADS;
MPRINT(EM_DIAGRAM):    proc sort data=EMWS8.Stat2_INTERVAL NOTHREADS;
116583     by DATAROLE
116584     Target TargetValue
116585     ;
MPRINT(EM_DIAGRAM):   by DATAROLE Target TargetValue ;
116586     run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 72 observations read from the data set EMWS8.STAT2_INTERVAL.
NOTE: The data set EMWS8.STAT2_INTERVAL has 72 observations and 13 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
MPRINT(EM_DIAGRAM):   run;
116587     run;
116588     proc sort data=EMWS8.Stat2_VariableSet out=tempVariable(keep=name label role rename=(name=variable));
MPRINT(EM_DIAGRAM):   proc sort data=EMWS8.Stat2_VariableSet out=tempVariable(keep=name label role rename=(name=variable));
116589     by name;
MPRINT(EM_DIAGRAM):   by name;
116590     run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 36 observations read from the data set EMWS8.STAT2_VARIABLESET.
NOTE: The data set WORK.TEMPVARIABLE has 36 observations and 3 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
116591     proc sort data=EMWS8.Stat2_INTERVAL;
MPRINT(EM_DIAGRAM):   proc sort data=EMWS8.Stat2_INTERVAL;
116592     by Variable;
MPRINT(EM_DIAGRAM):   by Variable;
116593     run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 72 observations read from the data set EMWS8.STAT2_INTERVAL.
NOTE: The data set EMWS8.STAT2_INTERVAL has 72 observations and 13 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
116594     data EMWS8.Stat2_INTERVAL;
MPRINT(EM_DIAGRAM):   data EMWS8.Stat2_INTERVAL;
116595     merge EMWS8.Stat2_INTERVAL(in=_a) tempVariable;
MPRINT(EM_DIAGRAM):   merge EMWS8.Stat2_INTERVAL(in=_a) tempVariable;
116596     by variable;
MPRINT(EM_DIAGRAM):   by variable;
116597     if label = '' then label=Variable;
MPRINT(EM_DIAGRAM):   if label = '' then label=Variable;
116598     if _a then output;
MPRINT(EM_DIAGRAM):   if _a then output;
116599     run;
MPRINT(EM_DIAGRAM):   run;
 
WARNING: Multiple lengths were specified for the BY variable VARIABLE by input data sets. This may cause unexpected results.
NOTE: There were 72 observations read from the data set EMWS8.STAT2_INTERVAL.
NOTE: There were 36 observations read from the data set WORK.TEMPVARIABLE.
NOTE: The data set EMWS8.STAT2_INTERVAL has 72 observations and 15 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
116600     proc datasets library=EMWS8 nolist;
MPRINT(EM_DIAGRAM):   proc datasets library=EMWS8 nolist;
116601     modify Stat2_INTERVAL;
MPRINT(EM_DIAGRAM):   modify Stat2_INTERVAL;
MPRINT(EM_DIAGRAM):   label DATAROLE = "Data Role";
116602     label DATAROLE = "%sysfunc(sasmsg(sashelp.dmine, rpt_datarole_vlabel, NOQUOTE))";
MPRINT(EM_DIAGRAM):   label Variable = "Variable";
116603     label Variable = "%sysfunc(sasmsg(sashelp.dmine, rpt_variable_vlabel, NOQUOTE))";
MPRINT(EM_DIAGRAM):   label MEAN = "Mean";
116604     label MEAN = "%sysfunc(sasmsg(sashelp.dmine, rpt_mean_vlabel,    NOQUOTE))";
MPRINT(EM_DIAGRAM):   label N = "Non Missing";
116605     label N = "%sysfunc(sasmsg(sashelp.dmine, rpt_nonMiss_vlabel, NOQUOTE))";
MPRINT(EM_DIAGRAM):   label STD = "Standard Deviation";
116606     label STD = "%sysfunc(sasmsg(sashelp.dmine, rpt_std_vlabel,     NOQUOTE))";
MPRINT(EM_DIAGRAM):   label NMISS = "Missing";
116607     label NMISS = "%sysfunc(sasmsg(sashelp.dmine, rpt_missing_vlabel, NOQUOTE))";
MPRINT(EM_DIAGRAM):   label p50 = "Median";
116608     label p50 = "%sysfunc(sasmsg(sashelp.dmine, rpt_median_vlabel, NOQUOTE))";
MPRINT(EM_DIAGRAM):   label MIN = "Minimum";
116609     label MIN = "%sysfunc(sasmsg(sashelp.dmine, rpt_minimum_vlabel, NOQUOTE))";
MPRINT(EM_DIAGRAM):   label MAX = "Maximum";
116610     label MAX = "%sysfunc(sasmsg(sashelp.dmine, rpt_maximum_vlabel, NOQUOTE))";
MPRINT(EM_DIAGRAM):   label SKEWNESS = "Skewness";
116611     label SKEWNESS = "%sysfunc(sasmsg(sashelp.dmine, rpt_skewness_vlabel, NOQUOTE))";
MPRINT(EM_DIAGRAM):   label KURTOSIS = "Kurtosis";
116612     label KURTOSIS = "%sysfunc(sasmsg(sashelp.dmine, rpt_kurtosis_vlabel, NOQUOTE))";
116613     label TARGET = "%sysfunc(sasmsg(sashelp.dmine, rpt_target_vlabel,   NOQUOTE))" TARGETVALUE = "%sysfunc(sasmsg(sashelp.dmine, rpt_targetLevel_vlabel,   NOQUOTE))";
MPRINT(EM_DIAGRAM):   label TARGET = "Target" TARGETVALUE = "Target Level";
MPRINT(EM_DIAGRAM):   run;
116614     run;
 
NOTE: MODIFY was successful for EMWS8.STAT2_INTERVAL.DATA.
 
NOTE: PROCEDURE DATASETS used (Total process time):
      real time           0.11 seconds
      cpu time            0.11 seconds
 
 
116615     proc sort data=EMWS8.Stat2_CLASS NOTHREADS;
MPRINT(EM_DIAGRAM):   proc sort data=EMWS8.Stat2_CLASS NOTHREADS;
116616     by DATAROLE ROLE Variable descending COUNT;
MPRINT(EM_DIAGRAM):   by DATAROLE ROLE Variable descending COUNT;
116617     run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 74 observations read from the data set EMWS8.STAT2_CLASS.
NOTE: The data set EMWS8.STAT2_CLASS has 74 observations and 14 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
116618     data WORK.Stat2CLASS(keep=DATAROLE Variable ROLE Numcat Nmiss Mode ModePct Mode2 Mode2Pct);
MPRINT(EM_DIAGRAM):   data WORK.Stat2CLASS(keep=DATAROLE Variable ROLE Numcat Nmiss Mode ModePct Mode2 Mode2Pct);
116619     set EMWS8.Stat2_CLASS;
MPRINT(EM_DIAGRAM):   set EMWS8.Stat2_CLASS;
116620     length Mode Mode2 $32;
MPRINT(EM_DIAGRAM):   length Mode Mode2 $32;
116621     retain NMiss 0 ModePct 0 Mode2Pct 0 Mode '' Mode2 '';
MPRINT(EM_DIAGRAM):   retain NMiss 0 ModePct 0 Mode2Pct 0 Mode '' Mode2 '';
116622     by DATAROLE ROLE Variable;
MPRINT(EM_DIAGRAM):   by DATAROLE ROLE Variable;
116623     if first.DATAROLE or first.variable then do;
MPRINT(EM_DIAGRAM):   if first.DATAROLE or first.variable then do;
116624     Numcat = 1;
MPRINT(EM_DIAGRAM):   Numcat = 1;
116625     NMiss = 0;
MPRINT(EM_DIAGRAM):   NMiss = 0;
116626     Mode = strip(LEVEL);
MPRINT(EM_DIAGRAM):   Mode = strip(LEVEL);
116627     ModePct = PERCENT;
MPRINT(EM_DIAGRAM):   ModePct = PERCENT;
116628     Mode2 = '';
MPRINT(EM_DIAGRAM):   Mode2 = '';
116629     Mode2Pct = 0;
MPRINT(EM_DIAGRAM):   Mode2Pct = 0;
116630     end;
MPRINT(EM_DIAGRAM):   end;
116631     else Numcat +1;
MPRINT(EM_DIAGRAM):   else Numcat +1;
116632     if Numcat =2 then do;
MPRINT(EM_DIAGRAM):   if Numcat =2 then do;
116633     Mode2 = strip(LEVEL);
MPRINT(EM_DIAGRAM):   Mode2 = strip(LEVEL);
116634     Mode2Pct = PERCENT;
MPRINT(EM_DIAGRAM):   Mode2Pct = PERCENT;
116635     end;
MPRINT(EM_DIAGRAM):   end;
116636     if NRAW=. and CRAW='' then NMiss= COUNT;
MPRINT(EM_DIAGRAM):   if NRAW=. and CRAW='' then NMiss= COUNT;
116637     if last.DATAROLE or last.variable then output;
MPRINT(EM_DIAGRAM):   if last.DATAROLE or last.variable then output;
116638     where TARGET='_OVERALL_';
MPRINT(EM_DIAGRAM):   where TARGET='_OVERALL_';
116639     run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 26 observations read from the data set EMWS8.STAT2_CLASS.
      WHERE TARGET='_OVERALL_';
NOTE: The data set WORK.STAT2CLASS has 10 observations and 9 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
116640     %let _cn = %sysfunc(getoption(CENTER));
116641     %let _nb = %sysfunc(getoption(NUMBER));
116642     options nonumber nocenter;
MPRINT(EM_DIAGRAM):   options nonumber nocenter;
116643     title;
MPRINT(EM_DIAGRAM):   title;
116644     title9 ' ';
MPRINT(EM_DIAGRAM):   title9 ' ';
116645     proc print data=WORK.Stat2CLASS(obs=500) label noobs;
MPRINT(EM_DIAGRAM):   proc print data=WORK.Stat2CLASS(obs=500) label noobs;
116646     var DATAROLE VARIABLE ROLE NUMCAT NMISS Mode ModePct Mode2 Mode2Pct;
MPRINT(EM_DIAGRAM):   var DATAROLE VARIABLE ROLE NUMCAT NMISS Mode ModePct Mode2 Mode2Pct;
116647     label DATAROLE = "%sysfunc(sasmsg(sashelp.dmine, rpt_datarole_vlabel, NOQUOTE))" ROLE = "%sysfunc(sasmsg(sashelp.dmine, meta_role_vlabel, NOQUOTE))" NUMCAT = "%sysfunc(sasmsg(sashelp.dmine, rpt_numcat_vlabel,   NOQUOTE))" NMISS =
116648        "%sysfunc(sasmsg(sashelp.dmine, rpt_missing_vlabel,  NOQUOTE))" MODE = "%sysfunc(sasmsg(sashelp.dmine, rpt_mode_vlabel,     NOQUOTE))" MODEPCT = "%sysfunc(sasmsg(sashelp.dmine, rpt_modepct_vlabel,  NOQUOTE))" MODE2 =
116649        "%sysfunc(sasmsg(sashelp.dmine, rpt_mode2_vlabel,     NOQUOTE))" MODE2PCT = "%sysfunc(sasmsg(sashelp.dmine, rpt_mode2pct_vlabel, NOQUOTE))";
MPRINT(EM_DIAGRAM):   label DATAROLE = "Data Role" ROLE = "Role" NUMCAT = "Number of Levels" NMISS = "Missing" MODE = "Mode" MODEPCT = "Mode Percentage" MODE2 = "Mode2" MODE2PCT = "Mode2 Percentage";
116650     format ModePct Mode2Pct 5.2;
MPRINT(EM_DIAGRAM):   format ModePct Mode2Pct 5.2;
116651     by DATAROLE;
MPRINT(EM_DIAGRAM):   by DATAROLE;
116652     title9 "%sysfunc(sasmsg(sashelp.dmine, rpt_classStats_title,     NOQUOTE))";
MPRINT(EM_DIAGRAM):   title9 "Class Variable Summary Statistics";
116653     title10 "%sysfunc(sasmsg(sashelp.dmine, rpt_maxObsPrinted_title,  NOQUOTE))";
MPRINT(EM_DIAGRAM):   title10 "(maximum 500 observations printed)";
MPRINT(EM_DIAGRAM):   run;
116654     run;
 
NOTE: There were 10 observations read from the data set WORK.STAT2CLASS.
NOTE: The PROCEDURE PRINT printed page 61.
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
116655     proc print data=EMWS8.Stat2_CLASS(obs=500) noobs label;
MPRINT(EM_DIAGRAM):   proc print data=EMWS8.Stat2_CLASS(obs=500) noobs label;
116656     var DATAROLE VARIABLE ROLE LEVEL COUNT PERCENT;
MPRINT(EM_DIAGRAM):   var DATAROLE VARIABLE ROLE LEVEL COUNT PERCENT;
116657     where ROLE in('TARGET', 'SEGMENT');
MPRINT(EM_DIAGRAM):   where ROLE in('TARGET', 'SEGMENT');
116658     by DATAROLE;
MPRINT(EM_DIAGRAM):   by DATAROLE;
116659     label DATAROLE = "%sysfunc(sasmsg(sashelp.dmine,  rpt_datarole_vlabel, NOQUOTE))" ROLE = "%sysfunc(sasmsg(sashelp.dmine, meta_role_vlabel,          NOQUOTE))" LEVEL = "%sysfunc(sasmsg(sashelp.dmine, rpt_level_vlabel,          NOQUOTE))" COUNT =
116660        "%sysfunc(sasmsg(sashelp.dmine, rpt_count_vlabel,          NOQUOTE))" PERCENT = "%sysfunc(sasmsg(sashelp.dmine, rpt_percent_vlabel,        NOQUOTE))";
MPRINT(EM_DIAGRAM):   label DATAROLE = "Data Role" ROLE = "Role" LEVEL = "Level" COUNT = "Frequency Count" PERCENT = "Percent";
116661     title9 "%sysfunc(sasmsg(sashelp.dmine, rpt_classTargetSegmentDist_title, NOQUOTE))";
MPRINT(EM_DIAGRAM):   title9 "Distribution of Class Target and Segment Variables";
116662     title10 "%sysfunc(sasmsg(sashelp.dmine, rpt_maxObsPrinted_title,          NOQUOTE))";
MPRINT(EM_DIAGRAM):   title10 "(maximum 500 observations printed)";
MPRINT(EM_DIAGRAM):   run;
116663     run;
 
NOTE: There were 2 observations read from the data set EMWS8.STAT2_CLASS.
      WHERE ROLE in ('SEGMENT', 'TARGET');
NOTE: The PROCEDURE PRINT printed page 62.
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
116664     title9;
MPRINT(EM_DIAGRAM):   title9;
116665     title10;
MPRINT(EM_DIAGRAM):   title10;
116666     options &_cn &_nb;
MPRINT(EM_DIAGRAM):   options NOCENTER NONUMBER;
116667     data WORK.Stat2INTERVALSUMMARY;
MPRINT(EM_DIAGRAM):    data WORK.Stat2INTERVALSUMMARY;
116668     set EMWS8.Stat2_INTERVAL;
MPRINT(EM_DIAGRAM):   set EMWS8.Stat2_INTERVAL;
116669     length ROLE $32;
MPRINT(EM_DIAGRAM):   length ROLE $32;
116670     where TARGET='_OVERALL_';
MPRINT(EM_DIAGRAM):   where TARGET='_OVERALL_';
116671     if Variable = "AcceptedCmpTotal" then ROLE="INPUT";
MPRINT(EM_DIAGRAM):   if Variable = "AcceptedCmpTotal" then ROLE="INPUT";
116672     else
116673     if Variable = "Age" then ROLE="INPUT";
MPRINT(EM_DIAGRAM):   else if Variable = "Age" then ROLE="INPUT";
116674     else
116675     if Variable = "Frq" then ROLE="INPUT";
MPRINT(EM_DIAGRAM):   else if Variable = "Frq" then ROLE="INPUT";
116676     else
116677     if Variable = "Income" then ROLE="INPUT";
MPRINT(EM_DIAGRAM):   else if Variable = "Income" then ROLE="INPUT";
116678     else
116679     if Variable = "Kidhome" then ROLE="INPUT";
MPRINT(EM_DIAGRAM):   else if Variable = "Kidhome" then ROLE="INPUT";
116680     else
116681     if Variable = "Mnt" then ROLE="INPUT";
MPRINT(EM_DIAGRAM):   else if Variable = "Mnt" then ROLE="INPUT";
116682     else
116683     if Variable = "MntFishProducts" then ROLE="INPUT";
MPRINT(EM_DIAGRAM):   else if Variable = "MntFishProducts" then ROLE="INPUT";
116684     else
116685     if Variable = "MntFruits" then ROLE="INPUT";
MPRINT(EM_DIAGRAM):   else if Variable = "MntFruits" then ROLE="INPUT";
116686     else
116687     if Variable = "MntGoldProds" then ROLE="INPUT";
MPRINT(EM_DIAGRAM):   else if Variable = "MntGoldProds" then ROLE="INPUT";
116688     else
116689     if Variable = "MntMeatProducts" then ROLE="INPUT";
MPRINT(EM_DIAGRAM):   else if Variable = "MntMeatProducts" then ROLE="INPUT";
116690     else
116691     if Variable = "MntSweetProducts" then ROLE="INPUT";
MPRINT(EM_DIAGRAM):   else if Variable = "MntSweetProducts" then ROLE="INPUT";
116692     else
116693     if Variable = "MntWines" then ROLE="INPUT";
MPRINT(EM_DIAGRAM):   else if Variable = "MntWines" then ROLE="INPUT";
116694     else
116695     if Variable = "MonthsAsCustomer" then ROLE="INPUT";
MPRINT(EM_DIAGRAM):   else if Variable = "MonthsAsCustomer" then ROLE="INPUT";
116696     else
116697     if Variable = "NumCatalogPurchases" then ROLE="INPUT";
MPRINT(EM_DIAGRAM):   else if Variable = "NumCatalogPurchases" then ROLE="INPUT";
116698     else
116699     if Variable = "NumDealsPurchases" then ROLE="INPUT";
MPRINT(EM_DIAGRAM):   else if Variable = "NumDealsPurchases" then ROLE="INPUT";
116700     else
116701     if Variable = "NumDistPurchases" then ROLE="INPUT";
MPRINT(EM_DIAGRAM):   else if Variable = "NumDistPurchases" then ROLE="INPUT";
116702     else
116703     if Variable = "NumStorePurchases" then ROLE="INPUT";
MPRINT(EM_DIAGRAM):   else if Variable = "NumStorePurchases" then ROLE="INPUT";
116704     else
116705     if Variable = "NumWebPurchases" then ROLE="INPUT";
MPRINT(EM_DIAGRAM):   else if Variable = "NumWebPurchases" then ROLE="INPUT";
116706     else
116707     if Variable = "NumWebVisitsMonth" then ROLE="INPUT";
MPRINT(EM_DIAGRAM):   else if Variable = "NumWebVisitsMonth" then ROLE="INPUT";
116708     else
116709     if Variable = "RFMstat" then ROLE="INPUT";
MPRINT(EM_DIAGRAM):   else if Variable = "RFMstat" then ROLE="INPUT";
116710     else
116711     if Variable = "RMntFrq" then ROLE="INPUT";
MPRINT(EM_DIAGRAM):   else if Variable = "RMntFrq" then ROLE="INPUT";
116712     else
116713     if Variable = "Recency" then ROLE="INPUT";
MPRINT(EM_DIAGRAM):   else if Variable = "Recency" then ROLE="INPUT";
116714     else
116715     if Variable = "Teenhome" then ROLE="INPUT";
MPRINT(EM_DIAGRAM):   else if Variable = "Teenhome" then ROLE="INPUT";
116716     else
116717     if Variable = "Year_Birth" then ROLE="INPUT";
MPRINT(EM_DIAGRAM):   else if Variable = "Year_Birth" then ROLE="INPUT";
116718     else
116719     if Variable = "_dataobs_" then ROLE="ID";
MPRINT(EM_DIAGRAM):   else if Variable = "_dataobs_" then ROLE="ID";
116720     run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 24 observations read from the data set EMWS8.STAT2_INTERVAL.
      WHERE TARGET='_OVERALL_';
NOTE: The data set WORK.STAT2INTERVALSUMMARY has 24 observations and 15 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
116721     proc sort data=WORK.Stat2INTERVALSUMMARY NOTHREADS;
MPRINT(EM_DIAGRAM):    proc sort data=WORK.Stat2INTERVALSUMMARY NOTHREADS;
116722     by DATAROLE ROLE Variable;
MPRINT(EM_DIAGRAM):   by DATAROLE ROLE Variable;
116723     run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 24 observations read from the data set WORK.STAT2INTERVALSUMMARY.
NOTE: The data set WORK.STAT2INTERVALSUMMARY has 24 observations and 15 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
116724     %let _cn = %sysfunc(getoption(CENTER));
116725     %let _nb = %sysfunc(getoption(NUMBER));
116726     options nonumber nocenter;
MPRINT(EM_DIAGRAM):   options nonumber nocenter;
116727     title;
MPRINT(EM_DIAGRAM):   title;
116728     proc print data=WORK.Stat2INTERVALSUMMARY(obs=500) label noobs;
MPRINT(EM_DIAGRAM):   proc print data=WORK.Stat2INTERVALSUMMARY(obs=500) label noobs;
116729     var Variable ROLE MEAN STD N NMISS MIN P50 MAX SKEWNESS KURTOSIS;
MPRINT(EM_DIAGRAM):   var Variable ROLE MEAN STD N NMISS MIN P50 MAX SKEWNESS KURTOSIS;
116730     by DATAROLE;
MPRINT(EM_DIAGRAM):   by DATAROLE;
116731     title9 "%sysfunc(sasmsg(sashelp.dmine, rpt_intervalStats_title, NOQUOTE))";
MPRINT(EM_DIAGRAM):   title9 "Interval Variable Summary Statistics";
116732     title10 "%sysfunc(sasmsg(sashelp.dmine, rpt_maxObsPrinted_title, NOQUOTE))";
MPRINT(EM_DIAGRAM):   title10 "(maximum 500 observations printed)";
MPRINT(EM_DIAGRAM):   run;
116733     run;
 
NOTE: There were 24 observations read from the data set WORK.STAT2INTERVALSUMMARY.
NOTE: The PROCEDURE PRINT printed page 63.
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
116734     title9;
MPRINT(EM_DIAGRAM):   title9;
116735     title10;
MPRINT(EM_DIAGRAM):   title10;
116736     options &_cn &_nb;
MPRINT(EM_DIAGRAM):   options NOCENTER NONUMBER;
116737     proc sort data=EMWS8.Stat2_CLASS NOTHREADS;
MPRINT(EM_DIAGRAM):    proc sort data=EMWS8.Stat2_CLASS NOTHREADS;
116738     by DATAROLE DATAROLE Target TargetValue Variable descending COUNT;
MPRINT(EM_DIAGRAM):   by DATAROLE DATAROLE Target TargetValue Variable descending COUNT;
116739     run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 74 observations read from the data set EMWS8.STAT2_CLASS.
NOTE: Duplicate BY variable(s) specified. Duplicates will be ignored.
NOTE: The data set EMWS8.STAT2_CLASS has 74 observations and 14 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
116740     data WORK.Stat2CLASS(keep=DATAROLE Target TargetValue DATAROLE Variable Numcat NMiss Mode ModePct Mode2 Mode2Pct );
MPRINT(EM_DIAGRAM):   data WORK.Stat2CLASS(keep=DATAROLE Target TargetValue DATAROLE Variable Numcat NMiss Mode ModePct Mode2 Mode2Pct );
116741     set EMWS8.Stat2_CLASS;
MPRINT(EM_DIAGRAM):   set EMWS8.Stat2_CLASS;
116742     length Mode Mode2 $32;
MPRINT(EM_DIAGRAM):   length Mode Mode2 $32;
116743     retain NMiss 0 ModePct 0 Mode2Pct 0 Mode '' Mode2 '';
MPRINT(EM_DIAGRAM):   retain NMiss 0 ModePct 0 Mode2Pct 0 Mode '' Mode2 '';
116744     by DATAROLE DATAROLE Target TargetValue Variable;
MPRINT(EM_DIAGRAM):   by DATAROLE DATAROLE Target TargetValue Variable;
116745     if first.datarole or first.variable then do;
MPRINT(EM_DIAGRAM):   if first.datarole or first.variable then do;
116746     Numcat = 1;
MPRINT(EM_DIAGRAM):   Numcat = 1;
116747     NMiss = 0;
MPRINT(EM_DIAGRAM):   NMiss = 0;
116748     Mode = LEVEL;
MPRINT(EM_DIAGRAM):   Mode = LEVEL;
116749     ModePct = PERCENT;
MPRINT(EM_DIAGRAM):   ModePct = PERCENT;
116750     Mode2 = '';
MPRINT(EM_DIAGRAM):   Mode2 = '';
116751     Mode2Pct = 0;
MPRINT(EM_DIAGRAM):   Mode2Pct = 0;
116752     end;
MPRINT(EM_DIAGRAM):   end;
116753     else Numcat +1;
MPRINT(EM_DIAGRAM):   else Numcat +1;
116754     if Numcat =2 then do;
MPRINT(EM_DIAGRAM):   if Numcat =2 then do;
116755     Mode2 = LEVEL;
MPRINT(EM_DIAGRAM):   Mode2 = LEVEL;
116756     Mode2Pct = PERCENT;
MPRINT(EM_DIAGRAM):   Mode2Pct = PERCENT;
116757     end;
MPRINT(EM_DIAGRAM):   end;
116758     if NRAW=. and CRAW='' then NMiss= COUNT;
MPRINT(EM_DIAGRAM):   if NRAW=. and CRAW='' then NMiss= COUNT;
116759     if last.datarole or last.variable then output;
MPRINT(EM_DIAGRAM):   if last.datarole or last.variable then output;
116760     where ROLE ^in('TARGET', 'SEGMENT');
MPRINT(EM_DIAGRAM):   where ROLE ^in('TARGET', 'SEGMENT');
116761     run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 72 observations read from the data set EMWS8.STAT2_CLASS.
      WHERE ROLE not in ('SEGMENT', 'TARGET');
NOTE: The data set WORK.STAT2CLASS has 27 observations and 10 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
116762     proc sort data=WORK.Stat2CLASS NOTHREADS;
MPRINT(EM_DIAGRAM):   proc sort data=WORK.Stat2CLASS NOTHREADS;
116763     by DATAROLE
116764     VARIABLE Target TargetValue;
MPRINT(EM_DIAGRAM):   by DATAROLE VARIABLE Target TargetValue;
116765     run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 27 observations read from the data set WORK.STAT2CLASS.
NOTE: The data set WORK.STAT2CLASS has 27 observations and 10 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
116766     %let _cn = %sysfunc(getoption(CENTER));
116767     %let _nb = %sysfunc(getoption(NUMBER));
116768     options nonumber nocenter;
MPRINT(EM_DIAGRAM):   options nonumber nocenter;
116769     title;
MPRINT(EM_DIAGRAM):   title;
116770     title9 ' ';
MPRINT(EM_DIAGRAM):   title9 ' ';
116771     proc print data=WORK.Stat2CLASS(obs=500) label noobs;
MPRINT(EM_DIAGRAM):   proc print data=WORK.Stat2CLASS(obs=500) label noobs;
116772     label DATAROLE = "%sysfunc(sasmsg(sashelp.dmine, rpt_datarole_vlabel, NOQUOTE))" NUMCAT = "%sysfunc(sasmsg(sashelp.dmine, rpt_numcat_vlabel,   NOQUOTE))" NMISS = "%sysfunc(sasmsg(sashelp.dmine, rpt_missing_vlabel,  NOQUOTE))" MODE =
116773        "%sysfunc(sasmsg(sashelp.dmine, rpt_mode_vlabel,     NOQUOTE))" MODEPCT = "%sysfunc(sasmsg(sashelp.dmine, rpt_modepct_vlabel,  NOQUOTE))" MODE2 = "%sysfunc(sasmsg(sashelp.dmine, rpt_mode2_vlabel,     NOQUOTE))" MODE2PCT =
116774        "%sysfunc(sasmsg(sashelp.dmine, rpt_mode2pct_vlabel, NOQUOTE))";
MPRINT(EM_DIAGRAM):   label DATAROLE = "Data Role" NUMCAT = "Number of Levels" NMISS = "Missing" MODE = "Mode" MODEPCT = "Mode Percentage" MODE2 = "Mode2" MODE2PCT = "Mode2 Percentage";
116775     format ModePct Mode2Pct 5.2;
MPRINT(EM_DIAGRAM):   format ModePct Mode2Pct 5.2;
116776     by DATAROLE;
MPRINT(EM_DIAGRAM):   by DATAROLE;
116777     label TARGET = "%sysfunc(sasmsg(sashelp.dmine, rpt_target_vlabel,   NOQUOTE))" TARGETVALUE = "%sysfunc(sasmsg(sashelp.dmine, rpt_targetLevel_vlabel,   NOQUOTE))";
MPRINT(EM_DIAGRAM):   label TARGET = "Target" TARGETVALUE = "Target Level";
116778     var Target TargetValue NumCat NMiss Mode ModePct Mode2 Mode2Pct;
MPRINT(EM_DIAGRAM):   var Target TargetValue NumCat NMiss Mode ModePct Mode2 Mode2Pct;
116779     by DATAROLE VARIABLE;
MPRINT(EM_DIAGRAM):   by DATAROLE VARIABLE;
116780     title9 "Class Variable Summary Statistics by Class Target";
MPRINT(EM_DIAGRAM):   title9 "Class Variable Summary Statistics by Class Target";
116781     title10 "%sysfunc(sasmsg(sashelp.dmine, rpt_maxObsPrinted_title, NOQUOTE))";
MPRINT(EM_DIAGRAM):   title10 "(maximum 500 observations printed)";
MPRINT(EM_DIAGRAM):   run;
116782     run;
 
NOTE: There were 27 observations read from the data set WORK.STAT2CLASS.
NOTE: The PROCEDURE PRINT printed page 64.
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
116783     title9;
MPRINT(EM_DIAGRAM):   title9;
116784     title10;
MPRINT(EM_DIAGRAM):   title10;
116785     options &_cn &_nb;
MPRINT(EM_DIAGRAM):   options NOCENTER NONUMBER;
116786     proc sort data=EMWS8.Stat2_INTERVAL NOTHREADS;
MPRINT(EM_DIAGRAM):    proc sort data=EMWS8.Stat2_INTERVAL NOTHREADS;
116787     by DATAROLE Variable
116788     Target
116789     TargetValue
116790     ;
MPRINT(EM_DIAGRAM):   by DATAROLE Variable Target TargetValue ;
116791     run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 72 observations read from the data set EMWS8.STAT2_INTERVAL.
NOTE: The data set EMWS8.STAT2_INTERVAL has 72 observations and 15 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
116792     %let _cn = %sysfunc(getoption(CENTER));
116793     %let _nb = %sysfunc(getoption(NUMBER));
116794     options nonumber nocenter;
MPRINT(EM_DIAGRAM):   options nonumber nocenter;
116795     title;
MPRINT(EM_DIAGRAM):   title;
116796     proc print data=EMWS8.Stat2_INTERVAL(obs=500) label noobs;
MPRINT(EM_DIAGRAM):   proc print data=EMWS8.Stat2_INTERVAL(obs=500) label noobs;
116797     by DATAROLE Variable
116798     ;
MPRINT(EM_DIAGRAM):   by DATAROLE Variable ;
116799     title9 "Interval Variable Summary Statistics by Class Target";
MPRINT(EM_DIAGRAM):   title9 "Interval Variable Summary Statistics by Class Target";
116800     title10 "%sysfunc(sasmsg(sashelp.dmine, rpt_maxObsPrinted_title, NOQUOTE))";
MPRINT(EM_DIAGRAM):   title10 "(maximum 500 observations printed)";
MPRINT(EM_DIAGRAM):   run;
116801     run;
 
NOTE: There were 72 observations read from the data set EMWS8.STAT2_INTERVAL.
NOTE: The PROCEDURE PRINT printed page 65.
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.03 seconds
      cpu time            0.03 seconds
 
 
116802     title9;
MPRINT(EM_DIAGRAM):   title9;
116803     title10;
MPRINT(EM_DIAGRAM):   title10;
116804     options &_cn &_nb;
MPRINT(EM_DIAGRAM):   options NOCENTER NONUMBER;
116805     %let EM_CODEBAR = *------------------------------------------------------------*;
116806     filename _fref catalog 'sashelp.emutil.var_binfmt.source';
MPRINT(EM_DIAGRAM):    filename _fref catalog 'sashelp.emutil.var_binfmt.source';
116807     %inc _fref;
NOTE: %INCLUDE (level 1) file _FREF is file SASHELP.EMUTIL.VAR_BINFMT.SOURCE.
116808    +%macro var_binfmt(DATA=, VARS=, METADATA=, STATDATA= ,BINFMTDATA= , MIDPOINTFMT=Y, OUTLIER=N, FREQ=, NUMBARS=8);
116809    +   %let _em_nodeid = EM;
116810    +   %if %symexist(EM_NODEID) %then %do;
116811    +       %let _em_nodeid = &em_nodeid;
116812    +   %end;
116814    +   /* Process metadata data set */
116815    +   filename _mac catalog 'WORK.EMEXPL.VARIABLES.SOURCE';
116816    +   %if %sysfunc(exist(&metadata))>0 and (&metadata ne ) %then %do;
116817    +       %let FREQ=;
116818    +       %let _nobs=0;
116819    +       data _null;
116820    +          set &metadata(where=(LEVEL = 'INTERVAL' and ROLE ne 'FREQ')) end=eof;
116821    +          if eof then call symput('_nobs', put(_N_, best.));
116822    +       run;
116823    +       %if "&_nobs" ne "0" %then %do;
116824    +           data _null_;
116825    +              file _mac;
116826    +              length _VARS $80; retain _vars;
116827    +              if _n_ =1 then put '%macro _vars;';
116828    +              set &metadata end=eof;
The SAS System
 
116829    +              where LEVEL = 'INTERVAL' or ROLE='FREQ';
116830    +              if ROLE='FREQ' then call symput('FREQ', NAME);
116831    +              else do;
116832    +                 if length(strip(_vars)) + length(strip(NAME)) + 1 <80  then
116833    +                    _vars = strip(_vars)!! ' ' !!strip(NAME);
116834    +                 else do;
116835    +                    put _Vars;
116836    +                    _vars = strip(NAME);
116837    +                 end;
116838    +              end;
116840    +              if eof then do;
116841    +                 put _Vars;
116842    +                 put '%mend _vars;';
116843    +              end;
116844    +           run;
116845    +       %end;
116846    +       %else %do;
116847    +           data _null_;
116848    +              file _mac;
116849    +              put '%macro _vars;';
116850    +              put '%mend _vars;';
116851    +           run;
116852    +       %end;
116853    +   %end;
116854    +   %else %do;
116855    +       data _null_;
116856    +          file _mac;
116857    +          put '%macro _vars;';
116858    +          put '%mend _vars;';
116859    +       run;
116860    +   %end;
116861    +   %inc _mac;
116862    +   filename _mac;
116864    +   %if "&VARS" eq "" and %_vars eq %then %goto doend;
116866    +   /* Check if FREQ variable is in the data set */
116867    +   %if &freq ne %then %do;
116868    +       data _null_;
116869    +          dsid = open("&data");
116870    +          if dsid>0 then do;
116871    +               if varnum(dsid, "&FREQ")<1 then
116872    +                  call symput('FREQ', '');
116873    +               dsid = close(dsid);
116874    +          end;
116875    +       run;
116876    +   %end;
116878    +   %if &BINFMTDATA eq %then %do;
116879    +       %let BINFMTDATA = _BOUNDS;
116880    +       proc datasets lib=work nolist mt=(DATA VIEW);
116881    +          delete _BOUNDS;
116882    +       run;
116883    +   %end;
116884    +   %if &statdata eq %then %do;
116885    +       %let statdata = _STAT;
116886    +       proc datasets lib=work nolist mt=(DATA VIEW);
116887    +          delete _STAT;
116888    +       run;
116889    +   %end;
116892    +   %let msgString = %sysfunc(sasmsg(sashelp.dmine, computingmidpoints_note, NOQUOTE, &_em_nodeid));
116893    +   %put &EM_CODEBAR;
116894    +   %put * &msgString;
116895    +   %put &EM_CODEBAR;
116896    +   filename fref catalog 'work.emexpl.profileformat.source';
116898    +   %let _maxlevel = %eval(&numbars + 1);
116899    +   proc dmdb data=&data classout=_CLASSOUT maxlevel=&_maxlevel;
116900    +      class %_vars &vars;
116901    +   run;
116902    +   proc freq data=_CLASSOUT ORDER=DATA noprint;
116903    +      table NAME / OUT = _COUNT(where=(COUNT<&_maxlevel));
116904    +   run;
116905    +   proc sort data=_COUNT(keep=NAME);
116906    +      by NAME;
116907    +   run;
116908    +   proc sort data=_CLASSOUT;
116909    +      by NAME;
116910    +   run;
116911    +   proc transpose data=_CLASSOUT out=_DISCRETEMID(DROP=_NAME_ RENAME=(NAME=VARIABLE)) prefix=_MIDPOINT;
116912    +      var NRAW;
116913    +      by NAME;
116914    +   run;
116915    +   data _null_;
116916    +      dsid = open('_DISCRETEMID');
116917    +      if dsid then do;
116918    +         call symput('NUMCLASSBARS', left(trim(put(attrn(dsid, 'NVARS')-1, best12.))));
116919    +         dsid = close(dsid);
116920    +      end;
116921    +   run;
116922    +   data _DISCRETEMID;
116923    +      merge _DISCRETEMID _COUNT(in=_b rename=(NAME=VARIABLE));
116924    +      keep VARIABLE _MIDPOINT1--_MIDPOINT&numclassbars;
116925    +      by VARIABLE;
116926    +      if _b then output;
116927    +   run;
116928    +   %if "&STATDATA" eq "" or ^%sysfunc(exist(&STATDATA)) %then %do;
116929    +       proc stdize  data=&DATA outstat=&statdata  out=_null_ pctlpts=(0 5 95 100);
116930    +          var %_vars &vars;
116931    +          %if &FREQ ne %then %do;
116932    +              freq &FREQ;
116933    +          %end;
116934    +      run;
116935    +   %end;
116936    +   proc transpose data=&STATDATA out=&BINFMTDATA(rename=(_NAME_=VARIABLE COL1=MIN COL2=P5
116937    +                                                 COL3=P95 COL4=MAX));
116938    +      where  _type_ in('P0', 'P5', 'P95', 'P100');
116939    +   run;
116940    +   proc sort data=&BINFMTDATA;
116941    +      by VARIABLE;
116942    +   run;
116944    +    %let new_numbars=%eval(&NUMBARS+12);
116945    +   data &BINFMTDATA;
116946    +      set &BINFMTDATA;
116947    +      length Format $12;
116948    +      array _midpoint{&new_NUMBARS};
116949    +      array _bounds{&new_NUMBARS};
116950    +      if min ne max then do;
116951    +         step = abs(P95-P5)/&NUMBARS;
116952    +         lstep = abs(p5- min)/5;
116953    +         ustep = abs(max-p95)/5;
116954    +         /* No outlying values */;
116955    +         %if %upcase(&outlier) eq N %then %do;
116956    +            step = abs(MIN-MAX)/&NUMBARS;
116957    +            START=MIN;
116958    +            do i=1 to &numbars;
116959    +               _bounds(i)   = MIN + i*step;      if abs(_bounds{i})< 1e-10 then _bounds(i)= 0;
116960    +               _midpoint(i) = MIN+ (i-0.5)*step; if abs(_midpoint{i})< 1e-10 then _midpoint(i)= 0;
116961    +            end;
116962    +            %let new_numbars = &numbars;
116963    +         %end;
116964    +         %else %do;
116965    +            if lstep<=step and ustep<=step then do;
116966    +               step = abs(MIN-MAX)/&NUMBARS;
116967    +               START=MIN;
116968    +               do i=1 to &numbars;
116969    +                  _bounds(i)   = MIN + i*step;      if abs(_bounds{i})< 1e-10 then _bounds(i)= 0;
116970    +                  _midpoint(i) = MIN+ (i-0.5)*step; if abs(_midpoint{i})< 1e-10 then _midpoint(i)= 0;
116971    +               end;
116972    +               %let new_numbars = &numbars;
116973    +            end;
116974    +            else do;
116975    +               if lstep<=step then do;
116976    +                  step = abs(MIN-P95)/&NUMBARS;
116977    +                  /* Start Histogram at MIN value */
116978    +                  do i=1 to &NUMBARS;
116979    +                     _bounds(i)   = MIN + i*step;       if abs(_bounds{i})< 1e-10 then _bounds(i)= 0;
116980    +                     _midpoint(i) = MIN+ (i-0.5)*step;  if abs(_midpoint{i})< 1e-10 then _midpoint(i)= 0;
116981    +                  end;
116982    +                  /* Make BINS with upper outliers width */
116983    +                  do i=1 to 5;
116984    +                     numbars = &numbars + i;
116985    +                     _bounds(numbars)   = P95 + i*ustep;  if abs(_bounds{numbars})< 1e-10 then _bounds(numbars)= 0;
116986    +                     _midpoint(numbars) = P95 + (i-0.5)*ustep + abs(ustep-step)/2;  if abs(_bounds{numbars})< 1e-10 then _bounds(numbars)= 0;
116987    +                  end;
116988    +                   %let new_numbars = %eval(&numbars+5);
116989    +               end;
116990    +               else do;
116991    +                  /* Make BINS with lower outliers width */
116992    +                  do i=1 to 5;
116993    +                     _bounds(i)   = MIN + i*lstep; if abs(_bounds{i})< 1e-10 then _bounds(i)= 0;
116994    +                     _midpoint(i) = MIN + (i-0.5)*lstep - abs(lstep-step)/2; if abs(_midpoint{i})< 1e-10 then _midpoint(i)= 0;
116995    +                  end;
116996    +                  if ustep<= step then do;
116997    +                     step = abs(P5-MAX)/&NUMBARS;
116998    +                     /* End Histogram at MAX value */
116999    +                     do i=1 to &NUMBARS;
117000    +                        numbars = i+5;
117001    +                        _bounds(numbars)   = P5 + i*step; if abs(_bounds{numbars})< 1e-10 then _bounds(numbars)= 0;
117002    +                        _midpoint(numbars) = P5 + (i-0.5)*step; if abs(_midpoint{numbars})< 1e-10 then _midpoint(numbars)= 0;
117003    +                     end;
117004    +                      %let new_numbars = %eval(&numbars+5);
117005    +                  end;
117006    +                  else do;
117007    +                     do i=1 to &NUMBARS;
117008    +                        numbars = i+5;
117009    +                        _bounds(numbars)  = P5 + i*step; if abs(_bounds{numbars})< 1e-10 then _bounds(numbars)= 0;
117010    +                        _midpoint(numbars) = P5 + (i-0.5)*step; if abs(_midpoint{numbars})< 1e-10 then _midpoint(numbars)= 0;
117011    +                     end;
117012    +                     /* Make BINS with upper outliers width */
117013    +                     do i=1 to 5;
117014    +                        numbars = &numbars+5+i;
117015    +                        _bounds(numbars)   = P95 + i*ustep; if abs(_bounds{numbars})< 1e-10 then _bounds(numbars)= 0;
117016    +                        _midpoint(numbars) = P95 + (i-0.5)*ustep + abs(ustep-step)/2;if abs(_midpoint{numbars})< 1e-10 then _midpoint(numbars)= 0;
117017    +                     end;
117018    +                     %let new_numbars = %eval(&numbars+10);
117019    +                  end;
117020    +               end;
117021    +            end;
117022    +         %end;
117023    +      end;
117024    +      else do;
117025    +         _bounds(1)   = MIN;
117026    +         _midpoint(1) = MIN;
117027    +      end;
117028    +      Format = 'F'!!trim(left(put(_n_,3.)))!!'_';
117029    +   run;
117030    +   %if %sysfunc(exist(_DISCRETEMID)) %then %do;
117031    +       data &BINFMTDATA;
117032    +          merge &BINFMTDATA _DISCRETEMID(in = _b);
117033    +          by VARIABLE;
117034    +          if ^_b then output;
117035    +       run;
117036    +   %end;
117038    +   data _null_;
117039    +      file fref;
117040    +      set &BINFMTDATA end=eof;
117041    +      array _bounds{&NEW_NUMBARS};
117042    +      array _midpoint{&NEW_NUMBARS};
117043    +      if _n_=1 then
117044    +         put 'proc format;';
117046    +      put 'value ' Format;
117047    +      if min eq max then do;
117048    +         put 'low - high ="' MIN '";';
117049    +      end;
117050    +      else do;
117051    +         _LB  = MIN;
117052    +         _MID = _midpoint{1};
117053    +         _UB  = _bounds{1};
117054    +         %if &MIDPOINTFMT = Y %then %do;
117055    +              put 'LOW -' _UB '="' _MID '"';
117056    +         %end;
117057    +         %else %do;
117058    +             put 'LOW -' _UB '="LOW-' _UB '"';
117059    +         %end;
117060    +         do i=1 to &NEW_NUMBARS-1;
117061    +            _LB  = _bounds{i};
117062    +            j=i+1;
117063    +            _MID = _midpoint{j};
117064    +            _UB  = _bounds{j};
117065    +            if (_UB ne .) and (_LB ne _UB) then do;
117066    +               if _UB>=MAX then
117067    +                  %if &MIDPOINTFMT = Y %then %do;
117068    +                       put _LB '-HIGH="' _MID '"';
117069    +                  %end;
117070    +                  %else %do;
117071    +                      put _LB '-HIGH="' _LB '- HIGH"';
117072    +                  %end;
117073    +               else
117074    +                  %if &MIDPOINTFMT = Y %then %do;
117075    +                      put _LB '-' _UB '="' _MID '"';
117076    +                  %end;
117077    +                  %else %do;
117078    +                      put _LB '-' _UB '="' _LB '-' _UB '"';
117079    +                  %end;
117080    +            end;
117081    +         end;
117082    +      end;
117083    +      put ';';
117084    +      if eof then put 'run;';
117085    +   run;
117087    +   %inc fref;
117089    +   filename fref;
117091    +   proc datasets lib=work nolist mt=(DATA VIEW CATALOG);
117092    +      delete _BOUNDS _STAT _CLASSOUT _DISCRETEMID _COUNT;
117093    +      delete EMEXPL;
117094    +   run;
117095    +   quit;
117097    +   %doend:
117098    +%mend var_binfmt;
NOTE: %INCLUDE (level 1) ending.
117099     filename _fref;
MPRINT(EM_DIAGRAM):   filename _fref;
NOTE: Fileref _FREF has been deassigned.
117100     %var_binfmt(DATA=%str(EMWS8.Part_TRAIN(obs=100000)), VARS=, METADATA=WORK.M293ADDM, STATDATA= EMWS8.Stat2_TRAINPCTLS , BINFMTDATA=WORK.Stat2INTERVALBINFMT, outlier=N, MIDPOINTFMT=N, NUMBARS=5);
MPRINT(VAR_BINFMT):   filename _mac catalog 'WORK.EMEXPL.VARIABLES.SOURCE';
MPRINT(VAR_BINFMT):   data _null;
MPRINT(VAR_BINFMT):   set WORK.M293ADDM(where=(LEVEL = 'INTERVAL' and ROLE ne 'FREQ')) end=eof;
MPRINT(VAR_BINFMT):   if eof then call symput('_nobs', put(_N_, best.));
MPRINT(VAR_BINFMT):   run;
 
NOTE: There were 24 observations read from the data set WORK.M293ADDM.
      WHERE (LEVEL='INTERVAL') and (ROLE not = 'FREQ');
NOTE: The data set WORK._NULL has 24 observations and 22 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
MPRINT(VAR_BINFMT):   data _null_;
MPRINT(VAR_BINFMT):   file _mac;
MPRINT(VAR_BINFMT):   length _VARS $80;
MPRINT(VAR_BINFMT):   retain _vars;
MPRINT(VAR_BINFMT):   if _n_ =1 then put '%macro _vars;';
MPRINT(VAR_BINFMT):   set WORK.M293ADDM end=eof;
MPRINT(VAR_BINFMT):   where LEVEL = 'INTERVAL' or ROLE='FREQ';
MPRINT(VAR_BINFMT):   if ROLE='FREQ' then call symput('FREQ', NAME);
MPRINT(VAR_BINFMT):   else do;
MPRINT(VAR_BINFMT):   if length(strip(_vars)) + length(strip(NAME)) + 1 <80 then _vars = strip(_vars)!! ' ' !!strip(NAME);
MPRINT(VAR_BINFMT):   else do;
MPRINT(VAR_BINFMT):   put _Vars;
MPRINT(VAR_BINFMT):   _vars = strip(NAME);
MPRINT(VAR_BINFMT):   end;
MPRINT(VAR_BINFMT):   end;
MPRINT(VAR_BINFMT):   if eof then do;
MPRINT(VAR_BINFMT):   put _Vars;
MPRINT(VAR_BINFMT):   put '%mend _vars;';
MPRINT(VAR_BINFMT):   end;
MPRINT(VAR_BINFMT):   run;
 
NOTE: The file _MAC is:
      Catalog Name=WORK.EMEXPL.VARIABLES.SOURCE,
      Catalog Page Size=4096,
      Number of Catalog Pages=4,
      Created=Dienstag, 19. April 2016 17.21 Uhr,
      Last Modified=Dienstag, 19. April 2016 17.21 Uhr,
      Filename=C:\Users\LUKASF~1\AppData\Local\Temp\SAS Temporary Files\_TD15536_WN7LF-LEAVE_\Prc2\emexpl.sas7bcat,
      Release Created=9.0301M2,Host Created=X64_7PRO
 
NOTE: 6 records were written to the file _MAC.
      The minimum record length was 12.
      The maximum record length was 77.
NOTE: There were 24 observations read from the data set WORK.M293ADDM.
      WHERE (LEVEL='INTERVAL') or (ROLE='FREQ');
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
NOTE: %INCLUDE (level 1) file _MAC is file WORK.EMEXPL.VARIABLES.SOURCE.
117101    +%macro _vars;
117102    +AcceptedCmpTotal Age Frq Income Kidhome Mnt MntFishProducts MntFruits
117103    +MntGoldProds MntMeatProducts MntSweetProducts MntWines MonthsAsCustomer
117104    +NumCatalogPurchases NumDealsPurchases NumDistPurchases NumStorePurchases
117105    +NumWebPurchases NumWebVisitsMonth RFMstat RMntFrq Recency Teenhome Year_Birth
117106    +%mend _vars;
NOTE: %INCLUDE (level 1) ending.
MPRINT(VAR_BINFMT):   filename _mac;
NOTE: Fileref _MAC has been deassigned.
*------------------------------------------------------------*
* computingmidpoints_note
*------------------------------------------------------------*
MPRINT(VAR_BINFMT):   filename fref catalog 'work.emexpl.profileformat.source';
MPRINT(VAR_BINFMT):   proc dmdb data=EMWS8.Part_TRAIN(obs=100000) classout=_CLASSOUT maxlevel=6;
MPRINT(VAR_BINFMT):   class
MPRINT(_VARS):   AcceptedCmpTotal Age Frq Income Kidhome Mnt MntFishProducts MntFruits MntGoldProds MntMeatProducts MntSweetProducts MntWines MonthsAsCustomer NumCatalogPurchases NumDealsPurchases NumDistPurchases NumStorePurchases NumWebPurchases
NumWebVisitsMonth RFMstat RMntFrq Recency Teenhome Year_Birth
MPRINT(VAR_BINFMT):   ;
MPRINT(VAR_BINFMT):   run;
 
NOTE: Records processed = 2374   Memory used = 511K.
NOTE: There were 2374 observations read from the data set EMWS8.PART_TRAIN.
NOTE: The data set WORK._CLASSOUT has 137 observations and 9 variables.
NOTE: PROCEDURE DMDB used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
MPRINT(VAR_BINFMT):   proc freq data=_CLASSOUT ORDER=DATA noprint;
MPRINT(VAR_BINFMT):   table NAME / OUT = _COUNT(where=(COUNT<6));
MPRINT(VAR_BINFMT):   run;
 
NOTE: There were 137 observations read from the data set WORK._CLASSOUT.
NOTE: The data set WORK._COUNT has 3 observations and 3 variables.
NOTE: PROCEDURE FREQ used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
MPRINT(VAR_BINFMT):   proc sort data=_COUNT(keep=NAME);
MPRINT(VAR_BINFMT):   by NAME;
MPRINT(VAR_BINFMT):   run;
 
NOTE: There were 3 observations read from the data set WORK._COUNT.
NOTE: The data set WORK._COUNT has 3 observations and 1 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
MPRINT(VAR_BINFMT):   proc sort data=_CLASSOUT;
MPRINT(VAR_BINFMT):   by NAME;
MPRINT(VAR_BINFMT):   run;
 
NOTE: There were 137 observations read from the data set WORK._CLASSOUT.
NOTE: The data set WORK._CLASSOUT has 137 observations and 9 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
MPRINT(VAR_BINFMT):   proc transpose data=_CLASSOUT out=_DISCRETEMID(DROP=_NAME_ RENAME=(NAME=VARIABLE)) prefix=_MIDPOINT;
MPRINT(VAR_BINFMT):   var NRAW;
MPRINT(VAR_BINFMT):   by NAME;
MPRINT(VAR_BINFMT):   run;
 
NOTE: There were 137 observations read from the data set WORK._CLASSOUT.
NOTE: The data set WORK._DISCRETEMID has 24 observations and 7 variables.
NOTE: PROCEDURE TRANSPOSE used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
MPRINT(VAR_BINFMT):   data _null_;
MPRINT(VAR_BINFMT):   dsid = open('_DISCRETEMID');
MPRINT(VAR_BINFMT):   if dsid then do;
MPRINT(VAR_BINFMT):   call symput('NUMCLASSBARS', left(trim(put(attrn(dsid, 'NVARS')-1, best12.))));
MPRINT(VAR_BINFMT):   dsid = close(dsid);
MPRINT(VAR_BINFMT):   end;
MPRINT(VAR_BINFMT):   run;
 
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
MPRINT(VAR_BINFMT):   data _DISCRETEMID;
MPRINT(VAR_BINFMT):   merge _DISCRETEMID _COUNT(in=_b rename=(NAME=VARIABLE));
MPRINT(VAR_BINFMT):   keep VARIABLE _MIDPOINT1--_MIDPOINT6 ;
MPRINT(VAR_BINFMT):   by VARIABLE;
MPRINT(VAR_BINFMT):   if _b then output;
MPRINT(VAR_BINFMT):   run;
 
NOTE: There were 24 observations read from the data set WORK._DISCRETEMID.
NOTE: There were 3 observations read from the data set WORK._COUNT.
NOTE: The data set WORK._DISCRETEMID has 3 observations and 7 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
MPRINT(VAR_BINFMT):   proc transpose data=EMWS8.Stat2_TRAINPCTLS out=WORK.Stat2INTERVALBINFMT(rename=(_NAME_=VARIABLE COL1=MIN COL2=P5 COL3=P95 COL4=MAX));
MPRINT(VAR_BINFMT):   where _type_ in('P0', 'P5', 'P95', 'P100');
MPRINT(VAR_BINFMT):   run;
 
NOTE: There were 4 observations read from the data set EMWS8.STAT2_TRAINPCTLS.
      WHERE _type_ in ('P0', 'P100', 'P5', 'P95');
NOTE: The data set WORK.STAT2INTERVALBINFMT has 24 observations and 6 variables.
NOTE: PROCEDURE TRANSPOSE used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
MPRINT(VAR_BINFMT):   proc sort data=WORK.Stat2INTERVALBINFMT;
MPRINT(VAR_BINFMT):   by VARIABLE;
MPRINT(VAR_BINFMT):   run;
 
NOTE: There were 24 observations read from the data set WORK.STAT2INTERVALBINFMT.
NOTE: The data set WORK.STAT2INTERVALBINFMT has 24 observations and 6 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
MPRINT(VAR_BINFMT):   data WORK.Stat2INTERVALBINFMT;
MPRINT(VAR_BINFMT):   set WORK.Stat2INTERVALBINFMT;
MPRINT(VAR_BINFMT):   length Format $12;
MPRINT(VAR_BINFMT):   array _midpoint{17};
MPRINT(VAR_BINFMT):   array _bounds{17};
MPRINT(VAR_BINFMT):   if min ne max then do;
MPRINT(VAR_BINFMT):   step = abs(P95-P5)/5;
MPRINT(VAR_BINFMT):   lstep = abs(p5- min)/5;
MPRINT(VAR_BINFMT):   ustep = abs(max-p95)/5;
MPRINT(VAR_BINFMT):   ;
MPRINT(VAR_BINFMT):   step = abs(MIN-MAX)/5;
MPRINT(VAR_BINFMT):   START=MIN;
MPRINT(VAR_BINFMT):   do i=1 to 5;
MPRINT(VAR_BINFMT):   _bounds(i) = MIN + i*step;
MPRINT(VAR_BINFMT):   if abs(_bounds{i})< 1e-10 then _bounds(i)= 0;
MPRINT(VAR_BINFMT):   _midpoint(i) = MIN+ (i-0.5)*step;
MPRINT(VAR_BINFMT):   if abs(_midpoint{i})< 1e-10 then _midpoint(i)= 0;
MPRINT(VAR_BINFMT):   end;
MPRINT(VAR_BINFMT):   end;
MPRINT(VAR_BINFMT):   else do;
MPRINT(VAR_BINFMT):   _bounds(1) = MIN;
MPRINT(VAR_BINFMT):   _midpoint(1) = MIN;
MPRINT(VAR_BINFMT):   end;
MPRINT(VAR_BINFMT):   Format = 'F'!!trim(left(put(_n_,3.)))!!'_';
MPRINT(VAR_BINFMT):   run;
 
NOTE: There were 24 observations read from the data set WORK.STAT2INTERVALBINFMT.
NOTE: The data set WORK.STAT2INTERVALBINFMT has 24 observations and 46 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
MPRINT(VAR_BINFMT):   data WORK.Stat2INTERVALBINFMT;
MPRINT(VAR_BINFMT):   merge WORK.Stat2INTERVALBINFMT _DISCRETEMID(in = _b);
MPRINT(VAR_BINFMT):   by VARIABLE;
MPRINT(VAR_BINFMT):   if ^_b then output;
MPRINT(VAR_BINFMT):   run;
 
WARNING: Multiple lengths were specified for the BY variable VARIABLE by input data sets. This may cause unexpected results.
NOTE: There were 24 observations read from the data set WORK.STAT2INTERVALBINFMT.
NOTE: There were 3 observations read from the data set WORK._DISCRETEMID.
NOTE: The data set WORK.STAT2INTERVALBINFMT has 21 observations and 46 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
MPRINT(VAR_BINFMT):   data _null_;
MPRINT(VAR_BINFMT):   file fref;
MPRINT(VAR_BINFMT):   set WORK.Stat2INTERVALBINFMT end=eof;
MPRINT(VAR_BINFMT):   array _bounds{5};
MPRINT(VAR_BINFMT):   array _midpoint{5};
MPRINT(VAR_BINFMT):   if _n_=1 then put 'proc format;';
MPRINT(VAR_BINFMT):   put 'value ' Format;
MPRINT(VAR_BINFMT):   if min eq max then do;
MPRINT(VAR_BINFMT):   put 'low - high ="' MIN '";';
MPRINT(VAR_BINFMT):   end;
MPRINT(VAR_BINFMT):   else do;
MPRINT(VAR_BINFMT):   _LB = MIN;
MPRINT(VAR_BINFMT):   _MID = _midpoint{1};
MPRINT(VAR_BINFMT):   _UB = _bounds{1};
MPRINT(VAR_BINFMT):   put 'LOW -' _UB '="LOW-' _UB '"';
MPRINT(VAR_BINFMT):   do i=1 to 5-1;
MPRINT(VAR_BINFMT):   _LB = _bounds{i};
MPRINT(VAR_BINFMT):   j=i+1;
MPRINT(VAR_BINFMT):   _MID = _midpoint{j};
MPRINT(VAR_BINFMT):   _UB = _bounds{j};
MPRINT(VAR_BINFMT):   if (_UB ne .) and (_LB ne _UB) then do;
MPRINT(VAR_BINFMT):   if _UB>=MAX then put _LB '-HIGH="' _LB '- HIGH"';
MPRINT(VAR_BINFMT):   else put _LB '-' _UB '="' _LB '-' _UB '"';
MPRINT(VAR_BINFMT):   end;
MPRINT(VAR_BINFMT):   end;
MPRINT(VAR_BINFMT):   end;
MPRINT(VAR_BINFMT):   put ';';
MPRINT(VAR_BINFMT):   if eof then put 'run;';
MPRINT(VAR_BINFMT):   run;
 
NOTE: The file FREF is:
      Catalog Name=WORK.EMEXPL.PROFILEFORMAT.SOURCE,
      Catalog Page Size=4096,
      Number of Catalog Pages=5,
      Created=Dienstag, 19. April 2016 17.21 Uhr,
      Last Modified=Dienstag, 19. April 2016 17.21 Uhr,
      Filename=C:\Users\LUKASF~1\AppData\Local\Temp\SAS Temporary Files\_TD15536_WN7LF-LEAVE_\Prc2\emexpl.sas7bcat,
      Release Created=9.0301M2,Host Created=X64_7PRO
 
NOTE: 149 records were written to the file FREF.
      The minimum record length was 1.
      The maximum record length was 57.
NOTE: There were 21 observations read from the data set WORK.STAT2INTERVALBINFMT.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
NOTE: %INCLUDE (level 1) file FREF is file WORK.EMEXPL.PROFILEFORMAT.SOURCE.
117107    +proc format;
MPRINT(VAR_BINFMT):   proc format;
117108    +value F2_
117109    +LOW -31.2 ="LOW-31.2 "
117110    +31.2 -42.4 ="31.2 -42.4 "
117111    +42.4 -53.6 ="42.4 -53.6 "
117112    +53.6 -64.8 ="53.6 -64.8 "
117113    +64.8 -HIGH="64.8 - HIGH"
117114    +;
MPRINT(VAR_BINFMT):   value F2_ LOW -31.2 ="LOW-31.2 " 31.2 -42.4 ="31.2 -42.4 " 42.4 -53.6 ="42.4 -53.6 " 53.6 -64.8 ="53.6 -64.8 " 64.8 -HIGH="64.8 - HIGH" ;
NOTE: Format F2_ has been output.
117115    +value F3_
117116    +LOW -9 ="LOW-9 "
117117    +9 -15 ="9 -15 "
117118    +15 -21 ="15 -21 "
117119    +21 -27 ="21 -27 "
117120    +27 -HIGH="27 - HIGH"
117121    +;
MPRINT(VAR_BINFMT):   value F3_ LOW -9 ="LOW-9 " 9 -15 ="9 -15 " 15 -21 ="15 -21 " 21 -27 ="21 -27 " 27 -HIGH="27 - HIGH" ;
NOTE: Format F3_ has been output.
117122    +value F4_
117123    +LOW -26600.8 ="LOW-26600.8 "
117124    +26600.8 -45701.6 ="26600.8 -45701.6 "
117125    +45701.6 -64802.4 ="45701.6 -64802.4 "
117126    +64802.4 -83903.2 ="64802.4 -83903.2 "
117127    +83903.2 -HIGH="83903.2 - HIGH"
117128    +;
MPRINT(VAR_BINFMT):   value F4_ LOW -26600.8 ="LOW-26600.8 " 26600.8 -45701.6 ="26600.8 -45701.6 " 45701.6 -64802.4 ="45701.6 -64802.4 " 64802.4 -83903.2 ="64802.4 -83903.2 " 83903.2 -HIGH="83903.2 - HIGH" ;
NOTE: Format F4_ has been output.
117129    +value F6_
117130    +LOW -528.6 ="LOW-528.6 "
117131    +528.6 -1051.2 ="528.6 -1051.2 "
117132    +1051.2 -1573.8 ="1051.2 -1573.8 "
117133    +1573.8 -2096.4 ="1573.8 -2096.4 "
117134    +2096.4 -HIGH="2096.4 - HIGH"
117135    +;
MPRINT(VAR_BINFMT):   value F6_ LOW -528.6 ="LOW-528.6 " 528.6 -1051.2 ="528.6 -1051.2 " 1051.2 -1573.8 ="1051.2 -1573.8 " 1573.8 -2096.4 ="1573.8 -2096.4 " 2096.4 -HIGH="2096.4 - HIGH" ;
NOTE: Format F6_ has been output.
117136    +value F7_
117137    +LOW -51.8 ="LOW-51.8 "
117138    +51.8 -103.6 ="51.8 -103.6 "
117139    +103.6 -155.4 ="103.6 -155.4 "
117140    +155.4 -207.2 ="155.4 -207.2 "
117141    +207.2 -HIGH="207.2 - HIGH"
117142    +;
MPRINT(VAR_BINFMT):   value F7_ LOW -51.8 ="LOW-51.8 " 51.8 -103.6 ="51.8 -103.6 " 103.6 -155.4 ="103.6 -155.4 " 155.4 -207.2 ="155.4 -207.2 " 207.2 -HIGH="207.2 - HIGH" ;
NOTE: Format F7_ has been output.
117143    +value F8_
117144    +LOW -39.8 ="LOW-39.8 "
117145    +39.8 -79.6 ="39.8 -79.6 "
117146    +79.6 -119.4 ="79.6 -119.4 "
117147    +119.4 -159.2 ="119.4 -159.2 "
117148    +159.2 -HIGH="159.2 - HIGH"
117149    +;
MPRINT(VAR_BINFMT):   value F8_ LOW -39.8 ="LOW-39.8 " 39.8 -79.6 ="39.8 -79.6 " 79.6 -119.4 ="79.6 -119.4 " 119.4 -159.2 ="119.4 -159.2 " 159.2 -HIGH="159.2 - HIGH" ;
NOTE: Format F8_ has been output.
117150    +value F9_
117151    +LOW -49.8 ="LOW-49.8 "
117152    +49.8 -99.6 ="49.8 -99.6 "
117153    +99.6 -149.4 ="99.6 -149.4 "
117154    +149.4 -199.2 ="149.4 -199.2 "
117155    +199.2 -HIGH="199.2 - HIGH"
117156    +;
MPRINT(VAR_BINFMT):   value F9_ LOW -49.8 ="LOW-49.8 " 49.8 -99.6 ="49.8 -99.6 " 99.6 -149.4 ="99.6 -149.4 " 149.4 -199.2 ="149.4 -199.2 " 199.2 -HIGH="199.2 - HIGH" ;
NOTE: Format F9_ has been output.
117157    +value F10_
117158    +LOW -192.8 ="LOW-192.8 "
117159    +192.8 -385.6 ="192.8 -385.6 "
117160    +385.6 -578.4 ="385.6 -578.4 "
117161    +578.4 -771.2 ="578.4 -771.2 "
117162    +771.2 -HIGH="771.2 - HIGH"
117163    +;
MPRINT(VAR_BINFMT):   value F10_ LOW -192.8 ="LOW-192.8 " 192.8 -385.6 ="192.8 -385.6 " 385.6 -578.4 ="385.6 -578.4 " 578.4 -771.2 ="578.4 -771.2 " 771.2 -HIGH="771.2 - HIGH" ;
NOTE: Format F10_ has been output.
117164    +value F11_
117165    +LOW -39.8 ="LOW-39.8 "
117166    +39.8 -79.6 ="39.8 -79.6 "
117167    +79.6 -119.4 ="79.6 -119.4 "
117168    +119.4 -159.2 ="119.4 -159.2 "
117169    +159.2 -HIGH="159.2 - HIGH"
117170    +;
MPRINT(VAR_BINFMT):   value F11_ LOW -39.8 ="LOW-39.8 " 39.8 -79.6 ="39.8 -79.6 " 79.6 -119.4 ="79.6 -119.4 " 119.4 -159.2 ="119.4 -159.2 " 159.2 -HIGH="159.2 - HIGH" ;
NOTE: Format F11_ has been output.
117171    +value F12_
117172    +LOW -299.6 ="LOW-299.6 "
117173    +299.6 -599.2 ="299.6 -599.2 "
117174    +599.2 -898.8 ="599.2 -898.8 "
117175    +898.8 -1198.4 ="898.8 -1198.4 "
117176    +1198.4 -HIGH="1198.4 - HIGH"
117177    +;
MPRINT(VAR_BINFMT):   value F12_ LOW -299.6 ="LOW-299.6 " 299.6 -599.2 ="299.6 -599.2 " 599.2 -898.8 ="599.2 -898.8 " 898.8 -1198.4 ="898.8 -1198.4 " 1198.4 -HIGH="1198.4 - HIGH" ;
NOTE: Format F12_ has been output.
117178    +value F13_
117179    +LOW -66.6 ="LOW-66.6 "
117180    +66.6 -78.2 ="66.6 -78.2 "
117181    +78.2 -89.8 ="78.2 -89.8 "
117182    +89.8 -101.4 ="89.8 -101.4 "
117183    +101.4 -HIGH="101.4 - HIGH"
117184    +;
MPRINT(VAR_BINFMT):   value F13_ LOW -66.6 ="LOW-66.6 " 66.6 -78.2 ="66.6 -78.2 " 78.2 -89.8 ="78.2 -89.8 " 89.8 -101.4 ="89.8 -101.4 " 101.4 -HIGH="101.4 - HIGH" ;
NOTE: Format F13_ has been output.
117185    +value F14_
117186    +LOW -2.2 ="LOW-2.2 "
117187    +2.2 -4.4 ="2.2 -4.4 "
117188    +4.4 -6.6 ="4.4 -6.6 "
117189    +6.6 -8.8 ="6.6 -8.8 "
117190    +8.8 -HIGH="8.8 - HIGH"
117191    +;
MPRINT(VAR_BINFMT):   value F14_ LOW -2.2 ="LOW-2.2 " 2.2 -4.4 ="2.2 -4.4 " 4.4 -6.6 ="4.4 -6.6 " 6.6 -8.8 ="6.6 -8.8 " 8.8 -HIGH="8.8 - HIGH" ;
NOTE: Format F14_ has been output.
117192    +value F15_
117193    +LOW -2 ="LOW-2 "
117194    +2 -4 ="2 -4 "
117195    +4 -6 ="4 -6 "
117196    +6 -8 ="6 -8 "
117197    +8 -HIGH="8 - HIGH"
117198    +;
MPRINT(VAR_BINFMT):   value F15_ LOW -2 ="LOW-2 " 2 -4 ="2 -4 " 4 -6 ="4 -6 " 6 -8 ="6 -8 " 8 -HIGH="8 - HIGH" ;
NOTE: Format F15_ has been output.
117199    +value F16_
117200    +LOW -4.4 ="LOW-4.4 "
117201    +4.4 -8.8 ="4.4 -8.8 "
117202    +8.8 -13.2 ="8.8 -13.2 "
117203    +13.2 -17.6 ="13.2 -17.6 "
117204    +17.6 -HIGH="17.6 - HIGH"
117205    +;
MPRINT(VAR_BINFMT):   value F16_ LOW -4.4 ="LOW-4.4 " 4.4 -8.8 ="4.4 -8.8 " 8.8 -13.2 ="8.8 -13.2 " 13.2 -17.6 ="13.2 -17.6 " 17.6 -HIGH="17.6 - HIGH" ;
NOTE: Format F16_ has been output.
117206    +value F17_
117207    +LOW -4.2 ="LOW-4.2 "
117208    +4.2 -6.4 ="4.2 -6.4 "
117209    +6.4 -8.6 ="6.4 -8.6 "
117210    +8.6 -10.8 ="8.6 -10.8 "
117211    +10.8 -HIGH="10.8 - HIGH"
117212    +;
MPRINT(VAR_BINFMT):   value F17_ LOW -4.2 ="LOW-4.2 " 4.2 -6.4 ="4.2 -6.4 " 6.4 -8.6 ="6.4 -8.6 " 8.6 -10.8 ="8.6 -10.8 " 10.8 -HIGH="10.8 - HIGH" ;
NOTE: Format F17_ has been output.
117213    +value F18_
117214    +LOW -2.2 ="LOW-2.2 "
117215    +2.2 -4.4 ="2.2 -4.4 "
117216    +4.4 -6.6 ="4.4 -6.6 "
117217    +6.6 -8.8 ="6.6 -8.8 "
117218    +8.8 -HIGH="8.8 - HIGH"
117219    +;
MPRINT(VAR_BINFMT):   value F18_ LOW -2.2 ="LOW-2.2 " 2.2 -4.4 ="2.2 -4.4 " 4.4 -6.6 ="4.4 -6.6 " 6.6 -8.8 ="6.6 -8.8 " 8.8 -HIGH="8.8 - HIGH" ;
NOTE: Format F18_ has been output.
117220    +value F19_
117221    +LOW -1.8 ="LOW-1.8 "
117222    +1.8 -3.6 ="1.8 -3.6 "
117223    +3.6 -5.4 ="3.6 -5.4 "
117224    +5.4 -7.2 ="5.4 -7.2 "
117225    +7.2 -HIGH="7.2 - HIGH"
117226    +;
MPRINT(VAR_BINFMT):   value F19_ LOW -1.8 ="LOW-1.8 " 1.8 -3.6 ="1.8 -3.6 " 3.6 -5.4 ="3.6 -5.4 " 5.4 -7.2 ="5.4 -7.2 " 7.2 -HIGH="7.2 - HIGH" ;
NOTE: Format F19_ has been output.
117227    +value F20_
117228    +LOW -5860.5939394 ="LOW-5860.5939394 "
117229    +5860.5939394 -11720.945455 ="5860.5939394 -11720.945455 "
117230    +11720.945455 -17581.29697 ="11720.945455 -17581.29697 "
117231    +17581.29697 -23441.648485 ="17581.29697 -23441.648485 "
117232    +23441.648485 -HIGH="23441.648485 - HIGH"
117233    +;
MPRINT(VAR_BINFMT):   value F20_ LOW -5860.5939394 ="LOW-5860.5939394 " 5860.5939394 -11720.945455 ="5860.5939394 -11720.945455 " 11720.945455 -17581.29697 ="11720.945455 -17581.29697 " 17581.29697 -23441.648485 ="17581.29697 -23441.648485 " 23441.648485
-HIGH="23441.648485 - HIGH" ;
NOTE: Format F20_ has been output.
117234    +value F21_
117235    +LOW -42.9 ="LOW-42.9 "
117236    +42.9 -83.8 ="42.9 -83.8 "
117237    +83.8 -124.7 ="83.8 -124.7 "
117238    +124.7 -165.6 ="124.7 -165.6 "
117239    +165.6 -HIGH="165.6 - HIGH"
117240    +;
MPRINT(VAR_BINFMT):   value F21_ LOW -42.9 ="LOW-42.9 " 42.9 -83.8 ="42.9 -83.8 " 83.8 -124.7 ="83.8 -124.7 " 124.7 -165.6 ="124.7 -165.6 " 165.6 -HIGH="165.6 - HIGH" ;
NOTE: Format F21_ has been output.
117241    +value F22_
117242    +LOW -19.8 ="LOW-19.8 "
117243    +19.8 -39.6 ="19.8 -39.6 "
117244    +39.6 -59.4 ="39.6 -59.4 "
117245    +59.4 -79.2 ="59.4 -79.2 "
117246    +79.2 -HIGH="79.2 - HIGH"
117247    +;
MPRINT(VAR_BINFMT):   value F22_ LOW -19.8 ="LOW-19.8 " 19.8 -39.6 ="19.8 -39.6 " 39.6 -59.4 ="39.6 -59.4 " 59.4 -79.2 ="59.4 -79.2 " 79.2 -HIGH="79.2 - HIGH" ;
NOTE: Format F22_ has been output.
117248    +value F24_
117249    +LOW -1951.2 ="LOW-1951.2 "
117250    +1951.2 -1962.4 ="1951.2 -1962.4 "
117251    +1962.4 -1973.6 ="1962.4 -1973.6 "
117252    +1973.6 -1984.8 ="1973.6 -1984.8 "
117253    +1984.8 -HIGH="1984.8 - HIGH"
117254    +;
MPRINT(VAR_BINFMT):   value F24_ LOW -1951.2 ="LOW-1951.2 " 1951.2 -1962.4 ="1951.2 -1962.4 " 1962.4 -1973.6 ="1962.4 -1973.6 " 1973.6 -1984.8 ="1973.6 -1984.8 " 1984.8 -HIGH="1984.8 - HIGH" ;
NOTE: Format F24_ has been output.
MPRINT(VAR_BINFMT):   run;
117255    +run;
 
NOTE: PROCEDURE FORMAT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
NOTE: %INCLUDE (level 1) ending.
MPRINT(VAR_BINFMT):   filename fref;
NOTE: Fileref FREF has been deassigned.
MPRINT(VAR_BINFMT):   proc datasets lib=work nolist mt=(DATA VIEW CATALOG);
MPRINT(VAR_BINFMT):   delete _BOUNDS _STAT _CLASSOUT _DISCRETEMID _COUNT;
MPRINT(VAR_BINFMT):   delete EMEXPL;
MPRINT(VAR_BINFMT):   run;
 
NOTE: The file WORK._BOUNDS (memtype=(DATA VIEW CATALOG)) was not found, but appears on a DELETE statement.
NOTE: The file WORK._STAT (memtype=(DATA VIEW CATALOG)) was not found, but appears on a DELETE statement.
NOTE: Deleting WORK._CLASSOUT (memtype=DATA).
NOTE: Deleting WORK._DISCRETEMID (memtype=DATA).
NOTE: Deleting WORK._COUNT (memtype=DATA).
NOTE: Deleting WORK.EMEXPL (memtype=CATALOG).
MPRINT(VAR_BINFMT):   quit;
 
NOTE: PROCEDURE DATASETS used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
MPRINT(EM_DIAGRAM):  ;
 
117256     *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):    *------------------------------------------------------------*;
117257     * Stat2: Computing Chi-Square Statistics;
MPRINT(EM_DIAGRAM):   * Stat2: Computing Chi-Square Statistics;
117258     *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
117259     ods listing close;
MPRINT(EM_DIAGRAM):   ods listing close;
117260     ods output chisq=WORK.TEMPCHISQUARE;
MPRINT(EM_DIAGRAM):   ods output chisq=WORK.TEMPCHISQUARE;
117261     ods output crosstabFreqs=WORK.TEMPCROSSTAB;
MPRINT(EM_DIAGRAM):   ods output crosstabFreqs=WORK.TEMPCROSSTAB;
117262     proc freq data=EMWS8.Part_TRAIN(obs=100000) order=formatted addnames;
MPRINT(EM_DIAGRAM):   proc freq data=EMWS8.Part_TRAIN(obs=100000) order=formatted addnames;
117263     format Age F2_.;
MPRINT(EM_DIAGRAM):   format Age F2_.;
117264     format Frq F3_.;
MPRINT(EM_DIAGRAM):   format Frq F3_.;
117265     format Income F4_.;
MPRINT(EM_DIAGRAM):   format Income F4_.;
117266     format Mnt F6_.;
MPRINT(EM_DIAGRAM):   format Mnt F6_.;
117267     format MntFishProducts F7_.;
MPRINT(EM_DIAGRAM):   format MntFishProducts F7_.;
117268     format MntFruits F8_.;
MPRINT(EM_DIAGRAM):   format MntFruits F8_.;
117269     format MntGoldProds F9_.;
MPRINT(EM_DIAGRAM):   format MntGoldProds F9_.;
117270     format MntMeatProducts F10_.;
MPRINT(EM_DIAGRAM):   format MntMeatProducts F10_.;
117271     format MntSweetProducts F11_.;
MPRINT(EM_DIAGRAM):   format MntSweetProducts F11_.;
117272     format MntWines F12_.;
MPRINT(EM_DIAGRAM):   format MntWines F12_.;
117273     format MonthsAsCustomer F13_.;
MPRINT(EM_DIAGRAM):   format MonthsAsCustomer F13_.;
117274     format NumCatalogPurchases F14_.;
MPRINT(EM_DIAGRAM):   format NumCatalogPurchases F14_.;
117275     format NumDealsPurchases F15_.;
MPRINT(EM_DIAGRAM):   format NumDealsPurchases F15_.;
117276     format NumDistPurchases F16_.;
MPRINT(EM_DIAGRAM):   format NumDistPurchases F16_.;
117277     format NumStorePurchases F17_.;
MPRINT(EM_DIAGRAM):   format NumStorePurchases F17_.;
117278     format NumWebPurchases F18_.;
MPRINT(EM_DIAGRAM):   format NumWebPurchases F18_.;
117279     format NumWebVisitsMonth F19_.;
MPRINT(EM_DIAGRAM):   format NumWebVisitsMonth F19_.;
117280     format RFMstat F20_.;
MPRINT(EM_DIAGRAM):   format RFMstat F20_.;
117281     format RMntFrq F21_.;
MPRINT(EM_DIAGRAM):   format RMntFrq F21_.;
117282     format Recency F22_.;
MPRINT(EM_DIAGRAM):   format Recency F22_.;
117283     format Year_Birth F24_.;
MPRINT(EM_DIAGRAM):   format Year_Birth F24_.;
117284     table DepVar*AcceptedCmp1 /missing chisq outexpect sparse;
MPRINT(EM_DIAGRAM):   table DepVar*AcceptedCmp1 /missing chisq outexpect sparse;
117285     table DepVar*AcceptedCmp2 /missing chisq outexpect sparse;
MPRINT(EM_DIAGRAM):   table DepVar*AcceptedCmp2 /missing chisq outexpect sparse;
117286     table DepVar*AcceptedCmp3 /missing chisq outexpect sparse;
MPRINT(EM_DIAGRAM):   table DepVar*AcceptedCmp3 /missing chisq outexpect sparse;
117287     table DepVar*AcceptedCmp4 /missing chisq outexpect sparse;
MPRINT(EM_DIAGRAM):   table DepVar*AcceptedCmp4 /missing chisq outexpect sparse;
117288     table DepVar*AcceptedCmp5 /missing chisq outexpect sparse;
MPRINT(EM_DIAGRAM):   table DepVar*AcceptedCmp5 /missing chisq outexpect sparse;
117289     table DepVar*AcceptedCmpTotal /missing chisq outexpect sparse;
MPRINT(EM_DIAGRAM):   table DepVar*AcceptedCmpTotal /missing chisq outexpect sparse;
117290     table DepVar*Age /missing chisq outexpect sparse;
MPRINT(EM_DIAGRAM):   table DepVar*Age /missing chisq outexpect sparse;
117291     table DepVar*Complain /missing chisq outexpect sparse;
MPRINT(EM_DIAGRAM):   table DepVar*Complain /missing chisq outexpect sparse;
117292     table DepVar*Education /missing chisq outexpect sparse;
MPRINT(EM_DIAGRAM):   table DepVar*Education /missing chisq outexpect sparse;
117293     table DepVar*Frq /missing chisq outexpect sparse;
MPRINT(EM_DIAGRAM):   table DepVar*Frq /missing chisq outexpect sparse;
117294     table DepVar*HigherEducationBinary /missing chisq outexpect sparse;
MPRINT(EM_DIAGRAM):   table DepVar*HigherEducationBinary /missing chisq outexpect sparse;
117295     table DepVar*Income /missing chisq outexpect sparse;
MPRINT(EM_DIAGRAM):   table DepVar*Income /missing chisq outexpect sparse;
117296     table DepVar*Kidhome /missing chisq outexpect sparse;
MPRINT(EM_DIAGRAM):   table DepVar*Kidhome /missing chisq outexpect sparse;
117297     table DepVar*Marital_Status /missing chisq outexpect sparse;
MPRINT(EM_DIAGRAM):   table DepVar*Marital_Status /missing chisq outexpect sparse;
117298     table DepVar*Mnt /missing chisq outexpect sparse;
MPRINT(EM_DIAGRAM):   table DepVar*Mnt /missing chisq outexpect sparse;
117299     table DepVar*MntFishProducts /missing chisq outexpect sparse;
MPRINT(EM_DIAGRAM):   table DepVar*MntFishProducts /missing chisq outexpect sparse;
117300     table DepVar*MntFruits /missing chisq outexpect sparse;
MPRINT(EM_DIAGRAM):   table DepVar*MntFruits /missing chisq outexpect sparse;
117301     table DepVar*MntGoldProds /missing chisq outexpect sparse;
MPRINT(EM_DIAGRAM):   table DepVar*MntGoldProds /missing chisq outexpect sparse;
117302     table DepVar*MntMeatProducts /missing chisq outexpect sparse;
MPRINT(EM_DIAGRAM):   table DepVar*MntMeatProducts /missing chisq outexpect sparse;
117303     table DepVar*MntSweetProducts /missing chisq outexpect sparse;
MPRINT(EM_DIAGRAM):   table DepVar*MntSweetProducts /missing chisq outexpect sparse;
117304     table DepVar*MntWines /missing chisq outexpect sparse;
MPRINT(EM_DIAGRAM):   table DepVar*MntWines /missing chisq outexpect sparse;
117305     table DepVar*MonthsAsCustomer /missing chisq outexpect sparse;
MPRINT(EM_DIAGRAM):   table DepVar*MonthsAsCustomer /missing chisq outexpect sparse;
117306     table DepVar*NumCatalogPurchases /missing chisq outexpect sparse;
MPRINT(EM_DIAGRAM):   table DepVar*NumCatalogPurchases /missing chisq outexpect sparse;
117307     table DepVar*NumDealsPurchases /missing chisq outexpect sparse;
MPRINT(EM_DIAGRAM):   table DepVar*NumDealsPurchases /missing chisq outexpect sparse;
117308     table DepVar*NumDistPurchases /missing chisq outexpect sparse;
MPRINT(EM_DIAGRAM):   table DepVar*NumDistPurchases /missing chisq outexpect sparse;
117309     table DepVar*NumStorePurchases /missing chisq outexpect sparse;
MPRINT(EM_DIAGRAM):   table DepVar*NumStorePurchases /missing chisq outexpect sparse;
117310     table DepVar*NumWebPurchases /missing chisq outexpect sparse;
MPRINT(EM_DIAGRAM):   table DepVar*NumWebPurchases /missing chisq outexpect sparse;
117311     table DepVar*NumWebVisitsMonth /missing chisq outexpect sparse;
MPRINT(EM_DIAGRAM):   table DepVar*NumWebVisitsMonth /missing chisq outexpect sparse;
117312     table DepVar*RFMstat /missing chisq outexpect sparse;
MPRINT(EM_DIAGRAM):   table DepVar*RFMstat /missing chisq outexpect sparse;
117313     table DepVar*RMntFrq /missing chisq outexpect sparse;
MPRINT(EM_DIAGRAM):   table DepVar*RMntFrq /missing chisq outexpect sparse;
117314     table DepVar*Recency /missing chisq outexpect sparse;
MPRINT(EM_DIAGRAM):   table DepVar*Recency /missing chisq outexpect sparse;
117315     table DepVar*Teenhome /missing chisq outexpect sparse;
MPRINT(EM_DIAGRAM):   table DepVar*Teenhome /missing chisq outexpect sparse;
117316     table DepVar*Year_Birth /missing chisq outexpect sparse;
MPRINT(EM_DIAGRAM):   table DepVar*Year_Birth /missing chisq outexpect sparse;
117317     ;
MPRINT(EM_DIAGRAM):   ;
117318     run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: The data set WORK.TEMPCROSSTAB has 519 observations and 44 variables.
NOTE: The data set WORK.TEMPCHISQUARE has 205 observations and 8 variables.
NOTE: There were 2374 observations read from the data set EMWS8.PART_TRAIN.
NOTE: PROCEDURE FREQ used (Total process time):
      real time           0.15 seconds
      cpu time            0.14 seconds
 
 
MPRINT(EM_DIAGRAM):   quit;
117319     quit;
117320     ods listing;
MPRINT(EM_DIAGRAM):   ods listing;
117321     data WORK.Stat2CHI2(keep=TARGET INPUT CRAMERV CHIMEASURE PROBCHI CHIDF rename=(PROBCHI=PROB CHIDF=DF));
MPRINT(EM_DIAGRAM):    data WORK.Stat2CHI2(keep=TARGET INPUT CRAMERV CHIMEASURE PROBCHI CHIDF rename=(PROBCHI=PROB CHIDF=DF));
117322     length TARGET INPUT $32;
MPRINT(EM_DIAGRAM):   length TARGET INPUT $32;
117323     label Target = "%sysfunc(sasmsg(sashelp.dmine, rpt_target_vlabel ,      NOQUOTE))" INPUT = "%sysfunc(sasmsg(sashelp.dmine, rpt_input_vlabel ,       NOQUOTE))" CRAMERV = "%sysfunc(sasmsg(sashelp.dmine, rpt_cramerv_vlabel ,     NOQUOTE))"
117323   ! CORRVALUE =
117324        "%sysfunc(sasmsg(sashelp.dmine, rpt_correlation_vlabel , NOQUOTE))" PROBCHI = "%sysfunc(sasmsg(sashelp.dmine, rpt_probchi_vlabel ,     NOQUOTE))" CHIMEASURE = "%sysfunc(sasmsg(sashelp.dmine, rpt_chisquare_vlabel,    NOQUOTE))" CHIDF =
117325        "%sysfunc(sasmsg(sashelp.dmine, rpt_df_vlabel ,          NOQUOTE))";
MPRINT(EM_DIAGRAM):   label Target = "Target" INPUT = "Input" CRAMERV = "Cramer's V" CORRVALUE = "Correlation" PROBCHI = "Prob" CHIMEASURE = "Chi-Square" CHIDF = "Df";
117326     retain CHIMEASURE CHIDF PROBCHI;
MPRINT(EM_DIAGRAM):   retain CHIMEASURE CHIDF PROBCHI;
117327     format PROBCHI PVALUE6.4 CHIMEASURE 10.4;
MPRINT(EM_DIAGRAM):   format PROBCHI PVALUE6.4 CHIMEASURE 10.4;
117328     set WORK.TEMPCHISQUARE;
MPRINT(EM_DIAGRAM):   set WORK.TEMPCHISQUARE;
117329     Target = strip(RowVariable);
MPRINT(EM_DIAGRAM):   Target = strip(RowVariable);
117330     Input = strip(ColVariable);
MPRINT(EM_DIAGRAM):   Input = strip(ColVariable);
117331     where StatisticId in('_CRAMV_','_PCHI_');
MPRINT(EM_DIAGRAM):   where StatisticId in('_CRAMV_','_PCHI_');
117332     if StatisticId = '_PCHI_' then do;
MPRINT(EM_DIAGRAM):   if StatisticId = '_PCHI_' then do;
117333     PROBCHI = Prob;
MPRINT(EM_DIAGRAM):   PROBCHI = Prob;
117334     CHIMEASURE = VALUE;
MPRINT(EM_DIAGRAM):   CHIMEASURE = VALUE;
117335     CHIDF = DF;
MPRINT(EM_DIAGRAM):   CHIDF = DF;
117336     end;
MPRINT(EM_DIAGRAM):   end;
117337     else do;
MPRINT(EM_DIAGRAM):   else do;
117338     CRAMERV = abs(VALUE);
MPRINT(EM_DIAGRAM):   CRAMERV = abs(VALUE);
117339     OUTPUT;
MPRINT(EM_DIAGRAM):   OUTPUT;
117340     end;
MPRINT(EM_DIAGRAM):   end;
117341     run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: Variable CORRVALUE is uninitialized.
NOTE: There were 66 observations read from the data set WORK.TEMPCHISQUARE.
      WHERE StatisticId in ('_CRAMV_', '_PCHI_');
NOTE: The data set WORK.STAT2CHI2 has 33 observations and 6 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
117342     proc sort data=WORK.TEMPCROSSTAB;
MPRINT(EM_DIAGRAM):   proc sort data=WORK.TEMPCROSSTAB;
117343     by RowVariable ColVariable _Type_;
MPRINT(EM_DIAGRAM):   by RowVariable ColVariable _Type_;
117344     where _Type_ in('11','00');
MPRINT(EM_DIAGRAM):   where _Type_ in('11','00');
117345     run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 313 observations read from the data set WORK.TEMPCROSSTAB.
      WHERE _Type_ in ('00', '11');
NOTE: The data set WORK.TEMPCROSSTAB has 313 observations and 44 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
117346     data WORK.Stat2CHI(keep=YVAR XVAR X Y XTEXT YTEXT COUNT CHISQUARE LOGCHISQUARE);
MPRINT(EM_DIAGRAM):   data WORK.Stat2CHI(keep=YVAR XVAR X Y XTEXT YTEXT COUNT CHISQUARE LOGCHISQUARE);
117347     retain N;
MPRINT(EM_DIAGRAM):   retain N;
117348     dsid = open("WORK.TEMPCROSSTAB");
MPRINT(EM_DIAGRAM):   dsid = open("WORK.TEMPCROSSTAB");
117349     rowvarnum = varnum(dsid, 'RowVariable');
MPRINT(EM_DIAGRAM):   rowvarnum = varnum(dsid, 'RowVariable');
117350     colvarnum = varnum(dsid, 'ColVariable');
MPRINT(EM_DIAGRAM):   colvarnum = varnum(dsid, 'ColVariable');
117351     freqnum = varnum(dsid, 'FREQUENCY');
MPRINT(EM_DIAGRAM):   freqnum = varnum(dsid, 'FREQUENCY');
117352     rownum = varnum(dsid, 'RowPercent');
MPRINT(EM_DIAGRAM):   rownum = varnum(dsid, 'RowPercent');
117353     colnum = varnum(dsid, 'ColPercent');
MPRINT(EM_DIAGRAM):   colnum = varnum(dsid, 'ColPercent');
117354     typenum = varnum(dsid, '_TYPE_');
MPRINT(EM_DIAGRAM):   typenum = varnum(dsid, '_TYPE_');
117355     length YVAR XVAR $32 YTEXT $32 XTEXT $32;
MPRINT(EM_DIAGRAM):   length YVAR XVAR $32 YTEXT $32 XTEXT $32;
117356     do while(^fetch(dsid));
MPRINT(EM_DIAGRAM):   do while(^fetch(dsid));
117357     COUNT = getvarn(dsid, freqnum);
MPRINT(EM_DIAGRAM):   COUNT = getvarn(dsid, freqnum);
117358     YVAR = (getvarc(dsid, rowvarnum));
MPRINT(EM_DIAGRAM):   YVAR = (getvarc(dsid, rowvarnum));
117359     XVAR = strip(getvarc(dsid, colvarnum));
MPRINT(EM_DIAGRAM):   XVAR = strip(getvarc(dsid, colvarnum));
117360     ynum = varnum(dsid, YVAR);
MPRINT(EM_DIAGRAM):   ynum = varnum(dsid, YVAR);
117361     ytype = vartype(dsid, ynum);
MPRINT(EM_DIAGRAM):   ytype = vartype(dsid, ynum);
117362     yformat = varfmt(dsid, ynum);
MPRINT(EM_DIAGRAM):   yformat = varfmt(dsid, ynum);
117363     if yformat eq '' then yformat = 'best12.';
MPRINT(EM_DIAGRAM):   if yformat eq '' then yformat = 'best12.';
117364     Y=.;
MPRINT(EM_DIAGRAM):   Y=.;
117365     if ytype = 'N' then do;
MPRINT(EM_DIAGRAM):   if ytype = 'N' then do;
117366     Y = getvarn(dsid, ynum);
MPRINT(EM_DIAGRAM):   Y = getvarn(dsid, ynum);
117367     YTEXT = left(putn(Y, yformat));
MPRINT(EM_DIAGRAM):   YTEXT = left(putn(Y, yformat));
117368     end;
MPRINT(EM_DIAGRAM):   end;
117369     else YTEXT = getvarc(dsid, ynum);
MPRINT(EM_DIAGRAM):   else YTEXT = getvarc(dsid, ynum);
117370     xnum = varnum(dsid, XVAR);
MPRINT(EM_DIAGRAM):   xnum = varnum(dsid, XVAR);
117371     xtype = vartype(dsid, xnum);
MPRINT(EM_DIAGRAM):   xtype = vartype(dsid, xnum);
117372     xformat = varfmt(dsid, xnum);
MPRINT(EM_DIAGRAM):   xformat = varfmt(dsid, xnum);
117373     if xformat eq '' then xformat = 'best12.';
MPRINT(EM_DIAGRAM):   if xformat eq '' then xformat = 'best12.';
117374     X=.;
MPRINT(EM_DIAGRAM):   X=.;
117375     if xtype = 'N' then do;
MPRINT(EM_DIAGRAM):   if xtype = 'N' then do;
117376     X = getvarn(dsid, xnum);
MPRINT(EM_DIAGRAM):   X = getvarn(dsid, xnum);
117377     XTEXT = left(putn(X, xformat));
MPRINT(EM_DIAGRAM):   XTEXT = left(putn(X, xformat));
117378     end;
MPRINT(EM_DIAGRAM):   end;
117379     else XTEXT = getvarc(dsid, xnum);
MPRINT(EM_DIAGRAM):   else XTEXT = getvarc(dsid, xnum);
117380     if getvarc(dsid, typenum)= '00' then N= count;
MPRINT(EM_DIAGRAM):   if getvarc(dsid, typenum)= '00' then N= count;
117381     else do;
MPRINT(EM_DIAGRAM):   else do;
117382     EXP = (getvarn(dsid,rownum)/100)*(getvarn(dsid,colnum)/100)*N;
MPRINT(EM_DIAGRAM):   EXP = (getvarn(dsid,rownum)/100)*(getvarn(dsid,colnum)/100)*N;
117383     if exp >0 then do;
MPRINT(EM_DIAGRAM):   if exp >0 then do;
117384     CHISQUARE=(EXP-count)**2/(EXP);
MPRINT(EM_DIAGRAM):   CHISQUARE=(EXP-count)**2/(EXP);
117385     if chisquare>0 then LOGCHISQUARE = log(CHISQUARE);
MPRINT(EM_DIAGRAM):   if chisquare>0 then LOGCHISQUARE = log(CHISQUARE);
117386     OUTPUT;
MPRINT(EM_DIAGRAM):   OUTPUT;
117387     end;
MPRINT(EM_DIAGRAM):   end;
117388     end;
MPRINT(EM_DIAGRAM):   end;
117389     end;
MPRINT(EM_DIAGRAM):   end;
117390     dsid = close(dsid);
MPRINT(EM_DIAGRAM):   dsid = close(dsid);
117391     run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: The data set WORK.STAT2CHI has 276 observations and 9 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
117392     data WORK.Stat2CHI;
MPRINT(EM_DIAGRAM):    data WORK.Stat2CHI;
117393     length DATAROLE $20;
MPRINT(EM_DIAGRAM):   length DATAROLE $20;
117394     retain DATAROLE "TRAIN";
MPRINT(EM_DIAGRAM):   retain DATAROLE "TRAIN";
117395     SegmentVar = "";
MPRINT(EM_DIAGRAM):   SegmentVar = "";
117396     SegmentValue = "";
MPRINT(EM_DIAGRAM):   SegmentValue = "";
117397     SegmentId = "_OVERALL_";
MPRINT(EM_DIAGRAM):   SegmentId = "_OVERALL_";
117398     set WORK.Stat2CHI;
MPRINT(EM_DIAGRAM):   set WORK.Stat2CHI;
117399     run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 276 observations read from the data set WORK.STAT2CHI.
NOTE: The data set WORK.STAT2CHI has 276 observations and 13 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
117400     proc append base=EMWS8.Stat2_CHI2 data=WORK.Stat2CHI force;
MPRINT(EM_DIAGRAM):   proc append base=EMWS8.Stat2_CHI2 data=WORK.Stat2CHI force;
117401     run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: Appending WORK.STAT2CHI to EMWS8.STAT2_CHI2.
NOTE: BASE data set does not exist. DATA file is being copied to BASE file.
NOTE: There were 276 observations read from the data set WORK.STAT2CHI.
NOTE: The data set EMWS8.STAT2_CHI2 has 276 observations and 13 variables.
NOTE: PROCEDURE APPEND used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
117402     data WORK.Stat2CHI2;
MPRINT(EM_DIAGRAM):    data WORK.Stat2CHI2;
117403     length DATAROLE $20;
MPRINT(EM_DIAGRAM):   length DATAROLE $20;
117404     retain DATAROLE "TRAIN";
MPRINT(EM_DIAGRAM):   retain DATAROLE "TRAIN";
117405     SegmentVar = "";
MPRINT(EM_DIAGRAM):   SegmentVar = "";
117406     SegmentValue = "";
MPRINT(EM_DIAGRAM):   SegmentValue = "";
117407     SegmentId = "_OVERALL_";
MPRINT(EM_DIAGRAM):   SegmentId = "_OVERALL_";
117408     set WORK.Stat2CHI2;
MPRINT(EM_DIAGRAM):   set WORK.Stat2CHI2;
117409     run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 33 observations read from the data set WORK.STAT2CHI2.
NOTE: The data set WORK.STAT2CHI2 has 33 observations and 10 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
117410     proc append base=EMWS8.Stat2_CHIMEASURE data=WORK.Stat2CHI2 force;
MPRINT(EM_DIAGRAM):   proc append base=EMWS8.Stat2_CHIMEASURE data=WORK.Stat2CHI2 force;
117411     run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: Appending WORK.STAT2CHI2 to EMWS8.STAT2_CHIMEASURE.
NOTE: BASE data set does not exist. DATA file is being copied to BASE file.
NOTE: There were 33 observations read from the data set WORK.STAT2CHI2.
NOTE: The data set EMWS8.STAT2_CHIMEASURE has 33 observations and 10 variables.
NOTE: PROCEDURE APPEND used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
117412     proc sort data=EMWS8.Stat2_VariableSet out=tempVariable(keep=name label role rename=(label=XLabel name=XVAR));
MPRINT(EM_DIAGRAM):    proc sort data=EMWS8.Stat2_VariableSet out=tempVariable(keep=name label role rename=(label=XLabel name=XVAR));
117413     by name;
MPRINT(EM_DIAGRAM):   by name;
117414     run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 36 observations read from the data set EMWS8.STAT2_VARIABLESET.
NOTE: The data set WORK.TEMPVARIABLE has 36 observations and 3 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
117415     proc sort data=EMWS8.Stat2_CHI2;
MPRINT(EM_DIAGRAM):   proc sort data=EMWS8.Stat2_CHI2;
117416     by XVAR;
MPRINT(EM_DIAGRAM):   by XVAR;
117417     run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 276 observations read from the data set EMWS8.STAT2_CHI2.
NOTE: The data set EMWS8.STAT2_CHI2 has 276 observations and 13 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
117418     data EMWS8.Stat2_CHI2;
MPRINT(EM_DIAGRAM):   data EMWS8.Stat2_CHI2;
117419     merge EMWS8.Stat2_CHI2(in=_a) tempVariable;
MPRINT(EM_DIAGRAM):   merge EMWS8.Stat2_CHI2(in=_a) tempVariable;
117420     by XVAR;
MPRINT(EM_DIAGRAM):   by XVAR;
117421     if XLabel = '' then XLabel=XVAR;
MPRINT(EM_DIAGRAM):   if XLabel = '' then XLabel=XVAR;
117422     if _a then output;
MPRINT(EM_DIAGRAM):   if _a then output;
117423     run;
MPRINT(EM_DIAGRAM):   run;
 
WARNING: Multiple lengths were specified for the BY variable XVAR by input data sets. This may cause unexpected results.
NOTE: There were 276 observations read from the data set EMWS8.STAT2_CHI2.
NOTE: There were 36 observations read from the data set WORK.TEMPVARIABLE.
NOTE: The data set EMWS8.STAT2_CHI2 has 276 observations and 15 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
117424     proc datasets library=EMWS8 nolist;
MPRINT(EM_DIAGRAM):   proc datasets library=EMWS8 nolist;
117425     modify Stat2_CHI2;
MPRINT(EM_DIAGRAM):   modify Stat2_CHI2;
MPRINT(EM_DIAGRAM):   label DATAROLE = "Data Role";
117426     label DATAROLE = "%sysfunc(sasmsg(sashelp.dmine,  rpt_datarole_vlabel, NOQUOTE))";
MPRINT(EM_DIAGRAM):   label SEGMENTVAR = "Segment";
117427     label SEGMENTVAR = "%sysfunc(sasmsg(sashelp.dmine, rpt_segment_vlabel,      NOQUOTE))";
MPRINT(EM_DIAGRAM):   label SEGMENTID = "Segment Name:Value";
117428     label SEGMENTID = "%sysfunc(sasmsg(sashelp.dmine, rpt_segmentnamevalue_vlabel,      NOQUOTE))";
MPRINT(EM_DIAGRAM):   label SegmentValue= "Segment Id";
117429     label SegmentValue= "%sysfunc(sasmsg(sashelp.dmine, rpt_segmentid_vlabel, NOQUOTE))";
MPRINT(EM_DIAGRAM):   label YVAR = "Target";
117430     label YVAR = "%sysfunc(sasmsg(sashelp.dmine, rpt_target_vlabel,         NOQUOTE))";
MPRINT(EM_DIAGRAM):   label XVAR = "Input";
117431     label XVAR = "%sysfunc(sasmsg(sashelp.dmine, rpt_input_vlabel,          NOQUOTE))";
MPRINT(EM_DIAGRAM):   label X = "Input: Numeric Value";
117432     label X = "%sysfunc(sasmsg(sashelp.dmine, rpt_inputNumValue_vlabel,  NOQUOTE))";
MPRINT(EM_DIAGRAM):   label Y = "Target: Numeric Value";
117433     label Y = "%sysfunc(sasmsg(sashelp.dmine, rpt_targetNumValue_vlabel, NOQUOTE))";
MPRINT(EM_DIAGRAM):   label XTEXT = "Input: Formatted Value";
117434     label XTEXT = "%sysfunc(sasmsg(sashelp.dmine, rpt_inputFmtValue_vlabel,  NOQUOTE))";
MPRINT(EM_DIAGRAM):   label YTEXT = "Target: Formatted Value";
117435     label YTEXT = "%sysfunc(sasmsg(sashelp.dmine, rpt_targetFmtValue_vlabel, NOQUOTE))";
MPRINT(EM_DIAGRAM):   label COUNT = "Frequency Count";
117436     label COUNT = "%sysfunc(sasmsg(sashelp.dmine, rpt_count_vlabel,          NOQUOTE))";
MPRINT(EM_DIAGRAM):   label CHISQUARE = "Chi-Square";
117437     label CHISQUARE = "%sysfunc(sasmsg(sashelp.dmine, rpt_chiSquare_vlabel,      NOQUOTE))";
MPRINT(EM_DIAGRAM):   label LOGCHISQUARE = "Log Chi Square";
117438     label LOGCHISQUARE = "%sysfunc(sasmsg(sashelp.dmine, rpt_logChiSquare_vlabel,   NOQUOTE))";
MPRINT(EM_DIAGRAM):   run;
117439     run;
 
NOTE: MODIFY was successful for EMWS8.STAT2_CHI2.DATA.
 
NOTE: PROCEDURE DATASETS used (Total process time):
      real time           0.09 seconds
      cpu time            0.09 seconds
 
 
117440     proc sort data=EMWS8.Stat2_VariableSet out=tempVariable(keep=name label role rename=(name=INPUT));
MPRINT(EM_DIAGRAM):   proc sort data=EMWS8.Stat2_VariableSet out=tempVariable(keep=name label role rename=(name=INPUT));
117441     by name;
MPRINT(EM_DIAGRAM):   by name;
117442     run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 36 observations read from the data set EMWS8.STAT2_VARIABLESET.
NOTE: The data set WORK.TEMPVARIABLE has 36 observations and 3 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
117443     proc sort data=EMWS8.Stat2_CHIMEASURE;
MPRINT(EM_DIAGRAM):   proc sort data=EMWS8.Stat2_CHIMEASURE;
117444     by INPUT;
MPRINT(EM_DIAGRAM):   by INPUT;
117445     run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 33 observations read from the data set EMWS8.STAT2_CHIMEASURE.
NOTE: The data set EMWS8.STAT2_CHIMEASURE has 33 observations and 10 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
117446     data EMWS8.Stat2_CHIMEASURE;
MPRINT(EM_DIAGRAM):   data EMWS8.Stat2_CHIMEASURE;
117447     merge EMWS8.Stat2_CHIMEASURE(in=_a) tempVariable;
MPRINT(EM_DIAGRAM):   merge EMWS8.Stat2_CHIMEASURE(in=_a) tempVariable;
117448     by INPUT;
MPRINT(EM_DIAGRAM):   by INPUT;
117449     if label = '' then label=INPUT;
MPRINT(EM_DIAGRAM):   if label = '' then label=INPUT;
117450     if _a then output;
MPRINT(EM_DIAGRAM):   if _a then output;
117451     run;
MPRINT(EM_DIAGRAM):   run;
 
WARNING: Multiple lengths were specified for the BY variable INPUT by input data sets. This may cause unexpected results.
NOTE: There were 33 observations read from the data set EMWS8.STAT2_CHIMEASURE.
NOTE: There were 36 observations read from the data set WORK.TEMPVARIABLE.
NOTE: The data set EMWS8.STAT2_CHIMEASURE has 33 observations and 12 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
117452     proc sort data=EMWS8.Stat2_CHIMEASURE NOTHREADS;
MPRINT(EM_DIAGRAM):   proc sort data=EMWS8.Stat2_CHIMEASURE NOTHREADS;
117453     by DATAROLE TARGET descending CRAMERV;
MPRINT(EM_DIAGRAM):   by DATAROLE TARGET descending CRAMERV;
117454     run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 33 observations read from the data set EMWS8.STAT2_CHIMEASURE.
NOTE: The data set EMWS8.STAT2_CHIMEASURE has 33 observations and 12 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
117455     data EMWS8.Stat2_CHIMEASURE;
MPRINT(EM_DIAGRAM):   data EMWS8.Stat2_CHIMEASURE;
117456     set EMWS8.Stat2_CHIMEASURE;
MPRINT(EM_DIAGRAM):   set EMWS8.Stat2_CHIMEASURE;
117457     label ORDEREDINPUTS = "%sysfunc(sasmsg(sashelp.dmine, rpt_orderedInput_vlabel  , NOQUOTE))" DATAROLE = "%sysfunc(sasmsg(sashelp.dmine,  rpt_datarole_vlabel, NOQUOTE))" SEGMENTID =
117458        "%sysfunc(sasmsg(sashelp.dmine, rpt_segmentnamevalue_vlabel,       NOQUOTE))" SegmentValue = "%sysfunc(sasmsg(sashelp.dmine, rpt_segmentid_vlabel, NOQUOTE))" SEGMENTVAR = "%sysfunc(sasmsg(sashelp.dmine, rpt_segment_vlabel,      NOQUOTE))";
MPRINT(EM_DIAGRAM):   label ORDEREDINPUTS = "Ordered Inputs" DATAROLE = "Data Role" SEGMENTID = "Segment Name:Value" SegmentValue = "Segment Id" SEGMENTVAR = "Segment";
117459     format ORDEREDINPUTS 5.0;
MPRINT(EM_DIAGRAM):   format ORDEREDINPUTS 5.0;
117460     retain ORDEREDINPUTS 0;
MPRINT(EM_DIAGRAM):   retain ORDEREDINPUTS 0;
117461     if first.DATAROLE or first.SEGMENTID or first.TARGET then ORDEREDINPUTS=1;
MPRINT(EM_DIAGRAM):   if first.DATAROLE or first.SEGMENTID or first.TARGET then ORDEREDINPUTS=1;
117462     else ORDEREDINPUTS+1;
MPRINT(EM_DIAGRAM):   else ORDEREDINPUTS+1;
117463     by DATAROLE SEGMENTID TARGET;
MPRINT(EM_DIAGRAM):   by DATAROLE SEGMENTID TARGET;
117464     run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 33 observations read from the data set EMWS8.STAT2_CHIMEASURE.
NOTE: The data set EMWS8.STAT2_CHIMEASURE has 33 observations and 13 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
117465     %let _cn = %sysfunc(getoption(CENTER));
117466     %let _nb = %sysfunc(getoption(NUMBER));
117467     options nonumber nocenter;
MPRINT(EM_DIAGRAM):   options nonumber nocenter;
117468     title;
MPRINT(EM_DIAGRAM):   title;
117469     proc print data=EMWS8.Stat2_CHIMEASURE(obs=500) label noobs;
MPRINT(EM_DIAGRAM):   proc print data=EMWS8.Stat2_CHIMEASURE(obs=500) label noobs;
117470     var INPUT CHIMEASURE DF PROB;
MPRINT(EM_DIAGRAM):   var INPUT CHIMEASURE DF PROB;
117471     label INPUT = "%sysfunc(sasmsg(sashelp.dmine, rpt_input_vlabel ,       NOQUOTE))" CHIMEASURE = "%sysfunc(sasmsg(sashelp.dmine, rpt_chisquare_vlabel,    NOQUOTE))" PROB = "%sysfunc(sasmsg(sashelp.dmine, rpt_probchi_vlabel ,     NOQUOTE))" DF =
117472        "%sysfunc(sasmsg(sashelp.dmine, rpt_df_vlabel ,          NOQUOTE))";
MPRINT(EM_DIAGRAM):   label INPUT = "Input" CHIMEASURE = "Chi-Square" PROB = "Prob" DF = "Df";
117473     by DATAROLE TARGET;
MPRINT(EM_DIAGRAM):   by DATAROLE TARGET;
117474     title9 "%sysfunc(sasmsg(sashelp.dmine, rpt_chisquareStats_title, NOQUOTE))";
MPRINT(EM_DIAGRAM):   title9 "Chi-Square Statistics";
117475     title10 "%sysfunc(sasmsg(sashelp.dmine, rpt_maxObsPrinted_title,  NOQUOTE))";
MPRINT(EM_DIAGRAM):   title10 "(maximum 500 observations printed)";
MPRINT(EM_DIAGRAM):   run;
117476     run;
 
NOTE: There were 33 observations read from the data set EMWS8.STAT2_CHIMEASURE.
NOTE: The PROCEDURE PRINT printed page 66.
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
117477     title10;
MPRINT(EM_DIAGRAM):   title10;
117478     options &_cn &_nb;
MPRINT(EM_DIAGRAM):   options NOCENTER NONUMBER;
117479     proc sort data=EMWS8.Stat2_CHIMEASURE out=trainChimeasure;
MPRINT(EM_DIAGRAM):   proc sort data=EMWS8.Stat2_CHIMEASURE out=trainChimeasure;
117480     by TARGET descending CramerV;
MPRINT(EM_DIAGRAM):   by TARGET descending CramerV;
117481     where DATAROLE='TRAIN';
MPRINT(EM_DIAGRAM):   where DATAROLE='TRAIN';
117482     run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 33 observations read from the data set EMWS8.STAT2_CHIMEASURE.
      WHERE DATAROLE='TRAIN';
NOTE: The data set WORK.TRAINCHIMEASURE has 33 observations and 13 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
117483     data trainChimeasure;
MPRINT(EM_DIAGRAM):   data trainChimeasure;
117484     set trainchimeasure;
MPRINT(EM_DIAGRAM):   set trainchimeasure;
117485     by TARGET;
MPRINT(EM_DIAGRAM):   by TARGET;
117486     retain groupcount 0;
MPRINT(EM_DIAGRAM):   retain groupcount 0;
117487     if first.Target then groupcount =1;
MPRINT(EM_DIAGRAM):   if first.Target then groupcount =1;
117488     else groupcount + 1;
MPRINT(EM_DIAGRAM):   else groupcount + 1;
117489     if groupcount<21 then Plot=1;
MPRINT(EM_DIAGRAM):   if groupcount<21 then Plot=1;
117490     else Plot = 0;
MPRINT(EM_DIAGRAM):   else Plot = 0;
117491     keep Target Input GroupCount Plot;
MPRINT(EM_DIAGRAM):   keep Target Input GroupCount Plot;
117492     run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 33 observations read from the data set WORK.TRAINCHIMEASURE.
NOTE: The data set WORK.TRAINCHIMEASURE has 33 observations and 4 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
117493     proc sort data=trainChiMeasure;
MPRINT(EM_DIAGRAM):   proc sort data=trainChiMeasure;
117494     by TARGET INPUT;
MPRINT(EM_DIAGRAM):   by TARGET INPUT;
117495     run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 33 observations read from the data set WORK.TRAINCHIMEASURE.
NOTE: The data set WORK.TRAINCHIMEASURE has 33 observations and 4 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
117496     proc sort data=EMWS8.Stat2_CHIMEASURE;
MPRINT(EM_DIAGRAM):   proc sort data=EMWS8.Stat2_CHIMEASURE;
117497     by TARGET INPUT;
MPRINT(EM_DIAGRAM):   by TARGET INPUT;
117498     run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 33 observations read from the data set EMWS8.STAT2_CHIMEASURE.
NOTE: The data set EMWS8.STAT2_CHIMEASURE has 33 observations and 13 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
117499     data EMWS8.Stat2_CHIMEASURE;
MPRINT(EM_DIAGRAM):   data EMWS8.Stat2_CHIMEASURE;
117500     merge EMWS8.Stat2_CHIMEASURE trainchimeasure;
MPRINT(EM_DIAGRAM):   merge EMWS8.Stat2_CHIMEASURE trainchimeasure;
117501     by TARGET INPUT;
MPRINT(EM_DIAGRAM):   by TARGET INPUT;
117502     label DATAROLE = "%sysfunc(sasmsg(sashelp.dmine,  rpt_datarole_vlabel, NOQUOTE))" Plot = "%sysfunc(sasmsg(sashelp.dmine, rpt_plot_vlabel,  NOQUOTE))" groupcount = "%sysfunc(sasmsg(sashelp.dmine, rpt_group_vlabel, NOQUOTE))";
MPRINT(EM_DIAGRAM):   label DATAROLE = "Data Role" Plot = "Plot" groupcount = "Group";
117503     run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 33 observations read from the data set EMWS8.STAT2_CHIMEASURE.
NOTE: There were 33 observations read from the data set WORK.TRAINCHIMEASURE.
NOTE: The data set EMWS8.STAT2_CHIMEASURE has 33 observations and 15 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
117504     proc sort data=EMWS8.Stat2_CLASS(drop=CRAW NRAW) NOTHREADS;
MPRINT(EM_DIAGRAM):    proc sort data=EMWS8.Stat2_CLASS(drop=CRAW NRAW) NOTHREADS;
117505     by DATAROLE TARGET VARIABLE LEVEL;
MPRINT(EM_DIAGRAM):   by DATAROLE TARGET VARIABLE LEVEL;
117506     where TARGET ne '_OVERALL_';
MPRINT(EM_DIAGRAM):   where TARGET ne '_OVERALL_';
117507     run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 48 observations read from the data set EMWS8.STAT2_CLASS.
      WHERE TARGET not = '_OVERALL_';
NOTE: The data set EMWS8.STAT2_CLASS has 48 observations and 12 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
117508     data WORK.Stat2tempDs(keep=DATAROLE target VARIABLE nobs);
MPRINT(EM_DIAGRAM):   data WORK.Stat2tempDs(keep=DATAROLE target VARIABLE nobs);
117509     retain nobs;
MPRINT(EM_DIAGRAM):   retain nobs;
117510     set EMWS8.Stat2_CLASS;
MPRINT(EM_DIAGRAM):   set EMWS8.Stat2_CLASS;
117511     by DATAROLE target VARIABLE;
MPRINT(EM_DIAGRAM):   by DATAROLE target VARIABLE;
117512     if first.DATAROLE or first.variable then nobs=count;
MPRINT(EM_DIAGRAM):   if first.DATAROLE or first.variable then nobs=count;
117513     else nobs = nobs + count;
MPRINT(EM_DIAGRAM):   else nobs = nobs + count;
117514     if last.DATAROLE or last.variable then output;
MPRINT(EM_DIAGRAM):   if last.DATAROLE or last.variable then output;
117515     run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 48 observations read from the data set EMWS8.STAT2_CLASS.
NOTE: The data set WORK.STAT2TEMPDS has 9 observations and 4 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
117516     data EMWS8.Stat2_CLASS(drop=NOBS);
MPRINT(EM_DIAGRAM):   data EMWS8.Stat2_CLASS(drop=NOBS);
117517     merge EMWS8.Stat2_CLASS(where=(TARGET ne '_OVERALL_') rename=(PERCENT=WITHINPCT)) WORK.Stat2tempDs;
MPRINT(EM_DIAGRAM):   merge EMWS8.Stat2_CLASS(where=(TARGET ne '_OVERALL_') rename=(PERCENT=WITHINPCT)) WORK.Stat2tempDs;
117518     label percent = "%sysfunc(sasmsg(sashelp.dmine, rpt_percent_vlabel,         NOQUOTE))" withinpct = "%sysfunc(sasmsg(sashelp.dmine, rpt_percentwithin_vlabel, NOQUOTE))";
MPRINT(EM_DIAGRAM):   label percent = "Percent" withinpct = "Percent Within";
117519     by DATAROLE TARGET VARIABLE;
MPRINT(EM_DIAGRAM):   by DATAROLE TARGET VARIABLE;
117520     if NOBS>0 then PERCENT=COUNT/NOBS;
MPRINT(EM_DIAGRAM):   if NOBS>0 then PERCENT=COUNT/NOBS;
117521     run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 48 observations read from the data set EMWS8.STAT2_CLASS.
      WHERE TARGET not = '_OVERALL_';
NOTE: There were 9 observations read from the data set WORK.STAT2TEMPDS.
NOTE: The data set EMWS8.STAT2_CLASS has 48 observations and 13 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
117522     proc sort data=EMWS8.Stat2_CHIMEASURE out=WORK.Stat2cutoff(RENAME=(INPUT=VARIABLE) keep=DATAROLE TARGET INPUT PLOT);
MPRINT(EM_DIAGRAM):    proc sort data=EMWS8.Stat2_CHIMEASURE out=WORK.Stat2cutoff(RENAME=(INPUT=VARIABLE) keep=DATAROLE TARGET INPUT PLOT);
117523     by DATAROLE TARGET INPUT;
MPRINT(EM_DIAGRAM):   by DATAROLE TARGET INPUT;
117524     run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 33 observations read from the data set EMWS8.STAT2_CHIMEASURE.
NOTE: The data set WORK.STAT2CUTOFF has 33 observations and 4 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
117525     data EMWS8.Stat2_CLASS;
MPRINT(EM_DIAGRAM):   data EMWS8.Stat2_CLASS;
117526     drop groupcount;
MPRINT(EM_DIAGRAM):   drop groupcount;
117527     retain groupcount 0;
MPRINT(EM_DIAGRAM):   retain groupcount 0;
117528     merge EMWS8.Stat2_CLASS(in=_a) WORK.Stat2cutoff;
MPRINT(EM_DIAGRAM):   merge EMWS8.Stat2_CLASS(in=_a) WORK.Stat2cutoff;
117529     if _a then do;
MPRINT(EM_DIAGRAM):   if _a then do;
117530     plot=1;
MPRINT(EM_DIAGRAM):   plot=1;
117531     groupcount+1;
MPRINT(EM_DIAGRAM):   groupcount+1;
117532     end;
MPRINT(EM_DIAGRAM):   end;
117533     if groupcount>21 then plot=0;
MPRINT(EM_DIAGRAM):   if groupcount>21 then plot=0;
117534     by DATAROLE Target Variable;
MPRINT(EM_DIAGRAM):   by DATAROLE Target Variable;
117535     if PERCENT eq . or plot = . then delete;
MPRINT(EM_DIAGRAM):   if PERCENT eq . or plot = . then delete;
117536     label DATAROLE = "%sysfunc(sasmsg(sashelp.dmine,  rpt_datarole_vlabel, NOQUOTE))" LEVEL = "%sysfunc(sasmsg(sashelp.dmine, rpt_level_vlabel,          NOQUOTE))" TYPE = "%sysfunc(sasmsg(sashelp.dmine, rpt_type_vlabel,           NOQUOTE))" COUNT =
117537        "%sysfunc(sasmsg(sashelp.dmine, rpt_count_vlabel,          NOQUOTE))" ROLE = "%sysfunc(sasmsg(sashelp.dmine, meta_role_vlabel,          NOQUOTE))" LEVELINDEX = "%sysfunc(sasmsg(sashelp.dmine, rpt_levelIndex_vlabel,     NOQUOTE))";
MPRINT(EM_DIAGRAM):   label DATAROLE = "Data Role" LEVEL = "Level" TYPE = "Type" COUNT = "Frequency Count" ROLE = "Role" LEVELINDEX = "Level Index";
117538     run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 48 observations read from the data set EMWS8.STAT2_CLASS.
NOTE: There were 33 observations read from the data set WORK.STAT2CUTOFF.
NOTE: The data set EMWS8.STAT2_CLASS has 48 observations and 14 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
117539     proc sort data=EMWS8.Stat2_CHIMEASURE;
MPRINT(EM_DIAGRAM):    proc sort data=EMWS8.Stat2_CHIMEASURE;
117540     by DATAROLE ORDEREDINPUTS;
MPRINT(EM_DIAGRAM):   by DATAROLE ORDEREDINPUTS;
117541     run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 33 observations read from the data set EMWS8.STAT2_CHIMEASURE.
NOTE: The data set EMWS8.STAT2_CHIMEASURE has 33 observations and 15 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
117542     data WORK.Stat2INTERVALPLOT(drop=TARGET N MIN NMISS P50 MAX TARGETVALUE rename=(Mean=OMean));
MPRINT(EM_DIAGRAM):    data WORK.Stat2INTERVALPLOT(drop=TARGET N MIN NMISS P50 MAX TARGETVALUE rename=(Mean=OMean));
117543     set EMWS8.Stat2_INTERVAL;
MPRINT(EM_DIAGRAM):   set EMWS8.Stat2_INTERVAL;
117544     where TARGET='_OVERALL_';
MPRINT(EM_DIAGRAM):   where TARGET='_OVERALL_';
117545     run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 24 observations read from the data set EMWS8.STAT2_INTERVAL.
      WHERE TARGET='_OVERALL_';
NOTE: The data set WORK.STAT2INTERVALPLOT has 24 observations and 8 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
117546     data EMWS8.Stat2_INTERVAL(drop=OMean);
MPRINT(EM_DIAGRAM):   data EMWS8.Stat2_INTERVAL(drop=OMean);
117547     merge EMWS8.Stat2_INTERVAL(where=(TARGET ne '_OVERALL_')) WORK.Stat2INTERVALPLOT;
MPRINT(EM_DIAGRAM):   merge EMWS8.Stat2_INTERVAL(where=(TARGET ne '_OVERALL_')) WORK.Stat2INTERVALPLOT;
117548     by DATAROLE Variable;
MPRINT(EM_DIAGRAM):   by DATAROLE Variable;
117549     if OMean ne 0 then ScaleDevMean = (Mean - OMean)/OMean;
MPRINT(EM_DIAGRAM):   if OMean ne 0 then ScaleDevMean = (Mean - OMean)/OMean;
117550     run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 48 observations read from the data set EMWS8.STAT2_INTERVAL.
      WHERE TARGET not = '_OVERALL_';
NOTE: There were 24 observations read from the data set WORK.STAT2INTERVALPLOT.
NOTE: The data set EMWS8.STAT2_INTERVAL has 48 observations and 16 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
117551     proc sort data=EMWS8.Stat2_INTERVAL NOTHREADS;
MPRINT(EM_DIAGRAM):   proc sort data=EMWS8.Stat2_INTERVAL NOTHREADS;
117552     by DATAROLE Variable Target;
MPRINT(EM_DIAGRAM):   by DATAROLE Variable Target;
117553     run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 48 observations read from the data set EMWS8.STAT2_INTERVAL.
NOTE: The data set EMWS8.STAT2_INTERVAL has 48 observations and 16 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
117554     data WORK.Stat2MAXINTERVAL(keep=DATAROLE Target Variable MaxDev);
MPRINT(EM_DIAGRAM):   data WORK.Stat2MAXINTERVAL(keep=DATAROLE Target Variable MaxDev);
117555     set EMWS8.Stat2_INTERVAL;
MPRINT(EM_DIAGRAM):   set EMWS8.Stat2_INTERVAL;
117556     if first.DATAROLE or first.Variable then MaxDev = abs(ScaleDevMean);
MPRINT(EM_DIAGRAM):   if first.DATAROLE or first.Variable then MaxDev = abs(ScaleDevMean);
117557     else if abs(ScaleDevMean)>MaxDev then MaxDev = abs(ScaleDevMean);
MPRINT(EM_DIAGRAM):   else if abs(ScaleDevMean)>MaxDev then MaxDev = abs(ScaleDevMean);
117558     if last.datarole or last.variable or last.target then output;
MPRINT(EM_DIAGRAM):   if last.datarole or last.variable or last.target then output;
117559     by DATAROLE Variable Target;
MPRINT(EM_DIAGRAM):   by DATAROLE Variable Target;
117560     run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 48 observations read from the data set EMWS8.STAT2_INTERVAL.
NOTE: The data set WORK.STAT2MAXINTERVAL has 24 observations and 4 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
117561     data EMWS8.Stat2_INTERVAL;
MPRINT(EM_DIAGRAM):   data EMWS8.Stat2_INTERVAL;
117562     merge EMWS8.Stat2_INTERVAL WORK.Stat2MAXINTERVAL;
MPRINT(EM_DIAGRAM):   merge EMWS8.Stat2_INTERVAL WORK.Stat2MAXINTERVAL;
117563     label LevelId = "%sysfunc(sasmsg(sashelp.dmine, rpt_levelId_vlabel,             NOQUOTE))" Variable = "%sysfunc(sasmsg(sashelp.dmine, rpt_variable_vlabel,            NOQUOTE))" MaxDev =
117564        "%sysfunc(sasmsg(sashelp.dmine, rpt_maxdev_vlabel,              NOQUOTE))" ScaleDevMean = "%sysfunc(sasmsg(sashelp.dmine, rpt_scaledMeanDeviation_vlabel, NOQUOTE))";
MPRINT(EM_DIAGRAM):   label LevelId = "Level Id" Variable = "Variable" MaxDev = "Maximum Deviation" ScaleDevMean = "Scaled Mean Deviation";
117565     format LevelId best3.;
MPRINT(EM_DIAGRAM):   format LevelId best3.;
117566     retain LevelId 0;
MPRINT(EM_DIAGRAM):   retain LevelId 0;
117567     by DATAROLE Variable Target;
MPRINT(EM_DIAGRAM):   by DATAROLE Variable Target;
117568     if first.DATAROLE or first.Target then LevelId=1;
MPRINT(EM_DIAGRAM):   if first.DATAROLE or first.Target then LevelId=1;
117569     else LevelId + 1;
MPRINT(EM_DIAGRAM):   else LevelId + 1;
117570     run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 48 observations read from the data set EMWS8.STAT2_INTERVAL.
NOTE: There were 24 observations read from the data set WORK.STAT2MAXINTERVAL.
NOTE: The data set EMWS8.STAT2_INTERVAL has 48 observations and 18 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
117571     proc sort data=EMWS8.Stat2_INTERVAL NOTHREADS;
MPRINT(EM_DIAGRAM):   proc sort data=EMWS8.Stat2_INTERVAL NOTHREADS;
117572     by DATAROLE Target descending MaxDev Variable LevelId;
MPRINT(EM_DIAGRAM):   by DATAROLE Target descending MaxDev Variable LevelId;
117573     run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 48 observations read from the data set EMWS8.STAT2_INTERVAL.
NOTE: The data set EMWS8.STAT2_INTERVAL has 48 observations and 18 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
117574     proc sort data=WORK.M0DC9VM3;
MPRINT(EM_DIAGRAM):    proc sort data=WORK.M0DC9VM3;
117575     by name;
MPRINT(EM_DIAGRAM):   by name;
117576     run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: Input data set is already sorted, no sorting done.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
117577     proc sort data=EMWS8.Stat2_WORTH;
MPRINT(EM_DIAGRAM):    proc sort data=EMWS8.Stat2_WORTH;
117578     by NAME;
MPRINT(EM_DIAGRAM):   by NAME;
117579     run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 33 observations read from the data set EMWS8.STAT2_WORTH.
NOTE: The data set EMWS8.STAT2_WORTH has 33 observations and 5 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
117580     data EMWS8.Stat2_WORTH;
MPRINT(EM_DIAGRAM):   data EMWS8.Stat2_WORTH;
117581     merge EMWS8.Stat2_WORTH(in=_a) WORK.M0DC9VM3(Keep=NAME LABEL REPORT);
MPRINT(EM_DIAGRAM):   merge EMWS8.Stat2_WORTH(in=_a) WORK.M0DC9VM3(Keep=NAME LABEL REPORT);
117582     by NAME;
MPRINT(EM_DIAGRAM):   by NAME;
117583     if REPORT = 'Y' then plot = 1;
MPRINT(EM_DIAGRAM):   if REPORT = 'Y' then plot = 1;
117584     if LABEL = "" then LABEL = NAME;
MPRINT(EM_DIAGRAM):   if LABEL = "" then LABEL = NAME;
117585     if _a then output;
MPRINT(EM_DIAGRAM):   if _a then output;
117586     drop report;
MPRINT(EM_DIAGRAM):   drop report;
117587     run;
MPRINT(EM_DIAGRAM):   run;
 
WARNING: Multiple lengths were specified for the BY variable Name by input data sets. This may cause unexpected results.
NOTE: There were 33 observations read from the data set EMWS8.STAT2_WORTH.
NOTE: There were 36 observations read from the data set WORK.M0DC9VM3.
NOTE: The data set EMWS8.STAT2_WORTH has 33 observations and 7 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
117588     proc sort data=EMWS8.Stat2_WORTH;
MPRINT(EM_DIAGRAM):   proc sort data=EMWS8.Stat2_WORTH;
117589     by rank;
MPRINT(EM_DIAGRAM):   by rank;
117590     run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 33 observations read from the data set EMWS8.STAT2_WORTH.
NOTE: The data set EMWS8.STAT2_WORTH has 33 observations and 7 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
MPRINT(EM_DIAGRAM):    proc printto;
MPRINT(EM_DIAGRAM):   run;
MPRINT(EM_DIAGRAM):    data _null_;
MPRINT(EM_DIAGRAM):   call symput('NLDATE', strip(put(date(), NLDATE.)));
MPRINT(EM_DIAGRAM):   call symput('NLTIME', strip(put(datetime(), NLTIME.)));
MPRINT(EM_DIAGRAM):   run;
MPRINT(EM_DIAGRAM):   data _null_;
MPRINT(EM_DIAGRAM):   nldate= sasmsg("sashelp.dmine", "log_date_note", 'N', "19. April 2016" );
MPRINT(EM_DIAGRAM):   nltime= sasmsg("sashelp.dmine", "log_time_note", 'N', "17.21 Uhr" );
MPRINT(EM_DIAGRAM):   put "*------------------------------------------------------------*";
MPRINT(EM_DIAGRAM):   put "* Score Log";
MPRINT(EM_DIAGRAM):   put nldate;
MPRINT(EM_DIAGRAM):   put nltime;
MPRINT(EM_DIAGRAM):   put "*------------------------------------------------------------*";
MPRINT(EM_DIAGRAM):   run;
*------------------------------------------------------------*
* Score Log
Date:                19. April 2016
Time:                17.21 Uhr
*------------------------------------------------------------*
MPRINT(EM_DIAGRAM):    filename O2HXGRU3 "C:\\predictive-models-project\Workspaces\EMWS8\Stat2\EMSCORE.out" encoding="UTF-8" NOBOM;
MPRINT(EM_DIAGRAM):   proc printto print=O2HXGRU3 new;
MPRINT(EM_DIAGRAM):   run;
117692     *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):    *------------------------------------------------------------*;
117693     * Stat2: Scoring DATA data;
MPRINT(EM_DIAGRAM):   * Stat2: Scoring DATA data;
117694     *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
117695     data EMWS8.Stat2_TRAIN
117696     / view=EMWS8.Stat2_TRAIN
117697     ;
MPRINT(EM_DIAGRAM):   data EMWS8.Stat2_TRAIN / view=EMWS8.Stat2_TRAIN ;
117698     set EMWS8.Part_TRAIN
117699     ;
MPRINT(EM_DIAGRAM):   set EMWS8.Part_TRAIN ;
117700     run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: DATA STEP view saved on file EMWS8.STAT2_TRAIN.
NOTE: A stored DATA STEP view cannot run under a different operating system.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
MPRINT(EM_DIAGRAM):   quit;
117701     quit;
 
117702     *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):    *------------------------------------------------------------*;
117703     * Stat2: Scoring VALIDATE data;
MPRINT(EM_DIAGRAM):   * Stat2: Scoring VALIDATE data;
117704     *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
117705     data EMWS8.Stat2_VALIDATE
117706     / view=EMWS8.Stat2_VALIDATE
117707     ;
MPRINT(EM_DIAGRAM):   data EMWS8.Stat2_VALIDATE / view=EMWS8.Stat2_VALIDATE ;
117708     set EMWS8.Part_VALIDATE
117709     ;
MPRINT(EM_DIAGRAM):   set EMWS8.Part_VALIDATE ;
117710     run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: DATA STEP view saved on file EMWS8.STAT2_VALIDATE.
NOTE: A stored DATA STEP view cannot run under a different operating system.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
MPRINT(EM_DIAGRAM):   quit;
117711     quit;
 
117712     *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):    *------------------------------------------------------------*;
117713     * Stat2: Computing metadata for TRAIN data;
MPRINT(EM_DIAGRAM):   * Stat2: Computing metadata for TRAIN data;
117714     *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
 
NOTE: View EMWS8.STAT2_TRAIN.VIEW used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
MPRINT(EM_DIAGRAM):    *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   * &nodeid: Computing Metadata for TRAIN data;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   filename _delta "C:\\predictive-models-project\Workspaces\EMWS8\Stat2\CDELTA_TRAIN.sas";
MPRINT(EMADVISECOLUMNS):   proc display c=sashelp.emmeta.advisecolumns.scl;
MPRINT(EMADVISECOLUMNS):   run;
MPRINT(EMADVISECOLUMNS):    options validvarname=any;
MPRINT(EMADVISECOLUMNS):   proc contents data=EMWS8.Stat2_TRAIN out=_tempAdvisor noprint;
MPRINT(EMADVISECOLUMNS):   run;
MPRINT(EMADVISECOLUMNS):   options validvarname=V7;
MPRINT(EMADVISECOLUMNS):    data _null_;
MPRINT(EMADVISECOLUMNS):   dsid = open('EMWS8.Stat2_TRAIN');
MPRINT(EMADVISECOLUMNS):   call symput('_dsidTable', strip(put(dsid, best.)));
MPRINT(EMADVISECOLUMNS):   if dsid then do;
MPRINT(EMADVISECOLUMNS):   call symput('_engineTable', attrc(dsid, 'ENGINE'));
MPRINT(EMADVISECOLUMNS):   dsid = close(dsid);
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   run;
MPRINT(EMADVISECOLUMNS):    proc contents data=EMWS8.Stat2_TRAIN out=WORK.M0YXSPLY noprint;
MPRINT(EMADVISECOLUMNS):   run;
MPRINT(EMADVISECOLUMNS):    data WORK.M0YXSPLY;
MPRINT(EMADVISECOLUMNS):   length NAME $ 64 TYPE $ 1 LABEL $ 200 FORMAT $ 20 INFORMAT $20 INDEX $ 1 INDEXTYPE $ 9;
MPRINT(EMADVISECOLUMNS):   label NAME =;
MPRINT(EMADVISECOLUMNS):   set WORK.M0YXSPLY(keep=name type length label format formatl formatd informat informl informd idxusage rename=(type=itype));
MPRINT(EMADVISECOLUMNS):   if itype = 1 then type = 'N';
MPRINT(EMADVISECOLUMNS):   else type = 'C';
MPRINT(EMADVISECOLUMNS):   if formatl > 0 then do;
MPRINT(EMADVISECOLUMNS):   if format ne ' ' then format = strip(format)!!strip(put(formatl, best12.))!!'.'!!strip(put(formatd, best12.));
MPRINT(EMADVISECOLUMNS):   else format = strip(put(formatl, best12.))!!'.'!!strip(put(formatd, best12.));
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   else if format ne '' then format = strip(format)!!'.';
MPRINT(EMADVISECOLUMNS):   if informl > 0 then do;
MPRINT(EMADVISECOLUMNS):   if informat ne ' ' then informat = strip(informat)!!strip(put(informl, best12.))!!'.'!!strip(put(informd, best12.));
MPRINT(EMADVISECOLUMNS):   else informat = strip(put(informl, best12.))!!'.'!!strip(put(informd, best12.));
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   else if informat ne '' then informat = strip(informat)!!'.';
MPRINT(EMADVISECOLUMNS):   if idxusage = 'NONE' then index ="N";
MPRINT(EMADVISECOLUMNS):   else index = "Y";
MPRINT(EMADVISECOLUMNS):   indextype = idxusage;
MPRINT(EMADVISECOLUMNS):   drop idxusage itype formatl formatd informl informd;
MPRINT(EMADVISECOLUMNS):   run;
MPRINT(EMADVISECOLUMNS):    data WORK.M0YXSPLY;
MPRINT(EMADVISECOLUMNS):   length UNAME $64;
MPRINT(EMADVISECOLUMNS):   set WORK.M0YXSPLY;
MPRINT(EMADVISECOLUMNS):   UNAME = upcase(NAME);
MPRINT(EMADVISECOLUMNS):   run;
MPRINT(EMADVISECOLUMNS):    proc sort data=WORK.M21H8F2Y NOTHREADS;
MPRINT(EMADVISECOLUMNS):   by UNAME;
MPRINT(EMADVISECOLUMNS):   run;
MPRINT(EMADVISECOLUMNS):    data WORK.M21H8F2Y;
MPRINT(EMADVISECOLUMNS):   drop UNAME;
MPRINT(EMADVISECOLUMNS):   set WORK.M21H8F2Y;
MPRINT(EMADVISECOLUMNS):   run;
MPRINT(EMADVISECOLUMNS):    data WORK.M1FAHWJE(keep=NAME ATTR);
MPRINT(EMADVISECOLUMNS):   length ATTR $ 20;
MPRINT(EMADVISECOLUMNS):   set WORK.M21H8F2Y;
MPRINT(EMADVISECOLUMNS):   if level ne "INTERVAL" then do;
MPRINT(EMADVISECOLUMNS):   if order = ' ' then do;
MPRINT(EMADVISECOLUMNS):   attr = 'ORDER';
MPRINT(EMADVISECOLUMNS):   output;
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   if format ne ' ' and formattype = ' ' then do;
MPRINT(EMADVISECOLUMNS):   attr = 'FORMATTYPE';
MPRINT(EMADVISECOLUMNS):   output;
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   if role = ' ' then do;
MPRINT(EMADVISECOLUMNS):   attr = 'ROLE';
MPRINT(EMADVISECOLUMNS):   output;
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   if level = ' ' then do;
MPRINT(EMADVISECOLUMNS):   attr = 'LEVEL';
MPRINT(EMADVISECOLUMNS):   output;
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   if type = ' ' then do;
MPRINT(EMADVISECOLUMNS):   attr = 'TYPE';
MPRINT(EMADVISECOLUMNS):   output;
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   if index = ' ' then do;
MPRINT(EMADVISECOLUMNS):   attr = 'INDEX';
MPRINT(EMADVISECOLUMNS):   output;
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   if report = ' ' then do;
MPRINT(EMADVISECOLUMNS):   attr = 'REPORT';
MPRINT(EMADVISECOLUMNS):   output;
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   run;
MPRINT(EMADVISECOLUMNS):   proc sort NOTHREADS;
MPRINT(EMADVISECOLUMNS):   by attr;
MPRINT(EMADVISECOLUMNS):   run;
MPRINT(EMADVISECOLUMNS):    data WORK.M21H8F2Y;
MPRINT(EMADVISECOLUMNS):   length NAME $64 ROLE $ 32 LEVEL $ 10 ORDER $ 8 CREATOR $32 FORMATTYPE $ 10 FAMILY $ 10 LOWERLIMIT 8 UPPERLIMIT 8 REPORT $1 DISTRIBUTION $ 20 COMMENT $64;
MPRINT(EMADVISECOLUMNS):   length levelAssigned 8 roleAssigned 8 PRICE 8;
MPRINT(EMADVISECOLUMNS):   set WORK.M21H8F2Y;
MPRINT(EMADVISECOLUMNS):   if formattype = ' ' then do;
MPRINT(EMADVISECOLUMNS):   if format ne ' ' then do;
MPRINT(EMADVISECOLUMNS):   if type = 'N' then do;
MPRINT(EMADVISECOLUMNS):   pos = indexc(format,'.1234567890');
MPRINT(EMADVISECOLUMNS):   if pos > 1 then tempfmt = substr(format,1, pos-1);
MPRINT(EMADVISECOLUMNS):   else tempfmt = ' ';
MPRINT(EMADVISECOLUMNS):   flen = length(tempfmt);
MPRINT(EMADVISECOLUMNS):   select;
MPRINT(EMADVISECOLUMNS):   when(tempfmt in ("DATE" "DAY" "DDMMYY" "DOWNAME" "JULDAY" "JULIAN" "MMDDYY" "MMDDYYD" "MMDDYYC" "MMDDYYN" "MMDDYYP" "MMDDYYS" "MONNAME" "MONTH" "MONYY" "NENGO" "QTR" "QTRR" "WEEKDATE" "WEEKDATX" "WEEKDAY" "WORDDATE" "WORDDATX"
"YEAR" "YYMMDD" "YYMON" "YYMMDDC" "YYMMDDD" "YYMMDDN" "YYMMDDP" "YYMMDDS" "EURDFDE" "NJDATE" "NLDATE" "EURDFDD" "EURDFDWN" "EURDFMN" "EURDFMY" "EURDFWK" "EURDFWKX" "EURDFWDX" "EURDFDN" "EURDFDE" )) formattype = 'DATE';
MPRINT(EMADVISECOLUMNS):   when(tempfmt in ("DATETIME" "EURDFDT" "TOD" )) formattype = "DATETIME";
MPRINT(EMADVISECOLUMNS):   when(tempfmt in ("HHMM" "HOUR" "MMSS" "TIME" "TIMEAMPM" )) formattype = "TIME";
MPRINT(EMADVISECOLUMNS):   when(tempfmt in ("COMMA" "COMMAX" "DOLLAR" "DOLLARX" "E" "FRACT" "NEGPAREN" "PERCENT")) formattype="QUANTITY";
MPRINT(EMADVISECOLUMNS):   when(tempfmt in ("BINARY" "HEX" "IB" "OCTAL" "PD" "PIB" "PK" "RB" "SSN" "Z" "ZD")) formattype = "CODING";
MPRINT(EMADVISECOLUMNS):   otherwise do;
MPRINT(EMADVISECOLUMNS):   formattype = "USER";
MPRINT(EMADVISECOLUMNS):   if substr(tempfmt, 1, 6)='NLDATE' then formattype = "DATE";
MPRINT(EMADVISECOLUMNS):   else if substr(tempfmt, 1, 6)='NLDATM' then formattype = "DATETIME";
MPRINT(EMADVISECOLUMNS):   else if substr(tempfmt, 1, 4)='NLTIM' then formattype = "TIME";
MPRINT(EMADVISECOLUMNS):   else if flen >= 4 then do;
MPRINT(EMADVISECOLUMNS):   str = substr(tempfmt,1,4);
MPRINT(EMADVISECOLUMNS):   if str in ("MMYY" "YYMM" "YYQR") then formattype ="DATE";
MPRINT(EMADVISECOLUMNS):   else if str = "S370" then formattype = "CODING";
MPRINT(EMADVISECOLUMNS):   else if str = "BEST" then formattype = "NUM";
MPRINT(EMADVISECOLUMNS):   drop str;
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   else if flen >=3 and substr(tempfmt,1,3) = "YYQ" then formatType = "DATE";
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   drop flen tempfmt pos;
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   else do;
MPRINT(EMADVISECOLUMNS):   formatType = "CATEGORY";
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   if formatType = "NUM" then do;
MPRINT(EMADVISECOLUMNS):   if index = "Y" then formatType = "DISCRETE";
MPRINT(EMADVISECOLUMNS):   else formatType = "QUANTITY";
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   if level = ' ' then do;
MPRINT(EMADVISECOLUMNS):   if formatType in ("CATEGORY", "CODING", "ID") or type = "C" then level = "NOMINAL";
MPRINT(EMADVISECOLUMNS):   else level = "INTERVAL";
MPRINT(EMADVISECOLUMNS):   levelAssigned = 1;
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   else level = upcase(level);
MPRINT(EMADVISECOLUMNS):   if role = ' ' then do;
MPRINT(EMADVISECOLUMNS):   length name_prefix $8 _uname $64;
MPRINT(EMADVISECOLUMNS):   drop name_prefix _uname _freqflag;
MPRINT(EMADVISECOLUMNS):   retain _freqflag;
MPRINT(EMADVISECOLUMNS):   if LENGTH> 80 then ROLE = 'TEXT';
MPRINT(EMADVISECOLUMNS):   _uname = upcase(NAME);
MPRINT(EMADVISECOLUMNS):   select(_uname);
MPRINT(EMADVISECOLUMNS):   when('_WARN_') ROLE = 'ASSESS';
MPRINT(EMADVISECOLUMNS):   when('EM_SEGMENT') do;
MPRINT(EMADVISECOLUMNS):   ROLE = 'SEGMENT';
MPRINT(EMADVISECOLUMNS):   LEVEL = 'NOMINAL';
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   when('_NODE_') do;
MPRINT(EMADVISECOLUMNS):   ROLE = 'SEGMENT';
MPRINT(EMADVISECOLUMNS):   LEVEL = 'NOMINAL';
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   when('EM_CLASSTARGET') ROLE = 'ASSESS';
MPRINT(EMADVISECOLUMNS):   when('EM_VALUETARGET') ROLE = 'ASSESS';
MPRINT(EMADVISECOLUMNS):   when('EM_PREDICTION') ROLE = 'PREDICT';
MPRINT(EMADVISECOLUMNS):   when('EM_PROBABILITY') ROLE = 'PREDICT';
MPRINT(EMADVISECOLUMNS):   when('EM_EVENTPROBABILITY') ROLE = 'PREDICT';
MPRINT(EMADVISECOLUMNS):   when('EM_CLASSIFICATION') ROLE = 'CLASSIFICATION';
MPRINT(EMADVISECOLUMNS):   when('EM_DECISION') ROLE = 'DECISION';
MPRINT(EMADVISECOLUMNS):   when('EM_PROFIT') ROLE = 'ASSESS';
MPRINT(EMADVISECOLUMNS):   when('EM_LOSS') ROLE = 'ASSESS';
MPRINT(EMADVISECOLUMNS):   when('EM_ROI') ROLE = 'ASSESS';
MPRINT(EMADVISECOLUMNS):   when('URI') ROLE = 'URL';
MPRINT(EMADVISECOLUMNS):   when('FILTERED') ROLE = 'TEXTLOC';
MPRINT(EMADVISECOLUMNS):   otherwise do;
MPRINT(EMADVISECOLUMNS):   if upcase(NAME) =: 'ZIP' then do;
MPRINT(EMADVISECOLUMNS):   ROLE = 'REJECTED';
MPRINT(EMADVISECOLUMNS):   LEVEL = 'NOMINAL';
MPRINT(EMADVISECOLUMNS):   COMMENT = 'Rejected by: Exceed the maximum class level of %s';
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   else if upcase(NAME) in('FREQ', 'FREQUENCY') then do;
MPRINT(EMADVISECOLUMNS):   ROLE = 'FREQ';
MPRINT(EMADVISECOLUMNS):   if TYPE = 'C' then ROLE = 'INPUT';
MPRINT(EMADVISECOLUMNS):   else if _freqflag =1 then ROLE='REJECTED';
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   else do;
MPRINT(EMADVISECOLUMNS):   name_prefix = scan(_uname, 1, '_');
MPRINT(EMADVISECOLUMNS):   if scan(_uname, 2, '_') = '' then name_prefix='';
MPRINT(EMADVISECOLUMNS):   if name_prefix in('F', 'I', 'U') then do;
MPRINT(EMADVISECOLUMNS):   ROLE = 'CLASSIFICATION';
MPRINT(EMADVISECOLUMNS):   LEVEL = 'NOMINAL';
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   else if name_prefix in('P', 'V') then ROLE = 'PREDICT';
MPRINT(EMADVISECOLUMNS):   else if name_prefix in('R', 'RS', 'RT', 'RD', 'RDS', 'RDT', 'RA', 'RAS', 'RAT') then ROLE = 'RESIDUAL';
MPRINT(EMADVISECOLUMNS):   else if name_prefix ='D' then do;
MPRINT(EMADVISECOLUMNS):   ROLE = 'DECISION';
MPRINT(EMADVISECOLUMNS):   LEVEL = 'NOMINAL';
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   else if name_prefix ='B' then do;
MPRINT(EMADVISECOLUMNS):   ROLE = 'SEGMENT';
MPRINT(EMADVISECOLUMNS):   LEVEL = 'NOMINAL';
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   else if name_prefix in('EP', 'BP', 'CP', 'EL', 'CL', 'BL', 'W', 'ROI', 'IC') then ROLE = 'ASSESS';
MPRINT(EMADVISECOLUMNS):   else do;
MPRINT(EMADVISECOLUMNS):   array _ROLE_ (19) $32 _TEMPORARY_ ('ASSESS','CLASSIFICATION','CENSOR', 'COST', 'CROSSID', 'DECISION', 'ID','INPUT', 'LABEL', 'MISSING','PREDICT','REFERRER','REJECTED', 'RESIDUAL','SEGMENT', 'SEQUENCE','TARGET', 'TEXT', 'TIMEID');
MPRINT(EMADVISECOLUMNS):   drop _found_ i;
MPRINT(EMADVISECOLUMNS):   _found_=0;
MPRINT(EMADVISECOLUMNS):   do i=1 to 19 until(_found_=1);
MPRINT(EMADVISECOLUMNS):   if index(_uname, trim(_ROLE_{i}))=1 then do;
MPRINT(EMADVISECOLUMNS):   ROLE=_ROLE_{i};
MPRINT(EMADVISECOLUMNS):   if ROLE = 'ID' then LEVEL = 'NOMINAL';
MPRINT(EMADVISECOLUMNS):   else if ROLE = 'SEGMENT' then LEVEL = 'NOMINAL';
MPRINT(EMADVISECOLUMNS):   else if ROLE = 'TIMEID' and TYPE='N' then LEVEL = 'INTERVAL';
MPRINT(EMADVISECOLUMNS):   _found_=1;
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   if length(_uname)>2 then do;
MPRINT(EMADVISECOLUMNS):   if substr(reverse(trim(_uname)), 1, 3) = 'DI_' then do;
MPRINT(EMADVISECOLUMNS):   ROLE = 'ID';
MPRINT(EMADVISECOLUMNS):   LEVEL = 'NOMINAL';
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   if ROLE='FREQ' then _freqflag=1;
MPRINT(EMADVISECOLUMNS):   else if ROLE = 'CLASSIFICATION' then LEVEL = 'NOMINAL';
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   if role = ' ' then do;
MPRINT(EMADVISECOLUMNS):   if formattype in('DATE', 'DATETIME', 'TIME') then role = 'TIMEID';
MPRINT(EMADVISECOLUMNS):   else role = 'INPUT';
MPRINT(EMADVISECOLUMNS):   roleAssigned = 1;
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   else role = upcase(role);
MPRINT(EMADVISECOLUMNS):   if REPORT = '' then REPORT = 'N';
MPRINT(EMADVISECOLUMNS):   run;
MPRINT(EMADVISECOLUMNS):    data WORK.M21H8F2Y;
MPRINT(EMADVISECOLUMNS):   set WORK.M21H8F2Y;
MPRINT(EMADVISECOLUMNS):   label NAME = "Variable Name" TYPE = "Type" ROLE = "Role" LEVEL= "Measurement Level" ORDER= "Order" CREATOR= "Creator" FORMATTYPE= "Format Type" FAMILY= "Family" DISTRIBUTION= "Distribution" PRICE= "Price" LOWERLIMIT= "Lower
limit" UPPERLIMIT= "Upper Limit" REPORT= "Report" COMMENT= "Comment" INDEX= "Index" INDEXTYPE= "IndexType" LABEL= "Label" LENGTH= "Length";
MPRINT(EMADVISECOLUMNS):   drop levelAssigned roleAssigned;
MPRINT(EMADVISECOLUMNS):   run;
MPRINT(EMADVISECOLUMNS):
MPRINT(EM_DIAGRAM):  ;
MPRINT(EM_DIAGRAM):   proc sort data=WORK.COLUMNMETA;
MPRINT(EM_DIAGRAM):   by NAME;
MPRINT(EM_DIAGRAM):   run;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   * &nodeid: Merge incoming metadata;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   proc contents data=EMWS8.Part_TRAIN noprint out=_temp2(keep=NAME);
MPRINT(EM_DIAGRAM):   run;
MPRINT(EM_DIAGRAM):   proc sort data=_temp2;
MPRINT(EM_DIAGRAM):   by NAME;
MPRINT(EM_DIAGRAM):   run;
MPRINT(EM_DIAGRAM):   proc sort data=EMWS8.Part_CMeta_TRAIN out=_temp;
MPRINT(EM_DIAGRAM):   by NAME;
MPRINT(EM_DIAGRAM):   run;
MPRINT(EM_DIAGRAM):   data EMWS8.Stat2_CMeta_TRAIN;
MPRINT(EM_DIAGRAM):   merge WORK.COLUMNMETA(in=_a) _temp2(in=_b) _temp(drop=FORMAT INFORMAT LENGTH INDEX INDEXTYPE in=_c) end=_eof_;
MPRINT(EM_DIAGRAM):   by NAME;
MPRINT(EM_DIAGRAM):   if (^_a and _b) or (^_c and _a and _b) then delete;
MPRINT(EM_DIAGRAM):   if ^_b then CREATOR = "Stat2";
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   * Stat2: Apply Delta Code;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   if ROLE in('INPUT', 'REJECTED') then do;
MPRINT(EM_DIAGRAM):   if upcase(NAME) in( 'ACCEPTEDCMP1' 'ACCEPTEDCMP2' 'ACCEPTEDCMP3' 'ACCEPTEDCMP4' 'ACCEPTEDCMP5' 'ACCEPTEDCMPTOTAL' 'AGE' 'COMPLAIN' 'EDUCATION' 'FRQ' 'HIGHEREDUCATIONBINARY' 'INCOME' 'KIDHOME' 'MARITAL_STATUS' 'MNT' 'MNTFISHPRODUCTS'
'MNTFRUITS' 'MNTGOLDPRODS' 'MNTMEATPRODUCTS' 'MNTSWEETPRODUCTS' 'MNTWINES' 'MONTHSASCUSTOMER' 'NUMCATALOGPURCHASES' 'NUMDEALSPURCHASES' 'NUMDISTPURCHASES' 'NUMSTOREPURCHASES' 'NUMWEBPURCHASES' 'NUMWEBVISITSMONTH' 'RFMSTAT' 'RMNTFRQ' 'RECENCY' 'TEENHOME'
'YEAR_BIRTH' ) then ROLE='INPUT';
MPRINT(EM_DIAGRAM):   else delete;
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   run;
MPRINT(EM_DIAGRAM):   filename _delta;
NOTE: View EMWS8.STAT2_TRAIN.VIEW used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
NOTE: View EMWS8.STAT2_VALIDATE.VIEW used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
MPRINT(EM_DIAGRAM):    proc printto;
MPRINT(EM_DIAGRAM):   run;
MPRINT(EM_DIAGRAM):    data _null_;
MPRINT(EM_DIAGRAM):   call symput('NLDATE', strip(put(date(), NLDATE.)));
MPRINT(EM_DIAGRAM):   call symput('NLTIME', strip(put(datetime(), NLTIME.)));
MPRINT(EM_DIAGRAM):   run;
MPRINT(EM_DIAGRAM):   data _null_;
MPRINT(EM_DIAGRAM):   nldate= sasmsg("sashelp.dmine", "log_date_note", 'N', "19. April 2016" );
MPRINT(EM_DIAGRAM):   nltime= sasmsg("sashelp.dmine", "log_time_note", 'N', "17.21 Uhr" );
MPRINT(EM_DIAGRAM):   put "*------------------------------------------------------------*";
MPRINT(EM_DIAGRAM):   put "* Report Log";
MPRINT(EM_DIAGRAM):   put nldate;
MPRINT(EM_DIAGRAM):   put nltime;
MPRINT(EM_DIAGRAM):   put "*------------------------------------------------------------*";
MPRINT(EM_DIAGRAM):   run;
*------------------------------------------------------------*
* Report Log
Date:                19. April 2016
Time:                17.21 Uhr
*------------------------------------------------------------*
MPRINT(EM_DIAGRAM):    filename O0VVBYOV "C:\\predictive-models-project\Workspaces\EMWS8\Stat2\EMREPORT.out" encoding="UTF-8" NOBOM;
MPRINT(EM_DIAGRAM):   proc printto print=O0VVBYOV new;
MPRINT(EM_DIAGRAM):   run;
MPRINT(EM_DIAGRAM):    proc printto;
MPRINT(EM_DIAGRAM):   run;
