*------------------------------------------------------------*
User:                Lukas Fahr
Date:                20. April 2016
Time:                16.22 Uhr
Site:                70107571
Platform:            X64_7PRO
Maintenance Release: 9.03.01M2P081512
EM Version:          12.1
* 
MPRINT(EM_DIAGRAM):    data _null_;
MPRINT(EM_DIAGRAM):   call symput('NLDATE', strip(put(date(), NLDATE.)));
MPRINT(EM_DIAGRAM):   call symput('NLTIME', strip(put(datetime(), NLTIME.)));
MPRINT(EM_DIAGRAM):   run;
MPRINT(EM_DIAGRAM):   data _null_;
MPRINT(EM_DIAGRAM):   nldate= sasmsg("sashelp.dmine", "log_date_note", 'N', "20. April 2016" );
MPRINT(EM_DIAGRAM):   nltime= sasmsg("sashelp.dmine", "log_time_note", 'N', "16.22 Uhr" );
MPRINT(EM_DIAGRAM):   put "*------------------------------------------------------------*";
MPRINT(EM_DIAGRAM):   put "* Training Log";
MPRINT(EM_DIAGRAM):   put nldate;
MPRINT(EM_DIAGRAM):   put nltime;
MPRINT(EM_DIAGRAM):   put "*------------------------------------------------------------*";
MPRINT(EM_DIAGRAM):   run;
*------------------------------------------------------------*
* Training Log
Date:                20. April 2016
Time:                16.22 Uhr
*------------------------------------------------------------*
MPRINT(EM_DIAGRAM):    filename O2LM4YET "C:\\predictive-models-project\Workspaces\EMWS8\Stat2\EMTRAIN.out" encoding="UTF-8" NOBOM;
MPRINT(EM_DIAGRAM):   proc printto print=O2LM4YET new;
MPRINT(EM_DIAGRAM):   run;
MPRINT(EM_DIAGRAM):    filename _LOG "C:\\predictive-models-project\Workspaces\EMWS8\Stat2\EMLOG.log" encoding="UTF-8" NOBOM;
MPRINT(EM_DIAGRAM):    data _null_;
MPRINT(EM_DIAGRAM):   call symput('NLDATE', strip(put(date(), NLDATE.)));
MPRINT(EM_DIAGRAM):   call symput('NLTIME', strip(put(datetime(), NLTIME.)));
MPRINT(EM_DIAGRAM):   run;
MPRINT(EM_DIAGRAM):   data _null_;
MPRINT(EM_DIAGRAM):   nldate= sasmsg("sashelp.dmine", "log_date_note", 'N', "20. April 2016" );
MPRINT(EM_DIAGRAM):   nltime= sasmsg("sashelp.dmine", "log_time_note", 'N', "16.22 Uhr" );
MPRINT(EM_DIAGRAM):   file _LOG;
MPRINT(EM_DIAGRAM):   put "*------------------------------------------------------------*";
MPRINT(EM_DIAGRAM):   put "User:                Lukas Fahr";
MPRINT(EM_DIAGRAM):   put nldate;
MPRINT(EM_DIAGRAM):   put nltime;
MPRINT(EM_DIAGRAM):   put "Site:                70107571";
MPRINT(EM_DIAGRAM):   put "Platform:            X64_7PRO";
MPRINT(EM_DIAGRAM):   put "Maintenance Release: 9.03.01M2P081512";
MPRINT(EM_DIAGRAM):   put "EM Version:          12.1";
MPRINT(EM_DIAGRAM):   put "* ";
MPRINT(EM_DIAGRAM):   run;
MPRINT(EM_DIAGRAM):    filename _LOGIN "C:\\predictive-models-project\Workspaces\EMWS8\Stat2\EMTRAIN.log" encoding="UTF-8" NOBOM;
MPRINT(EM_COPYFILE):   data _null_;
MPRINT(EM_COPYFILE):   length line $20000;
MPRINT(EM_COPYFILE):   file _LOG MOD lrecl=20000;
MPRINT(EM_COPYFILE):   fid=fopen("_LOGIN",'i',20000,'v');
MPRINT(EM_COPYFILE):   if fid > 0 then do;
MPRINT(EM_COPYFILE):   do while(^fread(fid));
MPRINT(EM_COPYFILE):   rlen = frlen(fid);
MPRINT(EM_COPYFILE):   rc= fget(fid,line,20000);
MPRINT(EM_COPYFILE):   start = length(line)-length(left(line))+1;
MPRINT(EM_COPYFILE):   line=strip(line);
MPRINT(EM_COPYFILE):   put @start line;
MPRINT(EM_COPYFILE):   end;
MPRINT(EM_COPYFILE):   if fid > 0 then rc=fclose(fid);
MPRINT(EM_COPYFILE):   end;
MPRINT(EM_COPYFILE):   run;
MPRINT(EM_DIAGRAM):  ;
MPRINT(EM_DIAGRAM):   filename _LOGIN;
MPRINT(EM_DIAGRAM):    data _null_;
MPRINT(EM_DIAGRAM):   file _LOG mod;
MPRINT(EM_DIAGRAM):   put _page_;
MPRINT(EM_DIAGRAM):   run;
MPRINT(EM_DIAGRAM):   filename _LOGIN "C:\\predictive-models-project\Workspaces\EMWS8\Stat2\EMSCORE.log" encoding="UTF-8" NOBOM;
MPRINT(EM_DIAGRAM):  ;
MPRINT(EM_DIAGRAM):   data _null_;
MPRINT(EM_DIAGRAM):   file _LOG mod;
MPRINT(EM_DIAGRAM):   put _page_;
MPRINT(EM_DIAGRAM):   run;
MPRINT(EM_DIAGRAM):    filename _LOGIN "C:\\predictive-models-project\Workspaces\EMWS8\Stat2\EMREPORT.log" encoding="UTF-8" NOBOM;
MPRINT(EM_DIAGRAM):  ;
MPRINT(EM_DIAGRAM):   filename _LOGIN;
MPRINT(EM_DIAGRAM):    filename _LOG;
MPRINT(EM_DIAGRAM):    filename _OUT "C:\\predictive-models-project\Workspaces\EMWS8\Stat2\EMOUTPUT.out" encoding="UTF-8" NOBOM;
MPRINT(EM_DIAGRAM):    data _null_;
MPRINT(EM_DIAGRAM):   call symput('NLDATE', strip(put(date(), NLDATE.)));
MPRINT(EM_DIAGRAM):   call symput('NLTIME', strip(put(datetime(), NLTIME.)));
MPRINT(EM_DIAGRAM):   run;
MPRINT(EM_DIAGRAM):   data _null_;
MPRINT(EM_DIAGRAM):   nldate= sasmsg("sashelp.dmine", "log_date_note", 'N', "20. April 2016" );
MPRINT(EM_DIAGRAM):   nltime= sasmsg("sashelp.dmine", "log_time_note", 'N', "16.22 Uhr" );
MPRINT(EM_DIAGRAM):   file _OUT;
MPRINT(EM_DIAGRAM):   put "*------------------------------------------------------------*";
MPRINT(EM_DIAGRAM):   put "User:                Lukas Fahr";
MPRINT(EM_DIAGRAM):   put nldate;
MPRINT(EM_DIAGRAM):   put nltime;
MPRINT(EM_DIAGRAM):   put "*------------------------------------------------------------*";
MPRINT(EM_DIAGRAM):   put "* Training Output";
MPRINT(EM_DIAGRAM):   put "*------------------------------------------------------------*";
MPRINT(EM_DIAGRAM):   run;
MPRINT(EM_DIAGRAM):    filename _OUTIN "C:\\predictive-models-project\Workspaces\EMWS8\Stat2\EMTRAIN.out" encoding="UTF-8" NOBOM;
MPRINT(EM_DIAGRAM):   ;
MPRINT(EM_COPYFILE):   data _null_;
MPRINT(EM_COPYFILE):   length line $20000;
MPRINT(EM_COPYFILE):   file _OUT MOD lrecl=20000;
MPRINT(EM_COPYFILE):   fid=fopen("_OUTIN",'i',20000,'v');
MPRINT(EM_COPYFILE):   if fid > 0 then do;
MPRINT(EM_COPYFILE):   do while(^fread(fid));
MPRINT(EM_COPYFILE):   rlen = frlen(fid);
MPRINT(EM_COPYFILE):   rc= fget(fid,line,20000);
MPRINT(EM_COPYFILE):   start = length(line)-length(left(line))+1;
MPRINT(EM_COPYFILE):   line=strip(line);
MPRINT(EM_COPYFILE):   put @start line;
MPRINT(EM_COPYFILE):   end;
MPRINT(EM_COPYFILE):   if fid > 0 then rc=fclose(fid);
MPRINT(EM_COPYFILE):   end;
MPRINT(EM_COPYFILE):   run;
MPRINT(EM_DIAGRAM):  ;
MPRINT(EM_DIAGRAM):   filename _OUTIN;
MPRINT(EM_DIAGRAM):    data _null_;
MPRINT(EM_DIAGRAM):   file _OUT mod;
MPRINT(EM_DIAGRAM):   put _page_;
MPRINT(EM_DIAGRAM):   put // "*------------------------------------------------------------*";
MPRINT(EM_DIAGRAM):   put "* Score Output";
MPRINT(EM_DIAGRAM):   put "*------------------------------------------------------------*";
MPRINT(EM_DIAGRAM):   run;
MPRINT(EM_DIAGRAM):    filename _OUTIN "C:\\predictive-models-project\Workspaces\EMWS8\Stat2\EMSCORE.out" encoding="UTF-8" NOBOM;
MPRINT(EM_DIAGRAM):  ;
MPRINT(EM_DIAGRAM):   filename _OUTIN;
MPRINT(EM_DIAGRAM):    data _null_;
MPRINT(EM_DIAGRAM):   file _OUT mod;
MPRINT(EM_DIAGRAM):   put _page_;
MPRINT(EM_DIAGRAM):   put // "*------------------------------------------------------------*";
MPRINT(EM_DIAGRAM):   put "* Report Output";
MPRINT(EM_DIAGRAM):   put "*------------------------------------------------------------*";
MPRINT(EM_DIAGRAM):   run;
MPRINT(EM_DIAGRAM):    filename _OUTIN "C:\\predictive-models-project\Workspaces\EMWS8\Stat2\EMREPORT.out" encoding="UTF-8" NOBOM;
MPRINT(EM_DIAGRAM):  ;
MPRINT(EM_DIAGRAM):   filename _OUTIN;
MPRINT(EM_DIAGRAM):    filename _OUT;
MPRINT(EM_DIAGRAM):    filename _emtool_ 'C:\\predictive-models-project\Workspaces\EMWS8\Stat2\EMRUNSTATUS.xml' encoding="UTF-8" NOBOM;
87473      proc freq data=EMWS8.Stat2_VariableSet noprint;
MPRINT(EM_DIAGRAM):    proc freq data=EMWS8.Stat2_VariableSet noprint;
87474      table ROLE*LEVEL/out=WORK.Stat2META;
MPRINT(EM_DIAGRAM):   table ROLE*LEVEL/out=WORK.Stat2META;
87475      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 36 observations read from the data set EMWS8.STAT2_VARIABLESET.
NOTE: The data set WORK.STAT2META has 6 observations and 4 variables.
NOTE: PROCEDURE FREQ used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
 
 
87476      proc print data=WORK.Stat2META label noobs;
MPRINT(EM_DIAGRAM):   proc print data=WORK.Stat2META label noobs;
87477      var ROLE LEVEL COUNT;
MPRINT(EM_DIAGRAM):   var ROLE LEVEL COUNT;
87478      label ROLE = "%sysfunc(sasmsg(sashelp.dmine, meta_role_vlabel, NOQUOTE))" LEVEL = "%sysfunc(sasmsg(sashelp.dmine, meta_level_vlabel, NOQUOTE))" COUNT = "%sysfunc(sasmsg(sashelp.dmine, rpt_count_vlabel, NOQUOTE))";
MPRINT(EM_DIAGRAM):   label ROLE = "Role" LEVEL = "Measurement Level" COUNT = "Frequency Count";
87479      title9 ' ';
MPRINT(EM_DIAGRAM):   title9 ' ';
87480      title10 "%sysfunc(sasmsg(sashelp.dmine, rpt_varSummary_title  , NOQUOTE))";
MPRINT(EM_DIAGRAM):   title10 "Variable Summary";
MPRINT(EM_DIAGRAM):   run;
87481      run;
 
NOTE: There were 6 observations read from the data set WORK.STAT2META.
NOTE: The PROCEDURE PRINT printed page 29.
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
87482      title10;
MPRINT(EM_DIAGRAM):   title10;
87483      data WORK.M38PY50I;
MPRINT(EM_DIAGRAM):    data WORK.M38PY50I;
87484      set WORK.M38PY50I;
MPRINT(EM_DIAGRAM):   set WORK.M38PY50I;
87485      where((role in('TARGET' 'FREQ' 'INPUT') and use in('D','Y')) or (role = 'REJECTED' and use = 'Y'));
MPRINT(EM_DIAGRAM):   where((role in('TARGET' 'FREQ' 'INPUT') and use in('D','Y')) or (role = 'REJECTED' and use = 'Y'));
87486      if ROLE = 'REJECTED' then role = 'INPUT';
MPRINT(EM_DIAGRAM):   if ROLE = 'REJECTED' then role = 'INPUT';
87487      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 34 observations read from the data set WORK.M38PY50I.
      WHERE (role in ('FREQ', 'INPUT', 'TARGET') and use in ('D', 'Y')) or ((role='REJECTED') and (use='Y'));
NOTE: The data set WORK.M38PY50I has 34 observations and 21 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
87488      *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):    *------------------------------------------------------------*;
87489      * Stat2: Determining Analysis Variables;
MPRINT(EM_DIAGRAM):   * Stat2: Determining Analysis Variables;
87490      *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
87491      *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
87492      * Stat2: Creating Macros for Variable Selection;
MPRINT(EM_DIAGRAM):   * Stat2: Creating Macros for Variable Selection;
87493      *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
87494      *------------------------------------------------------------* ;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------* ;
87495      * Stat2: Interval Input Variables Macro ;
MPRINT(EM_DIAGRAM):   * Stat2: Interval Input Variables Macro ;
87496      *------------------------------------------------------------* ;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------* ;
87497      %macro INTINPUTS;
87498          AcceptedCmpTotal Age Frq Income Kidhome Mnt MntFishProducts MntFruits
87499         MntGoldProds MntMeatProducts MntSweetProducts MntWines MonthsAsCustomer
87500         NumCatalogPurchases NumDealsPurchases NumDistPurchases NumStorePurchases
87501         NumWebPurchases NumWebVisitsMonth RFMstat RMntFrq Recency Teenhome Year_Birth
87502      %mend INTINPUTS;
87503      *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
87504      * Stat2: Creating Macros for Variable Selection;
MPRINT(EM_DIAGRAM):   * Stat2: Creating Macros for Variable Selection;
87505      *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
87506      *------------------------------------------------------------* ;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------* ;
87507      * Stat2: Binary and Nominal Input Variables Macro ;
MPRINT(EM_DIAGRAM):   * Stat2: Binary and Nominal Input Variables Macro ;
87508      *------------------------------------------------------------* ;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------* ;
87509      %macro NOMINPUTS;
87510          AcceptedCmp1 AcceptedCmp2 AcceptedCmp3 AcceptedCmp4 AcceptedCmp5 Complain
87511         Education HigherEducationBinary Marital_Status
87512      %mend NOMINPUTS;
87513      *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
87514      * Stat2: Creating Macros for Variable Selection;
MPRINT(EM_DIAGRAM):   * Stat2: Creating Macros for Variable Selection;
87515      *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
87516      *------------------------------------------------------------* ;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------* ;
87517      * Stat2: Ordinal Input Variables Macro ;
MPRINT(EM_DIAGRAM):   * Stat2: Ordinal Input Variables Macro ;
87518      *------------------------------------------------------------* ;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------* ;
87519      %macro ORDINPUTS;
87520
87521      %mend ORDINPUTS;
87522      data work.EM_Stat2_tree / view=work.EM_Stat2_tree;
MPRINT(EM_DIAGRAM):   data work.EM_Stat2_tree / view=work.EM_Stat2_tree;
87523      set EMWS8.Part_TRAIN(obs=100000
MPRINT(EM_DIAGRAM):   set EMWS8.Part_TRAIN(obs=100000 keep
87523    !                                 keep=%INTINPUTS %ORDINPUTS %NOMINPUTS DepVar);
MPRINT(EM_DIAGRAM):  =AcceptedCmpTotal Age Frq Income Kidhome Mnt MntFishProducts MntFruits MntGoldProds MntMeatProducts MntSweetProducts MntWines MonthsAsCustomer NumCatalogPurchases NumDealsPurchases NumDistPurchases NumStorePurchases NumWebPurchases
NumWebVisitsMonth RFMstat RMntFrq Recency Teenhome Year_Birth AcceptedCmp1 AcceptedCmp2 AcceptedCmp3 AcceptedCmp4 AcceptedCmp5 Complain Education HigherEducationBinary Marital_Status DepVar);
87524      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: DATA STEP view saved on file WORK.EM_STAT2_TREE.
NOTE: A stored DATA STEP view cannot run under a different operating system.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
87525      proc arbor data=EMWS8.Part_TRAIN(obs=100000
MPRINT(EM_DIAGRAM):   proc arbor data=EMWS8.Part_TRAIN(obs=100000 keep
87525    !                                             keep=%INTINPUTS %ORDINPUTS %NOMINPUTS DepVar) Criterion=GINI Leafsize=5 Mincatsize = 5 Maxbranch=5 Maxdepth=1 Padjust= NONE NORULELIMIT MAXRULES=33 MAXSURRS=0 Missing=USEINSEARCH Exhaustive=5000;
MPRINT(EM_DIAGRAM):  =AcceptedCmpTotal Age Frq Income Kidhome Mnt MntFishProducts MntFruits MntGoldProds MntMeatProducts MntSweetProducts MntWines MonthsAsCustomer NumCatalogPurchases NumDealsPurchases NumDistPurchases NumStorePurchases NumWebPurchases
NumWebVisitsMonth RFMstat RMntFrq Recency Teenhome Year_Birth AcceptedCmp1 AcceptedCmp2 AcceptedCmp3 AcceptedCmp4 AcceptedCmp5 Complain Education HigherEducationBinary Marital_Status DepVar) Criterion=GINI Leafsize=5 Mincatsize = 5 Maxbranch=5 Maxdepth=1
Padjust= NONE NORULELIMIT MAXRULES=33 MAXSURRS=0 Missing=USEINSEARCH Exhaustive=5000;
WARNING: PADJUST and PVAR options are ignored with this splitting criterion.
MPRINT(EM_DIAGRAM):   input
87526      input %INTINPUTS / level = interval;
MPRINT(INTINPUTS):   AcceptedCmpTotal Age Frq Income Kidhome Mnt MntFishProducts MntFruits MntGoldProds MntMeatProducts MntSweetProducts MntWines MonthsAsCustomer NumCatalogPurchases NumDealsPurchases NumDistPurchases NumStorePurchases NumWebPurchases
NumWebVisitsMonth RFMstat RMntFrq Recency Teenhome Year_Birth
MPRINT(EM_DIAGRAM):   / level = interval;
MPRINT(EM_DIAGRAM):   input
87527      input %NOMINPUTS / level=nominal;
MPRINT(NOMINPUTS):   AcceptedCmp1 AcceptedCmp2 AcceptedCmp3 AcceptedCmp4 AcceptedCmp5 Complain Education HigherEducationBinary Marital_Status
MPRINT(EM_DIAGRAM):   / level=nominal;
87528      target DepVar / level=BINARY;
MPRINT(EM_DIAGRAM):   target DepVar / level=BINARY;
87529      Performance Disk NodeSize=10000;
MPRINT(EM_DIAGRAM):   Performance Disk NodeSize=10000;
87530      Assess NoValidata measure=MISC;
MPRINT(EM_DIAGRAM):   Assess NoValidata measure=MISC;
NOTE: 1623327 kilobytes of physical memory.
NOTE: Will use 2374 out of 2374 training cases.
NOTE: Using memory pool with 176261120 bytes.
NOTE: Passed training data 2 times.
NOTE: Training used 2001648 bytes of work memory.
NOTE: The subtree sequence contains 2 subtrees. The largest has 6 nodes and 5 leaves.
NOTE: Using subtree with 6 nodes and 5 leaves.
87531      SUBTREE BEST;
MPRINT(EM_DIAGRAM):   SUBTREE BEST;
NOTE: Using subtree with 6 nodes and 5 leaves.
87532      save RULES=WORK.Stat2_RULE;
MPRINT(EM_DIAGRAM):   save RULES=WORK.Stat2_RULE;
NOTE: The data set WORK.STAT2_RULE has 273 observations and 6 variables.
87533      run;
MPRINT(EM_DIAGRAM):   run;
 
87534      quit;
MPRINT(EM_DIAGRAM):   quit;
 
NOTE: There were 2374 observations read from the data set EMWS8.PART_TRAIN.
NOTE: PROCEDURE ARBOR used (Total process time):
      real time           0.04 seconds
      cpu time            0.04 seconds
 
 
87535      data WORK.Stat2_RULE(keep=Target Name Rank Numeric_Value StatVar rename=(numeric_value=Worth));
MPRINT(EM_DIAGRAM):    data WORK.Stat2_RULE(keep=Target Name Rank Numeric_Value StatVar rename=(numeric_value=Worth));
87536      label Target = "%sysfunc(sasmsg(sashelp.dmine, rpt_target_vlabel,      NOQUOTE))" Name = "%sysfunc(sasmsg(sashelp.dmine, rpt_variable_vlabel,    NOQUOTE))" Rank = "%sysfunc(sasmsg(sashelp.dmine, rpt_importance_vlabel,  NOQUOTE))" Numeric_Value =
87537         "%sysfunc(sasmsg(sashelp.dmine, rpt_worth_vlabel,       NOQUOTE))" StatVar = "%sysfunc(sasmsg(sashelp.dmine, rpt_analysisVar_vlabel, NOQUOTE))";
MPRINT(EM_DIAGRAM):   label Target = "Target" Name = "Variable" Rank = "Importance" Numeric_Value = "Worth" StatVar = "Analysis Variable";
87538      length Target $32 Name $32;
MPRINT(EM_DIAGRAM):   length Target $32 Name $32;
87539      retain TARGET "DepVar" Name;
MPRINT(EM_DIAGRAM):   retain TARGET "DepVar" Name;
87540      format STATVAR 6.0;
MPRINT(EM_DIAGRAM):   format STATVAR 6.0;
87541      set WORK.Stat2_RULE;
MPRINT(EM_DIAGRAM):   set WORK.Stat2_RULE;
87542      where stat in('VARIABLE','WORTH');
MPRINT(EM_DIAGRAM):   where stat in('VARIABLE','WORTH');
87543      if stat = 'VARIABLE' then Name = character_value;
MPRINT(EM_DIAGRAM):   if stat = 'VARIABLE' then Name = character_value;
87544      else do;
MPRINT(EM_DIAGRAM):   else do;
87545      if _N_<= 2*1000 then STATVAR=1;
MPRINT(EM_DIAGRAM):   if _N_<= 2*1000 then STATVAR=1;
87546      else STATVAR=0;
MPRINT(EM_DIAGRAM):   else STATVAR=0;
87547      output;
MPRINT(EM_DIAGRAM):   output;
87548      end;
MPRINT(EM_DIAGRAM):   end;
87549      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 66 observations read from the data set WORK.STAT2_RULE.
      WHERE stat in ('VARIABLE', 'WORTH');
NOTE: The data set WORK.STAT2_RULE has 33 observations and 5 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
 
 
87550      proc append base=EMWS8.Stat2_WORTH data=WORK.Stat2_RULE force;
MPRINT(EM_DIAGRAM):   proc append base=EMWS8.Stat2_WORTH data=WORK.Stat2_RULE force;
87551      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: Appending WORK.STAT2_RULE to EMWS8.STAT2_WORTH.
NOTE: BASE data set does not exist. DATA file is being copied to BASE file.
NOTE: There were 33 observations read from the data set WORK.STAT2_RULE.
NOTE: The data set EMWS8.STAT2_WORTH has 33 observations and 5 variables.
NOTE: PROCEDURE APPEND used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
87552      *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):    *------------------------------------------------------------*;
87553      * Stat2: Counting Levels;
MPRINT(EM_DIAGRAM):   * Stat2: Counting Levels;
87554      *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
87555      proc sql;
MPRINT(EM_DIAGRAM):   proc sql;
87556      create view WORK.Stat2_distinct as select distinct Custid from EMWS8.Part_TRAIN(obs=100000);
MPRINT(EM_DIAGRAM):   create view WORK.Stat2_distinct as select distinct Custid from EMWS8.Part_TRAIN(obs=100000);
NOTE: SQL view WORK.STAT2_DISTINCT has been defined.
87557      quit;
MPRINT(EM_DIAGRAM):   quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
87558      proc sql;
MPRINT(EM_DIAGRAM):   proc sql;
87559      reset noprint;
MPRINT(EM_DIAGRAM):   reset noprint;
87560      select count(*) into :_tmpcount from WORK.Stat2_distinct;
MPRINT(EM_DIAGRAM):   select count(*) into :_tmpcount from WORK.Stat2_distinct;
87561      quit;
MPRINT(EM_DIAGRAM):   quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
 
 
87562      proc sql;
MPRINT(EM_DIAGRAM):    proc sql;
87563      create view WORK.Stat2_distinct as select distinct DepVar from EMWS8.Part_TRAIN(obs=100000);
MPRINT(EM_DIAGRAM):   create view WORK.Stat2_distinct as select distinct DepVar from EMWS8.Part_TRAIN(obs=100000);
NOTE: SQL view WORK.STAT2_DISTINCT has been defined.
87564      quit;
MPRINT(EM_DIAGRAM):   quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
87565      proc sql;
MPRINT(EM_DIAGRAM):   proc sql;
87566      reset noprint;
MPRINT(EM_DIAGRAM):   reset noprint;
87567      select count(*) into :_tmpcount from WORK.Stat2_distinct;
MPRINT(EM_DIAGRAM):   select count(*) into :_tmpcount from WORK.Stat2_distinct;
87568      quit;
MPRINT(EM_DIAGRAM):   quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
87569      proc sql;
MPRINT(EM_DIAGRAM):    proc sql;
87570      create view WORK.Stat2_distinct as select distinct _dataobs_ from EMWS8.Part_TRAIN(obs=100000);
MPRINT(EM_DIAGRAM):   create view WORK.Stat2_distinct as select distinct _dataobs_ from EMWS8.Part_TRAIN(obs=100000);
NOTE: SQL view WORK.STAT2_DISTINCT has been defined.
87571      quit;
MPRINT(EM_DIAGRAM):   quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
 
 
87572      proc sql;
MPRINT(EM_DIAGRAM):   proc sql;
87573      reset noprint;
MPRINT(EM_DIAGRAM):   reset noprint;
87574      select count(*) into :_tmpcount from WORK.Stat2_distinct;
MPRINT(EM_DIAGRAM):   select count(*) into :_tmpcount from WORK.Stat2_distinct;
87575      quit;
MPRINT(EM_DIAGRAM):   quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
87576      proc sort data=WORK.Stat2_count NOTHREADS;
MPRINT(EM_DIAGRAM):    proc sort data=WORK.Stat2_count NOTHREADS;
87577      by NAME ROLE DATA;
MPRINT(EM_DIAGRAM):   by NAME ROLE DATA;
87578      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 3 observations read from the data set WORK.STAT2_COUNT.
NOTE: The data set WORK.STAT2_COUNT has 3 observations and 4 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
87579      proc print data=WORK.Stat2_count(obs=500) label noobs;
MPRINT(EM_DIAGRAM):   proc print data=WORK.Stat2_count(obs=500) label noobs;
87580      label NAME = "%sysfunc(sasmsg(sashelp.dmine, rpt_variable_vlabel,    NOQUOTE))" COUNT = "%sysfunc(sasmsg(sashelp.dmine, rpt_count_vlabel,       NOQUOTE))" ROLE = "%sysfunc(sasmsg(sashelp.dmine, meta_role_vlabel,       NOQUOTE))";
MPRINT(EM_DIAGRAM):   label NAME = "Variable" COUNT = "Frequency Count" ROLE = "Role";
87581      var NAME ROLE COUNT;
MPRINT(EM_DIAGRAM):   var NAME ROLE COUNT;
87582      title9 "%sysfunc(sasmsg(sashelp.dmine, rpt_varLevels_title, NOQUOTE))";
MPRINT(EM_DIAGRAM):   title9 "Variable Levels Summary";
87583      title10 "%sysfunc(sasmsg(sashelp.dmine, rpt_maxObsPrinted_title, NOQUOTE))";
MPRINT(EM_DIAGRAM):   title10 "(maximum 500 observations printed)";
MPRINT(EM_DIAGRAM):   run;
87584      run;
 
NOTE: There were 3 observations read from the data set WORK.STAT2_COUNT.
NOTE: The PROCEDURE PRINT printed page 30.
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
 
 
87585      title9;
MPRINT(EM_DIAGRAM):   title9;
87586      title10;
MPRINT(EM_DIAGRAM):   title10;
87587      proc sort data=EMWS8.Stat2_WORTH nodupkey out=WORK.Stat2_SELVAR(keep=Name StatVar);
MPRINT(EM_DIAGRAM):    proc sort data=EMWS8.Stat2_WORTH nodupkey out=WORK.Stat2_SELVAR(keep=Name StatVar);
87588      by NAME;
MPRINT(EM_DIAGRAM):   by NAME;
87589      where statvar=1;
MPRINT(EM_DIAGRAM):   where statvar=1;
87590      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 33 observations read from the data set EMWS8.STAT2_WORTH.
      WHERE statvar=1;
NOTE: 0 observations with duplicate key values were deleted.
NOTE: The data set WORK.STAT2_SELVAR has 33 observations and 2 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
87591      proc sort data=EMWS8.Stat2_WORTH;
MPRINT(EM_DIAGRAM):    proc sort data=EMWS8.Stat2_WORTH;
87592      by Rank;
MPRINT(EM_DIAGRAM):   by Rank;
87593      where statvar=1;
MPRINT(EM_DIAGRAM):   where statvar=1;
87594      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 33 observations read from the data set EMWS8.STAT2_WORTH.
      WHERE statvar=1;
NOTE: The data set EMWS8.STAT2_WORTH has 33 observations and 5 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
 
 
87595      proc sort data=WORK.M0W_4KKP;
MPRINT(EM_DIAGRAM):    proc sort data=WORK.M0W_4KKP;
87596      by name;
MPRINT(EM_DIAGRAM):   by name;
87597      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 36 observations read from the data set WORK.M0W_4KKP.
NOTE: The data set WORK.M0W_4KKP has 36 observations and 21 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
87598      data WORK.Stat2_analysisMeta;
MPRINT(EM_DIAGRAM):   data WORK.Stat2_analysisMeta;
87599      merge WORK.M0W_4KKP WORK.Stat2_SELVAR(in=_a);
MPRINT(EM_DIAGRAM):   merge WORK.M0W_4KKP WORK.Stat2_SELVAR(in=_a);
87600      by name;
MPRINT(EM_DIAGRAM):   by name;
87601      if _a then STATVAR = 1;
MPRINT(EM_DIAGRAM):   if _a then STATVAR = 1;
87602      else if ROLE in('INPUT', 'REJECTED') and REPORT ne 'Y' then delete;
MPRINT(EM_DIAGRAM):   else if ROLE in('INPUT', 'REJECTED') and REPORT ne 'Y' then delete;
87603      if REPORT eq 'Y' then STATVAR = 1;
MPRINT(EM_DIAGRAM):   if REPORT eq 'Y' then STATVAR = 1;
87604      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 36 observations read from the data set WORK.M0W_4KKP.
NOTE: There were 33 observations read from the data set WORK.STAT2_SELVAR.
NOTE: The data set WORK.STAT2_ANALYSISMETA has 36 observations and 22 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
87605      data WORK.M3E9KCW_;
MPRINT(EM_DIAGRAM):    data WORK.M3E9KCW_;
87606      set WORK.M3E9KCW_;
MPRINT(EM_DIAGRAM):   set WORK.M3E9KCW_;
87607      where(use = 'Y' or Report='Y' or (role in('TARGET' 'FREQ' 'PREDICT' 'RESIDUAL' 'INPUT') and use = 'D'));
MPRINT(EM_DIAGRAM):   where(use = 'Y' or Report='Y' or (role in('TARGET' 'FREQ' 'PREDICT' 'RESIDUAL' 'INPUT') and use = 'D'));
87608      if ROLE = 'SEGMENT' then delete;
MPRINT(EM_DIAGRAM):   if ROLE = 'SEGMENT' then delete;
87609      else if ROLE ^in('FREQ','TARGET') then role = 'INPUT';
MPRINT(EM_DIAGRAM):   else if ROLE ^in('FREQ','TARGET') then role = 'INPUT';
87610      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 34 observations read from the data set WORK.M3E9KCW_.
      WHERE (use='Y') or (Report='Y') or (role in ('FREQ', 'INPUT', 'PREDICT', 'RESIDUAL', 'TARGET') and (use='D'));
NOTE: The data set WORK.M3E9KCW_ has 34 observations and 22 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
87611      data WORK.M19WWN3P;
MPRINT(EM_DIAGRAM):    data WORK.M19WWN3P;
87612      set WORK.M19WWN3P;
MPRINT(EM_DIAGRAM):   set WORK.M19WWN3P;
87613      where(use = 'Y' or Report='Y' or (role in('SEGMENT', 'TARGET' 'FREQ' 'PREDICT' 'RESIDUAL' 'INPUT') and use = 'D'));
MPRINT(EM_DIAGRAM):   where(use = 'Y' or Report='Y' or (role in('SEGMENT', 'TARGET' 'FREQ' 'PREDICT' 'RESIDUAL' 'INPUT') and use = 'D'));
87614      if ROLE ne 'FREQ' then role = 'INPUT';
MPRINT(EM_DIAGRAM):   if ROLE ne 'FREQ' then role = 'INPUT';
87615      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 34 observations read from the data set WORK.M19WWN3P.
      WHERE (use='Y') or (Report='Y') or (role in ('FREQ', 'INPUT', 'PREDICT', 'RESIDUAL', 'SEGMENT', 'TARGET') and (use='D'));
NOTE: The data set WORK.M19WWN3P has 34 observations and 22 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
87616      *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):    *------------------------------------------------------------*;
87617      * Stat2: Computing Statistics for Interval Variables;
MPRINT(EM_DIAGRAM):   * Stat2: Computing Statistics for Interval Variables;
87618      *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
87619      proc dmdb data=EMWS8.Part_TRAIN(obs=100000) nonorm maxlevel=513
87620      varout=work._DMDBVAR(RENAME=(NAME=VARIABLE))
87621      classout=WORK.Stat2CLASS(drop=NMISSPERCENT rename=(NAME=VARIABLE FREQUENCY=COUNT FREQPERCENT=PERCENT))
87622      ;
MPRINT(EM_DIAGRAM):   proc dmdb data=EMWS8.Part_TRAIN(obs=100000) nonorm maxlevel=513 varout=work._DMDBVAR(RENAME=(NAME=VARIABLE)) classout=WORK.Stat2CLASS(drop=NMISSPERCENT rename=(NAME=VARIABLE FREQUENCY=COUNT FREQPERCENT=PERCENT)) ;
87623      var
87624      AcceptedCmpTotal Age Frq Income Kidhome Mnt MntFishProducts MntFruits
87625      MntGoldProds MntMeatProducts MntSweetProducts MntWines MonthsAsCustomer
87626      NumCatalogPurchases NumDealsPurchases NumDistPurchases NumStorePurchases
87627      NumWebPurchases NumWebVisitsMonth RFMstat RMntFrq Recency Teenhome Year_Birth
87628      ;
MPRINT(EM_DIAGRAM):   var AcceptedCmpTotal Age Frq Income Kidhome Mnt MntFishProducts MntFruits MntGoldProds MntMeatProducts MntSweetProducts MntWines MonthsAsCustomer NumCatalogPurchases NumDealsPurchases NumDistPurchases NumStorePurchases
NumWebPurchases NumWebVisitsMonth RFMstat RMntFrq Recency Teenhome Year_Birth ;
87629      class
87630      AcceptedCmp1 AcceptedCmp2 AcceptedCmp3 AcceptedCmp4 AcceptedCmp5 Complain
87631      DepVar Education HigherEducationBinary Marital_Status
87632      ;
MPRINT(EM_DIAGRAM):   class AcceptedCmp1 AcceptedCmp2 AcceptedCmp3 AcceptedCmp4 AcceptedCmp5 Complain DepVar Education HigherEducationBinary Marital_Status ;
87633      ;
MPRINT(EM_DIAGRAM):   ;
87634      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: Records processed = 2374   Memory used = 511K.
NOTE: There were 2374 observations read from the data set EMWS8.PART_TRAIN.
NOTE: The data set WORK._DMDBVAR has 24 observations and 9 variables.
NOTE: The data set WORK.STAT2CLASS has 26 observations and 8 variables.
NOTE: PROCEDURE DMDB used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
87635      proc stdize data = EMWS8.Part_TRAIN(obs=100000) out=_null_ outstat=work._STDIZE add=0 fuzz=1E-14 initial=MAD vardef=df method=STD mult=1 pctlmtd=ORD_STAT pctldef=2 pctlpts=(0 5 50 95 100);
MPRINT(EM_DIAGRAM):   proc stdize data = EMWS8.Part_TRAIN(obs=100000) out=_null_ outstat=work._STDIZE add=0 fuzz=1E-14 initial=MAD vardef=df method=STD mult=1 pctlmtd=ORD_STAT pctldef=2 pctlpts=(0 5 50 95 100);
87636      var
87637      AcceptedCmpTotal Age Frq Income Kidhome Mnt MntFishProducts MntFruits
87638      MntGoldProds MntMeatProducts MntSweetProducts MntWines MonthsAsCustomer
87639      NumCatalogPurchases NumDealsPurchases NumDistPurchases NumStorePurchases
87640      NumWebPurchases NumWebVisitsMonth RFMstat RMntFrq Recency Teenhome Year_Birth
87641      ;
MPRINT(EM_DIAGRAM):   var AcceptedCmpTotal Age Frq Income Kidhome Mnt MntFishProducts MntFruits MntGoldProds MntMeatProducts MntSweetProducts MntWines MonthsAsCustomer NumCatalogPurchases NumDealsPurchases NumDistPurchases NumStorePurchases
NumWebPurchases NumWebVisitsMonth RFMstat RMntFrq Recency Teenhome Year_Birth ;
87642      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: INITIAL= will be ignored.
NOTE: There were 2374 observations read from the data set EMWS8.PART_TRAIN.
NOTE: The data set WORK._STDIZE has 13 observations and 25 variables.
NOTE: PROCEDURE STDIZE used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
 
 
87643      proc transpose data=work._STDIZE out=work._TRANSSTDIZE(drop=_LABEL_ rename=(_NAME_=VARIABLE));
MPRINT(EM_DIAGRAM):   proc transpose data=work._STDIZE out=work._TRANSSTDIZE(drop=_LABEL_ rename=(_NAME_=VARIABLE));
87644      id _type_;
MPRINT(EM_DIAGRAM):   id _type_;
87645      where _TYPE_='P50';
MPRINT(EM_DIAGRAM):   where _TYPE_='P50';
87646      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 1 observations read from the data set WORK._STDIZE.
      WHERE _TYPE_='P50';
NOTE: The data set WORK._TRANSSTDIZE has 24 observations and 2 variables.
NOTE: PROCEDURE TRANSPOSE used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
87647      proc sort data=work._TRANSSTDIZE;
MPRINT(EM_DIAGRAM):   proc sort data=work._TRANSSTDIZE;
87648      by VARIABLE;
MPRINT(EM_DIAGRAM):   by VARIABLE;
87649      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 24 observations read from the data set WORK._TRANSSTDIZE.
NOTE: The data set WORK._TRANSSTDIZE has 24 observations and 2 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
87650      proc sort data=work._DMDBVAR;
MPRINT(EM_DIAGRAM):   proc sort data=work._DMDBVAR;
87651      by VARIABLE;
MPRINT(EM_DIAGRAM):   by VARIABLE;
87652      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 24 observations read from the data set WORK._DMDBVAR.
NOTE: The data set WORK._DMDBVAR has 24 observations and 9 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
87653      data WORK.Stat2INTERVAL;
MPRINT(EM_DIAGRAM):   data WORK.Stat2INTERVAL;
87654      merge work._TRANSSTDIZE work._DMDBVAR;
MPRINT(EM_DIAGRAM):   merge work._TRANSSTDIZE work._DMDBVAR;
87655      format N NMISS 8. MIN MAX P50 MEAN STD SKEWNESS KURTOSIS BEST8.3;
MPRINT(EM_DIAGRAM):   format N NMISS 8. MIN MAX P50 MEAN STD SKEWNESS KURTOSIS BEST8.3;
87656      by VARIABLE;
MPRINT(EM_DIAGRAM):   by VARIABLE;
87657      run;
MPRINT(EM_DIAGRAM):   run;
 
WARNING: Multiple lengths were specified for the BY variable VARIABLE by input data sets. This may cause unexpected results.
NOTE: There were 24 observations read from the data set WORK._TRANSSTDIZE.
NOTE: There were 24 observations read from the data set WORK._DMDBVAR.
NOTE: The data set WORK.STAT2INTERVAL has 24 observations and 10 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
87658      proc sort data=WORK.Stat2CLASS;
MPRINT(EM_DIAGRAM):    proc sort data=WORK.Stat2CLASS;
87659      by Variable Level;
MPRINT(EM_DIAGRAM):   by Variable Level;
87660      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 26 observations read from the data set WORK.STAT2CLASS.
NOTE: The data set WORK.STAT2CLASS has 26 observations and 8 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
 
 
NOTE: There were 13 observations read from the data set WORK._STDIZE.
NOTE: The data set EMWS8.STAT2_TRAINPCTLS has 13 observations and 25 variables.
87661      data colorindex;
MPRINT(EM_DIAGRAM):    data colorindex;
87662      retain LevelIndex 0;
MPRINT(EM_DIAGRAM):   retain LevelIndex 0;
87663      set WORK.Stat2CLASS(keep=Variable Level);
MPRINT(EM_DIAGRAM):   set WORK.Stat2CLASS(keep=Variable Level);
87664      by variable level;
MPRINT(EM_DIAGRAM):   by variable level;
87665      if first.variable then LevelIndex = 0;
MPRINT(EM_DIAGRAM):   if first.variable then LevelIndex = 0;
87666      if first.level then LevelIndex + 1;
MPRINT(EM_DIAGRAM):   if first.level then LevelIndex + 1;
87667      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 26 observations read from the data set WORK.STAT2CLASS.
NOTE: The data set WORK.COLORINDEX has 26 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
87668      data WORK.Stat2CLASS;
MPRINT(EM_DIAGRAM):    data WORK.Stat2CLASS;
87669      merge WORK.Stat2CLASS(in=_a) colorindex;
MPRINT(EM_DIAGRAM):   merge WORK.Stat2CLASS(in=_a) colorindex;
87670      by variable level;
MPRINT(EM_DIAGRAM):   by variable level;
87671      if _a then output;
MPRINT(EM_DIAGRAM):   if _a then output;
87672      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 26 observations read from the data set WORK.STAT2CLASS.
NOTE: There were 26 observations read from the data set WORK.COLORINDEX.
NOTE: The data set WORK.STAT2CLASS has 26 observations and 9 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
87673      data WORK.Stat2INTERVAL;
MPRINT(EM_DIAGRAM):    data WORK.Stat2INTERVAL;
87674      length DATAROLE $20;
MPRINT(EM_DIAGRAM):   length DATAROLE $20;
87675      retain DATAROLE "TRAIN";
MPRINT(EM_DIAGRAM):   retain DATAROLE "TRAIN";
87676      length Target $32 TargetValue $32;
MPRINT(EM_DIAGRAM):   length Target $32 TargetValue $32;
87677      label Target = "%sysfunc(sasmsg(sashelp.dmine, rpt_target_vlabel, NOQUOTE))" TargetValue = "%sysfunc(sasmsg(sashelp.dmine, rpt_targetlevel_vlabel, NOQUOTE))";
MPRINT(EM_DIAGRAM):   label Target = "Target" TargetValue = "Target Level";
87678      retain Target '_OVERALL_';
MPRINT(EM_DIAGRAM):   retain Target '_OVERALL_';
87679      set WORK.Stat2INTERVAL;
MPRINT(EM_DIAGRAM):   set WORK.Stat2INTERVAL;
87680      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: Variable TargetValue is uninitialized.
NOTE: There were 24 observations read from the data set WORK.STAT2INTERVAL.
NOTE: The data set WORK.STAT2INTERVAL has 24 observations and 13 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
87681      proc append base=EMWS8.Stat2_INTERVAL data=WORK.Stat2INTERVAL force;
MPRINT(EM_DIAGRAM):   proc append base=EMWS8.Stat2_INTERVAL data=WORK.Stat2INTERVAL force;
87682      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: Appending WORK.STAT2INTERVAL to EMWS8.STAT2_INTERVAL.
NOTE: BASE data set does not exist. DATA file is being copied to BASE file.
NOTE: There were 24 observations read from the data set WORK.STAT2INTERVAL.
NOTE: The data set EMWS8.STAT2_INTERVAL has 24 observations and 13 variables.
NOTE: PROCEDURE APPEND used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
 
 
87683      data WORK.Stat2CLASS;
MPRINT(EM_DIAGRAM):    data WORK.Stat2CLASS;
87684      length DATAROLE $20;
MPRINT(EM_DIAGRAM):   length DATAROLE $20;
87685      retain DATAROLE "TRAIN";
MPRINT(EM_DIAGRAM):   retain DATAROLE "TRAIN";
87686      length Target $32 TargetValue $32;
MPRINT(EM_DIAGRAM):   length Target $32 TargetValue $32;
87687      label Target = "%sysfunc(sasmsg(sashelp.dmine, rpt_target_vlabel, NOQUOTE))" TargetValue = "%sysfunc(sasmsg(sashelp.dmine, rpt_targetlevel_vlabel, NOQUOTE))";
MPRINT(EM_DIAGRAM):   label Target = "Target" TargetValue = "Target Level";
87688      retain Target '_OVERALL_';
MPRINT(EM_DIAGRAM):   retain Target '_OVERALL_';
87689      set WORK.Stat2CLASS;
MPRINT(EM_DIAGRAM):   set WORK.Stat2CLASS;
87690      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: Variable TargetValue is uninitialized.
NOTE: There were 26 observations read from the data set WORK.STAT2CLASS.
NOTE: The data set WORK.STAT2CLASS has 26 observations and 12 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
87691      proc append base=EMWS8.Stat2_CLASS data=WORK.Stat2CLASS force;
MPRINT(EM_DIAGRAM):   proc append base=EMWS8.Stat2_CLASS data=WORK.Stat2CLASS force;
87692      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: Appending WORK.STAT2CLASS to EMWS8.STAT2_CLASS.
NOTE: BASE data set does not exist. DATA file is being copied to BASE file.
NOTE: There were 26 observations read from the data set WORK.STAT2CLASS.
NOTE: The data set EMWS8.STAT2_CLASS has 26 observations and 12 variables.
NOTE: PROCEDURE APPEND used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
87693      data WORK.M3P2MVSL;
MPRINT(EM_DIAGRAM):    data WORK.M3P2MVSL;
87694      set WORK.M3P2MVSL;
MPRINT(EM_DIAGRAM):   set WORK.M3P2MVSL;
87695      where(use = 'Y' or Report='Y' or (role in('TARGET' 'FREQ' 'PREDICT' 'RESIDUAL' 'INPUT') and use = 'D'));
MPRINT(EM_DIAGRAM):   where(use = 'Y' or Report='Y' or (role in('TARGET' 'FREQ' 'PREDICT' 'RESIDUAL' 'INPUT') and use = 'D'));
87696      if ROLE = 'SEGMENT' or (ROLE = 'TARGET' and LEVEL ne 'INTERVAL') then delete;
MPRINT(EM_DIAGRAM):   if ROLE = 'SEGMENT' or (ROLE = 'TARGET' and LEVEL ne 'INTERVAL') then delete;
87697      else if ROLE ne 'FREQ' then role = 'INPUT';
MPRINT(EM_DIAGRAM):   else if ROLE ne 'FREQ' then role = 'INPUT';
87698      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 34 observations read from the data set WORK.M3P2MVSL.
      WHERE (use='Y') or (Report='Y') or (role in ('FREQ', 'INPUT', 'PREDICT', 'RESIDUAL', 'TARGET') and (use='D'));
NOTE: The data set WORK.M3P2MVSL has 33 observations and 22 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
87699      proc freq data=EMWS8.Part_TRAIN noprint;
MPRINT(EM_DIAGRAM):    proc freq data=EMWS8.Part_TRAIN noprint;
87700      table
87701      DepVar / out=EMWS8.Stat2_BYVAR(drop=COUNT PERCENT) missing;
MPRINT(EM_DIAGRAM):   table DepVar / out=EMWS8.Stat2_BYVAR(drop=COUNT PERCENT) missing;
87702      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 2374 observations read from the data set EMWS8.PART_TRAIN.
NOTE: The data set EMWS8.STAT2_BYVAR has 2 observations and 1 variables.
NOTE: PROCEDURE FREQ used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
 
 
87703      data WORK.STATEXPLORE_DATA / view=WORK.STATEXPLORE_DATA;
MPRINT(EM_DIAGRAM):    data WORK.STATEXPLORE_DATA / view=WORK.STATEXPLORE_DATA;
87704      set EMWS8.Part_TRAIN;
MPRINT(EM_DIAGRAM):   set EMWS8.Part_TRAIN;
87705      where left(trim(put(DepVar,BEST.))) ="0";
MPRINT(EM_DIAGRAM):   where left(trim(put(DepVar,BEST.))) ="0";
87706      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: DATA STEP view saved on file WORK.STATEXPLORE_DATA.
NOTE: A stored DATA STEP view cannot run under a different operating system.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
87707      *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):    *------------------------------------------------------------*;
87708      * Stat2: Computing Statistics for Interval Variables;
MPRINT(EM_DIAGRAM):   * Stat2: Computing Statistics for Interval Variables;
87709      *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
87710      proc dmdb data=WORK.STATEXPLORE_DATA(obs=100000) nonorm maxlevel=513
87711      varout=work._DMDBVAR(RENAME=(NAME=VARIABLE))
87712      classout=WORK.Stat2CLASS(drop=NMISSPERCENT rename=(NAME=VARIABLE FREQUENCY=COUNT FREQPERCENT=PERCENT))
87713      ;
MPRINT(EM_DIAGRAM):   proc dmdb data=WORK.STATEXPLORE_DATA(obs=100000) nonorm maxlevel=513 varout=work._DMDBVAR(RENAME=(NAME=VARIABLE)) classout=WORK.Stat2CLASS(drop=NMISSPERCENT rename=(NAME=VARIABLE FREQUENCY=COUNT FREQPERCENT=PERCENT)) ;
87714      var
87715      AcceptedCmpTotal Age Frq Income Kidhome Mnt MntFishProducts MntFruits
87716      MntGoldProds MntMeatProducts MntSweetProducts MntWines MonthsAsCustomer
87717      NumCatalogPurchases NumDealsPurchases NumDistPurchases NumStorePurchases
87718      NumWebPurchases NumWebVisitsMonth RFMstat RMntFrq Recency Teenhome Year_Birth
87719      ;
MPRINT(EM_DIAGRAM):   var AcceptedCmpTotal Age Frq Income Kidhome Mnt MntFishProducts MntFruits MntGoldProds MntMeatProducts MntSweetProducts MntWines MonthsAsCustomer NumCatalogPurchases NumDealsPurchases NumDistPurchases NumStorePurchases
NumWebPurchases NumWebVisitsMonth RFMstat RMntFrq Recency Teenhome Year_Birth ;
87720      class
87721      AcceptedCmp1 AcceptedCmp2 AcceptedCmp3 AcceptedCmp4 AcceptedCmp5 Complain
87722      Education HigherEducationBinary Marital_Status
87723      ;
MPRINT(EM_DIAGRAM):   class AcceptedCmp1 AcceptedCmp2 AcceptedCmp3 AcceptedCmp4 AcceptedCmp5 Complain Education HigherEducationBinary Marital_Status ;
87724      ;
MPRINT(EM_DIAGRAM):   ;
87725      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: Records processed = 2015   Memory used = 511K.
NOTE: View WORK.STATEXPLORE_DATA.VIEW used (Total process time):
      real time           0.02 seconds
      cpu time            0.03 seconds
 
NOTE: There were 2015 observations read from the data set EMWS8.PART_TRAIN.
      WHERE LEFT(TRIM(PUT(DepVar, BEST12.)))='0';
NOTE: There were 2015 observations read from the data set WORK.STATEXPLORE_DATA.
NOTE: The data set WORK._DMDBVAR has 24 observations and 9 variables.
NOTE: The data set WORK.STAT2CLASS has 24 observations and 8 variables.
NOTE: PROCEDURE DMDB used (Total process time):
      real time           0.02 seconds
      cpu time            0.03 seconds
 
 
87726      proc stdize data = WORK.STATEXPLORE_DATA(obs=100000) out=_null_ outstat=work._STDIZE add=0 fuzz=1E-14 initial=MAD vardef=df method=STD mult=1 pctlmtd=ORD_STAT pctldef=2 pctlpts=(0 5 50 95 100);
MPRINT(EM_DIAGRAM):   proc stdize data = WORK.STATEXPLORE_DATA(obs=100000) out=_null_ outstat=work._STDIZE add=0 fuzz=1E-14 initial=MAD vardef=df method=STD mult=1 pctlmtd=ORD_STAT pctldef=2 pctlpts=(0 5 50 95 100);
87727      var
87728      AcceptedCmpTotal Age Frq Income Kidhome Mnt MntFishProducts MntFruits
87729      MntGoldProds MntMeatProducts MntSweetProducts MntWines MonthsAsCustomer
87730      NumCatalogPurchases NumDealsPurchases NumDistPurchases NumStorePurchases
87731      NumWebPurchases NumWebVisitsMonth RFMstat RMntFrq Recency Teenhome Year_Birth
87732      ;
MPRINT(EM_DIAGRAM):   var AcceptedCmpTotal Age Frq Income Kidhome Mnt MntFishProducts MntFruits MntGoldProds MntMeatProducts MntSweetProducts MntWines MonthsAsCustomer NumCatalogPurchases NumDealsPurchases NumDistPurchases NumStorePurchases
NumWebPurchases NumWebVisitsMonth RFMstat RMntFrq Recency Teenhome Year_Birth ;
87733      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: INITIAL= will be ignored.
NOTE: View WORK.STATEXPLORE_DATA.VIEW used (Total process time):
      real time           0.14 seconds
      cpu time            0.15 seconds
 
NOTE: There were 2015 observations read from the data set EMWS8.PART_TRAIN.
      WHERE LEFT(TRIM(PUT(DepVar, BEST12.)))='0';
NOTE: There were 2015 observations read from the data set WORK.STATEXPLORE_DATA.
NOTE: The data set WORK._STDIZE has 13 observations and 25 variables.
NOTE: PROCEDURE STDIZE used (Total process time):
      real time           0.15 seconds
      cpu time            0.15 seconds
 
 
87734      proc transpose data=work._STDIZE out=work._TRANSSTDIZE(drop=_LABEL_ rename=(_NAME_=VARIABLE));
MPRINT(EM_DIAGRAM):   proc transpose data=work._STDIZE out=work._TRANSSTDIZE(drop=_LABEL_ rename=(_NAME_=VARIABLE));
87735      id _type_;
MPRINT(EM_DIAGRAM):   id _type_;
87736      where _TYPE_='P50';
MPRINT(EM_DIAGRAM):   where _TYPE_='P50';
87737      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 1 observations read from the data set WORK._STDIZE.
      WHERE _TYPE_='P50';
NOTE: The data set WORK._TRANSSTDIZE has 24 observations and 2 variables.
NOTE: PROCEDURE TRANSPOSE used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
 
 
87738      proc sort data=work._TRANSSTDIZE;
MPRINT(EM_DIAGRAM):   proc sort data=work._TRANSSTDIZE;
87739      by VARIABLE;
MPRINT(EM_DIAGRAM):   by VARIABLE;
87740      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 24 observations read from the data set WORK._TRANSSTDIZE.
NOTE: The data set WORK._TRANSSTDIZE has 24 observations and 2 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
87741      proc sort data=work._DMDBVAR;
MPRINT(EM_DIAGRAM):   proc sort data=work._DMDBVAR;
87742      by VARIABLE;
MPRINT(EM_DIAGRAM):   by VARIABLE;
87743      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 24 observations read from the data set WORK._DMDBVAR.
NOTE: The data set WORK._DMDBVAR has 24 observations and 9 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
87744      data WORK.Stat2INTERVAL;
MPRINT(EM_DIAGRAM):   data WORK.Stat2INTERVAL;
87745      merge work._TRANSSTDIZE work._DMDBVAR;
MPRINT(EM_DIAGRAM):   merge work._TRANSSTDIZE work._DMDBVAR;
87746      format N NMISS 8. MIN MAX P50 MEAN STD SKEWNESS KURTOSIS BEST8.3;
MPRINT(EM_DIAGRAM):   format N NMISS 8. MIN MAX P50 MEAN STD SKEWNESS KURTOSIS BEST8.3;
87747      by VARIABLE;
MPRINT(EM_DIAGRAM):   by VARIABLE;
87748      run;
MPRINT(EM_DIAGRAM):   run;
 
WARNING: Multiple lengths were specified for the BY variable VARIABLE by input data sets. This may cause unexpected results.
NOTE: There were 24 observations read from the data set WORK._TRANSSTDIZE.
NOTE: There were 24 observations read from the data set WORK._DMDBVAR.
NOTE: The data set WORK.STAT2INTERVAL has 24 observations and 10 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
87749      proc sort data=WORK.Stat2CLASS;
MPRINT(EM_DIAGRAM):    proc sort data=WORK.Stat2CLASS;
87750      by Variable Level;
MPRINT(EM_DIAGRAM):   by Variable Level;
87751      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 24 observations read from the data set WORK.STAT2CLASS.
NOTE: The data set WORK.STAT2CLASS has 24 observations and 8 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
87752      data WORK.Stat2CLASS;
MPRINT(EM_DIAGRAM):    data WORK.Stat2CLASS;
87753      merge WORK.Stat2CLASS(in=_a) colorindex;
MPRINT(EM_DIAGRAM):   merge WORK.Stat2CLASS(in=_a) colorindex;
87754      by variable level;
MPRINT(EM_DIAGRAM):   by variable level;
87755      if _a then output;
MPRINT(EM_DIAGRAM):   if _a then output;
87756      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 24 observations read from the data set WORK.STAT2CLASS.
NOTE: There were 26 observations read from the data set WORK.COLORINDEX.
NOTE: The data set WORK.STAT2CLASS has 24 observations and 9 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
87757      data WORK.Stat2INTERVAL;
MPRINT(EM_DIAGRAM):    data WORK.Stat2INTERVAL;
87758      length DATAROLE $20;
MPRINT(EM_DIAGRAM):   length DATAROLE $20;
87759      retain DATAROLE "TRAIN";
MPRINT(EM_DIAGRAM):   retain DATAROLE "TRAIN";
87760      length Target $32 TargetValue $32;
MPRINT(EM_DIAGRAM):   length Target $32 TargetValue $32;
87761      label Target = "%sysfunc(sasmsg(sashelp.dmine, rpt_target_vlabel, NOQUOTE))" TargetValue = "%sysfunc(sasmsg(sashelp.dmine, rpt_targetlevel_vlabel, NOQUOTE))";
MPRINT(EM_DIAGRAM):   label Target = "Target" TargetValue = "Target Level";
87762      Target = "DepVar";
MPRINT(EM_DIAGRAM):   Target = "DepVar";
87763      TargetValue = '0';
MPRINT(EM_DIAGRAM):   TargetValue = '0';
87764      set WORK.Stat2INTERVAL;
MPRINT(EM_DIAGRAM):   set WORK.Stat2INTERVAL;
87765      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 24 observations read from the data set WORK.STAT2INTERVAL.
NOTE: The data set WORK.STAT2INTERVAL has 24 observations and 13 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
87766      proc append base=EMWS8.Stat2_INTERVAL data=WORK.Stat2INTERVAL force;
MPRINT(EM_DIAGRAM):   proc append base=EMWS8.Stat2_INTERVAL data=WORK.Stat2INTERVAL force;
87767      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: Appending WORK.STAT2INTERVAL to EMWS8.STAT2_INTERVAL.
NOTE: There were 24 observations read from the data set WORK.STAT2INTERVAL.
NOTE: 24 observations added.
NOTE: The data set EMWS8.STAT2_INTERVAL has 48 observations and 13 variables.
NOTE: PROCEDURE APPEND used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
87768      data WORK.Stat2CLASS;
MPRINT(EM_DIAGRAM):    data WORK.Stat2CLASS;
87769      length DATAROLE $20;
MPRINT(EM_DIAGRAM):   length DATAROLE $20;
87770      retain DATAROLE "TRAIN";
MPRINT(EM_DIAGRAM):   retain DATAROLE "TRAIN";
87771      length Target $32 TargetValue $32;
MPRINT(EM_DIAGRAM):   length Target $32 TargetValue $32;
87772      label Target = "%sysfunc(sasmsg(sashelp.dmine, rpt_target_vlabel, NOQUOTE))" TargetValue = "%sysfunc(sasmsg(sashelp.dmine, rpt_targetlevel_vlabel, NOQUOTE))";
MPRINT(EM_DIAGRAM):   label Target = "Target" TargetValue = "Target Level";
87773      Target = "DepVar";
MPRINT(EM_DIAGRAM):   Target = "DepVar";
87774      TargetValue = '0';
MPRINT(EM_DIAGRAM):   TargetValue = '0';
87775      set WORK.Stat2CLASS;
MPRINT(EM_DIAGRAM):   set WORK.Stat2CLASS;
87776      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 24 observations read from the data set WORK.STAT2CLASS.
NOTE: The data set WORK.STAT2CLASS has 24 observations and 12 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
 
 
87777      proc append base=EMWS8.Stat2_CLASS data=WORK.Stat2CLASS force;
MPRINT(EM_DIAGRAM):   proc append base=EMWS8.Stat2_CLASS data=WORK.Stat2CLASS force;
87778      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: Appending WORK.STAT2CLASS to EMWS8.STAT2_CLASS.
NOTE: There were 24 observations read from the data set WORK.STAT2CLASS.
NOTE: 24 observations added.
NOTE: The data set EMWS8.STAT2_CLASS has 50 observations and 12 variables.
NOTE: PROCEDURE APPEND used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
87779      data WORK.STATEXPLORE_DATA / view=WORK.STATEXPLORE_DATA;
MPRINT(EM_DIAGRAM):    data WORK.STATEXPLORE_DATA / view=WORK.STATEXPLORE_DATA;
87780      set EMWS8.Part_TRAIN;
MPRINT(EM_DIAGRAM):   set EMWS8.Part_TRAIN;
87781      where left(trim(put(DepVar,BEST.))) ="1";
MPRINT(EM_DIAGRAM):   where left(trim(put(DepVar,BEST.))) ="1";
87782      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: DATA STEP view saved on file WORK.STATEXPLORE_DATA.
NOTE: A stored DATA STEP view cannot run under a different operating system.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
87783      *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):    *------------------------------------------------------------*;
87784      * Stat2: Computing Statistics for Interval Variables;
MPRINT(EM_DIAGRAM):   * Stat2: Computing Statistics for Interval Variables;
87785      *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
87786      proc dmdb data=WORK.STATEXPLORE_DATA(obs=100000) nonorm maxlevel=513
87787      varout=work._DMDBVAR(RENAME=(NAME=VARIABLE))
87788      classout=WORK.Stat2CLASS(drop=NMISSPERCENT rename=(NAME=VARIABLE FREQUENCY=COUNT FREQPERCENT=PERCENT))
87789      ;
MPRINT(EM_DIAGRAM):   proc dmdb data=WORK.STATEXPLORE_DATA(obs=100000) nonorm maxlevel=513 varout=work._DMDBVAR(RENAME=(NAME=VARIABLE)) classout=WORK.Stat2CLASS(drop=NMISSPERCENT rename=(NAME=VARIABLE FREQUENCY=COUNT FREQPERCENT=PERCENT)) ;
87790      var
87791      AcceptedCmpTotal Age Frq Income Kidhome Mnt MntFishProducts MntFruits
87792      MntGoldProds MntMeatProducts MntSweetProducts MntWines MonthsAsCustomer
87793      NumCatalogPurchases NumDealsPurchases NumDistPurchases NumStorePurchases
87794      NumWebPurchases NumWebVisitsMonth RFMstat RMntFrq Recency Teenhome Year_Birth
87795      ;
MPRINT(EM_DIAGRAM):   var AcceptedCmpTotal Age Frq Income Kidhome Mnt MntFishProducts MntFruits MntGoldProds MntMeatProducts MntSweetProducts MntWines MonthsAsCustomer NumCatalogPurchases NumDealsPurchases NumDistPurchases NumStorePurchases
NumWebPurchases NumWebVisitsMonth RFMstat RMntFrq Recency Teenhome Year_Birth ;
87796      class
87797      AcceptedCmp1 AcceptedCmp2 AcceptedCmp3 AcceptedCmp4 AcceptedCmp5 Complain
87798      Education HigherEducationBinary Marital_Status
87799      ;
MPRINT(EM_DIAGRAM):   class AcceptedCmp1 AcceptedCmp2 AcceptedCmp3 AcceptedCmp4 AcceptedCmp5 Complain Education HigherEducationBinary Marital_Status ;
87800      ;
MPRINT(EM_DIAGRAM):   ;
87801      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: Records processed = 359   Memory used = 511K.
NOTE: View WORK.STATEXPLORE_DATA.VIEW used (Total process time):
      real time           0.01 seconds
      cpu time            0.03 seconds
 
NOTE: There were 359 observations read from the data set EMWS8.PART_TRAIN.
      WHERE LEFT(TRIM(PUT(DepVar, BEST12.)))='1';
NOTE: There were 359 observations read from the data set WORK.STATEXPLORE_DATA.
NOTE: The data set WORK._DMDBVAR has 24 observations and 9 variables.
NOTE: The data set WORK.STAT2CLASS has 24 observations and 8 variables.
NOTE: PROCEDURE DMDB used (Total process time):
      real time           0.02 seconds
      cpu time            0.03 seconds
 
 
87802      proc stdize data = WORK.STATEXPLORE_DATA(obs=100000) out=_null_ outstat=work._STDIZE add=0 fuzz=1E-14 initial=MAD vardef=df method=STD mult=1 pctlmtd=ORD_STAT pctldef=2 pctlpts=(0 5 50 95 100);
MPRINT(EM_DIAGRAM):   proc stdize data = WORK.STATEXPLORE_DATA(obs=100000) out=_null_ outstat=work._STDIZE add=0 fuzz=1E-14 initial=MAD vardef=df method=STD mult=1 pctlmtd=ORD_STAT pctldef=2 pctlpts=(0 5 50 95 100);
87803      var
87804      AcceptedCmpTotal Age Frq Income Kidhome Mnt MntFishProducts MntFruits
87805      MntGoldProds MntMeatProducts MntSweetProducts MntWines MonthsAsCustomer
87806      NumCatalogPurchases NumDealsPurchases NumDistPurchases NumStorePurchases
87807      NumWebPurchases NumWebVisitsMonth RFMstat RMntFrq Recency Teenhome Year_Birth
87808      ;
MPRINT(EM_DIAGRAM):   var AcceptedCmpTotal Age Frq Income Kidhome Mnt MntFishProducts MntFruits MntGoldProds MntMeatProducts MntSweetProducts MntWines MonthsAsCustomer NumCatalogPurchases NumDealsPurchases NumDistPurchases NumStorePurchases
NumWebPurchases NumWebVisitsMonth RFMstat RMntFrq Recency Teenhome Year_Birth ;
87809      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: INITIAL= will be ignored.
NOTE: View WORK.STATEXPLORE_DATA.VIEW used (Total process time):
      real time           0.13 seconds
      cpu time            0.14 seconds
 
NOTE: There were 359 observations read from the data set EMWS8.PART_TRAIN.
      WHERE LEFT(TRIM(PUT(DepVar, BEST12.)))='1';
NOTE: There were 359 observations read from the data set WORK.STATEXPLORE_DATA.
NOTE: The data set WORK._STDIZE has 13 observations and 25 variables.
NOTE: PROCEDURE STDIZE used (Total process time):
      real time           0.14 seconds
      cpu time            0.15 seconds
 
 
87810      proc transpose data=work._STDIZE out=work._TRANSSTDIZE(drop=_LABEL_ rename=(_NAME_=VARIABLE));
MPRINT(EM_DIAGRAM):   proc transpose data=work._STDIZE out=work._TRANSSTDIZE(drop=_LABEL_ rename=(_NAME_=VARIABLE));
87811      id _type_;
MPRINT(EM_DIAGRAM):   id _type_;
87812      where _TYPE_='P50';
MPRINT(EM_DIAGRAM):   where _TYPE_='P50';
87813      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 1 observations read from the data set WORK._STDIZE.
      WHERE _TYPE_='P50';
NOTE: The data set WORK._TRANSSTDIZE has 24 observations and 2 variables.
NOTE: PROCEDURE TRANSPOSE used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
87814      proc sort data=work._TRANSSTDIZE;
MPRINT(EM_DIAGRAM):   proc sort data=work._TRANSSTDIZE;
87815      by VARIABLE;
MPRINT(EM_DIAGRAM):   by VARIABLE;
87816      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 24 observations read from the data set WORK._TRANSSTDIZE.
NOTE: The data set WORK._TRANSSTDIZE has 24 observations and 2 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
87817      proc sort data=work._DMDBVAR;
MPRINT(EM_DIAGRAM):   proc sort data=work._DMDBVAR;
87818      by VARIABLE;
MPRINT(EM_DIAGRAM):   by VARIABLE;
87819      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 24 observations read from the data set WORK._DMDBVAR.
NOTE: The data set WORK._DMDBVAR has 24 observations and 9 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
87820      data WORK.Stat2INTERVAL;
MPRINT(EM_DIAGRAM):   data WORK.Stat2INTERVAL;
87821      merge work._TRANSSTDIZE work._DMDBVAR;
MPRINT(EM_DIAGRAM):   merge work._TRANSSTDIZE work._DMDBVAR;
87822      format N NMISS 8. MIN MAX P50 MEAN STD SKEWNESS KURTOSIS BEST8.3;
MPRINT(EM_DIAGRAM):   format N NMISS 8. MIN MAX P50 MEAN STD SKEWNESS KURTOSIS BEST8.3;
87823      by VARIABLE;
MPRINT(EM_DIAGRAM):   by VARIABLE;
87824      run;
MPRINT(EM_DIAGRAM):   run;
 
WARNING: Multiple lengths were specified for the BY variable VARIABLE by input data sets. This may cause unexpected results.
NOTE: There were 24 observations read from the data set WORK._TRANSSTDIZE.
NOTE: There were 24 observations read from the data set WORK._DMDBVAR.
NOTE: The data set WORK.STAT2INTERVAL has 24 observations and 10 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
87825      proc sort data=WORK.Stat2CLASS;
MPRINT(EM_DIAGRAM):    proc sort data=WORK.Stat2CLASS;
87826      by Variable Level;
MPRINT(EM_DIAGRAM):   by Variable Level;
87827      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 24 observations read from the data set WORK.STAT2CLASS.
NOTE: The data set WORK.STAT2CLASS has 24 observations and 8 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
87828      data WORK.Stat2CLASS;
MPRINT(EM_DIAGRAM):    data WORK.Stat2CLASS;
87829      merge WORK.Stat2CLASS(in=_a) colorindex;
MPRINT(EM_DIAGRAM):   merge WORK.Stat2CLASS(in=_a) colorindex;
87830      by variable level;
MPRINT(EM_DIAGRAM):   by variable level;
87831      if _a then output;
MPRINT(EM_DIAGRAM):   if _a then output;
87832      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 24 observations read from the data set WORK.STAT2CLASS.
NOTE: There were 26 observations read from the data set WORK.COLORINDEX.
NOTE: The data set WORK.STAT2CLASS has 24 observations and 9 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
 
 
87833      data WORK.Stat2INTERVAL;
MPRINT(EM_DIAGRAM):    data WORK.Stat2INTERVAL;
87834      length DATAROLE $20;
MPRINT(EM_DIAGRAM):   length DATAROLE $20;
87835      retain DATAROLE "TRAIN";
MPRINT(EM_DIAGRAM):   retain DATAROLE "TRAIN";
87836      length Target $32 TargetValue $32;
MPRINT(EM_DIAGRAM):   length Target $32 TargetValue $32;
87837      label Target = "%sysfunc(sasmsg(sashelp.dmine, rpt_target_vlabel, NOQUOTE))" TargetValue = "%sysfunc(sasmsg(sashelp.dmine, rpt_targetlevel_vlabel, NOQUOTE))";
MPRINT(EM_DIAGRAM):   label Target = "Target" TargetValue = "Target Level";
87838      Target = "DepVar";
MPRINT(EM_DIAGRAM):   Target = "DepVar";
87839      TargetValue = '1';
MPRINT(EM_DIAGRAM):   TargetValue = '1';
87840      set WORK.Stat2INTERVAL;
MPRINT(EM_DIAGRAM):   set WORK.Stat2INTERVAL;
87841      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 24 observations read from the data set WORK.STAT2INTERVAL.
NOTE: The data set WORK.STAT2INTERVAL has 24 observations and 13 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
87842      proc append base=EMWS8.Stat2_INTERVAL data=WORK.Stat2INTERVAL force;
MPRINT(EM_DIAGRAM):   proc append base=EMWS8.Stat2_INTERVAL data=WORK.Stat2INTERVAL force;
87843      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: Appending WORK.STAT2INTERVAL to EMWS8.STAT2_INTERVAL.
NOTE: There were 24 observations read from the data set WORK.STAT2INTERVAL.
NOTE: 24 observations added.
NOTE: The data set EMWS8.STAT2_INTERVAL has 72 observations and 13 variables.
NOTE: PROCEDURE APPEND used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
87844      data WORK.Stat2CLASS;
MPRINT(EM_DIAGRAM):    data WORK.Stat2CLASS;
87845      length DATAROLE $20;
MPRINT(EM_DIAGRAM):   length DATAROLE $20;
87846      retain DATAROLE "TRAIN";
MPRINT(EM_DIAGRAM):   retain DATAROLE "TRAIN";
87847      length Target $32 TargetValue $32;
MPRINT(EM_DIAGRAM):   length Target $32 TargetValue $32;
87848      label Target = "%sysfunc(sasmsg(sashelp.dmine, rpt_target_vlabel, NOQUOTE))" TargetValue = "%sysfunc(sasmsg(sashelp.dmine, rpt_targetlevel_vlabel, NOQUOTE))";
MPRINT(EM_DIAGRAM):   label Target = "Target" TargetValue = "Target Level";
87849      Target = "DepVar";
MPRINT(EM_DIAGRAM):   Target = "DepVar";
87850      TargetValue = '1';
MPRINT(EM_DIAGRAM):   TargetValue = '1';
87851      set WORK.Stat2CLASS;
MPRINT(EM_DIAGRAM):   set WORK.Stat2CLASS;
87852      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 24 observations read from the data set WORK.STAT2CLASS.
NOTE: The data set WORK.STAT2CLASS has 24 observations and 12 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
 
 
87853      proc append base=EMWS8.Stat2_CLASS data=WORK.Stat2CLASS force;
MPRINT(EM_DIAGRAM):   proc append base=EMWS8.Stat2_CLASS data=WORK.Stat2CLASS force;
87854      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: Appending WORK.STAT2CLASS to EMWS8.STAT2_CLASS.
NOTE: There were 24 observations read from the data set WORK.STAT2CLASS.
NOTE: 24 observations added.
NOTE: The data set EMWS8.STAT2_CLASS has 74 observations and 12 variables.
NOTE: PROCEDURE APPEND used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
87855      proc sort data=EMWS8.Stat2_VariableSet out=tempVariable(keep=name label role rename=(name=variable));
MPRINT(EM_DIAGRAM):    proc sort data=EMWS8.Stat2_VariableSet out=tempVariable(keep=name label role rename=(name=variable));
87856      by name;
MPRINT(EM_DIAGRAM):   by name;
87857      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 36 observations read from the data set EMWS8.STAT2_VARIABLESET.
NOTE: The data set WORK.TEMPVARIABLE has 36 observations and 3 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
87858      proc sort data=EMWS8.Stat2_CLASS;
MPRINT(EM_DIAGRAM):   proc sort data=EMWS8.Stat2_CLASS;
87859      by Variable;
MPRINT(EM_DIAGRAM):   by Variable;
87860      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 74 observations read from the data set EMWS8.STAT2_CLASS.
NOTE: The data set EMWS8.STAT2_CLASS has 74 observations and 12 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
87861      data EMWS8.Stat2_CLASS;
MPRINT(EM_DIAGRAM):   data EMWS8.Stat2_CLASS;
87862      merge EMWS8.Stat2_CLASS(in=_a) tempVariable;
MPRINT(EM_DIAGRAM):   merge EMWS8.Stat2_CLASS(in=_a) tempVariable;
87863      by variable;
MPRINT(EM_DIAGRAM):   by variable;
87864      if label = '' then label=Variable;
MPRINT(EM_DIAGRAM):   if label = '' then label=Variable;
87865      if _a then output;
MPRINT(EM_DIAGRAM):   if _a then output;
87866      run;
MPRINT(EM_DIAGRAM):   run;
 
WARNING: Multiple lengths were specified for the BY variable VARIABLE by input data sets. This may cause unexpected results.
NOTE: There were 74 observations read from the data set EMWS8.STAT2_CLASS.
NOTE: There were 36 observations read from the data set WORK.TEMPVARIABLE.
NOTE: The data set EMWS8.STAT2_CLASS has 74 observations and 14 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
 
 
87867      proc sort data=EMWS8.Stat2_INTERVAL NOTHREADS;
MPRINT(EM_DIAGRAM):    proc sort data=EMWS8.Stat2_INTERVAL NOTHREADS;
87868      by DATAROLE
87869      Target TargetValue
87870      ;
MPRINT(EM_DIAGRAM):   by DATAROLE Target TargetValue ;
87871      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 72 observations read from the data set EMWS8.STAT2_INTERVAL.
NOTE: The data set EMWS8.STAT2_INTERVAL has 72 observations and 13 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
MPRINT(EM_DIAGRAM):   run;
87872      run;
87873      proc sort data=EMWS8.Stat2_VariableSet out=tempVariable(keep=name label role rename=(name=variable));
MPRINT(EM_DIAGRAM):   proc sort data=EMWS8.Stat2_VariableSet out=tempVariable(keep=name label role rename=(name=variable));
87874      by name;
MPRINT(EM_DIAGRAM):   by name;
87875      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 36 observations read from the data set EMWS8.STAT2_VARIABLESET.
NOTE: The data set WORK.TEMPVARIABLE has 36 observations and 3 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
 
 
87876      proc sort data=EMWS8.Stat2_INTERVAL;
MPRINT(EM_DIAGRAM):   proc sort data=EMWS8.Stat2_INTERVAL;
87877      by Variable;
MPRINT(EM_DIAGRAM):   by Variable;
87878      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 72 observations read from the data set EMWS8.STAT2_INTERVAL.
NOTE: The data set EMWS8.STAT2_INTERVAL has 72 observations and 13 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
87879      data EMWS8.Stat2_INTERVAL;
MPRINT(EM_DIAGRAM):   data EMWS8.Stat2_INTERVAL;
87880      merge EMWS8.Stat2_INTERVAL(in=_a) tempVariable;
MPRINT(EM_DIAGRAM):   merge EMWS8.Stat2_INTERVAL(in=_a) tempVariable;
87881      by variable;
MPRINT(EM_DIAGRAM):   by variable;
87882      if label = '' then label=Variable;
MPRINT(EM_DIAGRAM):   if label = '' then label=Variable;
87883      if _a then output;
MPRINT(EM_DIAGRAM):   if _a then output;
87884      run;
MPRINT(EM_DIAGRAM):   run;
 
WARNING: Multiple lengths were specified for the BY variable VARIABLE by input data sets. This may cause unexpected results.
NOTE: There were 72 observations read from the data set EMWS8.STAT2_INTERVAL.
NOTE: There were 36 observations read from the data set WORK.TEMPVARIABLE.
NOTE: The data set EMWS8.STAT2_INTERVAL has 72 observations and 15 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
87885      proc datasets library=EMWS8 nolist;
MPRINT(EM_DIAGRAM):   proc datasets library=EMWS8 nolist;
87886      modify Stat2_INTERVAL;
MPRINT(EM_DIAGRAM):   modify Stat2_INTERVAL;
MPRINT(EM_DIAGRAM):   label DATAROLE = "Data Role";
87887      label DATAROLE = "%sysfunc(sasmsg(sashelp.dmine, rpt_datarole_vlabel, NOQUOTE))";
MPRINT(EM_DIAGRAM):   label Variable = "Variable";
87888      label Variable = "%sysfunc(sasmsg(sashelp.dmine, rpt_variable_vlabel, NOQUOTE))";
MPRINT(EM_DIAGRAM):   label MEAN = "Mean";
87889      label MEAN = "%sysfunc(sasmsg(sashelp.dmine, rpt_mean_vlabel,    NOQUOTE))";
MPRINT(EM_DIAGRAM):   label N = "Non Missing";
87890      label N = "%sysfunc(sasmsg(sashelp.dmine, rpt_nonMiss_vlabel, NOQUOTE))";
MPRINT(EM_DIAGRAM):   label STD = "Standard Deviation";
87891      label STD = "%sysfunc(sasmsg(sashelp.dmine, rpt_std_vlabel,     NOQUOTE))";
MPRINT(EM_DIAGRAM):   label NMISS = "Missing";
87892      label NMISS = "%sysfunc(sasmsg(sashelp.dmine, rpt_missing_vlabel, NOQUOTE))";
MPRINT(EM_DIAGRAM):   label p50 = "Median";
87893      label p50 = "%sysfunc(sasmsg(sashelp.dmine, rpt_median_vlabel, NOQUOTE))";
MPRINT(EM_DIAGRAM):   label MIN = "Minimum";
87894      label MIN = "%sysfunc(sasmsg(sashelp.dmine, rpt_minimum_vlabel, NOQUOTE))";
MPRINT(EM_DIAGRAM):   label MAX = "Maximum";
87895      label MAX = "%sysfunc(sasmsg(sashelp.dmine, rpt_maximum_vlabel, NOQUOTE))";
MPRINT(EM_DIAGRAM):   label SKEWNESS = "Skewness";
87896      label SKEWNESS = "%sysfunc(sasmsg(sashelp.dmine, rpt_skewness_vlabel, NOQUOTE))";
MPRINT(EM_DIAGRAM):   label KURTOSIS = "Kurtosis";
87897      label KURTOSIS = "%sysfunc(sasmsg(sashelp.dmine, rpt_kurtosis_vlabel, NOQUOTE))";
87898      label TARGET = "%sysfunc(sasmsg(sashelp.dmine, rpt_target_vlabel,   NOQUOTE))" TARGETVALUE = "%sysfunc(sasmsg(sashelp.dmine, rpt_targetLevel_vlabel,   NOQUOTE))";
MPRINT(EM_DIAGRAM):   label TARGET = "Target" TARGETVALUE = "Target Level";
MPRINT(EM_DIAGRAM):   run;
87899      run;
 
NOTE: MODIFY was successful for EMWS8.STAT2_INTERVAL.DATA.
 
NOTE: PROCEDURE DATASETS used (Total process time):
      real time           0.11 seconds
      cpu time            0.10 seconds
 
 
87900      proc sort data=EMWS8.Stat2_CLASS NOTHREADS;
MPRINT(EM_DIAGRAM):   proc sort data=EMWS8.Stat2_CLASS NOTHREADS;
87901      by DATAROLE ROLE Variable descending COUNT;
MPRINT(EM_DIAGRAM):   by DATAROLE ROLE Variable descending COUNT;
87902      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 74 observations read from the data set EMWS8.STAT2_CLASS.
NOTE: The data set EMWS8.STAT2_CLASS has 74 observations and 14 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
87903      data WORK.Stat2CLASS(keep=DATAROLE Variable ROLE Numcat Nmiss Mode ModePct Mode2 Mode2Pct);
MPRINT(EM_DIAGRAM):   data WORK.Stat2CLASS(keep=DATAROLE Variable ROLE Numcat Nmiss Mode ModePct Mode2 Mode2Pct);
87904      set EMWS8.Stat2_CLASS;
MPRINT(EM_DIAGRAM):   set EMWS8.Stat2_CLASS;
87905      length Mode Mode2 $32;
MPRINT(EM_DIAGRAM):   length Mode Mode2 $32;
87906      retain NMiss 0 ModePct 0 Mode2Pct 0 Mode '' Mode2 '';
MPRINT(EM_DIAGRAM):   retain NMiss 0 ModePct 0 Mode2Pct 0 Mode '' Mode2 '';
87907      by DATAROLE ROLE Variable;
MPRINT(EM_DIAGRAM):   by DATAROLE ROLE Variable;
87908      if first.DATAROLE or first.variable then do;
MPRINT(EM_DIAGRAM):   if first.DATAROLE or first.variable then do;
87909      Numcat = 1;
MPRINT(EM_DIAGRAM):   Numcat = 1;
87910      NMiss = 0;
MPRINT(EM_DIAGRAM):   NMiss = 0;
87911      Mode = strip(LEVEL);
MPRINT(EM_DIAGRAM):   Mode = strip(LEVEL);
87912      ModePct = PERCENT;
MPRINT(EM_DIAGRAM):   ModePct = PERCENT;
87913      Mode2 = '';
MPRINT(EM_DIAGRAM):   Mode2 = '';
87914      Mode2Pct = 0;
MPRINT(EM_DIAGRAM):   Mode2Pct = 0;
87915      end;
MPRINT(EM_DIAGRAM):   end;
87916      else Numcat +1;
MPRINT(EM_DIAGRAM):   else Numcat +1;
87917      if Numcat =2 then do;
MPRINT(EM_DIAGRAM):   if Numcat =2 then do;
87918      Mode2 = strip(LEVEL);
MPRINT(EM_DIAGRAM):   Mode2 = strip(LEVEL);
87919      Mode2Pct = PERCENT;
MPRINT(EM_DIAGRAM):   Mode2Pct = PERCENT;
87920      end;
MPRINT(EM_DIAGRAM):   end;
87921      if NRAW=. and CRAW='' then NMiss= COUNT;
MPRINT(EM_DIAGRAM):   if NRAW=. and CRAW='' then NMiss= COUNT;
87922      if last.DATAROLE or last.variable then output;
MPRINT(EM_DIAGRAM):   if last.DATAROLE or last.variable then output;
87923      where TARGET='_OVERALL_';
MPRINT(EM_DIAGRAM):   where TARGET='_OVERALL_';
87924      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 26 observations read from the data set EMWS8.STAT2_CLASS.
      WHERE TARGET='_OVERALL_';
NOTE: The data set WORK.STAT2CLASS has 10 observations and 9 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
 
 
87925      %let _cn = %sysfunc(getoption(CENTER));
87926      %let _nb = %sysfunc(getoption(NUMBER));
87927      options nonumber nocenter;
MPRINT(EM_DIAGRAM):   options nonumber nocenter;
87928      title;
MPRINT(EM_DIAGRAM):   title;
87929      title9 ' ';
MPRINT(EM_DIAGRAM):   title9 ' ';
87930      proc print data=WORK.Stat2CLASS(obs=500) label noobs;
MPRINT(EM_DIAGRAM):   proc print data=WORK.Stat2CLASS(obs=500) label noobs;
87931      var DATAROLE VARIABLE ROLE NUMCAT NMISS Mode ModePct Mode2 Mode2Pct;
MPRINT(EM_DIAGRAM):   var DATAROLE VARIABLE ROLE NUMCAT NMISS Mode ModePct Mode2 Mode2Pct;
87932      label DATAROLE = "%sysfunc(sasmsg(sashelp.dmine, rpt_datarole_vlabel, NOQUOTE))" ROLE = "%sysfunc(sasmsg(sashelp.dmine, meta_role_vlabel, NOQUOTE))" NUMCAT = "%sysfunc(sasmsg(sashelp.dmine, rpt_numcat_vlabel,   NOQUOTE))" NMISS =
87933         "%sysfunc(sasmsg(sashelp.dmine, rpt_missing_vlabel,  NOQUOTE))" MODE = "%sysfunc(sasmsg(sashelp.dmine, rpt_mode_vlabel,     NOQUOTE))" MODEPCT = "%sysfunc(sasmsg(sashelp.dmine, rpt_modepct_vlabel,  NOQUOTE))" MODE2 =
87934         "%sysfunc(sasmsg(sashelp.dmine, rpt_mode2_vlabel,     NOQUOTE))" MODE2PCT = "%sysfunc(sasmsg(sashelp.dmine, rpt_mode2pct_vlabel, NOQUOTE))";
MPRINT(EM_DIAGRAM):   label DATAROLE = "Data Role" ROLE = "Role" NUMCAT = "Number of Levels" NMISS = "Missing" MODE = "Mode" MODEPCT = "Mode Percentage" MODE2 = "Mode2" MODE2PCT = "Mode2 Percentage";
87935      format ModePct Mode2Pct 5.2;
MPRINT(EM_DIAGRAM):   format ModePct Mode2Pct 5.2;
87936      by DATAROLE;
MPRINT(EM_DIAGRAM):   by DATAROLE;
87937      title9 "%sysfunc(sasmsg(sashelp.dmine, rpt_classStats_title,     NOQUOTE))";
MPRINT(EM_DIAGRAM):   title9 "Class Variable Summary Statistics";
87938      title10 "%sysfunc(sasmsg(sashelp.dmine, rpt_maxObsPrinted_title,  NOQUOTE))";
MPRINT(EM_DIAGRAM):   title10 "(maximum 500 observations printed)";
MPRINT(EM_DIAGRAM):   run;
87939      run;
 
NOTE: There were 10 observations read from the data set WORK.STAT2CLASS.
NOTE: The PROCEDURE PRINT printed page 31.
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
87940      proc print data=EMWS8.Stat2_CLASS(obs=500) noobs label;
MPRINT(EM_DIAGRAM):   proc print data=EMWS8.Stat2_CLASS(obs=500) noobs label;
87941      var DATAROLE VARIABLE ROLE LEVEL COUNT PERCENT;
MPRINT(EM_DIAGRAM):   var DATAROLE VARIABLE ROLE LEVEL COUNT PERCENT;
87942      where ROLE in('TARGET', 'SEGMENT');
MPRINT(EM_DIAGRAM):   where ROLE in('TARGET', 'SEGMENT');
87943      by DATAROLE;
MPRINT(EM_DIAGRAM):   by DATAROLE;
87944      label DATAROLE = "%sysfunc(sasmsg(sashelp.dmine,  rpt_datarole_vlabel, NOQUOTE))" ROLE = "%sysfunc(sasmsg(sashelp.dmine, meta_role_vlabel,          NOQUOTE))" LEVEL = "%sysfunc(sasmsg(sashelp.dmine, rpt_level_vlabel,          NOQUOTE))" COUNT =
87945         "%sysfunc(sasmsg(sashelp.dmine, rpt_count_vlabel,          NOQUOTE))" PERCENT = "%sysfunc(sasmsg(sashelp.dmine, rpt_percent_vlabel,        NOQUOTE))";
MPRINT(EM_DIAGRAM):   label DATAROLE = "Data Role" ROLE = "Role" LEVEL = "Level" COUNT = "Frequency Count" PERCENT = "Percent";
87946      title9 "%sysfunc(sasmsg(sashelp.dmine, rpt_classTargetSegmentDist_title, NOQUOTE))";
MPRINT(EM_DIAGRAM):   title9 "Distribution of Class Target and Segment Variables";
87947      title10 "%sysfunc(sasmsg(sashelp.dmine, rpt_maxObsPrinted_title,          NOQUOTE))";
MPRINT(EM_DIAGRAM):   title10 "(maximum 500 observations printed)";
MPRINT(EM_DIAGRAM):   run;
87948      run;
 
NOTE: There were 2 observations read from the data set EMWS8.STAT2_CLASS.
      WHERE ROLE in ('SEGMENT', 'TARGET');
NOTE: The PROCEDURE PRINT printed page 32.
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
87949      title9;
MPRINT(EM_DIAGRAM):   title9;
87950      title10;
MPRINT(EM_DIAGRAM):   title10;
87951      options &_cn &_nb;
MPRINT(EM_DIAGRAM):   options NOCENTER NONUMBER;
87952      data WORK.Stat2INTERVALSUMMARY;
MPRINT(EM_DIAGRAM):    data WORK.Stat2INTERVALSUMMARY;
87953      set EMWS8.Stat2_INTERVAL;
MPRINT(EM_DIAGRAM):   set EMWS8.Stat2_INTERVAL;
87954      length ROLE $32;
MPRINT(EM_DIAGRAM):   length ROLE $32;
87955      where TARGET='_OVERALL_';
MPRINT(EM_DIAGRAM):   where TARGET='_OVERALL_';
87956      if Variable = "AcceptedCmpTotal" then ROLE="INPUT";
MPRINT(EM_DIAGRAM):   if Variable = "AcceptedCmpTotal" then ROLE="INPUT";
87957      else
87958      if Variable = "Age" then ROLE="INPUT";
MPRINT(EM_DIAGRAM):   else if Variable = "Age" then ROLE="INPUT";
87959      else
87960      if Variable = "Frq" then ROLE="INPUT";
MPRINT(EM_DIAGRAM):   else if Variable = "Frq" then ROLE="INPUT";
87961      else
87962      if Variable = "Income" then ROLE="INPUT";
MPRINT(EM_DIAGRAM):   else if Variable = "Income" then ROLE="INPUT";
87963      else
87964      if Variable = "Kidhome" then ROLE="INPUT";
MPRINT(EM_DIAGRAM):   else if Variable = "Kidhome" then ROLE="INPUT";
87965      else
87966      if Variable = "Mnt" then ROLE="INPUT";
MPRINT(EM_DIAGRAM):   else if Variable = "Mnt" then ROLE="INPUT";
87967      else
87968      if Variable = "MntFishProducts" then ROLE="INPUT";
MPRINT(EM_DIAGRAM):   else if Variable = "MntFishProducts" then ROLE="INPUT";
87969      else
87970      if Variable = "MntFruits" then ROLE="INPUT";
MPRINT(EM_DIAGRAM):   else if Variable = "MntFruits" then ROLE="INPUT";
87971      else
87972      if Variable = "MntGoldProds" then ROLE="INPUT";
MPRINT(EM_DIAGRAM):   else if Variable = "MntGoldProds" then ROLE="INPUT";
87973      else
87974      if Variable = "MntMeatProducts" then ROLE="INPUT";
MPRINT(EM_DIAGRAM):   else if Variable = "MntMeatProducts" then ROLE="INPUT";
87975      else
87976      if Variable = "MntSweetProducts" then ROLE="INPUT";
MPRINT(EM_DIAGRAM):   else if Variable = "MntSweetProducts" then ROLE="INPUT";
87977      else
87978      if Variable = "MntWines" then ROLE="INPUT";
MPRINT(EM_DIAGRAM):   else if Variable = "MntWines" then ROLE="INPUT";
87979      else
87980      if Variable = "MonthsAsCustomer" then ROLE="INPUT";
MPRINT(EM_DIAGRAM):   else if Variable = "MonthsAsCustomer" then ROLE="INPUT";
87981      else
87982      if Variable = "NumCatalogPurchases" then ROLE="INPUT";
MPRINT(EM_DIAGRAM):   else if Variable = "NumCatalogPurchases" then ROLE="INPUT";
87983      else
87984      if Variable = "NumDealsPurchases" then ROLE="INPUT";
MPRINT(EM_DIAGRAM):   else if Variable = "NumDealsPurchases" then ROLE="INPUT";
87985      else
87986      if Variable = "NumDistPurchases" then ROLE="INPUT";
MPRINT(EM_DIAGRAM):   else if Variable = "NumDistPurchases" then ROLE="INPUT";
87987      else
87988      if Variable = "NumStorePurchases" then ROLE="INPUT";
MPRINT(EM_DIAGRAM):   else if Variable = "NumStorePurchases" then ROLE="INPUT";
87989      else
87990      if Variable = "NumWebPurchases" then ROLE="INPUT";
MPRINT(EM_DIAGRAM):   else if Variable = "NumWebPurchases" then ROLE="INPUT";
87991      else
87992      if Variable = "NumWebVisitsMonth" then ROLE="INPUT";
MPRINT(EM_DIAGRAM):   else if Variable = "NumWebVisitsMonth" then ROLE="INPUT";
87993      else
87994      if Variable = "RFMstat" then ROLE="INPUT";
MPRINT(EM_DIAGRAM):   else if Variable = "RFMstat" then ROLE="INPUT";
87995      else
87996      if Variable = "RMntFrq" then ROLE="INPUT";
MPRINT(EM_DIAGRAM):   else if Variable = "RMntFrq" then ROLE="INPUT";
87997      else
87998      if Variable = "Recency" then ROLE="INPUT";
MPRINT(EM_DIAGRAM):   else if Variable = "Recency" then ROLE="INPUT";
87999      else
88000      if Variable = "Teenhome" then ROLE="INPUT";
MPRINT(EM_DIAGRAM):   else if Variable = "Teenhome" then ROLE="INPUT";
88001      else
88002      if Variable = "Year_Birth" then ROLE="INPUT";
MPRINT(EM_DIAGRAM):   else if Variable = "Year_Birth" then ROLE="INPUT";
88003      else
88004      if Variable = "_dataobs_" then ROLE="ID";
MPRINT(EM_DIAGRAM):   else if Variable = "_dataobs_" then ROLE="ID";
88005      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 24 observations read from the data set EMWS8.STAT2_INTERVAL.
      WHERE TARGET='_OVERALL_';
NOTE: The data set WORK.STAT2INTERVALSUMMARY has 24 observations and 15 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
88006      proc sort data=WORK.Stat2INTERVALSUMMARY NOTHREADS;
MPRINT(EM_DIAGRAM):    proc sort data=WORK.Stat2INTERVALSUMMARY NOTHREADS;
88007      by DATAROLE ROLE Variable;
MPRINT(EM_DIAGRAM):   by DATAROLE ROLE Variable;
88008      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 24 observations read from the data set WORK.STAT2INTERVALSUMMARY.
NOTE: The data set WORK.STAT2INTERVALSUMMARY has 24 observations and 15 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
88009      %let _cn = %sysfunc(getoption(CENTER));
88010      %let _nb = %sysfunc(getoption(NUMBER));
88011      options nonumber nocenter;
MPRINT(EM_DIAGRAM):   options nonumber nocenter;
88012      title;
MPRINT(EM_DIAGRAM):   title;
88013      proc print data=WORK.Stat2INTERVALSUMMARY(obs=500) label noobs;
MPRINT(EM_DIAGRAM):   proc print data=WORK.Stat2INTERVALSUMMARY(obs=500) label noobs;
88014      var Variable ROLE MEAN STD N NMISS MIN P50 MAX SKEWNESS KURTOSIS;
MPRINT(EM_DIAGRAM):   var Variable ROLE MEAN STD N NMISS MIN P50 MAX SKEWNESS KURTOSIS;
88015      by DATAROLE;
MPRINT(EM_DIAGRAM):   by DATAROLE;
88016      title9 "%sysfunc(sasmsg(sashelp.dmine, rpt_intervalStats_title, NOQUOTE))";
MPRINT(EM_DIAGRAM):   title9 "Interval Variable Summary Statistics";
88017      title10 "%sysfunc(sasmsg(sashelp.dmine, rpt_maxObsPrinted_title, NOQUOTE))";
MPRINT(EM_DIAGRAM):   title10 "(maximum 500 observations printed)";
MPRINT(EM_DIAGRAM):   run;
88018      run;
 
NOTE: There were 24 observations read from the data set WORK.STAT2INTERVALSUMMARY.
NOTE: The PROCEDURE PRINT printed page 33.
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
88019      title9;
MPRINT(EM_DIAGRAM):   title9;
88020      title10;
MPRINT(EM_DIAGRAM):   title10;
88021      options &_cn &_nb;
MPRINT(EM_DIAGRAM):   options NOCENTER NONUMBER;
88022      proc sort data=EMWS8.Stat2_CLASS NOTHREADS;
MPRINT(EM_DIAGRAM):    proc sort data=EMWS8.Stat2_CLASS NOTHREADS;
88023      by DATAROLE DATAROLE Target TargetValue Variable descending COUNT;
MPRINT(EM_DIAGRAM):   by DATAROLE DATAROLE Target TargetValue Variable descending COUNT;
88024      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 74 observations read from the data set EMWS8.STAT2_CLASS.
NOTE: Duplicate BY variable(s) specified. Duplicates will be ignored.
NOTE: The data set EMWS8.STAT2_CLASS has 74 observations and 14 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
88025      data WORK.Stat2CLASS(keep=DATAROLE Target TargetValue DATAROLE Variable Numcat NMiss Mode ModePct Mode2 Mode2Pct );
MPRINT(EM_DIAGRAM):   data WORK.Stat2CLASS(keep=DATAROLE Target TargetValue DATAROLE Variable Numcat NMiss Mode ModePct Mode2 Mode2Pct );
88026      set EMWS8.Stat2_CLASS;
MPRINT(EM_DIAGRAM):   set EMWS8.Stat2_CLASS;
88027      length Mode Mode2 $32;
MPRINT(EM_DIAGRAM):   length Mode Mode2 $32;
88028      retain NMiss 0 ModePct 0 Mode2Pct 0 Mode '' Mode2 '';
MPRINT(EM_DIAGRAM):   retain NMiss 0 ModePct 0 Mode2Pct 0 Mode '' Mode2 '';
88029      by DATAROLE DATAROLE Target TargetValue Variable;
MPRINT(EM_DIAGRAM):   by DATAROLE DATAROLE Target TargetValue Variable;
88030      if first.datarole or first.variable then do;
MPRINT(EM_DIAGRAM):   if first.datarole or first.variable then do;
88031      Numcat = 1;
MPRINT(EM_DIAGRAM):   Numcat = 1;
88032      NMiss = 0;
MPRINT(EM_DIAGRAM):   NMiss = 0;
88033      Mode = LEVEL;
MPRINT(EM_DIAGRAM):   Mode = LEVEL;
88034      ModePct = PERCENT;
MPRINT(EM_DIAGRAM):   ModePct = PERCENT;
88035      Mode2 = '';
MPRINT(EM_DIAGRAM):   Mode2 = '';
88036      Mode2Pct = 0;
MPRINT(EM_DIAGRAM):   Mode2Pct = 0;
88037      end;
MPRINT(EM_DIAGRAM):   end;
88038      else Numcat +1;
MPRINT(EM_DIAGRAM):   else Numcat +1;
88039      if Numcat =2 then do;
MPRINT(EM_DIAGRAM):   if Numcat =2 then do;
88040      Mode2 = LEVEL;
MPRINT(EM_DIAGRAM):   Mode2 = LEVEL;
88041      Mode2Pct = PERCENT;
MPRINT(EM_DIAGRAM):   Mode2Pct = PERCENT;
88042      end;
MPRINT(EM_DIAGRAM):   end;
88043      if NRAW=. and CRAW='' then NMiss= COUNT;
MPRINT(EM_DIAGRAM):   if NRAW=. and CRAW='' then NMiss= COUNT;
88044      if last.datarole or last.variable then output;
MPRINT(EM_DIAGRAM):   if last.datarole or last.variable then output;
88045      where ROLE ^in('TARGET', 'SEGMENT');
MPRINT(EM_DIAGRAM):   where ROLE ^in('TARGET', 'SEGMENT');
88046      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 72 observations read from the data set EMWS8.STAT2_CLASS.
      WHERE ROLE not in ('SEGMENT', 'TARGET');
NOTE: The data set WORK.STAT2CLASS has 27 observations and 10 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
88047      proc sort data=WORK.Stat2CLASS NOTHREADS;
MPRINT(EM_DIAGRAM):   proc sort data=WORK.Stat2CLASS NOTHREADS;
88048      by DATAROLE
88049      VARIABLE Target TargetValue;
MPRINT(EM_DIAGRAM):   by DATAROLE VARIABLE Target TargetValue;
88050      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 27 observations read from the data set WORK.STAT2CLASS.
NOTE: The data set WORK.STAT2CLASS has 27 observations and 10 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
88051      %let _cn = %sysfunc(getoption(CENTER));
88052      %let _nb = %sysfunc(getoption(NUMBER));
88053      options nonumber nocenter;
MPRINT(EM_DIAGRAM):   options nonumber nocenter;
88054      title;
MPRINT(EM_DIAGRAM):   title;
88055      title9 ' ';
MPRINT(EM_DIAGRAM):   title9 ' ';
88056      proc print data=WORK.Stat2CLASS(obs=500) label noobs;
MPRINT(EM_DIAGRAM):   proc print data=WORK.Stat2CLASS(obs=500) label noobs;
88057      label DATAROLE = "%sysfunc(sasmsg(sashelp.dmine, rpt_datarole_vlabel, NOQUOTE))" NUMCAT = "%sysfunc(sasmsg(sashelp.dmine, rpt_numcat_vlabel,   NOQUOTE))" NMISS = "%sysfunc(sasmsg(sashelp.dmine, rpt_missing_vlabel,  NOQUOTE))" MODE =
88058         "%sysfunc(sasmsg(sashelp.dmine, rpt_mode_vlabel,     NOQUOTE))" MODEPCT = "%sysfunc(sasmsg(sashelp.dmine, rpt_modepct_vlabel,  NOQUOTE))" MODE2 = "%sysfunc(sasmsg(sashelp.dmine, rpt_mode2_vlabel,     NOQUOTE))" MODE2PCT =
88059         "%sysfunc(sasmsg(sashelp.dmine, rpt_mode2pct_vlabel, NOQUOTE))";
MPRINT(EM_DIAGRAM):   label DATAROLE = "Data Role" NUMCAT = "Number of Levels" NMISS = "Missing" MODE = "Mode" MODEPCT = "Mode Percentage" MODE2 = "Mode2" MODE2PCT = "Mode2 Percentage";
88060      format ModePct Mode2Pct 5.2;
MPRINT(EM_DIAGRAM):   format ModePct Mode2Pct 5.2;
88061      by DATAROLE;
MPRINT(EM_DIAGRAM):   by DATAROLE;
88062      label TARGET = "%sysfunc(sasmsg(sashelp.dmine, rpt_target_vlabel,   NOQUOTE))" TARGETVALUE = "%sysfunc(sasmsg(sashelp.dmine, rpt_targetLevel_vlabel,   NOQUOTE))";
MPRINT(EM_DIAGRAM):   label TARGET = "Target" TARGETVALUE = "Target Level";
88063      var Target TargetValue NumCat NMiss Mode ModePct Mode2 Mode2Pct;
MPRINT(EM_DIAGRAM):   var Target TargetValue NumCat NMiss Mode ModePct Mode2 Mode2Pct;
88064      by DATAROLE VARIABLE;
MPRINT(EM_DIAGRAM):   by DATAROLE VARIABLE;
88065      title9 "Class Variable Summary Statistics by Class Target";
MPRINT(EM_DIAGRAM):   title9 "Class Variable Summary Statistics by Class Target";
88066      title10 "%sysfunc(sasmsg(sashelp.dmine, rpt_maxObsPrinted_title, NOQUOTE))";
MPRINT(EM_DIAGRAM):   title10 "(maximum 500 observations printed)";
MPRINT(EM_DIAGRAM):   run;
88067      run;
 
NOTE: There were 27 observations read from the data set WORK.STAT2CLASS.
NOTE: The PROCEDURE PRINT printed page 34.
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
88068      title9;
MPRINT(EM_DIAGRAM):   title9;
88069      title10;
MPRINT(EM_DIAGRAM):   title10;
88070      options &_cn &_nb;
MPRINT(EM_DIAGRAM):   options NOCENTER NONUMBER;
88071      proc sort data=EMWS8.Stat2_INTERVAL NOTHREADS;
MPRINT(EM_DIAGRAM):    proc sort data=EMWS8.Stat2_INTERVAL NOTHREADS;
88072      by DATAROLE Variable
88073      Target
88074      TargetValue
88075      ;
MPRINT(EM_DIAGRAM):   by DATAROLE Variable Target TargetValue ;
88076      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 72 observations read from the data set EMWS8.STAT2_INTERVAL.
NOTE: The data set EMWS8.STAT2_INTERVAL has 72 observations and 15 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
 
 
88077      %let _cn = %sysfunc(getoption(CENTER));
88078      %let _nb = %sysfunc(getoption(NUMBER));
88079      options nonumber nocenter;
MPRINT(EM_DIAGRAM):   options nonumber nocenter;
88080      title;
MPRINT(EM_DIAGRAM):   title;
88081      proc print data=EMWS8.Stat2_INTERVAL(obs=500) label noobs;
MPRINT(EM_DIAGRAM):   proc print data=EMWS8.Stat2_INTERVAL(obs=500) label noobs;
88082      by DATAROLE Variable
88083      ;
MPRINT(EM_DIAGRAM):   by DATAROLE Variable ;
88084      title9 "Interval Variable Summary Statistics by Class Target";
MPRINT(EM_DIAGRAM):   title9 "Interval Variable Summary Statistics by Class Target";
88085      title10 "%sysfunc(sasmsg(sashelp.dmine, rpt_maxObsPrinted_title, NOQUOTE))";
MPRINT(EM_DIAGRAM):   title10 "(maximum 500 observations printed)";
MPRINT(EM_DIAGRAM):   run;
88086      run;
 
NOTE: There were 72 observations read from the data set EMWS8.STAT2_INTERVAL.
NOTE: The PROCEDURE PRINT printed page 35.
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.03 seconds
      cpu time            0.03 seconds
 
 
88087      title9;
MPRINT(EM_DIAGRAM):   title9;
88088      title10;
MPRINT(EM_DIAGRAM):   title10;
88089      options &_cn &_nb;
MPRINT(EM_DIAGRAM):   options NOCENTER NONUMBER;
88090      %let EM_CODEBAR = *------------------------------------------------------------*;
88091      filename _fref catalog 'sashelp.emutil.var_binfmt.source';
MPRINT(EM_DIAGRAM):    filename _fref catalog 'sashelp.emutil.var_binfmt.source';
88092      %inc _fref;
NOTE: %INCLUDE (level 1) file _FREF is file SASHELP.EMUTIL.VAR_BINFMT.SOURCE.
88093     +%macro var_binfmt(DATA=, VARS=, METADATA=, STATDATA= ,BINFMTDATA= , MIDPOINTFMT=Y, OUTLIER=N, FREQ=, NUMBARS=8);
88094     +   %let _em_nodeid = EM;
88095     +   %if %symexist(EM_NODEID) %then %do;
88096     +       %let _em_nodeid = &em_nodeid;
88097     +   %end;
88099     +   /* Process metadata data set */
88100     +   filename _mac catalog 'WORK.EMEXPL.VARIABLES.SOURCE';
88101     +   %if %sysfunc(exist(&metadata))>0 and (&metadata ne ) %then %do;
88102     +       %let FREQ=;
88103     +       %let _nobs=0;
88104     +       data _null;
88105     +          set &metadata(where=(LEVEL = 'INTERVAL' and ROLE ne 'FREQ')) end=eof;
88106     +          if eof then call symput('_nobs', put(_N_, best.));
88107     +       run;
88108     +       %if "&_nobs" ne "0" %then %do;
88109     +           data _null_;
88110     +              file _mac;
88111     +              length _VARS $80; retain _vars;
88112     +              if _n_ =1 then put '%macro _vars;';
88113     +              set &metadata end=eof;
88114     +              where LEVEL = 'INTERVAL' or ROLE='FREQ';
88115     +              if ROLE='FREQ' then call symput('FREQ', NAME);
88116     +              else do;
88117     +                 if length(strip(_vars)) + length(strip(NAME)) + 1 <80  then
88118     +                    _vars = strip(_vars)!! ' ' !!strip(NAME);
88119     +                 else do;
88120     +                    put _Vars;
88121     +                    _vars = strip(NAME);
88122     +                 end;
88123     +              end;
88125     +              if eof then do;
88126     +                 put _Vars;
88127     +                 put '%mend _vars;';
88128     +              end;
88129     +           run;
88130     +       %end;
88131     +       %else %do;
88132     +           data _null_;
88133     +              file _mac;
88134     +              put '%macro _vars;';
88135     +              put '%mend _vars;';
88136     +           run;
88137     +       %end;
88138     +   %end;
88139     +   %else %do;
88140     +       data _null_;
88141     +          file _mac;
88142     +          put '%macro _vars;';
88143     +          put '%mend _vars;';
88144     +       run;
88145     +   %end;
88146     +   %inc _mac;
88147     +   filename _mac;
88149     +   %if "&VARS" eq "" and %_vars eq %then %goto doend;
88151     +   /* Check if FREQ variable is in the data set */
88152     +   %if &freq ne %then %do;
88153     +       data _null_;
88154     +          dsid = open("&data");
88155     +          if dsid>0 then do;
88156     +               if varnum(dsid, "&FREQ")<1 then
88157     +                  call symput('FREQ', '');
88158     +               dsid = close(dsid);
88159     +          end;
88160     +       run;
88161     +   %end;
88163     +   %if &BINFMTDATA eq %then %do;
88164     +       %let BINFMTDATA = _BOUNDS;
88165     +       proc datasets lib=work nolist mt=(DATA VIEW);
88166     +          delete _BOUNDS;
88167     +       run;
88168     +   %end;
88169     +   %if &statdata eq %then %do;
88170     +       %let statdata = _STAT;
88171     +       proc datasets lib=work nolist mt=(DATA VIEW);
88172     +          delete _STAT;
88173     +       run;
88174     +   %end;
88177     +   %let msgString = %sysfunc(sasmsg(sashelp.dmine, computingmidpoints_note, NOQUOTE, &_em_nodeid));
88178     +   %put &EM_CODEBAR;
88179     +   %put * &msgString;
88180     +   %put &EM_CODEBAR;
88181     +   filename fref catalog 'work.emexpl.profileformat.source';
88183     +   %let _maxlevel = %eval(&numbars + 1);
88184     +   proc dmdb data=&data classout=_CLASSOUT maxlevel=&_maxlevel;
88185     +      class %_vars &vars;
88186     +   run;
88187     +   proc freq data=_CLASSOUT ORDER=DATA noprint;
88188     +      table NAME / OUT = _COUNT(where=(COUNT<&_maxlevel));
88189     +   run;
88190     +   proc sort data=_COUNT(keep=NAME);
88191     +      by NAME;
88192     +   run;
88193     +   proc sort data=_CLASSOUT;
88194     +      by NAME;
88195     +   run;
88196     +   proc transpose data=_CLASSOUT out=_DISCRETEMID(DROP=_NAME_ RENAME=(NAME=VARIABLE)) prefix=_MIDPOINT;
88197     +      var NRAW;
88198     +      by NAME;
88199     +   run;
88200     +   data _null_;
88201     +      dsid = open('_DISCRETEMID');
88202     +      if dsid then do;
88203     +         call symput('NUMCLASSBARS', left(trim(put(attrn(dsid, 'NVARS')-1, best12.))));
88204     +         dsid = close(dsid);
88205     +      end;
88206     +   run;
88207     +   data _DISCRETEMID;
88208     +      merge _DISCRETEMID _COUNT(in=_b rename=(NAME=VARIABLE));
88209     +      keep VARIABLE _MIDPOINT1--_MIDPOINT&numclassbars;
88210     +      by VARIABLE;
88211     +      if _b then output;
88212     +   run;
88213     +   %if "&STATDATA" eq "" or ^%sysfunc(exist(&STATDATA)) %then %do;
88214     +       proc stdize  data=&DATA outstat=&statdata  out=_null_ pctlpts=(0 5 95 100);
88215     +          var %_vars &vars;
88216     +          %if &FREQ ne %then %do;
88217     +              freq &FREQ;
88218     +          %end;
88219     +      run;
88220     +   %end;
88221     +   proc transpose data=&STATDATA out=&BINFMTDATA(rename=(_NAME_=VARIABLE COL1=MIN COL2=P5
88222     +                                                 COL3=P95 COL4=MAX));
88223     +      where  _type_ in('P0', 'P5', 'P95', 'P100');
88224     +   run;
88225     +   proc sort data=&BINFMTDATA;
88226     +      by VARIABLE;
88227     +   run;
88229     +    %let new_numbars=%eval(&NUMBARS+12);
88230     +   data &BINFMTDATA;
88231     +      set &BINFMTDATA;
88232     +      length Format $12;
88233     +      array _midpoint{&new_NUMBARS};
88234     +      array _bounds{&new_NUMBARS};
88235     +      if min ne max then do;
88236     +         step = abs(P95-P5)/&NUMBARS;
88237     +         lstep = abs(p5- min)/5;
88238     +         ustep = abs(max-p95)/5;
88239     +         /* No outlying values */;
88240     +         %if %upcase(&outlier) eq N %then %do;
88241     +            step = abs(MIN-MAX)/&NUMBARS;
88242     +            START=MIN;
88243     +            do i=1 to &numbars;
88244     +               _bounds(i)   = MIN + i*step;      if abs(_bounds{i})< 1e-10 then _bounds(i)= 0;
88245     +               _midpoint(i) = MIN+ (i-0.5)*step; if abs(_midpoint{i})< 1e-10 then _midpoint(i)= 0;
88246     +            end;
88247     +            %let new_numbars = &numbars;
88248     +         %end;
88249     +         %else %do;
88250     +            if lstep<=step and ustep<=step then do;
88251     +               step = abs(MIN-MAX)/&NUMBARS;
88252     +               START=MIN;
88253     +               do i=1 to &numbars;
88254     +                  _bounds(i)   = MIN + i*step;      if abs(_bounds{i})< 1e-10 then _bounds(i)= 0;
88255     +                  _midpoint(i) = MIN+ (i-0.5)*step; if abs(_midpoint{i})< 1e-10 then _midpoint(i)= 0;
88256     +               end;
88257     +               %let new_numbars = &numbars;
88258     +            end;
88259     +            else do;
88260     +               if lstep<=step then do;
88261     +                  step = abs(MIN-P95)/&NUMBARS;
88262     +                  /* Start Histogram at MIN value */
88263     +                  do i=1 to &NUMBARS;
88264     +                     _bounds(i)   = MIN + i*step;       if abs(_bounds{i})< 1e-10 then _bounds(i)= 0;
88265     +                     _midpoint(i) = MIN+ (i-0.5)*step;  if abs(_midpoint{i})< 1e-10 then _midpoint(i)= 0;
88266     +                  end;
88267     +                  /* Make BINS with upper outliers width */
88268     +                  do i=1 to 5;
88269     +                     numbars = &numbars + i;
88270     +                     _bounds(numbars)   = P95 + i*ustep;  if abs(_bounds{numbars})< 1e-10 then _bounds(numbars)= 0;
88271     +                     _midpoint(numbars) = P95 + (i-0.5)*ustep + abs(ustep-step)/2;  if abs(_bounds{numbars})< 1e-10 then _bounds(numbars)= 0;
88272     +                  end;
88273     +                   %let new_numbars = %eval(&numbars+5);
88274     +               end;
88275     +               else do;
88276     +                  /* Make BINS with lower outliers width */
88277     +                  do i=1 to 5;
88278     +                     _bounds(i)   = MIN + i*lstep; if abs(_bounds{i})< 1e-10 then _bounds(i)= 0;
88279     +                     _midpoint(i) = MIN + (i-0.5)*lstep - abs(lstep-step)/2; if abs(_midpoint{i})< 1e-10 then _midpoint(i)= 0;
88280     +                  end;
88281     +                  if ustep<= step then do;
88282     +                     step = abs(P5-MAX)/&NUMBARS;
88283     +                     /* End Histogram at MAX value */
88284     +                     do i=1 to &NUMBARS;
88285     +                        numbars = i+5;
88286     +                        _bounds(numbars)   = P5 + i*step; if abs(_bounds{numbars})< 1e-10 then _bounds(numbars)= 0;
88287     +                        _midpoint(numbars) = P5 + (i-0.5)*step; if abs(_midpoint{numbars})< 1e-10 then _midpoint(numbars)= 0;
88288     +                     end;
88289     +                      %let new_numbars = %eval(&numbars+5);
88290     +                  end;
88291     +                  else do;
88292     +                     do i=1 to &NUMBARS;
88293     +                        numbars = i+5;
88294     +                        _bounds(numbars)  = P5 + i*step; if abs(_bounds{numbars})< 1e-10 then _bounds(numbars)= 0;
88295     +                        _midpoint(numbars) = P5 + (i-0.5)*step; if abs(_midpoint{numbars})< 1e-10 then _midpoint(numbars)= 0;
88296     +                     end;
88297     +                     /* Make BINS with upper outliers width */
88298     +                     do i=1 to 5;
88299     +                        numbars = &numbars+5+i;
88300     +                        _bounds(numbars)   = P95 + i*ustep; if abs(_bounds{numbars})< 1e-10 then _bounds(numbars)= 0;
88301     +                        _midpoint(numbars) = P95 + (i-0.5)*ustep + abs(ustep-step)/2;if abs(_midpoint{numbars})< 1e-10 then _midpoint(numbars)= 0;
88302     +                     end;
88303     +                     %let new_numbars = %eval(&numbars+10);
88304     +                  end;
88305     +               end;
88306     +            end;
88307     +         %end;
88308     +      end;
88309     +      else do;
88310     +         _bounds(1)   = MIN;
88311     +         _midpoint(1) = MIN;
88312     +      end;
88313     +      Format = 'F'!!trim(left(put(_n_,3.)))!!'_';
88314     +   run;
88315     +   %if %sysfunc(exist(_DISCRETEMID)) %then %do;
88316     +       data &BINFMTDATA;
88317     +          merge &BINFMTDATA _DISCRETEMID(in = _b);
88318     +          by VARIABLE;
88319     +          if ^_b then output;
88320     +       run;
88321     +   %end;
88323     +   data _null_;
88324     +      file fref;
88325     +      set &BINFMTDATA end=eof;
88326     +      array _bounds{&NEW_NUMBARS};
88327     +      array _midpoint{&NEW_NUMBARS};
88328     +      if _n_=1 then
88329     +         put 'proc format;';
88331     +      put 'value ' Format;
88332     +      if min eq max then do;
88333     +         put 'low - high ="' MIN '";';
88334     +      end;
88335     +      else do;
88336     +         _LB  = MIN;
88337     +         _MID = _midpoint{1};
88338     +         _UB  = _bounds{1};
88339     +         %if &MIDPOINTFMT = Y %then %do;
88340     +              put 'LOW -' _UB '="' _MID '"';
88341     +         %end;
88342     +         %else %do;
88343     +             put 'LOW -' _UB '="LOW-' _UB '"';
88344     +         %end;
88345     +         do i=1 to &NEW_NUMBARS-1;
88346     +            _LB  = _bounds{i};
88347     +            j=i+1;
88348     +            _MID = _midpoint{j};
88349     +            _UB  = _bounds{j};
88350     +            if (_UB ne .) and (_LB ne _UB) then do;
88351     +               if _UB>=MAX then
88352     +                  %if &MIDPOINTFMT = Y %then %do;
88353     +                       put _LB '-HIGH="' _MID '"';
88354     +                  %end;
88355     +                  %else %do;
88356     +                      put _LB '-HIGH="' _LB '- HIGH"';
88357     +                  %end;
88358     +               else
88359     +                  %if &MIDPOINTFMT = Y %then %do;
88360     +                      put _LB '-' _UB '="' _MID '"';
88361     +                  %end;
88362     +                  %else %do;
88363     +                      put _LB '-' _UB '="' _LB '-' _UB '"';
88364     +                  %end;
88365     +            end;
88366     +         end;
88367     +      end;
88368     +      put ';';
88369     +      if eof then put 'run;';
88370     +   run;
88372     +   %inc fref;
88374     +   filename fref;
88376     +   proc datasets lib=work nolist mt=(DATA VIEW CATALOG);
88377     +      delete _BOUNDS _STAT _CLASSOUT _DISCRETEMID _COUNT;
88378     +      delete EMEXPL;
88379     +   run;
88380     +   quit;
88382     +   %doend:
88383     +%mend var_binfmt;
NOTE: %INCLUDE (level 1) ending.
88384      filename _fref;
MPRINT(EM_DIAGRAM):   filename _fref;
NOTE: Fileref _FREF has been deassigned.
88385      %var_binfmt(DATA=%str(EMWS8.Part_TRAIN(obs=100000)), VARS=, METADATA=WORK.M3E9KCW_, STATDATA= EMWS8.Stat2_TRAINPCTLS , BINFMTDATA=WORK.Stat2INTERVALBINFMT, outlier=N, MIDPOINTFMT=N, NUMBARS=5);
MPRINT(VAR_BINFMT):   filename _mac catalog 'WORK.EMEXPL.VARIABLES.SOURCE';
MPRINT(VAR_BINFMT):   data _null;
MPRINT(VAR_BINFMT):   set WORK.M3E9KCW_(where=(LEVEL = 'INTERVAL' and ROLE ne 'FREQ')) end=eof;
MPRINT(VAR_BINFMT):   if eof then call symput('_nobs', put(_N_, best.));
MPRINT(VAR_BINFMT):   run;
 
NOTE: There were 24 observations read from the data set WORK.M3E9KCW_.
      WHERE (LEVEL='INTERVAL') and (ROLE not = 'FREQ');
NOTE: The data set WORK._NULL has 24 observations and 22 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
 
 
MPRINT(VAR_BINFMT):   data _null_;
MPRINT(VAR_BINFMT):   file _mac;
MPRINT(VAR_BINFMT):   length _VARS $80;
MPRINT(VAR_BINFMT):   retain _vars;
MPRINT(VAR_BINFMT):   if _n_ =1 then put '%macro _vars;';
MPRINT(VAR_BINFMT):   set WORK.M3E9KCW_ end=eof;
MPRINT(VAR_BINFMT):   where LEVEL = 'INTERVAL' or ROLE='FREQ';
MPRINT(VAR_BINFMT):   if ROLE='FREQ' then call symput('FREQ', NAME);
MPRINT(VAR_BINFMT):   else do;
MPRINT(VAR_BINFMT):   if length(strip(_vars)) + length(strip(NAME)) + 1 <80 then _vars = strip(_vars)!! ' ' !!strip(NAME);
MPRINT(VAR_BINFMT):   else do;
MPRINT(VAR_BINFMT):   put _Vars;
MPRINT(VAR_BINFMT):   _vars = strip(NAME);
MPRINT(VAR_BINFMT):   end;
MPRINT(VAR_BINFMT):   end;
MPRINT(VAR_BINFMT):   if eof then do;
MPRINT(VAR_BINFMT):   put _Vars;
MPRINT(VAR_BINFMT):   put '%mend _vars;';
MPRINT(VAR_BINFMT):   end;
MPRINT(VAR_BINFMT):   run;
 
NOTE: The file _MAC is:
      Catalog Name=WORK.EMEXPL.VARIABLES.SOURCE,
      Catalog Page Size=4096,
      Number of Catalog Pages=4,
      Created=Mittwoch, 20. April 2016 16.22 Uhr,
      Last Modified=Mittwoch, 20. April 2016 16.22 Uhr,
      Filename=C:\Users\LUKASF~1\AppData\Local\Temp\SAS Temporary Files\_TD10172_WN7LF-LEAVE_\Prc2\emexpl.sas7bcat,
      Release Created=9.0301M2,Host Created=X64_7PRO
 
NOTE: 6 records were written to the file _MAC.
      The minimum record length was 12.
      The maximum record length was 77.
NOTE: There were 24 observations read from the data set WORK.M3E9KCW_.
      WHERE (LEVEL='INTERVAL') or (ROLE='FREQ');
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
NOTE: %INCLUDE (level 1) file _MAC is file WORK.EMEXPL.VARIABLES.SOURCE.
88386     +%macro _vars;
88387     +AcceptedCmpTotal Age Frq Income Kidhome Mnt MntFishProducts MntFruits
88388     +MntGoldProds MntMeatProducts MntSweetProducts MntWines MonthsAsCustomer
88389     +NumCatalogPurchases NumDealsPurchases NumDistPurchases NumStorePurchases
88390     +NumWebPurchases NumWebVisitsMonth RFMstat RMntFrq Recency Teenhome Year_Birth
88391     +%mend _vars;
NOTE: %INCLUDE (level 1) ending.
MPRINT(VAR_BINFMT):   filename _mac;
NOTE: Fileref _MAC has been deassigned.
*------------------------------------------------------------*
* computingmidpoints_note
*------------------------------------------------------------*
MPRINT(VAR_BINFMT):   filename fref catalog 'work.emexpl.profileformat.source';
MPRINT(VAR_BINFMT):   proc dmdb data=EMWS8.Part_TRAIN(obs=100000) classout=_CLASSOUT maxlevel=6;
MPRINT(VAR_BINFMT):   class
MPRINT(_VARS):   AcceptedCmpTotal Age Frq Income Kidhome Mnt MntFishProducts MntFruits MntGoldProds MntMeatProducts MntSweetProducts MntWines MonthsAsCustomer NumCatalogPurchases NumDealsPurchases NumDistPurchases NumStorePurchases NumWebPurchases
NumWebVisitsMonth RFMstat RMntFrq Recency Teenhome Year_Birth
MPRINT(VAR_BINFMT):   ;
MPRINT(VAR_BINFMT):   run;
 
NOTE: Records processed = 2374   Memory used = 511K.
NOTE: There were 2374 observations read from the data set EMWS8.PART_TRAIN.
NOTE: The data set WORK._CLASSOUT has 137 observations and 9 variables.
NOTE: PROCEDURE DMDB used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
MPRINT(VAR_BINFMT):   proc freq data=_CLASSOUT ORDER=DATA noprint;
MPRINT(VAR_BINFMT):   table NAME / OUT = _COUNT(where=(COUNT<6));
MPRINT(VAR_BINFMT):   run;
 
NOTE: There were 137 observations read from the data set WORK._CLASSOUT.
NOTE: The data set WORK._COUNT has 3 observations and 3 variables.
NOTE: PROCEDURE FREQ used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
 
 
MPRINT(VAR_BINFMT):   proc sort data=_COUNT(keep=NAME);
MPRINT(VAR_BINFMT):   by NAME;
MPRINT(VAR_BINFMT):   run;
 
NOTE: There were 3 observations read from the data set WORK._COUNT.
NOTE: The data set WORK._COUNT has 3 observations and 1 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
MPRINT(VAR_BINFMT):   proc sort data=_CLASSOUT;
MPRINT(VAR_BINFMT):   by NAME;
MPRINT(VAR_BINFMT):   run;
 
NOTE: There were 137 observations read from the data set WORK._CLASSOUT.
NOTE: The data set WORK._CLASSOUT has 137 observations and 9 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
MPRINT(VAR_BINFMT):   proc transpose data=_CLASSOUT out=_DISCRETEMID(DROP=_NAME_ RENAME=(NAME=VARIABLE)) prefix=_MIDPOINT;
MPRINT(VAR_BINFMT):   var NRAW;
MPRINT(VAR_BINFMT):   by NAME;
MPRINT(VAR_BINFMT):   run;
 
NOTE: There were 137 observations read from the data set WORK._CLASSOUT.
NOTE: The data set WORK._DISCRETEMID has 24 observations and 7 variables.
NOTE: PROCEDURE TRANSPOSE used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
 
 
MPRINT(VAR_BINFMT):   data _null_;
MPRINT(VAR_BINFMT):   dsid = open('_DISCRETEMID');
MPRINT(VAR_BINFMT):   if dsid then do;
MPRINT(VAR_BINFMT):   call symput('NUMCLASSBARS', left(trim(put(attrn(dsid, 'NVARS')-1, best12.))));
MPRINT(VAR_BINFMT):   dsid = close(dsid);
MPRINT(VAR_BINFMT):   end;
MPRINT(VAR_BINFMT):   run;
 
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
MPRINT(VAR_BINFMT):   data _DISCRETEMID;
MPRINT(VAR_BINFMT):   merge _DISCRETEMID _COUNT(in=_b rename=(NAME=VARIABLE));
MPRINT(VAR_BINFMT):   keep VARIABLE _MIDPOINT1--_MIDPOINT6 ;
MPRINT(VAR_BINFMT):   by VARIABLE;
MPRINT(VAR_BINFMT):   if _b then output;
MPRINT(VAR_BINFMT):   run;
 
NOTE: There were 24 observations read from the data set WORK._DISCRETEMID.
NOTE: There were 3 observations read from the data set WORK._COUNT.
NOTE: The data set WORK._DISCRETEMID has 3 observations and 7 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
MPRINT(VAR_BINFMT):   proc transpose data=EMWS8.Stat2_TRAINPCTLS out=WORK.Stat2INTERVALBINFMT(rename=(_NAME_=VARIABLE COL1=MIN COL2=P5 COL3=P95 COL4=MAX));
MPRINT(VAR_BINFMT):   where _type_ in('P0', 'P5', 'P95', 'P100');
MPRINT(VAR_BINFMT):   run;
 
NOTE: There were 4 observations read from the data set EMWS8.STAT2_TRAINPCTLS.
      WHERE _type_ in ('P0', 'P100', 'P5', 'P95');
NOTE: The data set WORK.STAT2INTERVALBINFMT has 24 observations and 6 variables.
NOTE: PROCEDURE TRANSPOSE used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
 
 
MPRINT(VAR_BINFMT):   proc sort data=WORK.Stat2INTERVALBINFMT;
MPRINT(VAR_BINFMT):   by VARIABLE;
MPRINT(VAR_BINFMT):   run;
 
NOTE: There were 24 observations read from the data set WORK.STAT2INTERVALBINFMT.
NOTE: The data set WORK.STAT2INTERVALBINFMT has 24 observations and 6 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
MPRINT(VAR_BINFMT):   data WORK.Stat2INTERVALBINFMT;
MPRINT(VAR_BINFMT):   set WORK.Stat2INTERVALBINFMT;
MPRINT(VAR_BINFMT):   length Format $12;
MPRINT(VAR_BINFMT):   array _midpoint{17};
MPRINT(VAR_BINFMT):   array _bounds{17};
MPRINT(VAR_BINFMT):   if min ne max then do;
MPRINT(VAR_BINFMT):   step = abs(P95-P5)/5;
MPRINT(VAR_BINFMT):   lstep = abs(p5- min)/5;
MPRINT(VAR_BINFMT):   ustep = abs(max-p95)/5;
MPRINT(VAR_BINFMT):   ;
MPRINT(VAR_BINFMT):   step = abs(MIN-MAX)/5;
MPRINT(VAR_BINFMT):   START=MIN;
MPRINT(VAR_BINFMT):   do i=1 to 5;
MPRINT(VAR_BINFMT):   _bounds(i) = MIN + i*step;
MPRINT(VAR_BINFMT):   if abs(_bounds{i})< 1e-10 then _bounds(i)= 0;
MPRINT(VAR_BINFMT):   _midpoint(i) = MIN+ (i-0.5)*step;
MPRINT(VAR_BINFMT):   if abs(_midpoint{i})< 1e-10 then _midpoint(i)= 0;
MPRINT(VAR_BINFMT):   end;
MPRINT(VAR_BINFMT):   end;
MPRINT(VAR_BINFMT):   else do;
MPRINT(VAR_BINFMT):   _bounds(1) = MIN;
MPRINT(VAR_BINFMT):   _midpoint(1) = MIN;
MPRINT(VAR_BINFMT):   end;
MPRINT(VAR_BINFMT):   Format = 'F'!!trim(left(put(_n_,3.)))!!'_';
MPRINT(VAR_BINFMT):   run;
 
NOTE: There were 24 observations read from the data set WORK.STAT2INTERVALBINFMT.
NOTE: The data set WORK.STAT2INTERVALBINFMT has 24 observations and 46 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
MPRINT(VAR_BINFMT):   data WORK.Stat2INTERVALBINFMT;
MPRINT(VAR_BINFMT):   merge WORK.Stat2INTERVALBINFMT _DISCRETEMID(in = _b);
MPRINT(VAR_BINFMT):   by VARIABLE;
MPRINT(VAR_BINFMT):   if ^_b then output;
MPRINT(VAR_BINFMT):   run;
 
WARNING: Multiple lengths were specified for the BY variable VARIABLE by input data sets. This may cause unexpected results.
NOTE: There were 24 observations read from the data set WORK.STAT2INTERVALBINFMT.
NOTE: There were 3 observations read from the data set WORK._DISCRETEMID.
NOTE: The data set WORK.STAT2INTERVALBINFMT has 21 observations and 46 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
MPRINT(VAR_BINFMT):   data _null_;
MPRINT(VAR_BINFMT):   file fref;
MPRINT(VAR_BINFMT):   set WORK.Stat2INTERVALBINFMT end=eof;
MPRINT(VAR_BINFMT):   array _bounds{5};
MPRINT(VAR_BINFMT):   array _midpoint{5};
MPRINT(VAR_BINFMT):   if _n_=1 then put 'proc format;';
MPRINT(VAR_BINFMT):   put 'value ' Format;
MPRINT(VAR_BINFMT):   if min eq max then do;
MPRINT(VAR_BINFMT):   put 'low - high ="' MIN '";';
MPRINT(VAR_BINFMT):   end;
MPRINT(VAR_BINFMT):   else do;
MPRINT(VAR_BINFMT):   _LB = MIN;
MPRINT(VAR_BINFMT):   _MID = _midpoint{1};
MPRINT(VAR_BINFMT):   _UB = _bounds{1};
MPRINT(VAR_BINFMT):   put 'LOW -' _UB '="LOW-' _UB '"';
MPRINT(VAR_BINFMT):   do i=1 to 5-1;
MPRINT(VAR_BINFMT):   _LB = _bounds{i};
MPRINT(VAR_BINFMT):   j=i+1;
MPRINT(VAR_BINFMT):   _MID = _midpoint{j};
MPRINT(VAR_BINFMT):   _UB = _bounds{j};
MPRINT(VAR_BINFMT):   if (_UB ne .) and (_LB ne _UB) then do;
MPRINT(VAR_BINFMT):   if _UB>=MAX then put _LB '-HIGH="' _LB '- HIGH"';
MPRINT(VAR_BINFMT):   else put _LB '-' _UB '="' _LB '-' _UB '"';
MPRINT(VAR_BINFMT):   end;
MPRINT(VAR_BINFMT):   end;
MPRINT(VAR_BINFMT):   end;
MPRINT(VAR_BINFMT):   put ';';
MPRINT(VAR_BINFMT):   if eof then put 'run;';
MPRINT(VAR_BINFMT):   run;
 
NOTE: The file FREF is:
      Catalog Name=WORK.EMEXPL.PROFILEFORMAT.SOURCE,
      Catalog Page Size=4096,
      Number of Catalog Pages=5,
      Created=Mittwoch, 20. April 2016 16.22 Uhr,
      Last Modified=Mittwoch, 20. April 2016 16.22 Uhr,
      Filename=C:\Users\LUKASF~1\AppData\Local\Temp\SAS Temporary Files\_TD10172_WN7LF-LEAVE_\Prc2\emexpl.sas7bcat,
      Release Created=9.0301M2,Host Created=X64_7PRO
 
NOTE: 149 records were written to the file FREF.
      The minimum record length was 1.
      The maximum record length was 57.
NOTE: There were 21 observations read from the data set WORK.STAT2INTERVALBINFMT.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
NOTE: %INCLUDE (level 1) file FREF is file WORK.EMEXPL.PROFILEFORMAT.SOURCE.
88392     +proc format;
MPRINT(VAR_BINFMT):   proc format;
88393     +value F2_
88394     +LOW -31.2 ="LOW-31.2 "
88395     +31.2 -42.4 ="31.2 -42.4 "
88396     +42.4 -53.6 ="42.4 -53.6 "
88397     +53.6 -64.8 ="53.6 -64.8 "
88398     +64.8 -HIGH="64.8 - HIGH"
88399     +;
MPRINT(VAR_BINFMT):   value F2_ LOW -31.2 ="LOW-31.2 " 31.2 -42.4 ="31.2 -42.4 " 42.4 -53.6 ="42.4 -53.6 " 53.6 -64.8 ="53.6 -64.8 " 64.8 -HIGH="64.8 - HIGH" ;
NOTE: Format F2_ has been output.
88400     +value F3_
88401     +LOW -9 ="LOW-9 "
88402     +9 -15 ="9 -15 "
88403     +15 -21 ="15 -21 "
88404     +21 -27 ="21 -27 "
88405     +27 -HIGH="27 - HIGH"
88406     +;
MPRINT(VAR_BINFMT):   value F3_ LOW -9 ="LOW-9 " 9 -15 ="9 -15 " 15 -21 ="15 -21 " 21 -27 ="21 -27 " 27 -HIGH="27 - HIGH" ;
NOTE: Format F3_ has been output.
88407     +value F4_
88408     +LOW -26600.8 ="LOW-26600.8 "
88409     +26600.8 -45701.6 ="26600.8 -45701.6 "
88410     +45701.6 -64802.4 ="45701.6 -64802.4 "
88411     +64802.4 -83903.2 ="64802.4 -83903.2 "
88412     +83903.2 -HIGH="83903.2 - HIGH"
88413     +;
MPRINT(VAR_BINFMT):   value F4_ LOW -26600.8 ="LOW-26600.8 " 26600.8 -45701.6 ="26600.8 -45701.6 " 45701.6 -64802.4 ="45701.6 -64802.4 " 64802.4 -83903.2 ="64802.4 -83903.2 " 83903.2 -HIGH="83903.2 - HIGH" ;
NOTE: Format F4_ has been output.
88414     +value F6_
88415     +LOW -528.6 ="LOW-528.6 "
88416     +528.6 -1051.2 ="528.6 -1051.2 "
88417     +1051.2 -1573.8 ="1051.2 -1573.8 "
88418     +1573.8 -2096.4 ="1573.8 -2096.4 "
88419     +2096.4 -HIGH="2096.4 - HIGH"
88420     +;
MPRINT(VAR_BINFMT):   value F6_ LOW -528.6 ="LOW-528.6 " 528.6 -1051.2 ="528.6 -1051.2 " 1051.2 -1573.8 ="1051.2 -1573.8 " 1573.8 -2096.4 ="1573.8 -2096.4 " 2096.4 -HIGH="2096.4 - HIGH" ;
NOTE: Format F6_ has been output.
88421     +value F7_
88422     +LOW -51.8 ="LOW-51.8 "
88423     +51.8 -103.6 ="51.8 -103.6 "
88424     +103.6 -155.4 ="103.6 -155.4 "
88425     +155.4 -207.2 ="155.4 -207.2 "
88426     +207.2 -HIGH="207.2 - HIGH"
88427     +;
MPRINT(VAR_BINFMT):   value F7_ LOW -51.8 ="LOW-51.8 " 51.8 -103.6 ="51.8 -103.6 " 103.6 -155.4 ="103.6 -155.4 " 155.4 -207.2 ="155.4 -207.2 " 207.2 -HIGH="207.2 - HIGH" ;
NOTE: Format F7_ has been output.
88428     +value F8_
88429     +LOW -39.8 ="LOW-39.8 "
88430     +39.8 -79.6 ="39.8 -79.6 "
88431     +79.6 -119.4 ="79.6 -119.4 "
88432     +119.4 -159.2 ="119.4 -159.2 "
88433     +159.2 -HIGH="159.2 - HIGH"
88434     +;
MPRINT(VAR_BINFMT):   value F8_ LOW -39.8 ="LOW-39.8 " 39.8 -79.6 ="39.8 -79.6 " 79.6 -119.4 ="79.6 -119.4 " 119.4 -159.2 ="119.4 -159.2 " 159.2 -HIGH="159.2 - HIGH" ;
NOTE: Format F8_ has been output.
88435     +value F9_
88436     +LOW -49.8 ="LOW-49.8 "
88437     +49.8 -99.6 ="49.8 -99.6 "
88438     +99.6 -149.4 ="99.6 -149.4 "
88439     +149.4 -199.2 ="149.4 -199.2 "
88440     +199.2 -HIGH="199.2 - HIGH"
88441     +;
MPRINT(VAR_BINFMT):   value F9_ LOW -49.8 ="LOW-49.8 " 49.8 -99.6 ="49.8 -99.6 " 99.6 -149.4 ="99.6 -149.4 " 149.4 -199.2 ="149.4 -199.2 " 199.2 -HIGH="199.2 - HIGH" ;
NOTE: Format F9_ has been output.
88442     +value F10_
88443     +LOW -192.8 ="LOW-192.8 "
88444     +192.8 -385.6 ="192.8 -385.6 "
88445     +385.6 -578.4 ="385.6 -578.4 "
88446     +578.4 -771.2 ="578.4 -771.2 "
88447     +771.2 -HIGH="771.2 - HIGH"
88448     +;
MPRINT(VAR_BINFMT):   value F10_ LOW -192.8 ="LOW-192.8 " 192.8 -385.6 ="192.8 -385.6 " 385.6 -578.4 ="385.6 -578.4 " 578.4 -771.2 ="578.4 -771.2 " 771.2 -HIGH="771.2 - HIGH" ;
NOTE: Format F10_ has been output.
88449     +value F11_
88450     +LOW -39.8 ="LOW-39.8 "
88451     +39.8 -79.6 ="39.8 -79.6 "
88452     +79.6 -119.4 ="79.6 -119.4 "
88453     +119.4 -159.2 ="119.4 -159.2 "
88454     +159.2 -HIGH="159.2 - HIGH"
88455     +;
MPRINT(VAR_BINFMT):   value F11_ LOW -39.8 ="LOW-39.8 " 39.8 -79.6 ="39.8 -79.6 " 79.6 -119.4 ="79.6 -119.4 " 119.4 -159.2 ="119.4 -159.2 " 159.2 -HIGH="159.2 - HIGH" ;
NOTE: Format F11_ has been output.
88456     +value F12_
88457     +LOW -299.6 ="LOW-299.6 "
88458     +299.6 -599.2 ="299.6 -599.2 "
88459     +599.2 -898.8 ="599.2 -898.8 "
88460     +898.8 -1198.4 ="898.8 -1198.4 "
88461     +1198.4 -HIGH="1198.4 - HIGH"
88462     +;
MPRINT(VAR_BINFMT):   value F12_ LOW -299.6 ="LOW-299.6 " 299.6 -599.2 ="299.6 -599.2 " 599.2 -898.8 ="599.2 -898.8 " 898.8 -1198.4 ="898.8 -1198.4 " 1198.4 -HIGH="1198.4 - HIGH" ;
NOTE: Format F12_ has been output.
88463     +value F13_
88464     +LOW -66.6 ="LOW-66.6 "
88465     +66.6 -78.2 ="66.6 -78.2 "
88466     +78.2 -89.8 ="78.2 -89.8 "
88467     +89.8 -101.4 ="89.8 -101.4 "
88468     +101.4 -HIGH="101.4 - HIGH"
88469     +;
MPRINT(VAR_BINFMT):   value F13_ LOW -66.6 ="LOW-66.6 " 66.6 -78.2 ="66.6 -78.2 " 78.2 -89.8 ="78.2 -89.8 " 89.8 -101.4 ="89.8 -101.4 " 101.4 -HIGH="101.4 - HIGH" ;
NOTE: Format F13_ has been output.
88470     +value F14_
88471     +LOW -2.2 ="LOW-2.2 "
88472     +2.2 -4.4 ="2.2 -4.4 "
88473     +4.4 -6.6 ="4.4 -6.6 "
88474     +6.6 -8.8 ="6.6 -8.8 "
88475     +8.8 -HIGH="8.8 - HIGH"
88476     +;
MPRINT(VAR_BINFMT):   value F14_ LOW -2.2 ="LOW-2.2 " 2.2 -4.4 ="2.2 -4.4 " 4.4 -6.6 ="4.4 -6.6 " 6.6 -8.8 ="6.6 -8.8 " 8.8 -HIGH="8.8 - HIGH" ;
NOTE: Format F14_ has been output.
88477     +value F15_
88478     +LOW -2 ="LOW-2 "
88479     +2 -4 ="2 -4 "
88480     +4 -6 ="4 -6 "
88481     +6 -8 ="6 -8 "
88482     +8 -HIGH="8 - HIGH"
88483     +;
MPRINT(VAR_BINFMT):   value F15_ LOW -2 ="LOW-2 " 2 -4 ="2 -4 " 4 -6 ="4 -6 " 6 -8 ="6 -8 " 8 -HIGH="8 - HIGH" ;
NOTE: Format F15_ has been output.
88484     +value F16_
88485     +LOW -4.4 ="LOW-4.4 "
88486     +4.4 -8.8 ="4.4 -8.8 "
88487     +8.8 -13.2 ="8.8 -13.2 "
88488     +13.2 -17.6 ="13.2 -17.6 "
88489     +17.6 -HIGH="17.6 - HIGH"
88490     +;
MPRINT(VAR_BINFMT):   value F16_ LOW -4.4 ="LOW-4.4 " 4.4 -8.8 ="4.4 -8.8 " 8.8 -13.2 ="8.8 -13.2 " 13.2 -17.6 ="13.2 -17.6 " 17.6 -HIGH="17.6 - HIGH" ;
NOTE: Format F16_ has been output.
88491     +value F17_
88492     +LOW -4.2 ="LOW-4.2 "
88493     +4.2 -6.4 ="4.2 -6.4 "
88494     +6.4 -8.6 ="6.4 -8.6 "
88495     +8.6 -10.8 ="8.6 -10.8 "
88496     +10.8 -HIGH="10.8 - HIGH"
88497     +;
MPRINT(VAR_BINFMT):   value F17_ LOW -4.2 ="LOW-4.2 " 4.2 -6.4 ="4.2 -6.4 " 6.4 -8.6 ="6.4 -8.6 " 8.6 -10.8 ="8.6 -10.8 " 10.8 -HIGH="10.8 - HIGH" ;
NOTE: Format F17_ has been output.
88498     +value F18_
88499     +LOW -2.2 ="LOW-2.2 "
88500     +2.2 -4.4 ="2.2 -4.4 "
88501     +4.4 -6.6 ="4.4 -6.6 "
88502     +6.6 -8.8 ="6.6 -8.8 "
88503     +8.8 -HIGH="8.8 - HIGH"
88504     +;
MPRINT(VAR_BINFMT):   value F18_ LOW -2.2 ="LOW-2.2 " 2.2 -4.4 ="2.2 -4.4 " 4.4 -6.6 ="4.4 -6.6 " 6.6 -8.8 ="6.6 -8.8 " 8.8 -HIGH="8.8 - HIGH" ;
NOTE: Format F18_ has been output.
88505     +value F19_
88506     +LOW -1.8 ="LOW-1.8 "
88507     +1.8 -3.6 ="1.8 -3.6 "
88508     +3.6 -5.4 ="3.6 -5.4 "
88509     +5.4 -7.2 ="5.4 -7.2 "
88510     +7.2 -HIGH="7.2 - HIGH"
88511     +;
MPRINT(VAR_BINFMT):   value F19_ LOW -1.8 ="LOW-1.8 " 1.8 -3.6 ="1.8 -3.6 " 3.6 -5.4 ="3.6 -5.4 " 5.4 -7.2 ="5.4 -7.2 " 7.2 -HIGH="7.2 - HIGH" ;
NOTE: Format F19_ has been output.
88512     +value F20_
88513     +LOW -5860.5939394 ="LOW-5860.5939394 "
88514     +5860.5939394 -11720.945455 ="5860.5939394 -11720.945455 "
88515     +11720.945455 -17581.29697 ="11720.945455 -17581.29697 "
88516     +17581.29697 -23441.648485 ="17581.29697 -23441.648485 "
88517     +23441.648485 -HIGH="23441.648485 - HIGH"
88518     +;
MPRINT(VAR_BINFMT):   value F20_ LOW -5860.5939394 ="LOW-5860.5939394 " 5860.5939394 -11720.945455 ="5860.5939394 -11720.945455 " 11720.945455 -17581.29697 ="11720.945455 -17581.29697 " 17581.29697 -23441.648485 ="17581.29697 -23441.648485 " 23441.648485
-HIGH="23441.648485 - HIGH" ;
NOTE: Format F20_ has been output.
88519     +value F21_
88520     +LOW -42.9 ="LOW-42.9 "
88521     +42.9 -83.8 ="42.9 -83.8 "
88522     +83.8 -124.7 ="83.8 -124.7 "
88523     +124.7 -165.6 ="124.7 -165.6 "
88524     +165.6 -HIGH="165.6 - HIGH"
88525     +;
MPRINT(VAR_BINFMT):   value F21_ LOW -42.9 ="LOW-42.9 " 42.9 -83.8 ="42.9 -83.8 " 83.8 -124.7 ="83.8 -124.7 " 124.7 -165.6 ="124.7 -165.6 " 165.6 -HIGH="165.6 - HIGH" ;
NOTE: Format F21_ has been output.
88526     +value F22_
88527     +LOW -19.8 ="LOW-19.8 "
88528     +19.8 -39.6 ="19.8 -39.6 "
88529     +39.6 -59.4 ="39.6 -59.4 "
88530     +59.4 -79.2 ="59.4 -79.2 "
88531     +79.2 -HIGH="79.2 - HIGH"
88532     +;
MPRINT(VAR_BINFMT):   value F22_ LOW -19.8 ="LOW-19.8 " 19.8 -39.6 ="19.8 -39.6 " 39.6 -59.4 ="39.6 -59.4 " 59.4 -79.2 ="59.4 -79.2 " 79.2 -HIGH="79.2 - HIGH" ;
NOTE: Format F22_ has been output.
88533     +value F24_
88534     +LOW -1951.2 ="LOW-1951.2 "
88535     +1951.2 -1962.4 ="1951.2 -1962.4 "
88536     +1962.4 -1973.6 ="1962.4 -1973.6 "
88537     +1973.6 -1984.8 ="1973.6 -1984.8 "
88538     +1984.8 -HIGH="1984.8 - HIGH"
88539     +;
MPRINT(VAR_BINFMT):   value F24_ LOW -1951.2 ="LOW-1951.2 " 1951.2 -1962.4 ="1951.2 -1962.4 " 1962.4 -1973.6 ="1962.4 -1973.6 " 1973.6 -1984.8 ="1973.6 -1984.8 " 1984.8 -HIGH="1984.8 - HIGH" ;
NOTE: Format F24_ has been output.
MPRINT(VAR_BINFMT):   run;
88540     +run;
 
NOTE: PROCEDURE FORMAT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
NOTE: %INCLUDE (level 1) ending.
MPRINT(VAR_BINFMT):   filename fref;
NOTE: Fileref FREF has been deassigned.
MPRINT(VAR_BINFMT):   proc datasets lib=work nolist mt=(DATA VIEW CATALOG);
MPRINT(VAR_BINFMT):   delete _BOUNDS _STAT _CLASSOUT _DISCRETEMID _COUNT;
MPRINT(VAR_BINFMT):   delete EMEXPL;
MPRINT(VAR_BINFMT):   run;
 
NOTE: The file WORK._BOUNDS (memtype=(DATA VIEW CATALOG)) was not found, but appears on a DELETE statement.
NOTE: The file WORK._STAT (memtype=(DATA VIEW CATALOG)) was not found, but appears on a DELETE statement.
NOTE: Deleting WORK._CLASSOUT (memtype=DATA).
NOTE: Deleting WORK._DISCRETEMID (memtype=DATA).
NOTE: Deleting WORK._COUNT (memtype=DATA).
NOTE: Deleting WORK.EMEXPL (memtype=CATALOG).
MPRINT(VAR_BINFMT):   quit;
 
NOTE: PROCEDURE DATASETS used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
 
 
MPRINT(EM_DIAGRAM):  ;
 
88541      *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):    *------------------------------------------------------------*;
88542      * Stat2: Computing Chi-Square Statistics;
MPRINT(EM_DIAGRAM):   * Stat2: Computing Chi-Square Statistics;
88543      *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
88544      ods listing close;
MPRINT(EM_DIAGRAM):   ods listing close;
88545      ods output chisq=WORK.TEMPCHISQUARE;
MPRINT(EM_DIAGRAM):   ods output chisq=WORK.TEMPCHISQUARE;
88546      ods output crosstabFreqs=WORK.TEMPCROSSTAB;
MPRINT(EM_DIAGRAM):   ods output crosstabFreqs=WORK.TEMPCROSSTAB;
88547      proc freq data=EMWS8.Part_TRAIN(obs=100000) order=formatted addnames;
MPRINT(EM_DIAGRAM):   proc freq data=EMWS8.Part_TRAIN(obs=100000) order=formatted addnames;
88548      format Age F2_.;
MPRINT(EM_DIAGRAM):   format Age F2_.;
88549      format Frq F3_.;
MPRINT(EM_DIAGRAM):   format Frq F3_.;
88550      format Income F4_.;
MPRINT(EM_DIAGRAM):   format Income F4_.;
88551      format Mnt F6_.;
MPRINT(EM_DIAGRAM):   format Mnt F6_.;
88552      format MntFishProducts F7_.;
MPRINT(EM_DIAGRAM):   format MntFishProducts F7_.;
88553      format MntFruits F8_.;
MPRINT(EM_DIAGRAM):   format MntFruits F8_.;
88554      format MntGoldProds F9_.;
MPRINT(EM_DIAGRAM):   format MntGoldProds F9_.;
88555      format MntMeatProducts F10_.;
MPRINT(EM_DIAGRAM):   format MntMeatProducts F10_.;
88556      format MntSweetProducts F11_.;
MPRINT(EM_DIAGRAM):   format MntSweetProducts F11_.;
88557      format MntWines F12_.;
MPRINT(EM_DIAGRAM):   format MntWines F12_.;
88558      format MonthsAsCustomer F13_.;
MPRINT(EM_DIAGRAM):   format MonthsAsCustomer F13_.;
88559      format NumCatalogPurchases F14_.;
MPRINT(EM_DIAGRAM):   format NumCatalogPurchases F14_.;
88560      format NumDealsPurchases F15_.;
MPRINT(EM_DIAGRAM):   format NumDealsPurchases F15_.;
88561      format NumDistPurchases F16_.;
MPRINT(EM_DIAGRAM):   format NumDistPurchases F16_.;
88562      format NumStorePurchases F17_.;
MPRINT(EM_DIAGRAM):   format NumStorePurchases F17_.;
88563      format NumWebPurchases F18_.;
MPRINT(EM_DIAGRAM):   format NumWebPurchases F18_.;
88564      format NumWebVisitsMonth F19_.;
MPRINT(EM_DIAGRAM):   format NumWebVisitsMonth F19_.;
88565      format RFMstat F20_.;
MPRINT(EM_DIAGRAM):   format RFMstat F20_.;
88566      format RMntFrq F21_.;
MPRINT(EM_DIAGRAM):   format RMntFrq F21_.;
88567      format Recency F22_.;
MPRINT(EM_DIAGRAM):   format Recency F22_.;
88568      format Year_Birth F24_.;
MPRINT(EM_DIAGRAM):   format Year_Birth F24_.;
88569      table DepVar*AcceptedCmp1 /missing chisq outexpect sparse;
MPRINT(EM_DIAGRAM):   table DepVar*AcceptedCmp1 /missing chisq outexpect sparse;
88570      table DepVar*AcceptedCmp2 /missing chisq outexpect sparse;
MPRINT(EM_DIAGRAM):   table DepVar*AcceptedCmp2 /missing chisq outexpect sparse;
88571      table DepVar*AcceptedCmp3 /missing chisq outexpect sparse;
MPRINT(EM_DIAGRAM):   table DepVar*AcceptedCmp3 /missing chisq outexpect sparse;
88572      table DepVar*AcceptedCmp4 /missing chisq outexpect sparse;
MPRINT(EM_DIAGRAM):   table DepVar*AcceptedCmp4 /missing chisq outexpect sparse;
88573      table DepVar*AcceptedCmp5 /missing chisq outexpect sparse;
MPRINT(EM_DIAGRAM):   table DepVar*AcceptedCmp5 /missing chisq outexpect sparse;
88574      table DepVar*AcceptedCmpTotal /missing chisq outexpect sparse;
MPRINT(EM_DIAGRAM):   table DepVar*AcceptedCmpTotal /missing chisq outexpect sparse;
88575      table DepVar*Age /missing chisq outexpect sparse;
MPRINT(EM_DIAGRAM):   table DepVar*Age /missing chisq outexpect sparse;
88576      table DepVar*Complain /missing chisq outexpect sparse;
MPRINT(EM_DIAGRAM):   table DepVar*Complain /missing chisq outexpect sparse;
88577      table DepVar*Education /missing chisq outexpect sparse;
MPRINT(EM_DIAGRAM):   table DepVar*Education /missing chisq outexpect sparse;
88578      table DepVar*Frq /missing chisq outexpect sparse;
MPRINT(EM_DIAGRAM):   table DepVar*Frq /missing chisq outexpect sparse;
88579      table DepVar*HigherEducationBinary /missing chisq outexpect sparse;
MPRINT(EM_DIAGRAM):   table DepVar*HigherEducationBinary /missing chisq outexpect sparse;
88580      table DepVar*Income /missing chisq outexpect sparse;
MPRINT(EM_DIAGRAM):   table DepVar*Income /missing chisq outexpect sparse;
88581      table DepVar*Kidhome /missing chisq outexpect sparse;
MPRINT(EM_DIAGRAM):   table DepVar*Kidhome /missing chisq outexpect sparse;
88582      table DepVar*Marital_Status /missing chisq outexpect sparse;
MPRINT(EM_DIAGRAM):   table DepVar*Marital_Status /missing chisq outexpect sparse;
88583      table DepVar*Mnt /missing chisq outexpect sparse;
MPRINT(EM_DIAGRAM):   table DepVar*Mnt /missing chisq outexpect sparse;
88584      table DepVar*MntFishProducts /missing chisq outexpect sparse;
MPRINT(EM_DIAGRAM):   table DepVar*MntFishProducts /missing chisq outexpect sparse;
88585      table DepVar*MntFruits /missing chisq outexpect sparse;
MPRINT(EM_DIAGRAM):   table DepVar*MntFruits /missing chisq outexpect sparse;
88586      table DepVar*MntGoldProds /missing chisq outexpect sparse;
MPRINT(EM_DIAGRAM):   table DepVar*MntGoldProds /missing chisq outexpect sparse;
88587      table DepVar*MntMeatProducts /missing chisq outexpect sparse;
MPRINT(EM_DIAGRAM):   table DepVar*MntMeatProducts /missing chisq outexpect sparse;
88588      table DepVar*MntSweetProducts /missing chisq outexpect sparse;
MPRINT(EM_DIAGRAM):   table DepVar*MntSweetProducts /missing chisq outexpect sparse;
88589      table DepVar*MntWines /missing chisq outexpect sparse;
MPRINT(EM_DIAGRAM):   table DepVar*MntWines /missing chisq outexpect sparse;
88590      table DepVar*MonthsAsCustomer /missing chisq outexpect sparse;
MPRINT(EM_DIAGRAM):   table DepVar*MonthsAsCustomer /missing chisq outexpect sparse;
88591      table DepVar*NumCatalogPurchases /missing chisq outexpect sparse;
MPRINT(EM_DIAGRAM):   table DepVar*NumCatalogPurchases /missing chisq outexpect sparse;
88592      table DepVar*NumDealsPurchases /missing chisq outexpect sparse;
MPRINT(EM_DIAGRAM):   table DepVar*NumDealsPurchases /missing chisq outexpect sparse;
88593      table DepVar*NumDistPurchases /missing chisq outexpect sparse;
MPRINT(EM_DIAGRAM):   table DepVar*NumDistPurchases /missing chisq outexpect sparse;
88594      table DepVar*NumStorePurchases /missing chisq outexpect sparse;
MPRINT(EM_DIAGRAM):   table DepVar*NumStorePurchases /missing chisq outexpect sparse;
88595      table DepVar*NumWebPurchases /missing chisq outexpect sparse;
MPRINT(EM_DIAGRAM):   table DepVar*NumWebPurchases /missing chisq outexpect sparse;
88596      table DepVar*NumWebVisitsMonth /missing chisq outexpect sparse;
MPRINT(EM_DIAGRAM):   table DepVar*NumWebVisitsMonth /missing chisq outexpect sparse;
88597      table DepVar*RFMstat /missing chisq outexpect sparse;
MPRINT(EM_DIAGRAM):   table DepVar*RFMstat /missing chisq outexpect sparse;
88598      table DepVar*RMntFrq /missing chisq outexpect sparse;
MPRINT(EM_DIAGRAM):   table DepVar*RMntFrq /missing chisq outexpect sparse;
88599      table DepVar*Recency /missing chisq outexpect sparse;
MPRINT(EM_DIAGRAM):   table DepVar*Recency /missing chisq outexpect sparse;
88600      table DepVar*Teenhome /missing chisq outexpect sparse;
MPRINT(EM_DIAGRAM):   table DepVar*Teenhome /missing chisq outexpect sparse;
88601      table DepVar*Year_Birth /missing chisq outexpect sparse;
MPRINT(EM_DIAGRAM):   table DepVar*Year_Birth /missing chisq outexpect sparse;
88602      ;
MPRINT(EM_DIAGRAM):   ;
88603      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: The data set WORK.TEMPCROSSTAB has 519 observations and 44 variables.
NOTE: The data set WORK.TEMPCHISQUARE has 205 observations and 8 variables.
NOTE: There were 2374 observations read from the data set EMWS8.PART_TRAIN.
NOTE: PROCEDURE FREQ used (Total process time):
      real time           0.19 seconds
      cpu time            0.15 seconds
 
 
MPRINT(EM_DIAGRAM):   quit;
88604      quit;
88605      ods listing;
MPRINT(EM_DIAGRAM):   ods listing;
88606      data WORK.Stat2CHI2(keep=TARGET INPUT CRAMERV CHIMEASURE PROBCHI CHIDF rename=(PROBCHI=PROB CHIDF=DF));
MPRINT(EM_DIAGRAM):    data WORK.Stat2CHI2(keep=TARGET INPUT CRAMERV CHIMEASURE PROBCHI CHIDF rename=(PROBCHI=PROB CHIDF=DF));
88607      length TARGET INPUT $32;
MPRINT(EM_DIAGRAM):   length TARGET INPUT $32;
88608      label Target = "%sysfunc(sasmsg(sashelp.dmine, rpt_target_vlabel ,      NOQUOTE))" INPUT = "%sysfunc(sasmsg(sashelp.dmine, rpt_input_vlabel ,       NOQUOTE))" CRAMERV = "%sysfunc(sasmsg(sashelp.dmine, rpt_cramerv_vlabel ,     NOQUOTE))"
88608    ! CORRVALUE =
88609         "%sysfunc(sasmsg(sashelp.dmine, rpt_correlation_vlabel , NOQUOTE))" PROBCHI = "%sysfunc(sasmsg(sashelp.dmine, rpt_probchi_vlabel ,     NOQUOTE))" CHIMEASURE = "%sysfunc(sasmsg(sashelp.dmine, rpt_chisquare_vlabel,    NOQUOTE))" CHIDF =
88610         "%sysfunc(sasmsg(sashelp.dmine, rpt_df_vlabel ,          NOQUOTE))";
MPRINT(EM_DIAGRAM):   label Target = "Target" INPUT = "Input" CRAMERV = "Cramer's V" CORRVALUE = "Correlation" PROBCHI = "Prob" CHIMEASURE = "Chi-Square" CHIDF = "Df";
88611      retain CHIMEASURE CHIDF PROBCHI;
MPRINT(EM_DIAGRAM):   retain CHIMEASURE CHIDF PROBCHI;
88612      format PROBCHI PVALUE6.4 CHIMEASURE 10.4;
MPRINT(EM_DIAGRAM):   format PROBCHI PVALUE6.4 CHIMEASURE 10.4;
88613      set WORK.TEMPCHISQUARE;
MPRINT(EM_DIAGRAM):   set WORK.TEMPCHISQUARE;
88614      Target = strip(RowVariable);
MPRINT(EM_DIAGRAM):   Target = strip(RowVariable);
88615      Input = strip(ColVariable);
MPRINT(EM_DIAGRAM):   Input = strip(ColVariable);
88616      where StatisticId in('_CRAMV_','_PCHI_');
MPRINT(EM_DIAGRAM):   where StatisticId in('_CRAMV_','_PCHI_');
88617      if StatisticId = '_PCHI_' then do;
MPRINT(EM_DIAGRAM):   if StatisticId = '_PCHI_' then do;
88618      PROBCHI = Prob;
MPRINT(EM_DIAGRAM):   PROBCHI = Prob;
88619      CHIMEASURE = VALUE;
MPRINT(EM_DIAGRAM):   CHIMEASURE = VALUE;
88620      CHIDF = DF;
MPRINT(EM_DIAGRAM):   CHIDF = DF;
88621      end;
MPRINT(EM_DIAGRAM):   end;
88622      else do;
MPRINT(EM_DIAGRAM):   else do;
88623      CRAMERV = abs(VALUE);
MPRINT(EM_DIAGRAM):   CRAMERV = abs(VALUE);
88624      OUTPUT;
MPRINT(EM_DIAGRAM):   OUTPUT;
88625      end;
MPRINT(EM_DIAGRAM):   end;
88626      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: Variable CORRVALUE is uninitialized.
NOTE: There were 66 observations read from the data set WORK.TEMPCHISQUARE.
      WHERE StatisticId in ('_CRAMV_', '_PCHI_');
NOTE: The data set WORK.STAT2CHI2 has 33 observations and 6 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
88627      proc sort data=WORK.TEMPCROSSTAB;
MPRINT(EM_DIAGRAM):   proc sort data=WORK.TEMPCROSSTAB;
88628      by RowVariable ColVariable _Type_;
MPRINT(EM_DIAGRAM):   by RowVariable ColVariable _Type_;
88629      where _Type_ in('11','00');
MPRINT(EM_DIAGRAM):   where _Type_ in('11','00');
88630      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 313 observations read from the data set WORK.TEMPCROSSTAB.
      WHERE _Type_ in ('00', '11');
NOTE: The data set WORK.TEMPCROSSTAB has 313 observations and 44 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
88631      data WORK.Stat2CHI(keep=YVAR XVAR X Y XTEXT YTEXT COUNT CHISQUARE LOGCHISQUARE);
MPRINT(EM_DIAGRAM):   data WORK.Stat2CHI(keep=YVAR XVAR X Y XTEXT YTEXT COUNT CHISQUARE LOGCHISQUARE);
88632      retain N;
MPRINT(EM_DIAGRAM):   retain N;
88633      dsid = open("WORK.TEMPCROSSTAB");
MPRINT(EM_DIAGRAM):   dsid = open("WORK.TEMPCROSSTAB");
88634      rowvarnum = varnum(dsid, 'RowVariable');
MPRINT(EM_DIAGRAM):   rowvarnum = varnum(dsid, 'RowVariable');
88635      colvarnum = varnum(dsid, 'ColVariable');
MPRINT(EM_DIAGRAM):   colvarnum = varnum(dsid, 'ColVariable');
88636      freqnum = varnum(dsid, 'FREQUENCY');
MPRINT(EM_DIAGRAM):   freqnum = varnum(dsid, 'FREQUENCY');
88637      rownum = varnum(dsid, 'RowPercent');
MPRINT(EM_DIAGRAM):   rownum = varnum(dsid, 'RowPercent');
88638      colnum = varnum(dsid, 'ColPercent');
MPRINT(EM_DIAGRAM):   colnum = varnum(dsid, 'ColPercent');
88639      typenum = varnum(dsid, '_TYPE_');
MPRINT(EM_DIAGRAM):   typenum = varnum(dsid, '_TYPE_');
88640      length YVAR XVAR $32 YTEXT $32 XTEXT $32;
MPRINT(EM_DIAGRAM):   length YVAR XVAR $32 YTEXT $32 XTEXT $32;
88641      do while(^fetch(dsid));
MPRINT(EM_DIAGRAM):   do while(^fetch(dsid));
88642      COUNT = getvarn(dsid, freqnum);
MPRINT(EM_DIAGRAM):   COUNT = getvarn(dsid, freqnum);
88643      YVAR = (getvarc(dsid, rowvarnum));
MPRINT(EM_DIAGRAM):   YVAR = (getvarc(dsid, rowvarnum));
88644      XVAR = strip(getvarc(dsid, colvarnum));
MPRINT(EM_DIAGRAM):   XVAR = strip(getvarc(dsid, colvarnum));
88645      ynum = varnum(dsid, YVAR);
MPRINT(EM_DIAGRAM):   ynum = varnum(dsid, YVAR);
88646      ytype = vartype(dsid, ynum);
MPRINT(EM_DIAGRAM):   ytype = vartype(dsid, ynum);
88647      yformat = varfmt(dsid, ynum);
MPRINT(EM_DIAGRAM):   yformat = varfmt(dsid, ynum);
88648      if yformat eq '' then yformat = 'best12.';
MPRINT(EM_DIAGRAM):   if yformat eq '' then yformat = 'best12.';
88649      Y=.;
MPRINT(EM_DIAGRAM):   Y=.;
88650      if ytype = 'N' then do;
MPRINT(EM_DIAGRAM):   if ytype = 'N' then do;
88651      Y = getvarn(dsid, ynum);
MPRINT(EM_DIAGRAM):   Y = getvarn(dsid, ynum);
88652      YTEXT = left(putn(Y, yformat));
MPRINT(EM_DIAGRAM):   YTEXT = left(putn(Y, yformat));
88653      end;
MPRINT(EM_DIAGRAM):   end;
88654      else YTEXT = getvarc(dsid, ynum);
MPRINT(EM_DIAGRAM):   else YTEXT = getvarc(dsid, ynum);
88655      xnum = varnum(dsid, XVAR);
MPRINT(EM_DIAGRAM):   xnum = varnum(dsid, XVAR);
88656      xtype = vartype(dsid, xnum);
MPRINT(EM_DIAGRAM):   xtype = vartype(dsid, xnum);
88657      xformat = varfmt(dsid, xnum);
MPRINT(EM_DIAGRAM):   xformat = varfmt(dsid, xnum);
88658      if xformat eq '' then xformat = 'best12.';
MPRINT(EM_DIAGRAM):   if xformat eq '' then xformat = 'best12.';
88659      X=.;
MPRINT(EM_DIAGRAM):   X=.;
88660      if xtype = 'N' then do;
MPRINT(EM_DIAGRAM):   if xtype = 'N' then do;
88661      X = getvarn(dsid, xnum);
MPRINT(EM_DIAGRAM):   X = getvarn(dsid, xnum);
88662      XTEXT = left(putn(X, xformat));
MPRINT(EM_DIAGRAM):   XTEXT = left(putn(X, xformat));
88663      end;
MPRINT(EM_DIAGRAM):   end;
88664      else XTEXT = getvarc(dsid, xnum);
MPRINT(EM_DIAGRAM):   else XTEXT = getvarc(dsid, xnum);
88665      if getvarc(dsid, typenum)= '00' then N= count;
MPRINT(EM_DIAGRAM):   if getvarc(dsid, typenum)= '00' then N= count;
88666      else do;
MPRINT(EM_DIAGRAM):   else do;
88667      EXP = (getvarn(dsid,rownum)/100)*(getvarn(dsid,colnum)/100)*N;
MPRINT(EM_DIAGRAM):   EXP = (getvarn(dsid,rownum)/100)*(getvarn(dsid,colnum)/100)*N;
88668      if exp >0 then do;
MPRINT(EM_DIAGRAM):   if exp >0 then do;
88669      CHISQUARE=(EXP-count)**2/(EXP);
MPRINT(EM_DIAGRAM):   CHISQUARE=(EXP-count)**2/(EXP);
88670      if chisquare>0 then LOGCHISQUARE = log(CHISQUARE);
MPRINT(EM_DIAGRAM):   if chisquare>0 then LOGCHISQUARE = log(CHISQUARE);
88671      OUTPUT;
MPRINT(EM_DIAGRAM):   OUTPUT;
88672      end;
MPRINT(EM_DIAGRAM):   end;
88673      end;
MPRINT(EM_DIAGRAM):   end;
88674      end;
MPRINT(EM_DIAGRAM):   end;
88675      dsid = close(dsid);
MPRINT(EM_DIAGRAM):   dsid = close(dsid);
88676      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: The data set WORK.STAT2CHI has 276 observations and 9 variables.
NOTE: DATA statement used (Total process time):
      real time           0.02 seconds
      cpu time            0.03 seconds
 
 
88677      data WORK.Stat2CHI;
MPRINT(EM_DIAGRAM):    data WORK.Stat2CHI;
88678      length DATAROLE $20;
MPRINT(EM_DIAGRAM):   length DATAROLE $20;
88679      retain DATAROLE "TRAIN";
MPRINT(EM_DIAGRAM):   retain DATAROLE "TRAIN";
88680      SegmentVar = "";
MPRINT(EM_DIAGRAM):   SegmentVar = "";
88681      SegmentValue = "";
MPRINT(EM_DIAGRAM):   SegmentValue = "";
88682      SegmentId = "_OVERALL_";
MPRINT(EM_DIAGRAM):   SegmentId = "_OVERALL_";
88683      set WORK.Stat2CHI;
MPRINT(EM_DIAGRAM):   set WORK.Stat2CHI;
88684      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 276 observations read from the data set WORK.STAT2CHI.
NOTE: The data set WORK.STAT2CHI has 276 observations and 13 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
88685      proc append base=EMWS8.Stat2_CHI2 data=WORK.Stat2CHI force;
MPRINT(EM_DIAGRAM):   proc append base=EMWS8.Stat2_CHI2 data=WORK.Stat2CHI force;
88686      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: Appending WORK.STAT2CHI to EMWS8.STAT2_CHI2.
NOTE: BASE data set does not exist. DATA file is being copied to BASE file.
NOTE: There were 276 observations read from the data set WORK.STAT2CHI.
NOTE: The data set EMWS8.STAT2_CHI2 has 276 observations and 13 variables.
NOTE: PROCEDURE APPEND used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
 
 
88687      data WORK.Stat2CHI2;
MPRINT(EM_DIAGRAM):    data WORK.Stat2CHI2;
88688      length DATAROLE $20;
MPRINT(EM_DIAGRAM):   length DATAROLE $20;
88689      retain DATAROLE "TRAIN";
MPRINT(EM_DIAGRAM):   retain DATAROLE "TRAIN";
88690      SegmentVar = "";
MPRINT(EM_DIAGRAM):   SegmentVar = "";
88691      SegmentValue = "";
MPRINT(EM_DIAGRAM):   SegmentValue = "";
88692      SegmentId = "_OVERALL_";
MPRINT(EM_DIAGRAM):   SegmentId = "_OVERALL_";
88693      set WORK.Stat2CHI2;
MPRINT(EM_DIAGRAM):   set WORK.Stat2CHI2;
88694      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 33 observations read from the data set WORK.STAT2CHI2.
NOTE: The data set WORK.STAT2CHI2 has 33 observations and 10 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
88695      proc append base=EMWS8.Stat2_CHIMEASURE data=WORK.Stat2CHI2 force;
MPRINT(EM_DIAGRAM):   proc append base=EMWS8.Stat2_CHIMEASURE data=WORK.Stat2CHI2 force;
88696      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: Appending WORK.STAT2CHI2 to EMWS8.STAT2_CHIMEASURE.
NOTE: BASE data set does not exist. DATA file is being copied to BASE file.
NOTE: There were 33 observations read from the data set WORK.STAT2CHI2.
NOTE: The data set EMWS8.STAT2_CHIMEASURE has 33 observations and 10 variables.
NOTE: PROCEDURE APPEND used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
 
 
88697      proc sort data=EMWS8.Stat2_VariableSet out=tempVariable(keep=name label role rename=(label=XLabel name=XVAR));
MPRINT(EM_DIAGRAM):    proc sort data=EMWS8.Stat2_VariableSet out=tempVariable(keep=name label role rename=(label=XLabel name=XVAR));
88698      by name;
MPRINT(EM_DIAGRAM):   by name;
88699      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 36 observations read from the data set EMWS8.STAT2_VARIABLESET.
NOTE: The data set WORK.TEMPVARIABLE has 36 observations and 3 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
88700      proc sort data=EMWS8.Stat2_CHI2;
MPRINT(EM_DIAGRAM):   proc sort data=EMWS8.Stat2_CHI2;
88701      by XVAR;
MPRINT(EM_DIAGRAM):   by XVAR;
88702      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 276 observations read from the data set EMWS8.STAT2_CHI2.
NOTE: The data set EMWS8.STAT2_CHI2 has 276 observations and 13 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
88703      data EMWS8.Stat2_CHI2;
MPRINT(EM_DIAGRAM):   data EMWS8.Stat2_CHI2;
88704      merge EMWS8.Stat2_CHI2(in=_a) tempVariable;
MPRINT(EM_DIAGRAM):   merge EMWS8.Stat2_CHI2(in=_a) tempVariable;
88705      by XVAR;
MPRINT(EM_DIAGRAM):   by XVAR;
88706      if XLabel = '' then XLabel=XVAR;
MPRINT(EM_DIAGRAM):   if XLabel = '' then XLabel=XVAR;
88707      if _a then output;
MPRINT(EM_DIAGRAM):   if _a then output;
88708      run;
MPRINT(EM_DIAGRAM):   run;
 
WARNING: Multiple lengths were specified for the BY variable XVAR by input data sets. This may cause unexpected results.
NOTE: There were 276 observations read from the data set EMWS8.STAT2_CHI2.
NOTE: There were 36 observations read from the data set WORK.TEMPVARIABLE.
NOTE: The data set EMWS8.STAT2_CHI2 has 276 observations and 15 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
88709      proc datasets library=EMWS8 nolist;
MPRINT(EM_DIAGRAM):   proc datasets library=EMWS8 nolist;
88710      modify Stat2_CHI2;
MPRINT(EM_DIAGRAM):   modify Stat2_CHI2;
MPRINT(EM_DIAGRAM):   label DATAROLE = "Data Role";
88711      label DATAROLE = "%sysfunc(sasmsg(sashelp.dmine,  rpt_datarole_vlabel, NOQUOTE))";
MPRINT(EM_DIAGRAM):   label SEGMENTVAR = "Segment";
88712      label SEGMENTVAR = "%sysfunc(sasmsg(sashelp.dmine, rpt_segment_vlabel,      NOQUOTE))";
MPRINT(EM_DIAGRAM):   label SEGMENTID = "Segment Name:Value";
88713      label SEGMENTID = "%sysfunc(sasmsg(sashelp.dmine, rpt_segmentnamevalue_vlabel,      NOQUOTE))";
MPRINT(EM_DIAGRAM):   label SegmentValue= "Segment Id";
88714      label SegmentValue= "%sysfunc(sasmsg(sashelp.dmine, rpt_segmentid_vlabel, NOQUOTE))";
MPRINT(EM_DIAGRAM):   label YVAR = "Target";
88715      label YVAR = "%sysfunc(sasmsg(sashelp.dmine, rpt_target_vlabel,         NOQUOTE))";
MPRINT(EM_DIAGRAM):   label XVAR = "Input";
88716      label XVAR = "%sysfunc(sasmsg(sashelp.dmine, rpt_input_vlabel,          NOQUOTE))";
MPRINT(EM_DIAGRAM):   label X = "Input: Numeric Value";
88717      label X = "%sysfunc(sasmsg(sashelp.dmine, rpt_inputNumValue_vlabel,  NOQUOTE))";
MPRINT(EM_DIAGRAM):   label Y = "Target: Numeric Value";
88718      label Y = "%sysfunc(sasmsg(sashelp.dmine, rpt_targetNumValue_vlabel, NOQUOTE))";
MPRINT(EM_DIAGRAM):   label XTEXT = "Input: Formatted Value";
88719      label XTEXT = "%sysfunc(sasmsg(sashelp.dmine, rpt_inputFmtValue_vlabel,  NOQUOTE))";
MPRINT(EM_DIAGRAM):   label YTEXT = "Target: Formatted Value";
88720      label YTEXT = "%sysfunc(sasmsg(sashelp.dmine, rpt_targetFmtValue_vlabel, NOQUOTE))";
MPRINT(EM_DIAGRAM):   label COUNT = "Frequency Count";
88721      label COUNT = "%sysfunc(sasmsg(sashelp.dmine, rpt_count_vlabel,          NOQUOTE))";
MPRINT(EM_DIAGRAM):   label CHISQUARE = "Chi-Square";
88722      label CHISQUARE = "%sysfunc(sasmsg(sashelp.dmine, rpt_chiSquare_vlabel,      NOQUOTE))";
MPRINT(EM_DIAGRAM):   label LOGCHISQUARE = "Log Chi Square";
88723      label LOGCHISQUARE = "%sysfunc(sasmsg(sashelp.dmine, rpt_logChiSquare_vlabel,   NOQUOTE))";
MPRINT(EM_DIAGRAM):   run;
88724      run;
 
NOTE: MODIFY was successful for EMWS8.STAT2_CHI2.DATA.
 
NOTE: PROCEDURE DATASETS used (Total process time):
      real time           0.12 seconds
      cpu time            0.12 seconds
 
 
88725      proc sort data=EMWS8.Stat2_VariableSet out=tempVariable(keep=name label role rename=(name=INPUT));
MPRINT(EM_DIAGRAM):   proc sort data=EMWS8.Stat2_VariableSet out=tempVariable(keep=name label role rename=(name=INPUT));
88726      by name;
MPRINT(EM_DIAGRAM):   by name;
88727      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 36 observations read from the data set EMWS8.STAT2_VARIABLESET.
NOTE: The data set WORK.TEMPVARIABLE has 36 observations and 3 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
88728      proc sort data=EMWS8.Stat2_CHIMEASURE;
MPRINT(EM_DIAGRAM):   proc sort data=EMWS8.Stat2_CHIMEASURE;
88729      by INPUT;
MPRINT(EM_DIAGRAM):   by INPUT;
88730      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 33 observations read from the data set EMWS8.STAT2_CHIMEASURE.
NOTE: The data set EMWS8.STAT2_CHIMEASURE has 33 observations and 10 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
88731      data EMWS8.Stat2_CHIMEASURE;
MPRINT(EM_DIAGRAM):   data EMWS8.Stat2_CHIMEASURE;
88732      merge EMWS8.Stat2_CHIMEASURE(in=_a) tempVariable;
MPRINT(EM_DIAGRAM):   merge EMWS8.Stat2_CHIMEASURE(in=_a) tempVariable;
88733      by INPUT;
MPRINT(EM_DIAGRAM):   by INPUT;
88734      if label = '' then label=INPUT;
MPRINT(EM_DIAGRAM):   if label = '' then label=INPUT;
88735      if _a then output;
MPRINT(EM_DIAGRAM):   if _a then output;
88736      run;
MPRINT(EM_DIAGRAM):   run;
 
WARNING: Multiple lengths were specified for the BY variable INPUT by input data sets. This may cause unexpected results.
NOTE: There were 33 observations read from the data set EMWS8.STAT2_CHIMEASURE.
NOTE: There were 36 observations read from the data set WORK.TEMPVARIABLE.
NOTE: The data set EMWS8.STAT2_CHIMEASURE has 33 observations and 12 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
88737      proc sort data=EMWS8.Stat2_CHIMEASURE NOTHREADS;
MPRINT(EM_DIAGRAM):   proc sort data=EMWS8.Stat2_CHIMEASURE NOTHREADS;
88738      by DATAROLE TARGET descending CRAMERV;
MPRINT(EM_DIAGRAM):   by DATAROLE TARGET descending CRAMERV;
88739      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 33 observations read from the data set EMWS8.STAT2_CHIMEASURE.
NOTE: The data set EMWS8.STAT2_CHIMEASURE has 33 observations and 12 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
88740      data EMWS8.Stat2_CHIMEASURE;
MPRINT(EM_DIAGRAM):   data EMWS8.Stat2_CHIMEASURE;
88741      set EMWS8.Stat2_CHIMEASURE;
MPRINT(EM_DIAGRAM):   set EMWS8.Stat2_CHIMEASURE;
88742      label ORDEREDINPUTS = "%sysfunc(sasmsg(sashelp.dmine, rpt_orderedInput_vlabel  , NOQUOTE))" DATAROLE = "%sysfunc(sasmsg(sashelp.dmine,  rpt_datarole_vlabel, NOQUOTE))" SEGMENTID =
88743         "%sysfunc(sasmsg(sashelp.dmine, rpt_segmentnamevalue_vlabel,       NOQUOTE))" SegmentValue = "%sysfunc(sasmsg(sashelp.dmine, rpt_segmentid_vlabel, NOQUOTE))" SEGMENTVAR = "%sysfunc(sasmsg(sashelp.dmine, rpt_segment_vlabel,      NOQUOTE))";
MPRINT(EM_DIAGRAM):   label ORDEREDINPUTS = "Ordered Inputs" DATAROLE = "Data Role" SEGMENTID = "Segment Name:Value" SegmentValue = "Segment Id" SEGMENTVAR = "Segment";
88744      format ORDEREDINPUTS 5.0;
MPRINT(EM_DIAGRAM):   format ORDEREDINPUTS 5.0;
88745      retain ORDEREDINPUTS 0;
MPRINT(EM_DIAGRAM):   retain ORDEREDINPUTS 0;
88746      if first.DATAROLE or first.SEGMENTID or first.TARGET then ORDEREDINPUTS=1;
MPRINT(EM_DIAGRAM):   if first.DATAROLE or first.SEGMENTID or first.TARGET then ORDEREDINPUTS=1;
88747      else ORDEREDINPUTS+1;
MPRINT(EM_DIAGRAM):   else ORDEREDINPUTS+1;
88748      by DATAROLE SEGMENTID TARGET;
MPRINT(EM_DIAGRAM):   by DATAROLE SEGMENTID TARGET;
88749      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 33 observations read from the data set EMWS8.STAT2_CHIMEASURE.
NOTE: The data set EMWS8.STAT2_CHIMEASURE has 33 observations and 13 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
 
 
88750      %let _cn = %sysfunc(getoption(CENTER));
88751      %let _nb = %sysfunc(getoption(NUMBER));
88752      options nonumber nocenter;
MPRINT(EM_DIAGRAM):   options nonumber nocenter;
88753      title;
MPRINT(EM_DIAGRAM):   title;
88754      proc print data=EMWS8.Stat2_CHIMEASURE(obs=500) label noobs;
MPRINT(EM_DIAGRAM):   proc print data=EMWS8.Stat2_CHIMEASURE(obs=500) label noobs;
88755      var INPUT CHIMEASURE DF PROB;
MPRINT(EM_DIAGRAM):   var INPUT CHIMEASURE DF PROB;
88756      label INPUT = "%sysfunc(sasmsg(sashelp.dmine, rpt_input_vlabel ,       NOQUOTE))" CHIMEASURE = "%sysfunc(sasmsg(sashelp.dmine, rpt_chisquare_vlabel,    NOQUOTE))" PROB = "%sysfunc(sasmsg(sashelp.dmine, rpt_probchi_vlabel ,     NOQUOTE))" DF =
88757         "%sysfunc(sasmsg(sashelp.dmine, rpt_df_vlabel ,          NOQUOTE))";
MPRINT(EM_DIAGRAM):   label INPUT = "Input" CHIMEASURE = "Chi-Square" PROB = "Prob" DF = "Df";
88758      by DATAROLE TARGET;
MPRINT(EM_DIAGRAM):   by DATAROLE TARGET;
88759      title9 "%sysfunc(sasmsg(sashelp.dmine, rpt_chisquareStats_title, NOQUOTE))";
MPRINT(EM_DIAGRAM):   title9 "Chi-Square Statistics";
88760      title10 "%sysfunc(sasmsg(sashelp.dmine, rpt_maxObsPrinted_title,  NOQUOTE))";
MPRINT(EM_DIAGRAM):   title10 "(maximum 500 observations printed)";
MPRINT(EM_DIAGRAM):   run;
88761      run;
 
NOTE: There were 33 observations read from the data set EMWS8.STAT2_CHIMEASURE.
NOTE: The PROCEDURE PRINT printed page 36.
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
88762      title10;
MPRINT(EM_DIAGRAM):   title10;
88763      options &_cn &_nb;
MPRINT(EM_DIAGRAM):   options NOCENTER NONUMBER;
88764      proc sort data=EMWS8.Stat2_CHIMEASURE out=trainChimeasure;
MPRINT(EM_DIAGRAM):   proc sort data=EMWS8.Stat2_CHIMEASURE out=trainChimeasure;
88765      by TARGET descending CramerV;
MPRINT(EM_DIAGRAM):   by TARGET descending CramerV;
88766      where DATAROLE='TRAIN';
MPRINT(EM_DIAGRAM):   where DATAROLE='TRAIN';
88767      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 33 observations read from the data set EMWS8.STAT2_CHIMEASURE.
      WHERE DATAROLE='TRAIN';
NOTE: The data set WORK.TRAINCHIMEASURE has 33 observations and 13 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
 
 
88768      data trainChimeasure;
MPRINT(EM_DIAGRAM):   data trainChimeasure;
88769      set trainchimeasure;
MPRINT(EM_DIAGRAM):   set trainchimeasure;
88770      by TARGET;
MPRINT(EM_DIAGRAM):   by TARGET;
88771      retain groupcount 0;
MPRINT(EM_DIAGRAM):   retain groupcount 0;
88772      if first.Target then groupcount =1;
MPRINT(EM_DIAGRAM):   if first.Target then groupcount =1;
88773      else groupcount + 1;
MPRINT(EM_DIAGRAM):   else groupcount + 1;
88774      if groupcount<21 then Plot=1;
MPRINT(EM_DIAGRAM):   if groupcount<21 then Plot=1;
88775      else Plot = 0;
MPRINT(EM_DIAGRAM):   else Plot = 0;
88776      keep Target Input GroupCount Plot;
MPRINT(EM_DIAGRAM):   keep Target Input GroupCount Plot;
88777      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 33 observations read from the data set WORK.TRAINCHIMEASURE.
NOTE: The data set WORK.TRAINCHIMEASURE has 33 observations and 4 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
88778      proc sort data=trainChiMeasure;
MPRINT(EM_DIAGRAM):   proc sort data=trainChiMeasure;
88779      by TARGET INPUT;
MPRINT(EM_DIAGRAM):   by TARGET INPUT;
88780      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 33 observations read from the data set WORK.TRAINCHIMEASURE.
NOTE: The data set WORK.TRAINCHIMEASURE has 33 observations and 4 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
88781      proc sort data=EMWS8.Stat2_CHIMEASURE;
MPRINT(EM_DIAGRAM):   proc sort data=EMWS8.Stat2_CHIMEASURE;
88782      by TARGET INPUT;
MPRINT(EM_DIAGRAM):   by TARGET INPUT;
88783      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 33 observations read from the data set EMWS8.STAT2_CHIMEASURE.
NOTE: The data set EMWS8.STAT2_CHIMEASURE has 33 observations and 13 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
 
 
88784      data EMWS8.Stat2_CHIMEASURE;
MPRINT(EM_DIAGRAM):   data EMWS8.Stat2_CHIMEASURE;
88785      merge EMWS8.Stat2_CHIMEASURE trainchimeasure;
MPRINT(EM_DIAGRAM):   merge EMWS8.Stat2_CHIMEASURE trainchimeasure;
88786      by TARGET INPUT;
MPRINT(EM_DIAGRAM):   by TARGET INPUT;
88787      label DATAROLE = "%sysfunc(sasmsg(sashelp.dmine,  rpt_datarole_vlabel, NOQUOTE))" Plot = "%sysfunc(sasmsg(sashelp.dmine, rpt_plot_vlabel,  NOQUOTE))" groupcount = "%sysfunc(sasmsg(sashelp.dmine, rpt_group_vlabel, NOQUOTE))";
MPRINT(EM_DIAGRAM):   label DATAROLE = "Data Role" Plot = "Plot" groupcount = "Group";
88788      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 33 observations read from the data set EMWS8.STAT2_CHIMEASURE.
NOTE: There were 33 observations read from the data set WORK.TRAINCHIMEASURE.
NOTE: The data set EMWS8.STAT2_CHIMEASURE has 33 observations and 15 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
88789      proc sort data=EMWS8.Stat2_CLASS(drop=CRAW NRAW) NOTHREADS;
MPRINT(EM_DIAGRAM):    proc sort data=EMWS8.Stat2_CLASS(drop=CRAW NRAW) NOTHREADS;
88790      by DATAROLE TARGET VARIABLE LEVEL;
MPRINT(EM_DIAGRAM):   by DATAROLE TARGET VARIABLE LEVEL;
88791      where TARGET ne '_OVERALL_';
MPRINT(EM_DIAGRAM):   where TARGET ne '_OVERALL_';
88792      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 48 observations read from the data set EMWS8.STAT2_CLASS.
      WHERE TARGET not = '_OVERALL_';
NOTE: The data set EMWS8.STAT2_CLASS has 48 observations and 12 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
88793      data WORK.Stat2tempDs(keep=DATAROLE target VARIABLE nobs);
MPRINT(EM_DIAGRAM):   data WORK.Stat2tempDs(keep=DATAROLE target VARIABLE nobs);
88794      retain nobs;
MPRINT(EM_DIAGRAM):   retain nobs;
88795      set EMWS8.Stat2_CLASS;
MPRINT(EM_DIAGRAM):   set EMWS8.Stat2_CLASS;
88796      by DATAROLE target VARIABLE;
MPRINT(EM_DIAGRAM):   by DATAROLE target VARIABLE;
88797      if first.DATAROLE or first.variable then nobs=count;
MPRINT(EM_DIAGRAM):   if first.DATAROLE or first.variable then nobs=count;
88798      else nobs = nobs + count;
MPRINT(EM_DIAGRAM):   else nobs = nobs + count;
88799      if last.DATAROLE or last.variable then output;
MPRINT(EM_DIAGRAM):   if last.DATAROLE or last.variable then output;
88800      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 48 observations read from the data set EMWS8.STAT2_CLASS.
NOTE: The data set WORK.STAT2TEMPDS has 9 observations and 4 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
88801      data EMWS8.Stat2_CLASS(drop=NOBS);
MPRINT(EM_DIAGRAM):   data EMWS8.Stat2_CLASS(drop=NOBS);
88802      merge EMWS8.Stat2_CLASS(where=(TARGET ne '_OVERALL_') rename=(PERCENT=WITHINPCT)) WORK.Stat2tempDs;
MPRINT(EM_DIAGRAM):   merge EMWS8.Stat2_CLASS(where=(TARGET ne '_OVERALL_') rename=(PERCENT=WITHINPCT)) WORK.Stat2tempDs;
88803      label percent = "%sysfunc(sasmsg(sashelp.dmine, rpt_percent_vlabel,         NOQUOTE))" withinpct = "%sysfunc(sasmsg(sashelp.dmine, rpt_percentwithin_vlabel, NOQUOTE))";
MPRINT(EM_DIAGRAM):   label percent = "Percent" withinpct = "Percent Within";
88804      by DATAROLE TARGET VARIABLE;
MPRINT(EM_DIAGRAM):   by DATAROLE TARGET VARIABLE;
88805      if NOBS>0 then PERCENT=COUNT/NOBS;
MPRINT(EM_DIAGRAM):   if NOBS>0 then PERCENT=COUNT/NOBS;
88806      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 48 observations read from the data set EMWS8.STAT2_CLASS.
      WHERE TARGET not = '_OVERALL_';
NOTE: There were 9 observations read from the data set WORK.STAT2TEMPDS.
NOTE: The data set EMWS8.STAT2_CLASS has 48 observations and 13 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
88807      proc sort data=EMWS8.Stat2_CHIMEASURE out=WORK.Stat2cutoff(RENAME=(INPUT=VARIABLE) keep=DATAROLE TARGET INPUT PLOT);
MPRINT(EM_DIAGRAM):    proc sort data=EMWS8.Stat2_CHIMEASURE out=WORK.Stat2cutoff(RENAME=(INPUT=VARIABLE) keep=DATAROLE TARGET INPUT PLOT);
88808      by DATAROLE TARGET INPUT;
MPRINT(EM_DIAGRAM):   by DATAROLE TARGET INPUT;
88809      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 33 observations read from the data set EMWS8.STAT2_CHIMEASURE.
NOTE: The data set WORK.STAT2CUTOFF has 33 observations and 4 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
 
 
88810      data EMWS8.Stat2_CLASS;
MPRINT(EM_DIAGRAM):   data EMWS8.Stat2_CLASS;
88811      drop groupcount;
MPRINT(EM_DIAGRAM):   drop groupcount;
88812      retain groupcount 0;
MPRINT(EM_DIAGRAM):   retain groupcount 0;
88813      merge EMWS8.Stat2_CLASS(in=_a) WORK.Stat2cutoff;
MPRINT(EM_DIAGRAM):   merge EMWS8.Stat2_CLASS(in=_a) WORK.Stat2cutoff;
88814      if _a then do;
MPRINT(EM_DIAGRAM):   if _a then do;
88815      plot=1;
MPRINT(EM_DIAGRAM):   plot=1;
88816      groupcount+1;
MPRINT(EM_DIAGRAM):   groupcount+1;
88817      end;
MPRINT(EM_DIAGRAM):   end;
88818      if groupcount>21 then plot=0;
MPRINT(EM_DIAGRAM):   if groupcount>21 then plot=0;
88819      by DATAROLE Target Variable;
MPRINT(EM_DIAGRAM):   by DATAROLE Target Variable;
88820      if PERCENT eq . or plot = . then delete;
MPRINT(EM_DIAGRAM):   if PERCENT eq . or plot = . then delete;
88821      label DATAROLE = "%sysfunc(sasmsg(sashelp.dmine,  rpt_datarole_vlabel, NOQUOTE))" LEVEL = "%sysfunc(sasmsg(sashelp.dmine, rpt_level_vlabel,          NOQUOTE))" TYPE = "%sysfunc(sasmsg(sashelp.dmine, rpt_type_vlabel,           NOQUOTE))" COUNT =
88822         "%sysfunc(sasmsg(sashelp.dmine, rpt_count_vlabel,          NOQUOTE))" ROLE = "%sysfunc(sasmsg(sashelp.dmine, meta_role_vlabel,          NOQUOTE))" LEVELINDEX = "%sysfunc(sasmsg(sashelp.dmine, rpt_levelIndex_vlabel,     NOQUOTE))";
MPRINT(EM_DIAGRAM):   label DATAROLE = "Data Role" LEVEL = "Level" TYPE = "Type" COUNT = "Frequency Count" ROLE = "Role" LEVELINDEX = "Level Index";
88823      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 48 observations read from the data set EMWS8.STAT2_CLASS.
NOTE: There were 33 observations read from the data set WORK.STAT2CUTOFF.
NOTE: The data set EMWS8.STAT2_CLASS has 48 observations and 14 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
88824      proc sort data=EMWS8.Stat2_CHIMEASURE;
MPRINT(EM_DIAGRAM):    proc sort data=EMWS8.Stat2_CHIMEASURE;
88825      by DATAROLE ORDEREDINPUTS;
MPRINT(EM_DIAGRAM):   by DATAROLE ORDEREDINPUTS;
88826      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 33 observations read from the data set EMWS8.STAT2_CHIMEASURE.
NOTE: The data set EMWS8.STAT2_CHIMEASURE has 33 observations and 15 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
 
 
88827      data WORK.Stat2INTERVALPLOT(drop=TARGET N MIN NMISS P50 MAX TARGETVALUE rename=(Mean=OMean));
MPRINT(EM_DIAGRAM):    data WORK.Stat2INTERVALPLOT(drop=TARGET N MIN NMISS P50 MAX TARGETVALUE rename=(Mean=OMean));
88828      set EMWS8.Stat2_INTERVAL;
MPRINT(EM_DIAGRAM):   set EMWS8.Stat2_INTERVAL;
88829      where TARGET='_OVERALL_';
MPRINT(EM_DIAGRAM):   where TARGET='_OVERALL_';
88830      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 24 observations read from the data set EMWS8.STAT2_INTERVAL.
      WHERE TARGET='_OVERALL_';
NOTE: The data set WORK.STAT2INTERVALPLOT has 24 observations and 8 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
88831      data EMWS8.Stat2_INTERVAL(drop=OMean);
MPRINT(EM_DIAGRAM):   data EMWS8.Stat2_INTERVAL(drop=OMean);
88832      merge EMWS8.Stat2_INTERVAL(where=(TARGET ne '_OVERALL_')) WORK.Stat2INTERVALPLOT;
MPRINT(EM_DIAGRAM):   merge EMWS8.Stat2_INTERVAL(where=(TARGET ne '_OVERALL_')) WORK.Stat2INTERVALPLOT;
88833      by DATAROLE Variable;
MPRINT(EM_DIAGRAM):   by DATAROLE Variable;
88834      if OMean ne 0 then ScaleDevMean = (Mean - OMean)/OMean;
MPRINT(EM_DIAGRAM):   if OMean ne 0 then ScaleDevMean = (Mean - OMean)/OMean;
88835      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 48 observations read from the data set EMWS8.STAT2_INTERVAL.
      WHERE TARGET not = '_OVERALL_';
NOTE: There were 24 observations read from the data set WORK.STAT2INTERVALPLOT.
NOTE: The data set EMWS8.STAT2_INTERVAL has 48 observations and 16 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
88836      proc sort data=EMWS8.Stat2_INTERVAL NOTHREADS;
MPRINT(EM_DIAGRAM):   proc sort data=EMWS8.Stat2_INTERVAL NOTHREADS;
88837      by DATAROLE Variable Target;
MPRINT(EM_DIAGRAM):   by DATAROLE Variable Target;
88838      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 48 observations read from the data set EMWS8.STAT2_INTERVAL.
NOTE: The data set EMWS8.STAT2_INTERVAL has 48 observations and 16 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
88839      data WORK.Stat2MAXINTERVAL(keep=DATAROLE Target Variable MaxDev);
MPRINT(EM_DIAGRAM):   data WORK.Stat2MAXINTERVAL(keep=DATAROLE Target Variable MaxDev);
88840      set EMWS8.Stat2_INTERVAL;
MPRINT(EM_DIAGRAM):   set EMWS8.Stat2_INTERVAL;
88841      if first.DATAROLE or first.Variable then MaxDev = abs(ScaleDevMean);
MPRINT(EM_DIAGRAM):   if first.DATAROLE or first.Variable then MaxDev = abs(ScaleDevMean);
88842      else if abs(ScaleDevMean)>MaxDev then MaxDev = abs(ScaleDevMean);
MPRINT(EM_DIAGRAM):   else if abs(ScaleDevMean)>MaxDev then MaxDev = abs(ScaleDevMean);
88843      if last.datarole or last.variable or last.target then output;
MPRINT(EM_DIAGRAM):   if last.datarole or last.variable or last.target then output;
88844      by DATAROLE Variable Target;
MPRINT(EM_DIAGRAM):   by DATAROLE Variable Target;
88845      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 48 observations read from the data set EMWS8.STAT2_INTERVAL.
NOTE: The data set WORK.STAT2MAXINTERVAL has 24 observations and 4 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
88846      data EMWS8.Stat2_INTERVAL;
MPRINT(EM_DIAGRAM):   data EMWS8.Stat2_INTERVAL;
88847      merge EMWS8.Stat2_INTERVAL WORK.Stat2MAXINTERVAL;
MPRINT(EM_DIAGRAM):   merge EMWS8.Stat2_INTERVAL WORK.Stat2MAXINTERVAL;
88848      label LevelId = "%sysfunc(sasmsg(sashelp.dmine, rpt_levelId_vlabel,             NOQUOTE))" Variable = "%sysfunc(sasmsg(sashelp.dmine, rpt_variable_vlabel,            NOQUOTE))" MaxDev =
88849         "%sysfunc(sasmsg(sashelp.dmine, rpt_maxdev_vlabel,              NOQUOTE))" ScaleDevMean = "%sysfunc(sasmsg(sashelp.dmine, rpt_scaledMeanDeviation_vlabel, NOQUOTE))";
MPRINT(EM_DIAGRAM):   label LevelId = "Level Id" Variable = "Variable" MaxDev = "Maximum Deviation" ScaleDevMean = "Scaled Mean Deviation";
88850      format LevelId best3.;
MPRINT(EM_DIAGRAM):   format LevelId best3.;
88851      retain LevelId 0;
MPRINT(EM_DIAGRAM):   retain LevelId 0;
88852      by DATAROLE Variable Target;
MPRINT(EM_DIAGRAM):   by DATAROLE Variable Target;
88853      if first.DATAROLE or first.Target then LevelId=1;
MPRINT(EM_DIAGRAM):   if first.DATAROLE or first.Target then LevelId=1;
88854      else LevelId + 1;
MPRINT(EM_DIAGRAM):   else LevelId + 1;
88855      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 48 observations read from the data set EMWS8.STAT2_INTERVAL.
NOTE: There were 24 observations read from the data set WORK.STAT2MAXINTERVAL.
NOTE: The data set EMWS8.STAT2_INTERVAL has 48 observations and 18 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
88856      proc sort data=EMWS8.Stat2_INTERVAL NOTHREADS;
MPRINT(EM_DIAGRAM):   proc sort data=EMWS8.Stat2_INTERVAL NOTHREADS;
88857      by DATAROLE Target descending MaxDev Variable LevelId;
MPRINT(EM_DIAGRAM):   by DATAROLE Target descending MaxDev Variable LevelId;
88858      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 48 observations read from the data set EMWS8.STAT2_INTERVAL.
NOTE: The data set EMWS8.STAT2_INTERVAL has 48 observations and 18 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
 
 
88859      proc sort data=WORK.M0W_4KKP;
MPRINT(EM_DIAGRAM):    proc sort data=WORK.M0W_4KKP;
88860      by name;
MPRINT(EM_DIAGRAM):   by name;
88861      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: Input data set is already sorted, no sorting done.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
88862      proc sort data=EMWS8.Stat2_WORTH;
MPRINT(EM_DIAGRAM):    proc sort data=EMWS8.Stat2_WORTH;
88863      by NAME;
MPRINT(EM_DIAGRAM):   by NAME;
88864      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 33 observations read from the data set EMWS8.STAT2_WORTH.
NOTE: The data set EMWS8.STAT2_WORTH has 33 observations and 5 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
88865      data EMWS8.Stat2_WORTH;
MPRINT(EM_DIAGRAM):   data EMWS8.Stat2_WORTH;
88866      merge EMWS8.Stat2_WORTH(in=_a) WORK.M0W_4KKP(Keep=NAME LABEL REPORT);
MPRINT(EM_DIAGRAM):   merge EMWS8.Stat2_WORTH(in=_a) WORK.M0W_4KKP(Keep=NAME LABEL REPORT);
88867      by NAME;
MPRINT(EM_DIAGRAM):   by NAME;
88868      if REPORT = 'Y' then plot = 1;
MPRINT(EM_DIAGRAM):   if REPORT = 'Y' then plot = 1;
88869      if LABEL = "" then LABEL = NAME;
MPRINT(EM_DIAGRAM):   if LABEL = "" then LABEL = NAME;
88870      if _a then output;
MPRINT(EM_DIAGRAM):   if _a then output;
88871      drop report;
MPRINT(EM_DIAGRAM):   drop report;
88872      run;
MPRINT(EM_DIAGRAM):   run;
 
WARNING: Multiple lengths were specified for the BY variable Name by input data sets. This may cause unexpected results.
NOTE: There were 33 observations read from the data set EMWS8.STAT2_WORTH.
NOTE: There were 36 observations read from the data set WORK.M0W_4KKP.
NOTE: The data set EMWS8.STAT2_WORTH has 33 observations and 7 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
88873      proc sort data=EMWS8.Stat2_WORTH;
MPRINT(EM_DIAGRAM):   proc sort data=EMWS8.Stat2_WORTH;
88874      by rank;
MPRINT(EM_DIAGRAM):   by rank;
88875      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 33 observations read from the data set EMWS8.STAT2_WORTH.
NOTE: The data set EMWS8.STAT2_WORTH has 33 observations and 7 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
MPRINT(EM_DIAGRAM):    proc printto;
MPRINT(EM_DIAGRAM):   run;
MPRINT(EM_DIAGRAM):    data _null_;
MPRINT(EM_DIAGRAM):   call symput('NLDATE', strip(put(date(), NLDATE.)));
MPRINT(EM_DIAGRAM):   call symput('NLTIME', strip(put(datetime(), NLTIME.)));
MPRINT(EM_DIAGRAM):   run;
MPRINT(EM_DIAGRAM):   data _null_;
MPRINT(EM_DIAGRAM):   nldate= sasmsg("sashelp.dmine", "log_date_note", 'N', "20. April 2016" );
MPRINT(EM_DIAGRAM):   nltime= sasmsg("sashelp.dmine", "log_time_note", 'N', "16.22 Uhr" );
MPRINT(EM_DIAGRAM):   put "*------------------------------------------------------------*";
MPRINT(EM_DIAGRAM):   put "* Score Log";
MPRINT(EM_DIAGRAM):   put nldate;
MPRINT(EM_DIAGRAM):   put nltime;
MPRINT(EM_DIAGRAM):   put "*------------------------------------------------------------*";
MPRINT(EM_DIAGRAM):   run;
*------------------------------------------------------------*
* Score Log
Date:                20. April 2016
Time:                16.22 Uhr
*------------------------------------------------------------*
MPRINT(EM_DIAGRAM):    filename O1KO5I8X "C:\\predictive-models-project\Workspaces\EMWS8\Stat2\EMSCORE.out" encoding="UTF-8" NOBOM;
MPRINT(EM_DIAGRAM):   proc printto print=O1KO5I8X new;
MPRINT(EM_DIAGRAM):   run;
88977      *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):    *------------------------------------------------------------*;
88978      * Stat2: Scoring DATA data;
MPRINT(EM_DIAGRAM):   * Stat2: Scoring DATA data;
88979      *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
88980      data EMWS8.Stat2_TRAIN
88981      / view=EMWS8.Stat2_TRAIN
88982      ;
MPRINT(EM_DIAGRAM):   data EMWS8.Stat2_TRAIN / view=EMWS8.Stat2_TRAIN ;
88983      set EMWS8.Part_TRAIN
88984      ;
MPRINT(EM_DIAGRAM):   set EMWS8.Part_TRAIN ;
88985      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: DATA STEP view saved on file EMWS8.STAT2_TRAIN.
NOTE: A stored DATA STEP view cannot run under a different operating system.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
 
 
MPRINT(EM_DIAGRAM):   quit;
88986      quit;
 
88987      *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):    *------------------------------------------------------------*;
88988      * Stat2: Scoring VALIDATE data;
MPRINT(EM_DIAGRAM):   * Stat2: Scoring VALIDATE data;
88989      *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
88990      data EMWS8.Stat2_VALIDATE
88991      / view=EMWS8.Stat2_VALIDATE
88992      ;
MPRINT(EM_DIAGRAM):   data EMWS8.Stat2_VALIDATE / view=EMWS8.Stat2_VALIDATE ;
88993      set EMWS8.Part_VALIDATE
88994      ;
MPRINT(EM_DIAGRAM):   set EMWS8.Part_VALIDATE ;
88995      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: DATA STEP view saved on file EMWS8.STAT2_VALIDATE.
NOTE: A stored DATA STEP view cannot run under a different operating system.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
MPRINT(EM_DIAGRAM):   quit;
88996      quit;
 
88997      *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):    *------------------------------------------------------------*;
88998      * Stat2: Computing metadata for TRAIN data;
MPRINT(EM_DIAGRAM):   * Stat2: Computing metadata for TRAIN data;
88999      *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
 
NOTE: View EMWS8.STAT2_TRAIN.VIEW used (Total process time):
      real time           0.01 seconds
      cpu time            0.03 seconds
 
MPRINT(EM_DIAGRAM):    *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   * &nodeid: Computing Metadata for TRAIN data;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   filename _delta "C:\\predictive-models-project\Workspaces\EMWS8\Stat2\CDELTA_TRAIN.sas";
MPRINT(EMADVISECOLUMNS):   proc display c=sashelp.emmeta.advisecolumns.scl;
MPRINT(EMADVISECOLUMNS):   run;
MPRINT(EMADVISECOLUMNS):    options validvarname=any;
MPRINT(EMADVISECOLUMNS):   proc contents data=EMWS8.Stat2_TRAIN out=_tempAdvisor noprint;
MPRINT(EMADVISECOLUMNS):   run;
MPRINT(EMADVISECOLUMNS):   options validvarname=V7;
MPRINT(EMADVISECOLUMNS):    data _null_;
MPRINT(EMADVISECOLUMNS):   dsid = open('EMWS8.Stat2_TRAIN');
MPRINT(EMADVISECOLUMNS):   call symput('_dsidTable', strip(put(dsid, best.)));
MPRINT(EMADVISECOLUMNS):   if dsid then do;
MPRINT(EMADVISECOLUMNS):   call symput('_engineTable', attrc(dsid, 'ENGINE'));
MPRINT(EMADVISECOLUMNS):   dsid = close(dsid);
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   run;
MPRINT(EMADVISECOLUMNS):    proc contents data=EMWS8.Stat2_TRAIN out=WORK.M0SEPOIB noprint;
MPRINT(EMADVISECOLUMNS):   run;
MPRINT(EMADVISECOLUMNS):    data WORK.M0SEPOIB;
MPRINT(EMADVISECOLUMNS):   length NAME $ 64 TYPE $ 1 LABEL $ 200 FORMAT $ 20 INFORMAT $20 INDEX $ 1 INDEXTYPE $ 9;
MPRINT(EMADVISECOLUMNS):   label NAME =;
MPRINT(EMADVISECOLUMNS):   set WORK.M0SEPOIB(keep=name type length label format formatl formatd informat informl informd idxusage rename=(type=itype));
MPRINT(EMADVISECOLUMNS):   if itype = 1 then type = 'N';
MPRINT(EMADVISECOLUMNS):   else type = 'C';
MPRINT(EMADVISECOLUMNS):   if formatl > 0 then do;
MPRINT(EMADVISECOLUMNS):   if format ne ' ' then format = strip(format)!!strip(put(formatl, best12.))!!'.'!!strip(put(formatd, best12.));
MPRINT(EMADVISECOLUMNS):   else format = strip(put(formatl, best12.))!!'.'!!strip(put(formatd, best12.));
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   else if format ne '' then format = strip(format)!!'.';
MPRINT(EMADVISECOLUMNS):   if informl > 0 then do;
MPRINT(EMADVISECOLUMNS):   if informat ne ' ' then informat = strip(informat)!!strip(put(informl, best12.))!!'.'!!strip(put(informd, best12.));
MPRINT(EMADVISECOLUMNS):   else informat = strip(put(informl, best12.))!!'.'!!strip(put(informd, best12.));
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   else if informat ne '' then informat = strip(informat)!!'.';
MPRINT(EMADVISECOLUMNS):   if idxusage = 'NONE' then index ="N";
MPRINT(EMADVISECOLUMNS):   else index = "Y";
MPRINT(EMADVISECOLUMNS):   indextype = idxusage;
MPRINT(EMADVISECOLUMNS):   drop idxusage itype formatl formatd informl informd;
MPRINT(EMADVISECOLUMNS):   run;
MPRINT(EMADVISECOLUMNS):    data WORK.M0SEPOIB;
MPRINT(EMADVISECOLUMNS):   length UNAME $64;
MPRINT(EMADVISECOLUMNS):   set WORK.M0SEPOIB;
MPRINT(EMADVISECOLUMNS):   UNAME = upcase(NAME);
MPRINT(EMADVISECOLUMNS):   run;
MPRINT(EMADVISECOLUMNS):    proc sort data=WORK.M28ZRK_J NOTHREADS;
MPRINT(EMADVISECOLUMNS):   by UNAME;
MPRINT(EMADVISECOLUMNS):   run;
MPRINT(EMADVISECOLUMNS):    data WORK.M28ZRK_J;
MPRINT(EMADVISECOLUMNS):   drop UNAME;
MPRINT(EMADVISECOLUMNS):   set WORK.M28ZRK_J;
MPRINT(EMADVISECOLUMNS):   run;
MPRINT(EMADVISECOLUMNS):    data WORK.M0YEBULZ(keep=NAME ATTR);
MPRINT(EMADVISECOLUMNS):   length ATTR $ 20;
MPRINT(EMADVISECOLUMNS):   set WORK.M28ZRK_J;
MPRINT(EMADVISECOLUMNS):   if level ne "INTERVAL" then do;
MPRINT(EMADVISECOLUMNS):   if order = ' ' then do;
MPRINT(EMADVISECOLUMNS):   attr = 'ORDER';
MPRINT(EMADVISECOLUMNS):   output;
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   if format ne ' ' and formattype = ' ' then do;
MPRINT(EMADVISECOLUMNS):   attr = 'FORMATTYPE';
MPRINT(EMADVISECOLUMNS):   output;
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   if role = ' ' then do;
MPRINT(EMADVISECOLUMNS):   attr = 'ROLE';
MPRINT(EMADVISECOLUMNS):   output;
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   if level = ' ' then do;
MPRINT(EMADVISECOLUMNS):   attr = 'LEVEL';
MPRINT(EMADVISECOLUMNS):   output;
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   if type = ' ' then do;
MPRINT(EMADVISECOLUMNS):   attr = 'TYPE';
MPRINT(EMADVISECOLUMNS):   output;
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   if index = ' ' then do;
MPRINT(EMADVISECOLUMNS):   attr = 'INDEX';
MPRINT(EMADVISECOLUMNS):   output;
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   if report = ' ' then do;
MPRINT(EMADVISECOLUMNS):   attr = 'REPORT';
MPRINT(EMADVISECOLUMNS):   output;
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   run;
MPRINT(EMADVISECOLUMNS):   proc sort NOTHREADS;
MPRINT(EMADVISECOLUMNS):   by attr;
MPRINT(EMADVISECOLUMNS):   run;
MPRINT(EMADVISECOLUMNS):    data WORK.M28ZRK_J;
MPRINT(EMADVISECOLUMNS):   length NAME $64 ROLE $ 32 LEVEL $ 10 ORDER $ 8 CREATOR $32 FORMATTYPE $ 10 FAMILY $ 10 LOWERLIMIT 8 UPPERLIMIT 8 REPORT $1 DISTRIBUTION $ 20 COMMENT $64;
MPRINT(EMADVISECOLUMNS):   length levelAssigned 8 roleAssigned 8 PRICE 8;
MPRINT(EMADVISECOLUMNS):   set WORK.M28ZRK_J;
MPRINT(EMADVISECOLUMNS):   if formattype = ' ' then do;
MPRINT(EMADVISECOLUMNS):   if format ne ' ' then do;
MPRINT(EMADVISECOLUMNS):   if type = 'N' then do;
MPRINT(EMADVISECOLUMNS):   pos = indexc(format,'.1234567890');
MPRINT(EMADVISECOLUMNS):   if pos > 1 then tempfmt = substr(format,1, pos-1);
MPRINT(EMADVISECOLUMNS):   else tempfmt = ' ';
MPRINT(EMADVISECOLUMNS):   flen = length(tempfmt);
MPRINT(EMADVISECOLUMNS):   select;
MPRINT(EMADVISECOLUMNS):   when(tempfmt in ("DATE" "DAY" "DDMMYY" "DOWNAME" "JULDAY" "JULIAN" "MMDDYY" "MMDDYYD" "MMDDYYC" "MMDDYYN" "MMDDYYP" "MMDDYYS" "MONNAME" "MONTH" "MONYY" "NENGO" "QTR" "QTRR" "WEEKDATE" "WEEKDATX" "WEEKDAY" "WORDDATE" "WORDDATX"
"YEAR" "YYMMDD" "YYMON" "YYMMDDC" "YYMMDDD" "YYMMDDN" "YYMMDDP" "YYMMDDS" "EURDFDE" "NJDATE" "NLDATE" "EURDFDD" "EURDFDWN" "EURDFMN" "EURDFMY" "EURDFWK" "EURDFWKX" "EURDFWDX" "EURDFDN" "EURDFDE" )) formattype = 'DATE';
MPRINT(EMADVISECOLUMNS):   when(tempfmt in ("DATETIME" "EURDFDT" "TOD" )) formattype = "DATETIME";
MPRINT(EMADVISECOLUMNS):   when(tempfmt in ("HHMM" "HOUR" "MMSS" "TIME" "TIMEAMPM" )) formattype = "TIME";
MPRINT(EMADVISECOLUMNS):   when(tempfmt in ("COMMA" "COMMAX" "DOLLAR" "DOLLARX" "E" "FRACT" "NEGPAREN" "PERCENT")) formattype="QUANTITY";
MPRINT(EMADVISECOLUMNS):   when(tempfmt in ("BINARY" "HEX" "IB" "OCTAL" "PD" "PIB" "PK" "RB" "SSN" "Z" "ZD")) formattype = "CODING";
MPRINT(EMADVISECOLUMNS):   otherwise do;
MPRINT(EMADVISECOLUMNS):   formattype = "USER";
MPRINT(EMADVISECOLUMNS):   if substr(tempfmt, 1, 6)='NLDATE' then formattype = "DATE";
MPRINT(EMADVISECOLUMNS):   else if substr(tempfmt, 1, 6)='NLDATM' then formattype = "DATETIME";
MPRINT(EMADVISECOLUMNS):   else if substr(tempfmt, 1, 4)='NLTIM' then formattype = "TIME";
MPRINT(EMADVISECOLUMNS):   else if flen >= 4 then do;
MPRINT(EMADVISECOLUMNS):   str = substr(tempfmt,1,4);
MPRINT(EMADVISECOLUMNS):   if str in ("MMYY" "YYMM" "YYQR") then formattype ="DATE";
MPRINT(EMADVISECOLUMNS):   else if str = "S370" then formattype = "CODING";
MPRINT(EMADVISECOLUMNS):   else if str = "BEST" then formattype = "NUM";
MPRINT(EMADVISECOLUMNS):   drop str;
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   else if flen >=3 and substr(tempfmt,1,3) = "YYQ" then formatType = "DATE";
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   drop flen tempfmt pos;
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   else do;
MPRINT(EMADVISECOLUMNS):   formatType = "CATEGORY";
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   if formatType = "NUM" then do;
MPRINT(EMADVISECOLUMNS):   if index = "Y" then formatType = "DISCRETE";
MPRINT(EMADVISECOLUMNS):   else formatType = "QUANTITY";
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   if level = ' ' then do;
MPRINT(EMADVISECOLUMNS):   if formatType in ("CATEGORY", "CODING", "ID") or type = "C" then level = "NOMINAL";
MPRINT(EMADVISECOLUMNS):   else level = "INTERVAL";
MPRINT(EMADVISECOLUMNS):   levelAssigned = 1;
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   else level = upcase(level);
MPRINT(EMADVISECOLUMNS):   if role = ' ' then do;
MPRINT(EMADVISECOLUMNS):   length name_prefix $8 _uname $64;
MPRINT(EMADVISECOLUMNS):   drop name_prefix _uname _freqflag;
MPRINT(EMADVISECOLUMNS):   retain _freqflag;
MPRINT(EMADVISECOLUMNS):   if LENGTH> 80 then ROLE = 'TEXT';
MPRINT(EMADVISECOLUMNS):   _uname = upcase(NAME);
MPRINT(EMADVISECOLUMNS):   select(_uname);
MPRINT(EMADVISECOLUMNS):   when('_WARN_') ROLE = 'ASSESS';
MPRINT(EMADVISECOLUMNS):   when('EM_SEGMENT') do;
MPRINT(EMADVISECOLUMNS):   ROLE = 'SEGMENT';
MPRINT(EMADVISECOLUMNS):   LEVEL = 'NOMINAL';
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   when('_NODE_') do;
MPRINT(EMADVISECOLUMNS):   ROLE = 'SEGMENT';
MPRINT(EMADVISECOLUMNS):   LEVEL = 'NOMINAL';
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   when('EM_CLASSTARGET') ROLE = 'ASSESS';
MPRINT(EMADVISECOLUMNS):   when('EM_VALUETARGET') ROLE = 'ASSESS';
MPRINT(EMADVISECOLUMNS):   when('EM_PREDICTION') ROLE = 'PREDICT';
MPRINT(EMADVISECOLUMNS):   when('EM_PROBABILITY') ROLE = 'PREDICT';
MPRINT(EMADVISECOLUMNS):   when('EM_EVENTPROBABILITY') ROLE = 'PREDICT';
MPRINT(EMADVISECOLUMNS):   when('EM_CLASSIFICATION') ROLE = 'CLASSIFICATION';
MPRINT(EMADVISECOLUMNS):   when('EM_DECISION') ROLE = 'DECISION';
MPRINT(EMADVISECOLUMNS):   when('EM_PROFIT') ROLE = 'ASSESS';
MPRINT(EMADVISECOLUMNS):   when('EM_LOSS') ROLE = 'ASSESS';
MPRINT(EMADVISECOLUMNS):   when('EM_ROI') ROLE = 'ASSESS';
MPRINT(EMADVISECOLUMNS):   when('URI') ROLE = 'URL';
MPRINT(EMADVISECOLUMNS):   when('FILTERED') ROLE = 'TEXTLOC';
MPRINT(EMADVISECOLUMNS):   otherwise do;
MPRINT(EMADVISECOLUMNS):   if upcase(NAME) =: 'ZIP' then do;
MPRINT(EMADVISECOLUMNS):   ROLE = 'REJECTED';
MPRINT(EMADVISECOLUMNS):   LEVEL = 'NOMINAL';
MPRINT(EMADVISECOLUMNS):   COMMENT = 'Rejected by: Exceed the maximum class level of %s';
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   else if upcase(NAME) in('FREQ', 'FREQUENCY') then do;
MPRINT(EMADVISECOLUMNS):   ROLE = 'FREQ';
MPRINT(EMADVISECOLUMNS):   if TYPE = 'C' then ROLE = 'INPUT';
MPRINT(EMADVISECOLUMNS):   else if _freqflag =1 then ROLE='REJECTED';
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   else do;
MPRINT(EMADVISECOLUMNS):   name_prefix = scan(_uname, 1, '_');
MPRINT(EMADVISECOLUMNS):   if scan(_uname, 2, '_') = '' then name_prefix='';
MPRINT(EMADVISECOLUMNS):   if name_prefix in('F', 'I', 'U') then do;
MPRINT(EMADVISECOLUMNS):   ROLE = 'CLASSIFICATION';
MPRINT(EMADVISECOLUMNS):   LEVEL = 'NOMINAL';
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   else if name_prefix in('P', 'V') then ROLE = 'PREDICT';
MPRINT(EMADVISECOLUMNS):   else if name_prefix in('R', 'RS', 'RT', 'RD', 'RDS', 'RDT', 'RA', 'RAS', 'RAT') then ROLE = 'RESIDUAL';
MPRINT(EMADVISECOLUMNS):   else if name_prefix ='D' then do;
MPRINT(EMADVISECOLUMNS):   ROLE = 'DECISION';
MPRINT(EMADVISECOLUMNS):   LEVEL = 'NOMINAL';
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   else if name_prefix ='B' then do;
MPRINT(EMADVISECOLUMNS):   ROLE = 'SEGMENT';
MPRINT(EMADVISECOLUMNS):   LEVEL = 'NOMINAL';
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   else if name_prefix in('EP', 'BP', 'CP', 'EL', 'CL', 'BL', 'W', 'ROI', 'IC') then ROLE = 'ASSESS';
MPRINT(EMADVISECOLUMNS):   else do;
MPRINT(EMADVISECOLUMNS):   array _ROLE_ (19) $32 _TEMPORARY_ ('ASSESS','CLASSIFICATION','CENSOR', 'COST', 'CROSSID', 'DECISION', 'ID','INPUT', 'LABEL', 'MISSING','PREDICT','REFERRER','REJECTED', 'RESIDUAL','SEGMENT', 'SEQUENCE','TARGET', 'TEXT', 'TIMEID');
MPRINT(EMADVISECOLUMNS):   drop _found_ i;
MPRINT(EMADVISECOLUMNS):   _found_=0;
MPRINT(EMADVISECOLUMNS):   do i=1 to 19 until(_found_=1);
MPRINT(EMADVISECOLUMNS):   if index(_uname, trim(_ROLE_{i}))=1 then do;
MPRINT(EMADVISECOLUMNS):   ROLE=_ROLE_{i};
MPRINT(EMADVISECOLUMNS):   if ROLE = 'ID' then LEVEL = 'NOMINAL';
MPRINT(EMADVISECOLUMNS):   else if ROLE = 'SEGMENT' then LEVEL = 'NOMINAL';
MPRINT(EMADVISECOLUMNS):   else if ROLE = 'TIMEID' and TYPE='N' then LEVEL = 'INTERVAL';
MPRINT(EMADVISECOLUMNS):   _found_=1;
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   if length(_uname)>2 then do;
MPRINT(EMADVISECOLUMNS):   if substr(reverse(trim(_uname)), 1, 3) = 'DI_' then do;
MPRINT(EMADVISECOLUMNS):   ROLE = 'ID';
MPRINT(EMADVISECOLUMNS):   LEVEL = 'NOMINAL';
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   if ROLE='FREQ' then _freqflag=1;
MPRINT(EMADVISECOLUMNS):   else if ROLE = 'CLASSIFICATION' then LEVEL = 'NOMINAL';
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   if role = ' ' then do;
MPRINT(EMADVISECOLUMNS):   if formattype in('DATE', 'DATETIME', 'TIME') then role = 'TIMEID';
MPRINT(EMADVISECOLUMNS):   else role = 'INPUT';
MPRINT(EMADVISECOLUMNS):   roleAssigned = 1;
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   else role = upcase(role);
MPRINT(EMADVISECOLUMNS):   if REPORT = '' then REPORT = 'N';
MPRINT(EMADVISECOLUMNS):   run;
MPRINT(EMADVISECOLUMNS):    data WORK.M28ZRK_J;
MPRINT(EMADVISECOLUMNS):   set WORK.M28ZRK_J;
MPRINT(EMADVISECOLUMNS):   label NAME = "Variable Name" TYPE = "Type" ROLE = "Role" LEVEL= "Measurement Level" ORDER= "Order" CREATOR= "Creator" FORMATTYPE= "Format Type" FAMILY= "Family" DISTRIBUTION= "Distribution" PRICE= "Price" LOWERLIMIT= "Lower
limit" UPPERLIMIT= "Upper Limit" REPORT= "Report" COMMENT= "Comment" INDEX= "Index" INDEXTYPE= "IndexType" LABEL= "Label" LENGTH= "Length";
MPRINT(EMADVISECOLUMNS):   drop levelAssigned roleAssigned;
MPRINT(EMADVISECOLUMNS):   run;
MPRINT(EMADVISECOLUMNS):
MPRINT(EM_DIAGRAM):  ;
MPRINT(EM_DIAGRAM):   proc sort data=WORK.COLUMNMETA;
MPRINT(EM_DIAGRAM):   by NAME;
MPRINT(EM_DIAGRAM):   run;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   * &nodeid: Merge incoming metadata;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   proc contents data=EMWS8.Part_TRAIN noprint out=_temp2(keep=NAME);
MPRINT(EM_DIAGRAM):   run;
MPRINT(EM_DIAGRAM):   proc sort data=_temp2;
MPRINT(EM_DIAGRAM):   by NAME;
MPRINT(EM_DIAGRAM):   run;
MPRINT(EM_DIAGRAM):   proc sort data=EMWS8.Part_CMeta_TRAIN out=_temp;
MPRINT(EM_DIAGRAM):   by NAME;
MPRINT(EM_DIAGRAM):   run;
MPRINT(EM_DIAGRAM):   data EMWS8.Stat2_CMeta_TRAIN;
MPRINT(EM_DIAGRAM):   merge WORK.COLUMNMETA(in=_a) _temp2(in=_b) _temp(drop=FORMAT INFORMAT LENGTH INDEX INDEXTYPE in=_c) end=_eof_;
MPRINT(EM_DIAGRAM):   by NAME;
MPRINT(EM_DIAGRAM):   if (^_a and _b) or (^_c and _a and _b) then delete;
MPRINT(EM_DIAGRAM):   if ^_b then CREATOR = "Stat2";
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   * Stat2: Apply Delta Code;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   if ROLE in('INPUT', 'REJECTED') then do;
MPRINT(EM_DIAGRAM):   if upcase(NAME) in( 'ACCEPTEDCMP1' 'ACCEPTEDCMP2' 'ACCEPTEDCMP3' 'ACCEPTEDCMP4' 'ACCEPTEDCMP5' 'ACCEPTEDCMPTOTAL' 'AGE' 'COMPLAIN' 'EDUCATION' 'FRQ' 'HIGHEREDUCATIONBINARY' 'INCOME' 'KIDHOME' 'MARITAL_STATUS' 'MNT' 'MNTFISHPRODUCTS'
'MNTFRUITS' 'MNTGOLDPRODS' 'MNTMEATPRODUCTS' 'MNTSWEETPRODUCTS' 'MNTWINES' 'MONTHSASCUSTOMER' 'NUMCATALOGPURCHASES' 'NUMDEALSPURCHASES' 'NUMDISTPURCHASES' 'NUMSTOREPURCHASES' 'NUMWEBPURCHASES' 'NUMWEBVISITSMONTH' 'RFMSTAT' 'RMNTFRQ' 'RECENCY' 'TEENHOME'
'YEAR_BIRTH' ) then ROLE='INPUT';
MPRINT(EM_DIAGRAM):   else delete;
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   run;
MPRINT(EM_DIAGRAM):   filename _delta;
NOTE: View EMWS8.STAT2_TRAIN.VIEW used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
NOTE: View EMWS8.STAT2_VALIDATE.VIEW used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
MPRINT(EM_DIAGRAM):    proc printto;
MPRINT(EM_DIAGRAM):   run;
MPRINT(EM_DIAGRAM):    data _null_;
MPRINT(EM_DIAGRAM):   call symput('NLDATE', strip(put(date(), NLDATE.)));
MPRINT(EM_DIAGRAM):   call symput('NLTIME', strip(put(datetime(), NLTIME.)));
MPRINT(EM_DIAGRAM):   run;
MPRINT(EM_DIAGRAM):   data _null_;
MPRINT(EM_DIAGRAM):   nldate= sasmsg("sashelp.dmine", "log_date_note", 'N', "20. April 2016" );
MPRINT(EM_DIAGRAM):   nltime= sasmsg("sashelp.dmine", "log_time_note", 'N', "16.22 Uhr" );
MPRINT(EM_DIAGRAM):   put "*------------------------------------------------------------*";
MPRINT(EM_DIAGRAM):   put "* Report Log";
MPRINT(EM_DIAGRAM):   put nldate;
MPRINT(EM_DIAGRAM):   put nltime;
MPRINT(EM_DIAGRAM):   put "*------------------------------------------------------------*";
MPRINT(EM_DIAGRAM):   run;
*------------------------------------------------------------*
* Report Log
Date:                20. April 2016
Time:                16.22 Uhr
*------------------------------------------------------------*
MPRINT(EM_DIAGRAM):    filename O3FSU8W8 "C:\\predictive-models-project\Workspaces\EMWS8\Stat2\EMREPORT.out" encoding="UTF-8" NOBOM;
MPRINT(EM_DIAGRAM):   proc printto print=O3FSU8W8 new;
MPRINT(EM_DIAGRAM):   run;
MPRINT(EM_DIAGRAM):    proc printto;
MPRINT(EM_DIAGRAM):   run;
