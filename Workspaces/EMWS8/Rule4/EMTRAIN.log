MPRINT(EM_DIAGRAM):    data _null_;
MPRINT(EM_DIAGRAM):   call symput('NLDATE', strip(put(date(), NLDATE.)));
MPRINT(EM_DIAGRAM):   call symput('NLTIME', strip(put(datetime(), NLTIME.)));
MPRINT(EM_DIAGRAM):   run;
MPRINT(EM_DIAGRAM):   data _null_;
MPRINT(EM_DIAGRAM):   nldate= sasmsg("sashelp.dmine", "log_date_note", 'N', "28. April 2016" );
MPRINT(EM_DIAGRAM):   nltime= sasmsg("sashelp.dmine", "log_time_note", 'N', "11.01 Uhr" );
MPRINT(EM_DIAGRAM):   put "*------------------------------------------------------------*";
MPRINT(EM_DIAGRAM):   put "* Training Log";
MPRINT(EM_DIAGRAM):   put nldate;
MPRINT(EM_DIAGRAM):   put nltime;
MPRINT(EM_DIAGRAM):   put "*------------------------------------------------------------*";
MPRINT(EM_DIAGRAM):   run;
*------------------------------------------------------------*
* Training Log
Date:                28. April 2016
Time:                11.01 Uhr
*------------------------------------------------------------*
MPRINT(EM_DIAGRAM):    filename O3O8Q8GY 
"C:\\predictive-models-project\Workspaces\EMWS8\Rule4\EMTRAIN.out" encoding="UTF-8" NOBOM;
MPRINT(EM_DIAGRAM):   proc printto print=O3O8Q8GY new;
MPRINT(EM_DIAGRAM):   run;
MPRINT(EM_DIAGRAM):    filename _LOG 
"C:\\predictive-models-project\Workspaces\EMWS8\Rule4\EMLOG.log" encoding="UTF-8" NOBOM;
MPRINT(EM_DIAGRAM):    data _null_;
MPRINT(EM_DIAGRAM):   call symput('NLDATE', strip(put(date(), NLDATE.)));
MPRINT(EM_DIAGRAM):   call symput('NLTIME', strip(put(datetime(), NLTIME.)));
MPRINT(EM_DIAGRAM):   run;
MPRINT(EM_DIAGRAM):   data _null_;
MPRINT(EM_DIAGRAM):   nldate= sasmsg("sashelp.dmine", "log_date_note", 'N', "28. April 2016" );
MPRINT(EM_DIAGRAM):   nltime= sasmsg("sashelp.dmine", "log_time_note", 'N', "11.01 Uhr" );
MPRINT(EM_DIAGRAM):   file _LOG;
MPRINT(EM_DIAGRAM):   put "*------------------------------------------------------------*";
MPRINT(EM_DIAGRAM):   put "User:                Lukas Fahr";
MPRINT(EM_DIAGRAM):   put nldate;
MPRINT(EM_DIAGRAM):   put nltime;
MPRINT(EM_DIAGRAM):   put "Site:                70107571";
MPRINT(EM_DIAGRAM):   put "Platform:            X64_7PRO";
MPRINT(EM_DIAGRAM):   put "Maintenance Release: 9.03.01M2P081512";
MPRINT(EM_DIAGRAM):   put "EM Version:          12.1";
MPRINT(EM_DIAGRAM):   put "* ";
MPRINT(EM_DIAGRAM):   run;
MPRINT(EM_DIAGRAM):    filename _LOGIN 
"C:\\predictive-models-project\Workspaces\EMWS8\Rule4\EMTRAIN.log" encoding="UTF-8" NOBOM;
MPRINT(EM_COPYFILE):   data _null_;
MPRINT(EM_COPYFILE):   length line $20000;
MPRINT(EM_COPYFILE):   file _LOG MOD lrecl=20000;
MPRINT(EM_COPYFILE):   fid=fopen("_LOGIN",'i',20000,'v');
MPRINT(EM_COPYFILE):   if fid > 0 then do;
MPRINT(EM_COPYFILE):   do while(^fread(fid));
MPRINT(EM_COPYFILE):   rlen = frlen(fid);
MPRINT(EM_COPYFILE):   rc= fget(fid,line,20000);
MPRINT(EM_COPYFILE):   start = length(line)-length(left(line))+1;
MPRINT(EM_COPYFILE):   line=strip(line);
MPRINT(EM_COPYFILE):   put @start line;
MPRINT(EM_COPYFILE):   end;
MPRINT(EM_COPYFILE):   if fid > 0 then rc=fclose(fid);
MPRINT(EM_COPYFILE):   end;
MPRINT(EM_COPYFILE):   run;
MPRINT(EM_DIAGRAM):  ;
MPRINT(EM_DIAGRAM):   filename _LOGIN;
MPRINT(EM_DIAGRAM):    data _null_;
MPRINT(EM_DIAGRAM):   file _LOG mod;
MPRINT(EM_DIAGRAM):   put _page_;
MPRINT(EM_DIAGRAM):   run;
MPRINT(EM_DIAGRAM):   filename _LOGIN 
"C:\\predictive-models-project\Workspaces\EMWS8\Rule4\EMSCORE.log" encoding="UTF-8" NOBOM;
MPRINT(EM_DIAGRAM):  ;
MPRINT(EM_DIAGRAM):   data _null_;
MPRINT(EM_DIAGRAM):   file _LOG mod;
MPRINT(EM_DIAGRAM):   put _page_;
MPRINT(EM_DIAGRAM):   run;
MPRINT(EM_DIAGRAM):    filename _LOGIN 
"C:\\predictive-models-project\Workspaces\EMWS8\Rule4\EMREPORT.log" encoding="UTF-8" NOBOM;
MPRINT(EM_DIAGRAM):  ;
MPRINT(EM_DIAGRAM):   filename _LOGIN;
MPRINT(EM_DIAGRAM):    filename _LOG;
MPRINT(EM_DIAGRAM):    filename _OUT 
"C:\\predictive-models-project\Workspaces\EMWS8\Rule4\EMOUTPUT.out" encoding="UTF-8" NOBOM;
MPRINT(EM_DIAGRAM):    data _null_;
MPRINT(EM_DIAGRAM):   call symput('NLDATE', strip(put(date(), NLDATE.)));
MPRINT(EM_DIAGRAM):   call symput('NLTIME', strip(put(datetime(), NLTIME.)));
MPRINT(EM_DIAGRAM):   run;
MPRINT(EM_DIAGRAM):   data _null_;
MPRINT(EM_DIAGRAM):   nldate= sasmsg("sashelp.dmine", "log_date_note", 'N', "28. April 2016" );
MPRINT(EM_DIAGRAM):   nltime= sasmsg("sashelp.dmine", "log_time_note", 'N', "11.01 Uhr" );
MPRINT(EM_DIAGRAM):   file _OUT;
MPRINT(EM_DIAGRAM):   put "*------------------------------------------------------------*";
MPRINT(EM_DIAGRAM):   put "User:                Lukas Fahr";
MPRINT(EM_DIAGRAM):   put nldate;
MPRINT(EM_DIAGRAM):   put nltime;
MPRINT(EM_DIAGRAM):   put "*------------------------------------------------------------*";
MPRINT(EM_DIAGRAM):   put "* Training Output";
MPRINT(EM_DIAGRAM):   put "*------------------------------------------------------------*";
MPRINT(EM_DIAGRAM):   run;
MPRINT(EM_DIAGRAM):    filename _OUTIN 
"C:\\predictive-models-project\Workspaces\EMWS8\Rule4\EMTRAIN.out" encoding="UTF-8" NOBOM;
MPRINT(EM_DIAGRAM):   ;
MPRINT(EM_COPYFILE):   data _null_;
MPRINT(EM_COPYFILE):   length line $20000;
MPRINT(EM_COPYFILE):   file _OUT MOD lrecl=20000;
MPRINT(EM_COPYFILE):   fid=fopen("_OUTIN",'i',20000,'v');
MPRINT(EM_COPYFILE):   if fid > 0 then do;
MPRINT(EM_COPYFILE):   do while(^fread(fid));
MPRINT(EM_COPYFILE):   rlen = frlen(fid);
MPRINT(EM_COPYFILE):   rc= fget(fid,line,20000);
MPRINT(EM_COPYFILE):   start = length(line)-length(left(line))+1;
MPRINT(EM_COPYFILE):   line=strip(line);
MPRINT(EM_COPYFILE):   put @start line;
MPRINT(EM_COPYFILE):   end;
MPRINT(EM_COPYFILE):   if fid > 0 then rc=fclose(fid);
MPRINT(EM_COPYFILE):   end;
MPRINT(EM_COPYFILE):   run;
MPRINT(EM_DIAGRAM):  ;
MPRINT(EM_DIAGRAM):   filename _OUTIN;
MPRINT(EM_DIAGRAM):    data _null_;
MPRINT(EM_DIAGRAM):   file _OUT mod;
MPRINT(EM_DIAGRAM):   put _page_;
MPRINT(EM_DIAGRAM):   put // "*------------------------------------------------------------*";
MPRINT(EM_DIAGRAM):   put "* Score Output";
MPRINT(EM_DIAGRAM):   put "*------------------------------------------------------------*";
MPRINT(EM_DIAGRAM):   run;
MPRINT(EM_DIAGRAM):    filename _OUTIN 
"C:\\predictive-models-project\Workspaces\EMWS8\Rule4\EMSCORE.out" encoding="UTF-8" NOBOM;
MPRINT(EM_DIAGRAM):  ;
MPRINT(EM_DIAGRAM):   filename _OUTIN;
MPRINT(EM_DIAGRAM):    data _null_;
MPRINT(EM_DIAGRAM):   file _OUT mod;
MPRINT(EM_DIAGRAM):   put _page_;
MPRINT(EM_DIAGRAM):   put // "*------------------------------------------------------------*";
MPRINT(EM_DIAGRAM):   put "* Report Output";
MPRINT(EM_DIAGRAM):   put "*------------------------------------------------------------*";
MPRINT(EM_DIAGRAM):   run;
MPRINT(EM_DIAGRAM):    filename _OUTIN 
"C:\\predictive-models-project\Workspaces\EMWS8\Rule4\EMREPORT.out" encoding="UTF-8" NOBOM;
MPRINT(EM_DIAGRAM):  ;
MPRINT(EM_DIAGRAM):   filename _OUTIN;
MPRINT(EM_DIAGRAM):    filename _OUT;
MPRINT(EM_DIAGRAM):    filename _emtool_ 
'C:\\predictive-models-project\Workspaces\EMWS8\Rule4\EMRUNSTATUS.xml' encoding="UTF-8" NOBOM;
3082266    proc freq data=EMWS8.Rule4_VariableSet noprint;
MPRINT(EM_DIAGRAM):    proc freq data=EMWS8.Rule4_VariableSet noprint;
3082267    table ROLE*LEVEL/out=WORK.Rule4META;
MPRINT(EM_DIAGRAM):   table ROLE*LEVEL/out=WORK.Rule4META;
3082268    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 34 observations read from the data set EMWS8.RULE4_VARIABLESET.
NOTE: The data set WORK.RULE4META has 5 observations and 4 variables.
NOTE: PROCEDURE FREQ used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

3082269    proc print data=WORK.Rule4META label noobs;
MPRINT(EM_DIAGRAM):   proc print data=WORK.Rule4META label noobs;
3082270    var ROLE LEVEL COUNT;
MPRINT(EM_DIAGRAM):   var ROLE LEVEL COUNT;
3082271    label ROLE = "%sysfunc(sasmsg(sashelp.dmine, meta_role_vlabel, NOQUOTE))" LEVEL =
3082271  ! "%sysfunc(sasmsg(sashelp.dmine, meta_level_vlabel, NOQUOTE))" COUNT =
3082271  ! "%sysfunc(sasmsg(sashelp.dmine, rpt_count_vlabel, NOQUOTE))";
MPRINT(EM_DIAGRAM):   label ROLE = "Role" LEVEL = "Measurement Level" COUNT = "Frequency 
Count";
3082272    title9 ' ';
MPRINT(EM_DIAGRAM):   title9 ' ';
3082273    title10 "%sysfunc(sasmsg(sashelp.dmine, rpt_varSummary_title  , NOQUOTE))";
MPRINT(EM_DIAGRAM):   title10 "Variable Summary";
MPRINT(EM_DIAGRAM):   run;
3082274    run;

NOTE: There were 5 observations read from the data set WORK.RULE4META.
NOTE: The PROCEDURE PRINT printed page 2785.
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

3082275    title10;
MPRINT(EM_DIAGRAM):   title10;
3082276    %let EMNORLEN = %DMNORLEN;
MPRINT(EM_DIAGRAM):   
EMWS8.Meta3_TRAIN EMWS8.Meta3_TRAIN 
EMWS8.Meta3_TRAIN EMWS8.Meta3_TRAIN EMWS8 Meta3_TRAIN 
EMWS8.Meta3_TRAIN EMWS8.Meta3_TRAIN 
EMWS8.Meta3_TRAIN EMWS8.Meta3_TRAIN EMWS8 Meta3_TRAIN 
MPRINT(EM_DIAGRAM):    proc dmdb data=EMWS8.Meta3_TRAIN 
classout=WORK._DMDBCLASSTARGET(keep=NAME NRAW CRAW LEVEL FREQUENCY NMISSPERCENT);
MPRINT(EM_DIAGRAM):   class DepVar(DESC) ;
MPRINT(EM_DIAGRAM):   run;
Executing  SASHELP.EMCORE.EMINFOITERATOR.SCL _INIT >> 
Executing  SASHELP.EMCORE.EMINFOITERATOR.SCL setMetaData >> 
Executing  SASHELP.EMCORE.EMINFOITERATOR.SCL next >> 
Executing  SASHELP.EMCORE.EMINFOITERATOR.SCL setMetaData >> 
Executing  SASHELP.EMCORE.EMINFOITERATOR.SCL next >> 
Executing  SASHELP.EMCORE.EMINFOITERATOR.SCL _term >> 
MPRINT(EM_DIAGRAM):    data _null_;
MPRINT(EM_DIAGRAM):   set WORK._DMDBCLASSTARGET;
MPRINT(EM_DIAGRAM):   where ^(NRAW eq . and CRAW eq '') and NAME="DepVar";
MPRINT(EM_DIAGRAM):   if _N_=1 then call symput('_newevent', strip(LEVEL));
MPRINT(EM_DIAGRAM):   run;
MPRINT(EM_DIAGRAM):   proc sort data=WORK._DMDBCLASSTARGET out=_TEMPCLASS(keep=LEVEL FREQUENCY 
NMISSPERCENT rename=(LEVEL=DepVar));
MPRINT(EM_DIAGRAM):   by LEVEL;
MPRINT(EM_DIAGRAM):   where ^(NRAW eq . and CRAW eq '') and NAME="DepVar";
MPRINT(EM_DIAGRAM):   run;
MPRINT(EM_DIAGRAM):   data _TEMPCLASS;
MPRINT(EM_DIAGRAM):   set _TEMPCLASS;
MPRINT(EM_DIAGRAM):   NMISSPERCENT= NMISSPERCENT/100;
MPRINT(EM_DIAGRAM):   run;
MPRINT(EM_DIAGRAM):    data _sortedDecData;
MPRINT(EM_DIAGRAM):   set EMWS8.Rule4_DepVar_DD;
MPRINT(EM_DIAGRAM):   _levelorder_=_N_;
MPRINT(EM_DIAGRAM):   run;
MPRINT(EM_DIAGRAM):   proc sort data=_sortedDecdata;
MPRINT(EM_DIAGRAM):   by DepVar;
MPRINT(EM_DIAGRAM):   run;
MPRINT(EM_DIAGRAM):   data _null_;
MPRINT(EM_DIAGRAM):   merge _TEMPCLASS(in=_a) _sortedDecdata(in=_b);
MPRINT(EM_DIAGRAM):   by DepVar;
MPRINT(EM_DIAGRAM):   if (_a and ^_b) or (^_a and _b) then call symput('_emresetDec', '1');
MPRINT(EM_DIAGRAM):   run;
MPRINT(EM_DIAGRAM):    data EMWS8.Rule4_DepVar_DD;
MPRINT(EM_DIAGRAM):   set EMWS8.Rule4_DepVar_DD;
MPRINT(EM_DIAGRAM):   _levelorder_=_N_;
MPRINT(EM_DIAGRAM):   run;
MPRINT(EM_DIAGRAM):   proc sort data=EMWS8.Rule4_DepVar_DD;
MPRINT(EM_DIAGRAM):   by DepVar;
MPRINT(EM_DIAGRAM):   run;
MPRINT(EM_DIAGRAM):   data EMWS8.Rule4_DepVar_DD;
MPRINT(EM_DIAGRAM):   merge EMWS8.Rule4_DepVar_DD _TEMPCLASS(rename=(NMISSPERCENT=TRAINPRIOR 
FREQUENCY=COUNT));
MPRINT(EM_DIAGRAM):   by DepVar;
MPRINT(EM_DIAGRAM):   run;
MPRINT(EM_DIAGRAM):   proc sort data=EMWS8.Rule4_DepVar_DD 
out=EMWS8.Rule4_DepVar_DD(drop=_levelorder_);
MPRINT(EM_DIAGRAM):   by _levelorder_;
MPRINT(EM_DIAGRAM):   run;
3082323    data WORK.Rule4_EVENT(KEEP=VARIABLE LABEL LEVEL EVENT NUMLEVELS ORDER);
MPRINT(EM_DIAGRAM):    data WORK.Rule4_EVENT(KEEP=VARIABLE LABEL LEVEL EVENT NUMLEVELS ORDER);
3082324    length ORDER $20;
MPRINT(EM_DIAGRAM):   length ORDER $20;
3082325    label VARIABLE = "%sysfunc(sasmsg(sashelp.dmine, rpt_target_vlabel,  NOQUOTE))"
3082325  ! EVENT = "%sysfunc(sasmsg(sashelp.dmine, assmt_event_vlabel, NOQUOTE))" NUMLEVELS =
3082325  ! "%sysfunc(sasmsg(sashelp.dmine, rpt_numcat_vlabel, NOQUOTE))" LEVEL =
3082326       "%sysfunc(sasmsg(sashelp.dmine, meta_level_vlabel, NOQUOTE))" ORDER =
3082326  ! "%sysfunc(sasmsg(sashelp.dmine, meta_order_vlabel, NOQUOTE))" LABEL =
3082326  ! "%sysfunc(sasmsg(sashelp.dmine, meta_label_vlabel, NOQUOTE))";
MPRINT(EM_DIAGRAM):   label VARIABLE = "Target" EVENT = "Event" NUMLEVELS = "Number of Levels" 
LEVEL = "Measurement Level" ORDER = "Order" LABEL = "Label";
3082327    set EMWS8.RULE4_DEPVAR_DM( where=(_TYPE_="TARGET"));
MPRINT(EM_DIAGRAM):   set EMWS8.RULE4_DEPVAR_DM( where=(_TYPE_="TARGET"));
3082328    NumLevels=2;
MPRINT(EM_DIAGRAM):   NumLevels=2;
3082329    select(upcase(ORDER));
MPRINT(EM_DIAGRAM):   select(upcase(ORDER));
3082330    when('DESC') ORDER = 'Descending';
MPRINT(EM_DIAGRAM):   when('DESC') ORDER = 'Descending';
3082331    when('ASC') ORDER = 'Ascending';
MPRINT(EM_DIAGRAM):   when('ASC') ORDER = 'Ascending';
3082332    when('FMTDESC') ORDER = 'Formatted Descending';
MPRINT(EM_DIAGRAM):   when('FMTDESC') ORDER = 'Formatted Descending';
3082333    when('FMTASC') ORDER = 'Formatted Ascending';
MPRINT(EM_DIAGRAM):   when('FMTASC') ORDER = 'Formatted Ascending';
3082334    otherwise ORDER = 'Descending';
MPRINT(EM_DIAGRAM):   otherwise ORDER = 'Descending';
3082335    end;
MPRINT(EM_DIAGRAM):   end;
3082336    output;
MPRINT(EM_DIAGRAM):   output;
3082337    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 1 observations read from the data set EMWS8.RULE4_DEPVAR_DM.
      WHERE _TYPE_='TARGET';
NOTE: The data set WORK.RULE4_EVENT has 1 observations and 6 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

3082338    title9 ' ';
MPRINT(EM_DIAGRAM):   title9 ' ';
3082339    proc print data=WORK.Rule4_EVENT noobs label;
MPRINT(EM_DIAGRAM):   proc print data=WORK.Rule4_EVENT noobs label;
3082340    var VARIABLE EVENT LEVEL NUMLEVELS ORDER LABEL;
MPRINT(EM_DIAGRAM):   var VARIABLE EVENT LEVEL NUMLEVELS ORDER LABEL;
3082341    title9 ' ';
MPRINT(EM_DIAGRAM):   title9 ' ';
3082342    title10 "%sysfunc(sasmsg(sashelp.dmine, rpt_modelEvent_title  , NOQUOTE))";
MPRINT(EM_DIAGRAM):   title10 "Model Events";
MPRINT(EM_DIAGRAM):   run;
3082343    run;

NOTE: There were 1 observations read from the data set WORK.RULE4_EVENT.
NOTE: The PROCEDURE PRINT printed page 2786.
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

3082344    title10;
MPRINT(EM_DIAGRAM):   title10;
"No decisions defined for target "DepVar"." 
3082345    proc print data = EMWS8.Rule4_DepVar_DM noobs label;
MPRINT(EM_DIAGRAM):    proc print data = EMWS8.Rule4_DepVar_DM noobs label;
3082346    var _type_ variable label;
MPRINT(EM_DIAGRAM):   var _type_ variable label;
3082347    where _type_ ^in('MATRIX', 'DECISION', 'TRAINPRIOR', 'DATAPRIOR', 'DECPRIOR');
MPRINT(EM_DIAGRAM):   where _type_ ^in('MATRIX', 'DECISION', 'TRAINPRIOR', 'DATAPRIOR', 
'DECPRIOR');
3082348    label _TYPE_ = "%sysfunc(sasmsg(sashelp.dmine, rpt_type_vlabel,     NOQUOTE))"
3082348  ! VARIABLE = "%sysfunc(sasmsg(sashelp.dmine, rpt_variable_vlabel, NOQUOTE))" LABEL =
3082348  ! "%sysfunc(sasmsg(sashelp.dmine, meta_label_vlabel, NOQUOTE))";
MPRINT(EM_DIAGRAM):   label _TYPE_ = "Type" VARIABLE = "Variable" LABEL = "Label";
3082349    title9 ' ';
MPRINT(EM_DIAGRAM):   title9 ' ';
3082350    title10 "%sysfunc(sasmsg(sashelp.dmine, rpt_predDecVars_title  , NOQUOTE))";
MPRINT(EM_DIAGRAM):   title10 "Predicted and decision variables";
MPRINT(EM_DIAGRAM):   run;
3082351    run;

NOTE: There were 7 observations read from the data set EMWS8.RULE4_DEPVAR_DM.
      WHERE _type_ not in ('DATAPRIOR', 'DECISION', 'DECPRIOR', 'MATRIX', 'TRAINPRIOR');
NOTE: The PROCEDURE PRINT printed page 2787.
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

3082352    title10;
MPRINT(EM_DIAGRAM):   title10;
3082353    data WORK.M2QD0RVS;
MPRINT(EM_DIAGRAM):    data WORK.M2QD0RVS;
3082354    set WORK.M2QD0RVS;
MPRINT(EM_DIAGRAM):   set WORK.M2QD0RVS;
3082355    where(use = 'Y' or (role = 'INPUT' and use = 'D'));
MPRINT(EM_DIAGRAM):   where(use = 'Y' or (role = 'INPUT' and use = 'D'));
3082356    if (role='REJECTED') then role='INPUT';
MPRINT(EM_DIAGRAM):   if (role='REJECTED') then role='INPUT';
3082357    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 26 observations read from the data set WORK.M2QD0RVS.
      WHERE (use='Y') or ((role='INPUT') and (use='D'));
NOTE: The data set WORK.M2QD0RVS has 26 observations and 21 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

3082358    *------------------------------------------------------------* ;
MPRINT(EM_DIAGRAM):    *------------------------------------------------------------* ;
3082359    * EM: DMDBClass Macro ;
MPRINT(EM_DIAGRAM):   * EM: DMDBClass Macro ;
3082360    *------------------------------------------------------------* ;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------* ;
3082361    %macro DMDBClass;
3082362        AcceptedCmp1(ASC) AcceptedCmp2(ASC) AcceptedCmp3(ASC) AcceptedCmp4(ASC)
3082363       AcceptedCmp5(ASC) Complain(ASC) DepVar(DESC) Education(ASC)
3082364       HigherEducationBinary(ASC) Marital_Status(ASC)
3082365    %mend DMDBClass;
3082366    *------------------------------------------------------------* ;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------* ;
3082367    * EM: DMDBVar Macro ;
MPRINT(EM_DIAGRAM):   * EM: DMDBVar Macro ;
3082368    *------------------------------------------------------------* ;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------* ;
3082369    %macro DMDBVar;
3082370        AcceptedCmpTotal Age Frq Income Kidhome MntFishProducts MntFruits MntGoldProds
3082371       MntSweetProducts MonthsAsCustomer NumDealsPurchases NumWebVisitsMonth RFMstat
3082372       RMntFrq Recency Teenhome
3082373    %mend DMDBVar;
3082374    *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
3082375    * EM: Create DMDB;
MPRINT(EM_DIAGRAM):   * EM: Create DMDB;
3082376    *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
3082377    proc dmdb batch data=EMWS8.Meta3_TRAIN
3082378    dmdbcat=WORK.EM_DMDB
3082379    maxlevel = 513
3082380    ;
MPRINT(EM_DIAGRAM):   proc dmdb batch data=EMWS8.Meta3_TRAIN dmdbcat=WORK.EM_DMDB maxlevel = 
513 ;
3082381    class %DMDBClass;
MPRINT(EM_DIAGRAM):   class
MPRINT(DMDBCLASS):   AcceptedCmp1(ASC) AcceptedCmp2(ASC) AcceptedCmp3(ASC) AcceptedCmp4(ASC) 
AcceptedCmp5(ASC) Complain(ASC) DepVar(DESC) Education(ASC) HigherEducationBinary(ASC) 
Marital_Status(ASC)
MPRINT(EM_DIAGRAM):  ;
3082382    var %DMDBVar;
MPRINT(EM_DIAGRAM):   var
MPRINT(DMDBVAR):   AcceptedCmpTotal Age Frq Income Kidhome MntFishProducts MntFruits 
MntGoldProds MntSweetProducts MonthsAsCustomer NumDealsPurchases NumWebVisitsMonth RFMstat 
RMntFrq Recency Teenhome
MPRINT(EM_DIAGRAM):  ;
3082383    target
3082384    DepVar
3082385    ;
MPRINT(EM_DIAGRAM):   target DepVar ;
3082386    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: Records processed = 2374   Memory used = 511K.
NOTE: View EMWS8.META3_TRAIN.VIEW used (Total process time):
      real time           0.02 seconds
      cpu time            0.03 seconds
      
NOTE: There were 2374 observations read from the data set EMWS8.PART_TRAIN.
NOTE: There were 2374 observations read from the data set EMWS8.META3_TRAIN.
NOTE: PROCEDURE DMDB used (Total process time):
      real time           0.03 seconds
      cpu time            0.03 seconds
      

MPRINT(EM_DIAGRAM):   quit;
MPRINT(EM_DIAGRAM):   *--- end code ---*;
3082387    quit;
3082388    *--- end code ---*;

3082389    data WORK.M2QD0RVS;
MPRINT(EM_DIAGRAM):    data WORK.M2QD0RVS;
3082390    set WORK.M2QD0RVS end=eof;
MPRINT(EM_DIAGRAM):   set WORK.M2QD0RVS end=eof;
3082391    output;
MPRINT(EM_DIAGRAM):   output;
3082392    if eof then do;
MPRINT(EM_DIAGRAM):   if eof then do;
3082393    NAME="";
MPRINT(EM_DIAGRAM):   NAME="";
3082394    ROLE="COST";
MPRINT(EM_DIAGRAM):   ROLE="COST";
3082395    LEVEL="INTERVAL";
MPRINT(EM_DIAGRAM):   LEVEL="INTERVAL";
3082396    TYPE="N";
MPRINT(EM_DIAGRAM):   TYPE="N";
3082397    output;
MPRINT(EM_DIAGRAM):   output;
3082398    end;
MPRINT(EM_DIAGRAM):   end;
3082399    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 26 observations read from the data set WORK.M2QD0RVS.
NOTE: The data set WORK.M2QD0RVS has 27 observations and 21 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

NOTE: There were 2 observations read from the data set EMWS8.RULE4_DEPVAR_DD.
NOTE: The data set WORK.DEPVAR has 2 observations and 7 variables.
3082400    *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):    *------------------------------------------------------------*;
3082401    * Rule4: Create decision matrix;
MPRINT(EM_DIAGRAM):   * Rule4: Create decision matrix;
3082402    *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
3082403    data WORK.DepVar;
MPRINT(EM_DIAGRAM):   data WORK.DepVar;
3082404      length   DepVar                           $  32
3082405               COUNT                                8
3082406               DATAPRIOR                            8
3082407               TRAINPRIOR                           8
3082408               DECPRIOR                             8
3082409               DECISION1                            8
3082410               DECISION2                            8
3082411               ;
MPRINT(EM_DIAGRAM):   length DepVar $ 32 COUNT 8 DATAPRIOR 8 TRAINPRIOR 8 DECPRIOR 8 DECISION1 
8 DECISION2 8 ;
3082412    
3082413      label    COUNT="Level Counts"
3082414               DATAPRIOR="Data Proportions"
3082415               TRAINPRIOR="Training Proportions"
3082416               DECPRIOR="Decision Priors"
3082417               DECISION1="1"
3082418               DECISION2="0"
3082419               ;
MPRINT(EM_DIAGRAM):   label COUNT= "Level Counts" DATAPRIOR= "Data Proportions" TRAINPRIOR= 
"Training Proportions" DECPRIOR= "Decision Priors" DECISION1= "1" DECISION2= "0" ;
3082420      format   COUNT 10.
3082421               ;
MPRINT(EM_DIAGRAM):   format COUNT 10. ;
3082422    DepVar="1"; COUNT=359; DATAPRIOR=0.151221567; TRAINPRIOR=0.15122156697556;
3082422  ! DECPRIOR=.; DECISION1=1; DECISION2=0;
MPRINT(EM_DIAGRAM):   DepVar="1";
MPRINT(EM_DIAGRAM):   COUNT=359;
MPRINT(EM_DIAGRAM):   DATAPRIOR=0.151221567;
MPRINT(EM_DIAGRAM):   TRAINPRIOR=0.15122156697556;
MPRINT(EM_DIAGRAM):   DECPRIOR=.;
MPRINT(EM_DIAGRAM):   DECISION1=1;
MPRINT(EM_DIAGRAM):   DECISION2=0;
3082423    output;
MPRINT(EM_DIAGRAM):   output;
3082424    DepVar="0"; COUNT=2015; DATAPRIOR=0.848778433; TRAINPRIOR=0.84877843302443;
3082424  ! DECPRIOR=.; DECISION1=0; DECISION2=1;
MPRINT(EM_DIAGRAM):   DepVar="0";
MPRINT(EM_DIAGRAM):   COUNT=2015;
MPRINT(EM_DIAGRAM):   DATAPRIOR=0.848778433;
MPRINT(EM_DIAGRAM):   TRAINPRIOR=0.84877843302443;
MPRINT(EM_DIAGRAM):   DECPRIOR=.;
MPRINT(EM_DIAGRAM):   DECISION1=0;
MPRINT(EM_DIAGRAM):   DECISION2=1;
3082425    output;
MPRINT(EM_DIAGRAM):   output;
3082426    ;
MPRINT(EM_DIAGRAM):   ;
3082427    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: The data set WORK.DEPVAR has 2 observations and 7 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

3082428    proc datasets lib=work nolist;
MPRINT(EM_DIAGRAM):   proc datasets lib=work nolist;
3082429    modify DepVar(type=PROFIT label=DepVar);
MPRINT(EM_DIAGRAM):   modify DepVar(type=PROFIT label= DepVar);
MPRINT(EM_DIAGRAM):   label DECISION1= '1';
MPRINT(EM_DIAGRAM):   label DECISION2= '0';
MPRINT(EM_DIAGRAM):   run;
3082430    label DECISION1= '1';
3082431    label DECISION2= '0';
3082432    run;

NOTE: MODIFY was successful for WORK.DEPVAR.DATA.
3082433    quit;
MPRINT(EM_DIAGRAM):   quit;

NOTE: PROCEDURE DATASETS used (Total process time):
      real time           0.06 seconds
      cpu time            0.06 seconds
      

MPRINT(EM_DIAGRAM):   *------------------------------------------------------------* ;
MPRINT(EM_DIAGRAM):   * Rule4: DMDBClass Macro ;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------* ;
3082434    *------------------------------------------------------------* ;
3082435    * Rule4: DMDBClass Macro ;
3082436    *------------------------------------------------------------* ;
3082437    %macro DMDBClass;
3082438        AcceptedCmp1(ASC) AcceptedCmp2(ASC) AcceptedCmp3(ASC) AcceptedCmp4(ASC)
3082439       AcceptedCmp5(ASC) Complain(ASC) DepVar(DESC) Education(ASC)
3082440       HigherEducationBinary(ASC) Marital_Status(ASC)
3082441    %mend DMDBClass;
3082442    *------------------------------------------------------------* ;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------* ;
3082443    * Rule4: DMDBVar Macro ;
MPRINT(EM_DIAGRAM):   * Rule4: DMDBVar Macro ;
3082444    *------------------------------------------------------------* ;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------* ;
3082445    %macro DMDBVar;
3082446        AcceptedCmpTotal Age Frq Income Kidhome MntFishProducts MntFruits MntGoldProds
3082447       MntSweetProducts MonthsAsCustomer NumDealsPurchases NumWebVisitsMonth RFMstat
3082448       RMntFrq Recency Teenhome
3082449    %mend DMDBVar;
3082450    *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
3082451    * Rule4: Create DMDB;
MPRINT(EM_DIAGRAM):   * Rule4: Create DMDB;
3082452    *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
3082453    proc dmdb batch data=EMWS8.Meta3_TRAIN
3082454    dmdbcat=WORK.Rule4_DMDB
3082455    maxlevel = 513
3082456    ;
MPRINT(EM_DIAGRAM):   proc dmdb batch data=EMWS8.Meta3_TRAIN dmdbcat=WORK.Rule4_DMDB maxlevel 
= 513 ;
3082457    class %DMDBClass;
MPRINT(EM_DIAGRAM):   class
MPRINT(DMDBCLASS):   AcceptedCmp1(ASC) AcceptedCmp2(ASC) AcceptedCmp3(ASC) AcceptedCmp4(ASC) 
AcceptedCmp5(ASC) Complain(ASC) DepVar(DESC) Education(ASC) HigherEducationBinary(ASC) 
Marital_Status(ASC)
MPRINT(EM_DIAGRAM):  ;
3082458    var %DMDBVar;
MPRINT(EM_DIAGRAM):   var
MPRINT(DMDBVAR):   AcceptedCmpTotal Age Frq Income Kidhome MntFishProducts MntFruits 
MntGoldProds MntSweetProducts MonthsAsCustomer NumDealsPurchases NumWebVisitsMonth RFMstat 
RMntFrq Recency Teenhome
MPRINT(EM_DIAGRAM):  ;
3082459    target
3082460    DepVar
3082461    ;
MPRINT(EM_DIAGRAM):   target DepVar ;
3082462    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: Records processed = 2374   Memory used = 511K.
NOTE: View EMWS8.META3_TRAIN.VIEW used (Total process time):
      real time           0.02 seconds
      cpu time            0.03 seconds
      
NOTE: There were 2374 observations read from the data set EMWS8.PART_TRAIN.
NOTE: There were 2374 observations read from the data set EMWS8.META3_TRAIN.
NOTE: PROCEDURE DMDB used (Total process time):
      real time           0.03 seconds
      cpu time            0.03 seconds
      

MPRINT(EM_DIAGRAM):   quit;
MPRINT(EM_DIAGRAM):   *--- end code ---*;
3082463    quit;
3082464    *--- end code ---*;

3082465    data WORK.M0FPGNPK;
MPRINT(EM_DIAGRAM):    data WORK.M0FPGNPK;
3082466    set WORK.M0FPGNPK;
MPRINT(EM_DIAGRAM):   set WORK.M0FPGNPK;
3082467    if NAME^='DepVar' then delete;
MPRINT(EM_DIAGRAM):   if NAME^='DepVar' then delete;
3082468    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 27 observations read from the data set WORK.M0FPGNPK.
NOTE: The data set WORK.M0FPGNPK has 1 observations and 21 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

3082469    *------------------------------------------------------------* ;
MPRINT(EM_DIAGRAM):    *------------------------------------------------------------* ;
3082470    * EM: DMDBClass Macro ;
MPRINT(EM_DIAGRAM):   * EM: DMDBClass Macro ;
3082471    *------------------------------------------------------------* ;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------* ;
3082472    %macro DMDBClass;
3082473        DepVar(DESC)
3082474    %mend DMDBClass;
3082475    *------------------------------------------------------------* ;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------* ;
3082476    * EM: DMDBVar Macro ;
MPRINT(EM_DIAGRAM):   * EM: DMDBVar Macro ;
3082477    *------------------------------------------------------------* ;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------* ;
3082478    %macro DMDBVar;
3082479    
3082480    %mend DMDBVar;
3082481    *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
3082482    * EM: Create DMDB;
MPRINT(EM_DIAGRAM):   * EM: Create DMDB;
3082483    *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
3082484    proc dmdb batch data=EMWS8.Meta3_TRAIN
3082485    dmdbcat=WORK.EM_DMDB
3082486    maxlevel = 513
3082487    ;
MPRINT(EM_DIAGRAM):   proc dmdb batch data=EMWS8.Meta3_TRAIN dmdbcat=WORK.EM_DMDB maxlevel = 
513 ;
3082488    class %DMDBClass;
MPRINT(EM_DIAGRAM):   class
MPRINT(DMDBCLASS):   DepVar(DESC)
MPRINT(EM_DIAGRAM):  ;
3082489    target
3082490    DepVar
3082491    ;
MPRINT(EM_DIAGRAM):   target DepVar ;
3082492    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: Records processed = 2374   Memory used = 511K.
NOTE: View EMWS8.META3_TRAIN.VIEW used (Total process time):
      real time           0.02 seconds
      cpu time            0.01 seconds
      
NOTE: There were 2374 observations read from the data set EMWS8.PART_TRAIN.
NOTE: There were 2374 observations read from the data set EMWS8.META3_TRAIN.
NOTE: PROCEDURE DMDB used (Total process time):
      real time           0.03 seconds
      cpu time            0.03 seconds
      

MPRINT(EM_DIAGRAM):   quit;
MPRINT(EM_DIAGRAM):   *--- end code ---*;
3082493    quit;
3082494    *--- end code ---*;

3082495    *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):    *------------------------------------------------------------*;
3082496    * Rule Induction Training;
MPRINT(EM_DIAGRAM):   * Rule Induction Training;
3082497    *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;

3082498    * Get counts for DepVar;
MPRINT(EM_DIAGRAM):    * Get counts for DepVar;
3082499    ;
MPRINT(EM_DIAGRAM):   ;
3082500    data _scr(keep= _level_ DepVar);
MPRINT(EM_DIAGRAM):   data _scr(keep= _level_ DepVar);
3082501    set EMWS8.Meta3_TRAIN;
MPRINT(EM_DIAGRAM):   set EMWS8.Meta3_TRAIN;
3082502    length _level_ $16;
MPRINT(EM_DIAGRAM):   length _level_ $16;
3082503    label _level_ = "%sysfunc(sasmsg(sashelp.dmine, rpt_rulelevel_vlabel, NOQUOTE,
3082503  ! DepVar))";
MPRINT(EM_DIAGRAM):   label _level_ = "DepVar";
3082504    _tmp=putn(DepVar, 'best.');
MPRINT(EM_DIAGRAM):   _tmp=putn(DepVar, 'best.');
3082505    %DMNORMCP(_tmp, _level_);
MPRINT(DMNORMCP):   _level_=dmnorm(_tmp,
MPRINT(DMNORLEN):  32
MPRINT(DMNORMCP):  );
MPRINT(EM_DIAGRAM):  ;
3082506    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: View EMWS8.META3_TRAIN.VIEW used (Total process time):
      real time           0.02 seconds
      cpu time            0.01 seconds
      
NOTE: There were 2374 observations read from the data set EMWS8.PART_TRAIN.
NOTE: There were 2374 observations read from the data set EMWS8.META3_TRAIN.
NOTE: The data set WORK._SCR has 2374 observations and 2 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.03 seconds
      

3082507    proc freq data=_scr noprint;
MPRINT(EM_DIAGRAM):   proc freq data=_scr noprint;
3082508    table _level_ / out=_count;
MPRINT(EM_DIAGRAM):   table _level_ / out=_count;
3082509    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 2374 observations read from the data set WORK._SCR.
NOTE: The data set WORK._COUNT has 2 observations and 3 variables.
NOTE: PROCEDURE FREQ used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

3082510    * Get Normalized counts for DepVar;
MPRINT(EM_DIAGRAM):    * Get Normalized counts for DepVar;
3082511    ;
MPRINT(EM_DIAGRAM):   ;
3082512    data _scr(keep= _level_ DepVar);
MPRINT(EM_DIAGRAM):   data _scr(keep= _level_ DepVar);
3082513    set EMWS8.Meta3_VALIDATE;
MPRINT(EM_DIAGRAM):   set EMWS8.Meta3_VALIDATE;
3082514    length _level_ $16;
MPRINT(EM_DIAGRAM):   length _level_ $16;
3082515    label _level_ = "%sysfunc(sasmsg(sashelp.dmine, rpt_rulelevel_vlabel, NOQUOTE,
3082515  ! DepVar))";
MPRINT(EM_DIAGRAM):   label _level_ = "DepVar";
3082516    _tmp = putn(DepVar, 'best.');
MPRINT(EM_DIAGRAM):   _tmp = putn(DepVar, 'best.');
3082517    %DMNORMCP(_tmp, _level_);
MPRINT(DMNORMCP):   _level_=dmnorm(_tmp,
MPRINT(DMNORLEN):  32
MPRINT(DMNORMCP):  );
MPRINT(EM_DIAGRAM):  ;
3082518    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: View EMWS8.META3_VALIDATE.VIEW used (Total process time):
      real time           0.02 seconds
      cpu time            0.01 seconds
      
NOTE: There were 1018 observations read from the data set EMWS8.PART_VALIDATE.
NOTE: There were 1018 observations read from the data set EMWS8.META3_VALIDATE.
NOTE: The data set WORK._SCR has 1018 observations and 2 variables.
NOTE: DATA statement used (Total process time):
      real time           0.02 seconds
      cpu time            0.03 seconds
      

3082519    proc freq data=_scr noprint;
MPRINT(EM_DIAGRAM):   proc freq data=_scr noprint;
3082520    table _level_ / out= _vcount;
MPRINT(EM_DIAGRAM):   table _level_ / out= _vcount;
3082521    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 1018 observations read from the data set WORK._SCR.
NOTE: The data set WORK._VCOUNT has 2 observations and 3 variables.
NOTE: PROCEDURE FREQ used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

3082522    data _vcount;
MPRINT(EM_DIAGRAM):    data _vcount;
3082523    set _vcount;
MPRINT(EM_DIAGRAM):   set _vcount;
3082524    label count = "%sysfunc(sasmsg(sashelp.dmine, rpt_validcount_vlabel, NOQUOTE))";
MPRINT(EM_DIAGRAM):   label count = "Valid Count";
3082525    label percent = "%sysfunc(sasmsg(sashelp.dmine, rpt_validpercent_vlabel, NOQUOTE))";
MPRINT(EM_DIAGRAM):   label percent = "Valid Percent";
3082526    rename count = vcount;
MPRINT(EM_DIAGRAM):   rename count = vcount;
3082527    rename percent = vpercent;
MPRINT(EM_DIAGRAM):   rename percent = vpercent;
3082528    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 2 observations read from the data set WORK._VCOUNT.
NOTE: The data set WORK._VCOUNT has 2 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

3082529    data _count;
MPRINT(EM_DIAGRAM):   data _count;
3082530    merge _count _vcount;
MPRINT(EM_DIAGRAM):   merge _count _vcount;
3082531    by _level_;
MPRINT(EM_DIAGRAM):   by _level_;
3082532    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 2 observations read from the data set WORK._COUNT.
NOTE: There were 2 observations read from the data set WORK._VCOUNT.
NOTE: The data set WORK._COUNT has 2 observations and 5 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

3082533    data _count;
MPRINT(EM_DIAGRAM):    data _count;
3082534    set _count;
MPRINT(EM_DIAGRAM):   set _count;
3082535    label count = "%sysfunc(sasmsg(sashelp.dmine, rpt_traincount_vlabel, NOQUOTE))";
MPRINT(EM_DIAGRAM):   label count = "Train Count";
3082536    label percent = "%sysfunc(sasmsg(sashelp.dmine, rpt_trainpercent_vlabel, NOQUOTE))";
MPRINT(EM_DIAGRAM):   label percent = "Train Percent";
3082537    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 2 observations read from the data set WORK._COUNT.
NOTE: The data set WORK._COUNT has 2 observations and 5 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

3082538    proc sort data=_count;
MPRINT(EM_DIAGRAM):   proc sort data=_count;
3082539    by DESCENDING count;
MPRINT(EM_DIAGRAM):   by DESCENDING count;
3082540    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 2 observations read from the data set WORK._COUNT.
NOTE: The data set WORK._COUNT has 2 observations and 5 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

MPRINT(EM_DIAGRAM):   *;
3082541    *;
3082542    title9 "%sysfunc(sasmsg(sashelp.dmine, rpt_tarfreq_title, NOQUOTE, DepVar))";
MPRINT(EM_DIAGRAM):   title9 "Target=DepVar: Frequencies";
MPRINT(EM_DIAGRAM):   *;
3082543    *;
3082544    proc print data=_count noobs label;
MPRINT(EM_DIAGRAM):   proc print data=_count noobs label;
3082545    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 2 observations read from the data set WORK._COUNT.
NOTE: The PROCEDURE PRINT printed page 2788.
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

3082546    title9;
MPRINT(EM_DIAGRAM):   title9;
3082547    data WORK.M1RYA2X2;
MPRINT(EM_DIAGRAM):    data WORK.M1RYA2X2;
3082548    set WORK.M1RYA2X2;
MPRINT(EM_DIAGRAM):   set WORK.M1RYA2X2;
3082549    if NAME^='DepVar' then delete;
MPRINT(EM_DIAGRAM):   if NAME^='DepVar' then delete;
3082550    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 27 observations read from the data set WORK.M1RYA2X2.
NOTE: The data set WORK.M1RYA2X2 has 1 observations and 21 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

3082551    *------------------------------------------------------------* ;
MPRINT(EM_DIAGRAM):    *------------------------------------------------------------* ;
3082552    * EM: DMDBClass Macro ;
MPRINT(EM_DIAGRAM):   * EM: DMDBClass Macro ;
3082553    *------------------------------------------------------------* ;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------* ;
3082554    %macro DMDBClass;
3082555        DepVar(DESC)
3082556    %mend DMDBClass;
3082557    *------------------------------------------------------------* ;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------* ;
3082558    * EM: DMDBVar Macro ;
MPRINT(EM_DIAGRAM):   * EM: DMDBVar Macro ;
3082559    *------------------------------------------------------------* ;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------* ;
3082560    %macro DMDBVar;
3082561    
3082562    %mend DMDBVar;
3082563    *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
3082564    * EM: Create DMDB;
MPRINT(EM_DIAGRAM):   * EM: Create DMDB;
3082565    *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
3082566    proc dmdb batch data=EMWS8.Meta3_TRAIN
3082567    dmdbcat=WORK.EM_DMDB
3082568    maxlevel = 513
3082569    ;
MPRINT(EM_DIAGRAM):   proc dmdb batch data=EMWS8.Meta3_TRAIN dmdbcat=WORK.EM_DMDB maxlevel = 
513 ;
3082570    class %DMDBClass;
MPRINT(EM_DIAGRAM):   class
MPRINT(DMDBCLASS):   DepVar(DESC)
MPRINT(EM_DIAGRAM):  ;
3082571    target
3082572    DepVar
3082573    ;
MPRINT(EM_DIAGRAM):   target DepVar ;
3082574    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: Records processed = 2374   Memory used = 511K.
NOTE: View EMWS8.META3_TRAIN.VIEW used (Total process time):
      real time           0.02 seconds
      cpu time            0.01 seconds
      
NOTE: There were 2374 observations read from the data set EMWS8.PART_TRAIN.
NOTE: There were 2374 observations read from the data set EMWS8.META3_TRAIN.
NOTE: PROCEDURE DMDB used (Total process time):
      real time           0.02 seconds
      cpu time            0.01 seconds
      

MPRINT(EM_DIAGRAM):   quit;
MPRINT(EM_DIAGRAM):   *--- end code ---*;
3082575    quit;
3082576    *--- end code ---*;

3082577    *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):    *------------------------------------------------------------*;
3082578    * Rip Model 1;
MPRINT(EM_DIAGRAM):   * Rip Model 1;
3082579    *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
3082580    *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
3082581    * TREE MODEL DepVar BINARY RIP1;
MPRINT(EM_DIAGRAM):   * TREE MODEL DepVar BINARY RIP1;
3082582    *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;

MPRINT(EM_DIAGRAM):   reset noprint;
MPRINT(EM_DIAGRAM):   select count(*) into :_tmpnobs from EMWS8.Meta3_TRAIN;
NOTE: View EMWS8.META3_TRAIN.VIEW used (Total process time):
      real time           0.01 seconds
      cpu time            0.03 seconds
      
NOTE: There were 2374 observations read from the data set EMWS8.PART_TRAIN.
MPRINT(EM_DIAGRAM):   quit;
3082583    *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):    *------------------------------------------------------------*;
3082584    * Rule4: Create decision matrix;
MPRINT(EM_DIAGRAM):   * Rule4: Create decision matrix;
3082585    *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
3082586    *------------------------------------------------------------* ;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------* ;
3082587    * Rule4: Tree Variables Macro ;
MPRINT(EM_DIAGRAM):   * Rule4: Tree Variables Macro ;
3082588    *------------------------------------------------------------* ;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------* ;
3082589    %macro EM_TREEVARS;
3082590        AcceptedCmp1 AcceptedCmp2 AcceptedCmp3 AcceptedCmp4 AcceptedCmp5
3082591       AcceptedCmpTotal Age Complain Education Frq HigherEducationBinary Income
3082592       Kidhome Marital_Status MntFishProducts MntFruits MntGoldProds MntSweetProducts
3082593       MonthsAsCustomer NumDealsPurchases NumWebVisitsMonth RFMstat RMntFrq Recency
3082594       Teenhome
3082595    %mend EM_TREEVARS;
3082596    *------------------------------------------------------------* ;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------* ;
3082597    * Rule4: Tree Targets Macro ;
MPRINT(EM_DIAGRAM):   * Rule4: Tree Targets Macro ;
3082598    *------------------------------------------------------------* ;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------* ;
3082599    %macro EM_TREETARGETS;
3082600        DepVar
3082601    %mend EM_TREETARGETS;
3082602    data WORK.EM_Rule4 / view=WORK.EM_Rule4;
MPRINT(EM_DIAGRAM):   data WORK.EM_Rule4 / view=WORK.EM_Rule4;
3082603    set EMWS8.Meta3_TRAIN(keep=%EM_TREEVARS %EM_TREETARGETS);
MPRINT(EM_DIAGRAM):   set EMWS8.Meta3_TRAIN(keep
MPRINT(EM_DIAGRAM):  =AcceptedCmp1 AcceptedCmp2 AcceptedCmp3 AcceptedCmp4 AcceptedCmp5 
AcceptedCmpTotal Age Complain Education Frq HigherEducationBinary Income Kidhome 
Marital_Status MntFishProducts MntFruits MntGoldProds MntSweetProducts MonthsAsCustomer 
NumDealsPurchases NumWebVisitsMonth RFMstat RMntFrq Recency Teenhome DepVar);
3082604    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: DATA STEP view saved on file WORK.EM_RULE4.
NOTE: A stored DATA STEP view cannot run under a different operating system.
NOTE: View EMWS8.META3_TRAIN.VIEW used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      
NOTE: DATA statement used (Total process time):
      real time           0.02 seconds
      cpu time            0.01 seconds
      

MPRINT(EM_DIAGRAM):   *------------------------------------------------------------* ;
MPRINT(EM_DIAGRAM):   * Rule4: Interval Inputs Macro ;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------* ;
3082605    *------------------------------------------------------------* ;
3082606    * Rule4: Interval Inputs Macro ;
3082607    *------------------------------------------------------------* ;
3082608    %macro INTINPUTS;
3082609        AcceptedCmpTotal Age Frq Income Kidhome MntFishProducts MntFruits MntGoldProds
3082610       MntSweetProducts MonthsAsCustomer NumDealsPurchases NumWebVisitsMonth RFMstat
3082611       RMntFrq Recency Teenhome
3082612    %mend INTINPUTS;
3082613    *------------------------------------------------------------* ;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------* ;
3082614    * Rule4: Binary and Nominal Inputs Macro ;
MPRINT(EM_DIAGRAM):   * Rule4: Binary and Nominal Inputs Macro ;
3082615    *------------------------------------------------------------* ;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------* ;
3082616    %macro NOMINPUTS;
3082617        AcceptedCmp1 AcceptedCmp2 AcceptedCmp3 AcceptedCmp4 AcceptedCmp5 Complain
3082618       Education HigherEducationBinary Marital_Status
3082619    %mend NOMINPUTS;
3082620    *------------------------------------------------------------* ;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------* ;
3082621    * Rule4: Ordinal Inputs Macro ;
MPRINT(EM_DIAGRAM):   * Rule4: Ordinal Inputs Macro ;
3082622    *------------------------------------------------------------* ;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------* ;
3082623    %macro ORDINPUTS;
3082624    
3082625    %mend ORDINPUTS;
3082626    *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
3082627    * Rule4: Run ARBOR procedure;
MPRINT(EM_DIAGRAM):   * Rule4: Run ARBOR procedure;
3082628    *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;

3082629    proc arbor data=WORK.EM_Rule4
3082630    Leafsize=50
3082631    Mincatsize = 5
3082632    Maxdepth=4
3082633    Missing=USEINSEARCH
3082634    ;
MPRINT(EM_DIAGRAM):    proc arbor data=WORK.EM_Rule4 Leafsize=50 Mincatsize = 5 Maxdepth=4 
Missing=USEINSEARCH ;
3082635    ;
MPRINT(EM_DIAGRAM):   ;
3082636    input %INTINPUTS
MPRINT(EM_DIAGRAM):   input
MPRINT(INTINPUTS):   AcceptedCmpTotal Age Frq Income Kidhome MntFishProducts MntFruits 
MntGoldProds MntSweetProducts MonthsAsCustomer NumDealsPurchases NumWebVisitsMonth RFMstat 
RMntFrq Recency Teenhome
3082637    / level = interval;
MPRINT(EM_DIAGRAM):   / level = interval;
3082638    input %NOMINPUTS
MPRINT(EM_DIAGRAM):   input
MPRINT(NOMINPUTS):   AcceptedCmp1 AcceptedCmp2 AcceptedCmp3 AcceptedCmp4 AcceptedCmp5 Complain 
Education HigherEducationBinary Marital_Status
3082639    / level=nominal;
MPRINT(EM_DIAGRAM):   / level=nominal;
3082640    target DepVar / level=BINARY
3082641    Criterion=GINI
3082642    ;
MPRINT(EM_DIAGRAM):   target DepVar / level=BINARY Criterion=GINI ;
3082643    ;
MPRINT(EM_DIAGRAM):   ;
3082644    Performance DISK
3082645    ;
MPRINT(EM_DIAGRAM):   Performance DISK ;
NOTE: View EMWS8.META3_VALIDATE.VIEW used (Total process time):
      real time           0.21 seconds
      cpu time            0.21 seconds
      
3082646    Assess
3082647    Validata=EMWS8.Meta3_VALIDATE
3082648    measure=ASE
3082649    ;
MPRINT(EM_DIAGRAM):   Assess Validata=EMWS8.Meta3_VALIDATE measure=ASE ;
NOTE: 1367749 kilobytes of physical memory.
NOTE: Will use 2374 out of 2374 training cases.
NOTE: Using memory pool with 135983104 bytes.
NOTE: Will not search for split on variable AcceptedCmp2.
NOTE: Acceptable cases have the same value.
NOTE: Option MINCATSIZE=5 may apply.
NOTE: Will not search for split on variable Complain.
NOTE: Acceptable cases have the same value.
NOTE: Option MINCATSIZE=5 may apply.
NOTE: Passed training data 8 times.
NOTE: Training used 1539536 bytes of work memory.
NOTE: There were 1018 observations read from the data set EMWS8.PART_VALIDATE.
NOTE: The subtree sequence contains 14 subtrees. The largest has 27 nodes and 14 leaves.
NOTE: Using subtree with 25 nodes and 13 leaves.
3082650    MAKEMACRO NLEAVES=nleaves;
MPRINT(EM_DIAGRAM):   MAKEMACRO NLEAVES=nleaves;
NOTE: Created macro variable NLEAVES equal to 13.
3082651    save
3082652    MODEL=WORK.OUTTREE_TREE_0IX5F3N
3082653    SEQUENCE=WORK.OUTSEQ_TREE_0IX5F3N
3082654    IMPORTANCE=WORK.OUTIMPORT_TREE_0IX5F3N
3082655    NODESTAT=WORK.OUTNODES_TREE_0IX5F3N
3082656    SUMMARY=WORK.OUTSUMMARY_TREE_0IX5F3N
3082657    STATSBYNODE=WORK.OUTSTATS_TREE_0IX5F3N
3082658    Pathlistnonmissing = WORK.OUTPATH_TREE_0IX5F3N
3082659    Rules = WORK.OUTRULES_TREE_0IX5F3N
3082660    ;
MPRINT(EM_DIAGRAM):   save MODEL=WORK.OUTTREE_TREE_0IX5F3N SEQUENCE=WORK.OUTSEQ_TREE_0IX5F3N 
IMPORTANCE=WORK.OUTIMPORT_TREE_0IX5F3N NODESTAT=WORK.OUTNODES_TREE_0IX5F3N 
SUMMARY=WORK.OUTSUMMARY_TREE_0IX5F3N STATSBYNODE=WORK.OUTSTATS_TREE_0IX5F3N Pathlistnonmissing 
= WORK.OUTPATH_TREE_0IX5F3N Rules = WORK.OUTRULES_TREE_0IX5F3N ;
NOTE: The data set WORK.OUTIMPORT_TREE_0IX5F3N has 25 observations and 6 variables.
NOTE: The data set WORK.OUTTREE_TREE_0IX5F3N has 930 observations and 4 variables.
NOTE: The data set WORK.OUTNODES_TREE_0IX5F3N has 25 observations and 24 variables.
NOTE: The data set WORK.OUTPATH_TREE_0IX5F3N has 101 observations and 7 variables.
NOTE: The data set WORK.OUTRULES_TREE_0IX5F3N has 244 observations and 6 variables.
NOTE: The data set WORK.OUTSEQ_TREE_0IX5F3N has 14 observations and 20 variables.
NOTE: The data set WORK.OUTSTATS_TREE_0IX5F3N has 175 observations and 5 variables.
NOTE: The data set WORK.OUTSUMMARY_TREE_0IX5F3N has 24 observations and 6 variables.
3082661    code file="C:\Users\LUKASF~1\AppData\Local\Temp\SAS Temporary
3082661  ! Files\_TD9752_WN7LF-LEAVE_\Prc2\RIP1.sas"
3082662    group=Rule4
3082663    ;
MPRINT(EM_DIAGRAM):   code file="C:\Users\LUKASF~1\AppData\Local\Temp\SAS Temporary 
Files\_TD9752_WN7LF-LEAVE_\Prc2\RIP1.sas" group=Rule4 ;
NOTE: External file C:\Users\LUKASF~1\AppData\Local\Temp\SAS Temporary 
      Files\_TD9752_WN7LF-LEAVE_\Prc2\RIP1.sas opened.
3082664    code file="C:\Users\LUKASF~1\AppData\Local\Temp\SAS Temporary
3082664  ! Files\_TD9752_WN7LF-LEAVE_\Prc2\RIP1_res.sas"
3082665    group=Rule4
3082666    residual
3082667    ;
MPRINT(EM_DIAGRAM):   code file="C:\Users\LUKASF~1\AppData\Local\Temp\SAS Temporary 
Files\_TD9752_WN7LF-LEAVE_\Prc2\RIP1_res.sas" group=Rule4 residual ;
NOTE: External file C:\Users\LUKASF~1\AppData\Local\Temp\SAS Temporary 
      Files\_TD9752_WN7LF-LEAVE_\Prc2\RIP1_res.sas opened.
NOTE: View EMWS8.META3_TRAIN.VIEW used (Total process time):
      real time           0.02 seconds
      cpu time            0.01 seconds
      
3082668    score data=EMWS8.Meta3_TRAIN out=_ptrain
3082669    ;
MPRINT(EM_DIAGRAM):   score data=EMWS8.Meta3_TRAIN out=_ptrain ;
NOTE: There were 2374 observations read from the data set EMWS8.PART_TRAIN.
NOTE: The data set WORK._PTRAIN has 2374 observations and 59 variables.
NOTE: View EMWS8.META3_VALIDATE.VIEW used (Total process time):
      real time           0.02 seconds
      cpu time            0.01 seconds
      
3082670    score data=EMWS8.Meta3_VALIDATE out=_pvalid
3082671    ;
MPRINT(EM_DIAGRAM):   score data=EMWS8.Meta3_VALIDATE out=_pvalid ;
NOTE: There were 1018 observations read from the data set EMWS8.PART_VALIDATE.
NOTE: The data set WORK._PVALID has 1018 observations and 59 variables.
3082672    run;
MPRINT(EM_DIAGRAM):   run;

3082673    quit;
MPRINT(EM_DIAGRAM):   quit;

NOTE: There were 2374 observations read from the data set EMWS8.PART_TRAIN.
NOTE: View WORK.EM_RULE4.VIEW used (Total process time):
      real time           0.37 seconds
      cpu time            0.37 seconds
      
NOTE: There were 2374 observations read from the data set EMWS8.META3_TRAIN.
NOTE: There were 2374 observations read from the data set WORK.EM_RULE4.
NOTE: The data set WORK._NAMEDAT has 2 observations and 5 variables.
NOTE: PROCEDURE ARBOR used (Total process time):
      real time           0.39 seconds
      cpu time            0.39 seconds
      

3082674    data WORK.OUTIMPORT_TREE_0IX5F3N;
MPRINT(EM_DIAGRAM):    data WORK.OUTIMPORT_TREE_0IX5F3N;
3082675    set WORK.OUTIMPORT_TREE_0IX5F3N;
MPRINT(EM_DIAGRAM):   set WORK.OUTIMPORT_TREE_0IX5F3N;
3082676    label NAME = "%sysfunc(sasmsg(sashelp.dmine, meta_name_vlabel, noquote))" LABEL =
3082676  ! "%sysfunc(sasmsg(sashelp.dmine, meta_label_vlabel, noquote))" NRULES =
3082676  ! "%sysfunc(sasmsg(sashelp.dmine, rpt_nrules_vlabel, noquote))" IMPORTANCE =
3082677       "%sysfunc(sasmsg(sashelp.dmine, rpt_importance_vlabel, noquote))" NSURROGATES =
3082677  ! "%sysfunc(sasmsg(sashelp.dmine, rpt_nsurrogates_vlabel, noquote))"
3082678    VIMPORTANCE = "%sysfunc(sasmsg(sashelp.dmine, rpt_vimportance_vlabel, noquote))"
3082678  ! RATIO = "%sysfunc(sasmsg(sashelp.dmine, rpt_ratio_vlabel, noquote))"
3082679    ;
MPRINT(EM_DIAGRAM):   label NAME = "Variable Name" LABEL = "Label" NRULES = "Number of 
Splitting Rules" IMPORTANCE = "Importance" NSURROGATES = "Number of Surrogate Rules" 
VIMPORTANCE = "Validation Importance" RATIO = "Ratio of Validation to Training Importance" ;
3082680    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: Variable NSURROGATES is uninitialized.
NOTE: There were 25 observations read from the data set WORK.OUTIMPORT_TREE_0IX5F3N.
NOTE: The data set WORK.OUTIMPORT_TREE_0IX5F3N has 25 observations and 6 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

3082681    filename x "C:\Users\LUKASF~1\AppData\Local\Temp\SAS Temporary
3082681  ! Files\_TD9752_WN7LF-LEAVE_\Prc2\DESCRIBE.SOURCE" encoding='utf-8' NOBOM;
MPRINT(EM_DIAGRAM):   filename x "C:\Users\LUKASF~1\AppData\Local\Temp\SAS Temporary 
Files\_TD9752_WN7LF-LEAVE_\Prc2\DESCRIBE.SOURCE" encoding='utf-8' NOBOM;
3082682    data temp;
MPRINT(EM_DIAGRAM):    data temp;
3082683    length varname $21;
MPRINT(EM_DIAGRAM):   length varname $21;
3082684    retain varname;
MPRINT(EM_DIAGRAM):   retain varname;
3082685    set WORK.OUTPATH_TREE_0IX5F3N;
MPRINT(EM_DIAGRAM):   set WORK.OUTPATH_TREE_0IX5F3N;
3082686    if ^missing(variable) then varname=variable;
MPRINT(EM_DIAGRAM):   if ^missing(variable) then varname=variable;
3082687    else if ^missing(var_name) then varname=var_name;
MPRINT(EM_DIAGRAM):   else if ^missing(var_name) then varname=var_name;
3082688    output;
MPRINT(EM_DIAGRAM):   output;
3082689    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 101 observations read from the data set WORK.OUTPATH_TREE_0IX5F3N.
NOTE: The data set WORK.TEMP has 101 observations and 8 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

3082690    proc sort data=temp;
MPRINT(EM_DIAGRAM):   proc sort data=temp;
3082691    by node;
MPRINT(EM_DIAGRAM):   by node;
3082692    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 101 observations read from the data set WORK.TEMP.
NOTE: The data set WORK.TEMP has 101 observations and 8 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

3082693    proc sort data=WORK.OUTNODES_TREE_0IX5F3N out=outnodes;
MPRINT(EM_DIAGRAM):   proc sort data=WORK.OUTNODES_TREE_0IX5F3N out=outnodes;
3082694    by node;
MPRINT(EM_DIAGRAM):   by node;
3082695    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 25 observations read from the data set WORK.OUTNODES_TREE_0IX5F3N.
NOTE: The data set WORK.OUTNODES has 25 observations and 24 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

3082696    data temp;
MPRINT(EM_DIAGRAM):   data temp;
3082697    merge temp(in=_a) outnodes(keep= node
3082698    NPRIORS
3082699    P_DepVar0
3082700    P_DepVar1
3082701    );
MPRINT(EM_DIAGRAM):   merge temp(in=_a) outnodes(keep= node NPRIORS P_DepVar0 P_DepVar1 );
3082702    by node;
MPRINT(EM_DIAGRAM):   by node;
3082703    if _a;
MPRINT(EM_DIAGRAM):   if _a;
3082704    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 101 observations read from the data set WORK.TEMP.
NOTE: There were 25 observations read from the data set WORK.OUTNODES.
NOTE: The data set WORK.TEMP has 101 observations and 11 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

3082705    proc sort data=temp;
MPRINT(EM_DIAGRAM):   proc sort data=temp;
3082706    by node descending varname descending numeric_value;
MPRINT(EM_DIAGRAM):   by node descending varname descending numeric_value;
3082707    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 101 observations read from the data set WORK.TEMP.
NOTE: The data set WORK.TEMP has 101 observations and 11 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

3082708    data _null_;
MPRINT(EM_DIAGRAM):   data _null_;
3082709    file x;
MPRINT(EM_DIAGRAM):   file x;
3082710    set temp;
MPRINT(EM_DIAGRAM):   set temp;
3082711    by node descending varname;
MPRINT(EM_DIAGRAM):   by node descending varname;
3082712    retain origvar oldnode string;
MPRINT(EM_DIAGRAM):   retain origvar oldnode string;
3082713    length origvar $32 oldnode 8 string $200;
MPRINT(EM_DIAGRAM):   length origvar $32 oldnode 8 string $200;
3082714    if _n_ = 1 then do;
MPRINT(EM_DIAGRAM):   if _n_ = 1 then do;
3082715    origvar = varname;
MPRINT(EM_DIAGRAM):   origvar = varname;
3082716    oldnode = node;
MPRINT(EM_DIAGRAM):   oldnode = node;
3082717    end;
MPRINT(EM_DIAGRAM):   end;
3082718    if first.node then do;
MPRINT(EM_DIAGRAM):   if first.node then do;
3082719    put "&EM_CODEBAR";
MPRINT(EM_DIAGRAM):   put "*------------------------------------------------------------*";
3082720    put " Node = " node;
MPRINT(EM_DIAGRAM):   put " Node = " node;
3082721    put "&EM_CODEBAR";
MPRINT(EM_DIAGRAM):   put "*------------------------------------------------------------*";
3082722    end;
MPRINT(EM_DIAGRAM):   end;
3082723    if first.varname then do;
MPRINT(EM_DIAGRAM):   if first.varname then do;
3082724    if RELATION ^in ("=", "ISMISSING", "ISNOTMISSING") then do;
MPRINT(EM_DIAGRAM):   if RELATION ^in ("=", "ISMISSING", "ISNOTMISSING") then do;
3082725    if MISSING(CHARACTER_VALUE) then do;
MPRINT(EM_DIAGRAM):   if MISSING(CHARACTER_VALUE) then do;
3082726    if NUMERIC_VALUE ne . then do;
MPRINT(EM_DIAGRAM):   if NUMERIC_VALUE ne . then do;
3082727    if ^first.node then do;
MPRINT(EM_DIAGRAM):   if ^first.node then do;
3082728    string= "AND "|| strip(varname)||" "||strip(relation)||" "||strip(numeric_value);
MPRINT(EM_DIAGRAM):   string= "AND "|| strip(varname)||" "||strip(relation)||" 
"||strip(numeric_value);
3082729    end;
MPRINT(EM_DIAGRAM):   end;
3082730    else do;
MPRINT(EM_DIAGRAM):   else do;
3082731    string= "if "|| strip(varname)||" "||strip(relation)||" "||strip(numeric_value);
MPRINT(EM_DIAGRAM):   string= "if "|| strip(varname)||" "||strip(relation)||" 
"||strip(numeric_value);
3082732    end;
MPRINT(EM_DIAGRAM):   end;
3082733    end;
MPRINT(EM_DIAGRAM):   end;
3082734    end;
MPRINT(EM_DIAGRAM):   end;
3082735    else do;
MPRINT(EM_DIAGRAM):   else do;
3082736    if ^first.node then do;
MPRINT(EM_DIAGRAM):   if ^first.node then do;
3082737    string= "AND "|| strip(varname)||" "||strip(relation)||" "||strip(character_value);
MPRINT(EM_DIAGRAM):   string= "AND "|| strip(varname)||" "||strip(relation)||" 
"||strip(character_value);
3082738    end;
MPRINT(EM_DIAGRAM):   end;
3082739    else do;
MPRINT(EM_DIAGRAM):   else do;
3082740    string= "if "|| strip(varname)||" "||strip(relation)||" "||strip(character_value);
MPRINT(EM_DIAGRAM):   string= "if "|| strip(varname)||" "||strip(relation)||" 
"||strip(character_value);
3082741    end;
MPRINT(EM_DIAGRAM):   end;
3082742    end;
MPRINT(EM_DIAGRAM):   end;
3082743    end;
MPRINT(EM_DIAGRAM):   end;
3082744    else if RELATION in ("=") then do;
MPRINT(EM_DIAGRAM):   else if RELATION in ("=") then do;
3082745    if ^first.node then do;
MPRINT(EM_DIAGRAM):   if ^first.node then do;
3082746    string = "AND "||strip(varname) ||" IS ONE OF: "||character_value;
MPRINT(EM_DIAGRAM):   string = "AND "||strip(varname) ||" IS ONE OF: "||character_value;
3082747    end;
MPRINT(EM_DIAGRAM):   end;
3082748    else do;
MPRINT(EM_DIAGRAM):   else do;
3082749    string = "if "|| strip(varname) ||" IS ONE OF: "||character_value;
MPRINT(EM_DIAGRAM):   string = "if "|| strip(varname) ||" IS ONE OF: "||character_value;
3082750    end;
MPRINT(EM_DIAGRAM):   end;
3082751    end;
MPRINT(EM_DIAGRAM):   end;
3082752    else if RELATION in ("ISMISSING") then do;
MPRINT(EM_DIAGRAM):   else if RELATION in ("ISMISSING") then do;
3082753    if ^first.node then do;
MPRINT(EM_DIAGRAM):   if ^first.node then do;
3082754    string = " AND "|| strip(varname) || " equals Missing";
MPRINT(EM_DIAGRAM):   string = " AND "|| strip(varname) || " equals Missing";
3082755    end;
MPRINT(EM_DIAGRAM):   end;
3082756    else do;
MPRINT(EM_DIAGRAM):   else do;
3082757    string = "if "|| strip(varname) ||" equals Missing";
MPRINT(EM_DIAGRAM):   string = "if "|| strip(varname) ||" equals Missing";
3082758    end;
MPRINT(EM_DIAGRAM):   end;
3082759    end;
MPRINT(EM_DIAGRAM):   end;
3082760    else if RELATION in ("ISNOTMISSING") then do;
MPRINT(EM_DIAGRAM):   else if RELATION in ("ISNOTMISSING") then do;
3082761    if ^first.node then do;
MPRINT(EM_DIAGRAM):   if ^first.node then do;
3082762    string = " AND "|| strip(varname) || " equals All Values";
MPRINT(EM_DIAGRAM):   string = " AND "|| strip(varname) || " equals All Values";
3082763    end;
MPRINT(EM_DIAGRAM):   end;
3082764    else do;
MPRINT(EM_DIAGRAM):   else do;
3082765    string = "if "|| strip(varname) ||" equals All Values";
MPRINT(EM_DIAGRAM):   string = "if "|| strip(varname) ||" equals All Values";
3082766    end;
MPRINT(EM_DIAGRAM):   end;
3082767    end;
MPRINT(EM_DIAGRAM):   end;
3082768    if ^missing(varname) then origvar = varname;
MPRINT(EM_DIAGRAM):   if ^missing(varname) then origvar = varname;
3082769    oldnode=node;
MPRINT(EM_DIAGRAM):   oldnode=node;
3082770    end;
MPRINT(EM_DIAGRAM):   end;
3082771    else do;
MPRINT(EM_DIAGRAM):   else do;
3082772    if RELATION ^in ("=", "ISMISSING", "ISNOTMISSING") then do;
MPRINT(EM_DIAGRAM):   if RELATION ^in ("=", "ISMISSING", "ISNOTMISSING") then do;
3082773    if MISSING(CHARACTER_VALUE) then do;
MPRINT(EM_DIAGRAM):   if MISSING(CHARACTER_VALUE) then do;
3082774    if NUMERIC_VALUE ne . then do;
MPRINT(EM_DIAGRAM):   if NUMERIC_VALUE ne . then do;
3082775    if ^MISSING(string) then string= strip(string)||" AND "|| strip(varname)||"
3082775  ! "||strip(relation)||" "||strip(numeric_value);
MPRINT(EM_DIAGRAM):   if ^MISSING(string) then string= strip(string)||" AND "|| 
strip(varname)||" "||strip(relation)||" "||strip(numeric_value);
3082776    else string= " if "|| strip(varname)||" "||strip(relation)||"
3082776  ! "||strip(numeric_value);
MPRINT(EM_DIAGRAM):   else string= " if "|| strip(varname)||" "||strip(relation)||" 
"||strip(numeric_value);
3082777    end;
MPRINT(EM_DIAGRAM):   end;
3082778    end;
MPRINT(EM_DIAGRAM):   end;
3082779    else do;
MPRINT(EM_DIAGRAM):   else do;
3082780    if ^MISSING(string) then string= strip(string)||" AND "|| strip(varname)||"
3082780  ! "||strip(relation)||" "||strip(character_value);
MPRINT(EM_DIAGRAM):   if ^MISSING(string) then string= strip(string)||" AND "|| 
strip(varname)||" "||strip(relation)||" "||strip(character_value);
3082781    else string= " if "|| strip(varname)||" "||strip(relation)||"
3082781  ! "||strip(character_value);
MPRINT(EM_DIAGRAM):   else string= " if "|| strip(varname)||" "||strip(relation)||" 
"||strip(character_value);
3082782    end;
MPRINT(EM_DIAGRAM):   end;
3082783    end;
MPRINT(EM_DIAGRAM):   end;
3082784    else if RELATION in ("=") then do;
MPRINT(EM_DIAGRAM):   else if RELATION in ("=") then do;
3082785    string = strip(string)||", "||strip(character_value);
MPRINT(EM_DIAGRAM):   string = strip(string)||", "||strip(character_value);
3082786    end;
MPRINT(EM_DIAGRAM):   end;
3082787    else if RELATION in ("ISMISSING") then do;
MPRINT(EM_DIAGRAM):   else if RELATION in ("ISMISSING") then do;
3082788    end;
MPRINT(EM_DIAGRAM):   end;
3082789    if ^missing(varname) then origvar = varname;
MPRINT(EM_DIAGRAM):   if ^missing(varname) then origvar = varname;
3082790    oldnode=node;
MPRINT(EM_DIAGRAM):   oldnode=node;
3082791    end;
MPRINT(EM_DIAGRAM):   end;
3082792    if last.varname then do;
MPRINT(EM_DIAGRAM):   if last.varname then do;
3082793    if RELATION in ("ISMISSING") then do;
MPRINT(EM_DIAGRAM):   if RELATION in ("ISMISSING") then do;
3082794    if ^first.varname then do;
MPRINT(EM_DIAGRAM):   if ^first.varname then do;
3082795    string = strip(string) || " or MISSING";
MPRINT(EM_DIAGRAM):   string = strip(string) || " or MISSING";
3082796    end;
MPRINT(EM_DIAGRAM):   end;
3082797    end;
MPRINT(EM_DIAGRAM):   end;
3082798    put string;
MPRINT(EM_DIAGRAM):   put string;
3082799    if ^missing(varname) then origvar = varname;
MPRINT(EM_DIAGRAM):   if ^missing(varname) then origvar = varname;
3082800    oldnode=node;
MPRINT(EM_DIAGRAM):   oldnode=node;
3082801    end;
MPRINT(EM_DIAGRAM):   end;
3082802    if last.node then do;
MPRINT(EM_DIAGRAM):   if last.node then do;
3082803    put "then ";
MPRINT(EM_DIAGRAM):   put "then ";
3082804    put " Tree Node Identifier   = " node;
MPRINT(EM_DIAGRAM):   put " Tree Node Identifier   = " node;
3082805    put " Number of Observations = " NPRIORS;
MPRINT(EM_DIAGRAM):   put " Number of Observations = " NPRIORS;
3082806    put " Predicted: DepVar=0  = " P_DepVar0;
MPRINT(EM_DIAGRAM):   put " Predicted: DepVar=0  = " P_DepVar0;
3082807    put " Predicted: DepVar=1  = " P_DepVar1;
MPRINT(EM_DIAGRAM):   put " Predicted: DepVar=1  = " P_DepVar1;
3082808    put " ";
MPRINT(EM_DIAGRAM):   put " ";
3082809    if ^missing(varname) then origvar = varname;
MPRINT(EM_DIAGRAM):   if ^missing(varname) then origvar = varname;
3082810    oldnode=node;
MPRINT(EM_DIAGRAM):   oldnode=node;
3082811    end;
MPRINT(EM_DIAGRAM):   end;
3082812    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: Numeric values have been converted to character values at the places given by: 
      (Line):(Column).
      -7876142:***   -7876138:***   -7876085:***   -7876084:***   
NOTE: The file X is:
      
      Filename=C:\Users\LUKASF~1\AppData\Local\Temp\SAS Temporary 
      Files\_TD9752_WN7LF-LEAVE_\Prc2\DESCRIBE.SOURCE,
      RECFM=V,LRECL=1536,File Size (bytes)=0,
      Last Modified=28. April 2016 11.02 Uhr,
      Create Time=28. April 2016 11.02 Uhr

NOTE: 156 records were written to the file X.
      The minimum record length was 1.
      The maximum record length was 68.
NOTE: There were 101 observations read from the data set WORK.TEMP.
NOTE: At least one W.D format was too small for the number to be printed. The decimal may be 
      shifted by the "BEST" format.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

3082813    filename x;
MPRINT(EM_DIAGRAM):    filename x;
NOTE: Fileref X has been deassigned.
3082814    data leafds;
MPRINT(EM_DIAGRAM):    data leafds;
3082815    set WORK.OUTNODES_TREE_0IX5F3N;
MPRINT(EM_DIAGRAM):   set WORK.OUTNODES_TREE_0IX5F3N;
3082816    if LEAF ne .;
MPRINT(EM_DIAGRAM):   if LEAF ne .;
3082817    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 25 observations read from the data set WORK.OUTNODES_TREE_0IX5F3N.
NOTE: The data set WORK.LEAFDS has 13 observations and 24 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

3082818    proc sort data=leafds;
MPRINT(EM_DIAGRAM):   proc sort data=leafds;
3082819    by descending N;
MPRINT(EM_DIAGRAM):   by descending N;
3082820    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 13 observations read from the data set WORK.LEAFDS.
NOTE: The data set WORK.LEAFDS has 13 observations and 24 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

NOTE: Argument three to KSUBSTR exceeds the length of the input string, the function has 
      recalculated the length of the string.
RIP LEAF: N=1  varid=17  nodeid=21  val=0.99159663865546  count=1071 
RIP LEAF: N=2  varid=18  nodeid=21  val=0.00840336134453  count=1071 
RIP LEAF: N=1  varid=17  nodeid=16  val=0.89330024813895  count=403 
RIP LEAF: N=2  varid=18  nodeid=16  val=0.10669975186104  count=403 
RIP LEAF: N=1  varid=17  nodeid=12  val=0.42944785276073  count=163 
RIP LEAF: N=2  varid=18  nodeid=12  val=0.57055214723926  count=163 
RIP LEAF: N=1  varid=17  nodeid=25  val=0.91156462585034  count=147 
RIP LEAF: N=2  varid=18  nodeid=25  val=0.08843537414965  count=147 
RIP LEAF: N=1  varid=17  nodeid=17  val=0.6822429906542  count=107 
RIP LEAF: N=2  varid=18  nodeid=17  val=0.31775700934579  count=107 
RIP LEAF: N=1  varid=17  nodeid=20  val=0.94285714285714  count=105 
RIP LEAF: N=2  varid=18  nodeid=20  val=0.05714285714285  count=105 
RIP LEAF: N=1  varid=17  nodeid=24  val=0.75806451612903  count=62 
RIP LEAF: N=2  varid=18  nodeid=24  val=0.24193548387096  count=62 
RIP LEAF: N=1  varid=17  nodeid=18  val=0.44827586206896  count=58 
RIP LEAF: N=2  varid=18  nodeid=18  val=0.55172413793103  count=58 
RIP LEAF: N=1  varid=17  nodeid=13  val=0.05263157894736  count=57 
RIP LEAF: N=2  varid=18  nodeid=13  val=0.94736842105263  count=57 
RIP LEAF: N=1  varid=17  nodeid=26  val=0.47058823529411  count=51 
RIP LEAF: N=2  varid=18  nodeid=26  val=0.52941176470588  count=51 
RIP LEAF: N=1  varid=17  nodeid=19  val=0.8  count=50 
RIP LEAF: N=2  varid=18  nodeid=19  val=0.2  count=50 
RIP LEAF: N=1  varid=17  nodeid=11  val=0.82  count=50 
RIP LEAF: N=2  varid=18  nodeid=11  val=0.18  count=50 
RIP LEAF: N=1  varid=17  nodeid=27  val=0.72  count=50 
RIP LEAF: N=2  varid=18  nodeid=27  val=0.28  count=50 
3082821    * RIP1: Print leaf table;
MPRINT(EM_DIAGRAM):    * RIP1: Print leaf table;
3082822    ;
MPRINT(EM_DIAGRAM):   ;
3082823    data leafds;
MPRINT(EM_DIAGRAM):   data leafds;
3082824    set leafds;
MPRINT(EM_DIAGRAM):   set leafds;
3082825    format P_DEPVAR0 8.4;
MPRINT(EM_DIAGRAM):   format P_DEPVAR0 8.4;
3082826    format P_DEPVAR1 8.4;
MPRINT(EM_DIAGRAM):   format P_DEPVAR1 8.4;
3082827    ;
MPRINT(EM_DIAGRAM):   ;
3082828    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 13 observations read from the data set WORK.LEAFDS.
NOTE: The data set WORK.LEAFDS has 13 observations and 24 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

3082829    title9 "%sysfunc(sasmsg(sashelp.dmine, rpt_leaftable_title, NOQUOTE, RIP1, 100))";
MPRINT(EM_DIAGRAM):   title9 "RIP1 Leaf Table: Threshold= 100";
3082830    title10 "%sysfunc(sasmsg(sashelp.dmine, rpt_text_title, NOQUOTE, %nrbquote(No leaf
3082830  ! was ripped from the model.)))";
MPRINT(EM_DIAGRAM):   title10 "No leaf was ripped from the model.";
3082831    proc print data = leafds NOOBS LABEL;
MPRINT(EM_DIAGRAM):   proc print data = leafds NOOBS LABEL;
3082832    var NODE N
3082833    P_DEPVAR0
3082834    P_DEPVAR1
3082835    ;
MPRINT(EM_DIAGRAM):   var NODE N P_DEPVAR0 P_DEPVAR1 ;
3082836    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 13 observations read from the data set WORK.LEAFDS.
NOTE: The PROCEDURE PRINT printed page 2789.
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

3082837    title9;
MPRINT(EM_DIAGRAM):   title9;
3082838    title10;
MPRINT(EM_DIAGRAM):   title10;
MPRINT(EM_DIAGRAM):   * Create training data set with binary target for modeling;
MPRINT(EM_DIAGRAM):   ;
3082839    * Create training data set with binary target for modeling;
3082840    ;
3082841    data _ptrain;
MPRINT(EM_DIAGRAM):   data _ptrain;
3082842    length _bin $12;
MPRINT(EM_DIAGRAM):   length _bin $12;
3082843    set _ptrain;
MPRINT(EM_DIAGRAM):   set _ptrain;
3082844    _tmp=putn(DepVar, 'best.');
MPRINT(EM_DIAGRAM):   _tmp=putn(DepVar, 'best.');
3082845    %DMNORMIP(_tmp);
MPRINT(DMNORMIP):   call dmnorm(_tmp,
MPRINT(DMNORLEN):  32
MPRINT(DMNORMIP):  );
MPRINT(EM_DIAGRAM):  ;
3082846    _tmpLevel = '0';
MPRINT(EM_DIAGRAM):   _tmpLevel = '0';
3082847    %DMNORMCP(_tmpLevel, _tmpLevel);
MPRINT(DMNORMCP):   _tmpLevel=dmnorm(_tmpLevel,
MPRINT(DMNORLEN):  32
MPRINT(DMNORMCP):  );
MPRINT(EM_DIAGRAM):  ;
3082848    if _tmp eq _tmpLevel then _bin = '1';
MPRINT(EM_DIAGRAM):   if _tmp eq _tmpLevel then _bin = '1';
3082849    else _bin = '0';
MPRINT(EM_DIAGRAM):   else _bin = '0';
3082850    drop _tmp _tmpLevel
3082851    ;
MPRINT(EM_DIAGRAM):   drop _tmp _tmpLevel ;
3082852    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 2374 observations read from the data set WORK._PTRAIN.
NOTE: The data set WORK._PTRAIN has 2374 observations and 60 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

3082853    * Create validation data set with binary target for modeling;
MPRINT(EM_DIAGRAM):    * Create validation data set with binary target for modeling;
3082854    ;
MPRINT(EM_DIAGRAM):   ;
3082855    data _pvalid;
MPRINT(EM_DIAGRAM):   data _pvalid;
3082856    length _bin $12;
MPRINT(EM_DIAGRAM):   length _bin $12;
3082857    set _pvalid;
MPRINT(EM_DIAGRAM):   set _pvalid;
3082858    _tmp = putn(DepVar, 'best.');
MPRINT(EM_DIAGRAM):   _tmp = putn(DepVar, 'best.');
3082859    %DMNORMIP(_TMP);
MPRINT(DMNORMIP):   call dmnorm(_TMP,
MPRINT(DMNORLEN):  32
MPRINT(DMNORMIP):  );
MPRINT(EM_DIAGRAM):  ;
3082860    _tmpLevel = '0';
MPRINT(EM_DIAGRAM):   _tmpLevel = '0';
3082861    %DMNORMCP(_tmpLevel, _tmpLevel);
MPRINT(DMNORMCP):   _tmpLevel=dmnorm(_tmpLevel,
MPRINT(DMNORLEN):  32
MPRINT(DMNORMCP):  );
MPRINT(EM_DIAGRAM):  ;
3082862    if _tmp eq _tmpLevel then _bin = '1';
MPRINT(EM_DIAGRAM):   if _tmp eq _tmpLevel then _bin = '1';
3082863    else _bin = '0';
MPRINT(EM_DIAGRAM):   else _bin = '0';
3082864    drop _tmp
3082865    ;
MPRINT(EM_DIAGRAM):   drop _tmp ;
3082866    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 1018 observations read from the data set WORK._PVALID.
NOTE: The data set WORK._PVALID has 1018 observations and 61 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

3082867    data _train;
MPRINT(EM_DIAGRAM):    data _train;
3082868    set _ptrain;
MPRINT(EM_DIAGRAM):   set _ptrain;
3082869    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 2374 observations read from the data set WORK._PTRAIN.
NOTE: The data set WORK._TRAIN has 2374 observations and 60 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

3082870    data _valid;
MPRINT(EM_DIAGRAM):   data _valid;
3082871    set _pvalid;
MPRINT(EM_DIAGRAM):   set _pvalid;
3082872    options validvarname=any;
MPRINT(EM_DIAGRAM):   options validvarname=any;
3082873    proc contents data=work._train out=_tempAdvisor noprint;

NOTE: There were 1018 observations read from the data set WORK._PVALID.
NOTE: The data set WORK._VALID has 1018 observations and 61 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

MPRINT(EM_DIAGRAM):   proc contents data=work._train out=_tempAdvisor noprint;
3082874    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: The data set WORK._TEMPADVISOR has 60 observations and 40 variables.
NOTE: PROCEDURE CONTENTS used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

3082875    options validvarname=V7;
MPRINT(EM_DIAGRAM):   options validvarname=V7;
3082876    %let _dsidTable = 0;
3082877    %let _engineTable =;
3082878    data _null_;
MPRINT(EM_DIAGRAM):    data _null_;
3082879    dsid = open('work._train');
MPRINT(EM_DIAGRAM):   dsid = open('work._train');
3082880    call symput('_dsidTable', strip(put(dsid, best.)));
MPRINT(EM_DIAGRAM):   call symput('_dsidTable', strip(put(dsid, best.)));
3082881    if dsid then do;
MPRINT(EM_DIAGRAM):   if dsid then do;
3082882    call symput('_engineTable', attrc(dsid, 'ENGINE'));
MPRINT(EM_DIAGRAM):   call symput('_engineTable', attrc(dsid, 'ENGINE'));
3082883    dsid = close(dsid);
MPRINT(EM_DIAGRAM):   dsid = close(dsid);
3082884    end;
MPRINT(EM_DIAGRAM):   end;
3082885    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

3082886    options fmterr;
MPRINT(EM_DIAGRAM):    options fmterr;
3082887    data _metaTestView;
MPRINT(EM_DIAGRAM):   data _metaTestView;
3082888    set work._train;
MPRINT(EM_DIAGRAM):   set work._train;
3082889    if _N_=1 then do;
MPRINT(EM_DIAGRAM):   if _N_=1 then do;
3082890    output;
MPRINT(EM_DIAGRAM):   output;
3082891    stop;
MPRINT(EM_DIAGRAM):   stop;
3082892    end;
MPRINT(EM_DIAGRAM):   end;
3082893    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 1 observations read from the data set WORK._TRAIN.
NOTE: The data set WORK._METATESTVIEW has 1 observations and 60 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

3082894    proc contents data=work._train
3082895    out=WORK.M2GPQRJN noprint;
MPRINT(EM_DIAGRAM):    proc contents data=work._train out=WORK.M2GPQRJN noprint;
3082896    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: The data set WORK.M2GPQRJN has 60 observations and 40 variables.
NOTE: PROCEDURE CONTENTS used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

3082897    data WORK.M2GPQRJN;
MPRINT(EM_DIAGRAM):    data WORK.M2GPQRJN;
3082898    length NAME $ 64 TYPE $ 1 LABEL $ 200 FORMAT $ 20 INFORMAT $20 INDEX $ 1 INDEXTYPE $
3082898  !  9;
MPRINT(EM_DIAGRAM):   length NAME $ 64 TYPE $ 1 LABEL $ 200 FORMAT $ 20 INFORMAT $20 INDEX $ 1 
INDEXTYPE $ 9;
3082899    label NAME =;
MPRINT(EM_DIAGRAM):   label NAME =;
3082900    set WORK.M2GPQRJN(keep=name type length label format formatl formatd informat
3082900  ! informl informd idxusage rename=(type=itype));
MPRINT(EM_DIAGRAM):   set WORK.M2GPQRJN(keep=name type length label format formatl formatd 
informat informl informd idxusage rename=(type=itype));
3082901    if itype = 1 then type = 'N';
MPRINT(EM_DIAGRAM):   if itype = 1 then type = 'N';
3082902    else type = 'C';
MPRINT(EM_DIAGRAM):   else type = 'C';
3082903    if formatl > 0 then do;
MPRINT(EM_DIAGRAM):   if formatl > 0 then do;
3082904    if format ne ' ' then format = strip(format)!!strip(put(formatl,
3082904  ! best12.))!!'.'!!strip(put(formatd, best12.));
MPRINT(EM_DIAGRAM):   if format ne ' ' then format = strip(format)!!strip(put(formatl, 
best12.))!!'.'!!strip(put(formatd, best12.));
3082905    else format = strip(put(formatl, best12.))!!'.'!!strip(put(formatd, best12.));
MPRINT(EM_DIAGRAM):   else format = strip(put(formatl, best12.))!!'.'!!strip(put(formatd, 
best12.));
3082906    end;
MPRINT(EM_DIAGRAM):   end;
3082907    else if format ne '' then format = strip(format)!!'.';
MPRINT(EM_DIAGRAM):   else if format ne '' then format = strip(format)!!'.';
3082908    if informl > 0 then do;
MPRINT(EM_DIAGRAM):   if informl > 0 then do;
3082909    if informat ne ' ' then informat = strip(informat)!!strip(put(informl,
3082909  ! best12.))!!'.'!!strip(put(informd, best12.));
MPRINT(EM_DIAGRAM):   if informat ne ' ' then informat = strip(informat)!!strip(put(informl, 
best12.))!!'.'!!strip(put(informd, best12.));
3082910    else informat = strip(put(informl, best12.))!!'.'!!strip(put(informd, best12.));
MPRINT(EM_DIAGRAM):   else informat = strip(put(informl, best12.))!!'.'!!strip(put(informd, 
best12.));
3082911    end;
MPRINT(EM_DIAGRAM):   end;
3082912    else if informat ne '' then informat = strip(informat)!!'.';
MPRINT(EM_DIAGRAM):   else if informat ne '' then informat = strip(informat)!!'.';
3082913    if idxusage = 'NONE' then index ="N";
MPRINT(EM_DIAGRAM):   if idxusage = 'NONE' then index ="N";
3082914    else index = "Y";
MPRINT(EM_DIAGRAM):   else index = "Y";
3082915    indextype = idxusage;
MPRINT(EM_DIAGRAM):   indextype = idxusage;
3082916    drop idxusage itype formatl formatd informl informd;
MPRINT(EM_DIAGRAM):   drop idxusage itype formatl formatd informl informd;
3082917    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 60 observations read from the data set WORK.M2GPQRJN.
NOTE: The data set WORK.M2GPQRJN has 60 observations and 8 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

3082918    data WORK.M2GPQRJN;
MPRINT(EM_DIAGRAM):    data WORK.M2GPQRJN;
3082919    length UNAME $64;
MPRINT(EM_DIAGRAM):   length UNAME $64;
3082920    set WORK.M2GPQRJN;
MPRINT(EM_DIAGRAM):   set WORK.M2GPQRJN;
3082921    UNAME = upcase(NAME);
MPRINT(EM_DIAGRAM):   UNAME = upcase(NAME);
3082922    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 60 observations read from the data set WORK.M2GPQRJN.
NOTE: The data set WORK.M2GPQRJN has 60 observations and 9 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

MPRINT(EM_DIAGRAM):    proc sort data=WORK.M0GP867E NOTHREADS;
MPRINT(EM_DIAGRAM):   by UNAME;
MPRINT(EM_DIAGRAM):   run;
3082926    data WORK.M0GP867E;
MPRINT(EM_DIAGRAM):    data WORK.M0GP867E;
3082927    drop UNAME;
MPRINT(EM_DIAGRAM):   drop UNAME;
3082928    set WORK.M0GP867E;
MPRINT(EM_DIAGRAM):   set WORK.M0GP867E;
3082929    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 60 observations read from the data set WORK.M0GP867E.
NOTE: The data set WORK.M0GP867E has 60 observations and 8 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

MPRINT(EM_DIAGRAM):    data WORK.M240YNMH(keep=NAME ATTR);
MPRINT(EM_DIAGRAM):   length ATTR $ 20;
MPRINT(EM_DIAGRAM):   set WORK.M0GP867E;
MPRINT(EM_DIAGRAM):   if level ne "INTERVAL" then do;
MPRINT(EM_DIAGRAM):   if order = ' ' then do;
MPRINT(EM_DIAGRAM):   attr = 'ORDER';
MPRINT(EM_DIAGRAM):   output;
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   if format ne ' ' and formattype = ' ' then do;
MPRINT(EM_DIAGRAM):   attr = 'FORMATTYPE';
MPRINT(EM_DIAGRAM):   output;
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   if role = ' ' then do;
MPRINT(EM_DIAGRAM):   attr = 'ROLE';
MPRINT(EM_DIAGRAM):   output;
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   if level = ' ' then do;
MPRINT(EM_DIAGRAM):   attr = 'LEVEL';
MPRINT(EM_DIAGRAM):   output;
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   if type = ' ' then do;
MPRINT(EM_DIAGRAM):   attr = 'TYPE';
MPRINT(EM_DIAGRAM):   output;
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   if index = ' ' then do;
MPRINT(EM_DIAGRAM):   attr = 'INDEX';
MPRINT(EM_DIAGRAM):   output;
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   if report = ' ' then do;
MPRINT(EM_DIAGRAM):   attr = 'REPORT';
MPRINT(EM_DIAGRAM):   output;
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   run;
MPRINT(EM_DIAGRAM):   proc sort NOTHREADS;
MPRINT(EM_DIAGRAM):   by attr;
MPRINT(EM_DIAGRAM):   run;
MPRINT(EM_DIAGRAM):    data WORK.M0GP867E;
MPRINT(EM_DIAGRAM):   length NAME $64 ROLE $ 32 LEVEL $ 10 ORDER $ 8 CREATOR $32 FORMATTYPE $ 
10 FAMILY $ 10 LOWERLIMIT 8 UPPERLIMIT 8 REPORT $1 DISTRIBUTION $ 20 COMMENT $64;
MPRINT(EM_DIAGRAM):   length levelAssigned 8 roleAssigned 8 PRICE 8;
MPRINT(EM_DIAGRAM):   set WORK.M0GP867E;
MPRINT(EM_DIAGRAM):   if formattype = ' ' then do;
MPRINT(EM_DIAGRAM):   if format ne ' ' then do;
MPRINT(EM_DIAGRAM):   if type = 'N' then do;
MPRINT(EM_DIAGRAM):   pos = indexc(format,'.1234567890');
MPRINT(EM_DIAGRAM):   if pos > 1 then tempfmt = substr(format,1, pos-1);
MPRINT(EM_DIAGRAM):   else tempfmt = ' ';
MPRINT(EM_DIAGRAM):   flen = length(tempfmt);
MPRINT(EM_DIAGRAM):   select;
MPRINT(EM_DIAGRAM):   when(tempfmt in ("DATE" "DAY" "DDMMYY" "DOWNAME" "JULDAY" "JULIAN" 
"MMDDYY" "MMDDYYD" "MMDDYYC" "MMDDYYN" "MMDDYYP" "MMDDYYS" "MONNAME" "MONTH" "MONYY" "NENGO" 
"QTR" "QTRR" "WEEKDATE" "WEEKDATX" "WEEKDAY" "WORDDATE" "WORDDATX" "YEAR" "YYMMDD" "YYMON" 
"YYMMDDC" "YYMMDDD" "YYMMDDN" "YYMMDDP" "YYMMDDS" "EURDFDE" "NJDATE" "NLDATE" "EURDFDD" 
"EURDFDWN" "EURDFMN" "EURDFMY" "EURDFWK" "EURDFWKX" "EURDFWDX" "EURDFDN" "EURDFDE" )) 
formattype = 'DATE';
MPRINT(EM_DIAGRAM):   when(tempfmt in ("DATETIME" "EURDFDT" "TOD" )) formattype = "DATETIME";
MPRINT(EM_DIAGRAM):   when(tempfmt in ("HHMM" "HOUR" "MMSS" "TIME" "TIMEAMPM" )) formattype = 
"TIME";
MPRINT(EM_DIAGRAM):   when(tempfmt in ("COMMA" "COMMAX" "DOLLAR" "DOLLARX" "E" "FRACT" 
"NEGPAREN" "PERCENT")) formattype="QUANTITY";
MPRINT(EM_DIAGRAM):   when(tempfmt in ("BINARY" "HEX" "IB" "OCTAL" "PD" "PIB" "PK" "RB" "SSN" 
"Z" "ZD")) formattype = "CODING";
MPRINT(EM_DIAGRAM):   otherwise do;
MPRINT(EM_DIAGRAM):   formattype = "USER";
MPRINT(EM_DIAGRAM):   if substr(tempfmt, 1, 6)='NLDATE' then formattype = "DATE";
MPRINT(EM_DIAGRAM):   else if substr(tempfmt, 1, 6)='NLDATM' then formattype = "DATETIME";
MPRINT(EM_DIAGRAM):   else if substr(tempfmt, 1, 4)='NLTIM' then formattype = "TIME";
MPRINT(EM_DIAGRAM):   else if flen >= 4 then do;
MPRINT(EM_DIAGRAM):   str = substr(tempfmt,1,4);
MPRINT(EM_DIAGRAM):   if str in ("MMYY" "YYMM" "YYQR") then formattype ="DATE";
MPRINT(EM_DIAGRAM):   else if str = "S370" then formattype = "CODING";
MPRINT(EM_DIAGRAM):   else if str = "BEST" then formattype = "NUM";
MPRINT(EM_DIAGRAM):   drop str;
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   else if flen >=3 and substr(tempfmt,1,3) = "YYQ" then formatType = 
"DATE";
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   drop flen tempfmt pos;
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   else do;
MPRINT(EM_DIAGRAM):   formatType = "CATEGORY";
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   if formatType = "NUM" then do;
MPRINT(EM_DIAGRAM):   if index = "Y" then formatType = "DISCRETE";
MPRINT(EM_DIAGRAM):   else formatType = "QUANTITY";
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   if level = ' ' then do;
MPRINT(EM_DIAGRAM):   if formatType in ("CATEGORY", "CODING", "ID") or type = "C" then level = 
"NOMINAL";
MPRINT(EM_DIAGRAM):   else level = "INTERVAL";
MPRINT(EM_DIAGRAM):   levelAssigned = 1;
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   else level = upcase(level);
MPRINT(EM_DIAGRAM):   if role = ' ' then do;
MPRINT(EM_DIAGRAM):   length name_prefix $8 _uname $64;
MPRINT(EM_DIAGRAM):   drop name_prefix _uname _freqflag;
MPRINT(EM_DIAGRAM):   retain _freqflag;
MPRINT(EM_DIAGRAM):   if LENGTH> 80 then ROLE = 'TEXT';
MPRINT(EM_DIAGRAM):   _uname = upcase(NAME);
MPRINT(EM_DIAGRAM):   select(_uname);
MPRINT(EM_DIAGRAM):   when('_WARN_') ROLE = 'ASSESS';
MPRINT(EM_DIAGRAM):   when('EM_SEGMENT') do;
MPRINT(EM_DIAGRAM):   ROLE = 'SEGMENT';
MPRINT(EM_DIAGRAM):   LEVEL = 'NOMINAL';
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   when('_NODE_') do;
MPRINT(EM_DIAGRAM):   ROLE = 'SEGMENT';
MPRINT(EM_DIAGRAM):   LEVEL = 'NOMINAL';
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   when('EM_CLASSTARGET') ROLE = 'ASSESS';
MPRINT(EM_DIAGRAM):   when('EM_VALUETARGET') ROLE = 'ASSESS';
MPRINT(EM_DIAGRAM):   when('EM_PREDICTION') ROLE = 'PREDICT';
MPRINT(EM_DIAGRAM):   when('EM_PROBABILITY') ROLE = 'PREDICT';
MPRINT(EM_DIAGRAM):   when('EM_EVENTPROBABILITY') ROLE = 'PREDICT';
MPRINT(EM_DIAGRAM):   when('EM_CLASSIFICATION') ROLE = 'CLASSIFICATION';
MPRINT(EM_DIAGRAM):   when('EM_DECISION') ROLE = 'DECISION';
MPRINT(EM_DIAGRAM):   when('EM_PROFIT') ROLE = 'ASSESS';
MPRINT(EM_DIAGRAM):   when('EM_LOSS') ROLE = 'ASSESS';
MPRINT(EM_DIAGRAM):   when('EM_ROI') ROLE = 'ASSESS';
MPRINT(EM_DIAGRAM):   when('URI') ROLE = 'URL';
MPRINT(EM_DIAGRAM):   when('FILTERED') ROLE = 'TEXTLOC';
MPRINT(EM_DIAGRAM):   otherwise do;
MPRINT(EM_DIAGRAM):   if upcase(NAME) =: 'ZIP' then do;
MPRINT(EM_DIAGRAM):   ROLE = 'REJECTED';
MPRINT(EM_DIAGRAM):   LEVEL = 'NOMINAL';
MPRINT(EM_DIAGRAM):   COMMENT = 'Rejected by: Exceed the maximum class level of %s';
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   else if upcase(NAME) in('FREQ', 'FREQUENCY') then do;
MPRINT(EM_DIAGRAM):   ROLE = 'FREQ';
MPRINT(EM_DIAGRAM):   if TYPE = 'C' then ROLE = 'INPUT';
MPRINT(EM_DIAGRAM):   else if _freqflag =1 then ROLE='REJECTED';
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   else do;
MPRINT(EM_DIAGRAM):   name_prefix = scan(_uname, 1, '_');
MPRINT(EM_DIAGRAM):   if scan(_uname, 2, '_') = '' then name_prefix='';
MPRINT(EM_DIAGRAM):   if name_prefix in('F', 'I', 'U') then do;
MPRINT(EM_DIAGRAM):   ROLE = 'CLASSIFICATION';
MPRINT(EM_DIAGRAM):   LEVEL = 'NOMINAL';
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   else if name_prefix in('P', 'V') then ROLE = 'PREDICT';
MPRINT(EM_DIAGRAM):   else if name_prefix in('R', 'RS', 'RT', 'RD', 'RDS', 'RDT', 'RA', 'RAS', 
'RAT') then ROLE = 'RESIDUAL';
MPRINT(EM_DIAGRAM):   else if name_prefix ='D' then do;
MPRINT(EM_DIAGRAM):   ROLE = 'DECISION';
MPRINT(EM_DIAGRAM):   LEVEL = 'NOMINAL';
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   else if name_prefix ='B' then do;
MPRINT(EM_DIAGRAM):   ROLE = 'SEGMENT';
MPRINT(EM_DIAGRAM):   LEVEL = 'NOMINAL';
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   else if name_prefix in('EP', 'BP', 'CP', 'EL', 'CL', 'BL', 'W', 'ROI', 
'IC') then ROLE = 'ASSESS';
MPRINT(EM_DIAGRAM):   else do;
MPRINT(EM_DIAGRAM):   array _ROLE_ (19) $32 _TEMPORARY_ ('ASSESS','CLASSIFICATION','CENSOR', 
'COST', 'CROSSID', 'DECISION', 'ID','INPUT', 'LABEL', 
'MISSING','PREDICT','REFERRER','REJECTED', 'RESIDUAL','SEGMENT', 'SEQUENCE','TARGET', 'TEXT', 
'TIMEID');
MPRINT(EM_DIAGRAM):   drop _found_ i;
MPRINT(EM_DIAGRAM):   _found_=0;
MPRINT(EM_DIAGRAM):   do i=1 to 19 until(_found_=1);
MPRINT(EM_DIAGRAM):   if index(_uname, trim(_ROLE_{i}))=1 then do;
MPRINT(EM_DIAGRAM):   ROLE=_ROLE_{i};
MPRINT(EM_DIAGRAM):   if ROLE = 'ID' then LEVEL = 'NOMINAL';
MPRINT(EM_DIAGRAM):   else if ROLE = 'SEGMENT' then LEVEL = 'NOMINAL';
MPRINT(EM_DIAGRAM):   else if ROLE = 'TIMEID' and TYPE='N' then LEVEL = 'INTERVAL';
MPRINT(EM_DIAGRAM):   _found_=1;
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   if length(_uname)>2 then do;
MPRINT(EM_DIAGRAM):   if substr(reverse(trim(_uname)), 1, 3) = 'DI_' then do;
MPRINT(EM_DIAGRAM):   ROLE = 'ID';
MPRINT(EM_DIAGRAM):   LEVEL = 'NOMINAL';
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   if ROLE='FREQ' then _freqflag=1;
MPRINT(EM_DIAGRAM):   else if ROLE = 'CLASSIFICATION' then LEVEL = 'NOMINAL';
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   if role = ' ' then do;
MPRINT(EM_DIAGRAM):   if formattype in('DATE', 'DATETIME', 'TIME') then role = 'TIMEID';
MPRINT(EM_DIAGRAM):   else role = 'INPUT';
MPRINT(EM_DIAGRAM):   roleAssigned = 1;
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   else role = upcase(role);
MPRINT(EM_DIAGRAM):   if REPORT = '' then REPORT = 'N';
MPRINT(EM_DIAGRAM):   run;
MPRINT(EM_DIAGRAM):    *------------------------------------------------------------* ;
MPRINT(EM_DIAGRAM):   * DMDBClass Macro ;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------* ;
MPRINT(HPDM_PERFORMANCE):  ;
PERFORMANCE  DETAILS
MPRINT(EM_DIAGRAM):  ;
MPRINT(EM_DIAGRAM):    proc dmdb data=work._train(obs=1000000) batch classOut=_DMDB1S3YZYJ 
maxLevel=22;
MPRINT(EM_DIAGRAM):   class
MPRINT(DMDBCLASS):   AcceptedCmp1 AcceptedCmp2 AcceptedCmp3 AcceptedCmp4 AcceptedCmp5 
AcceptedCmpTotal Age Complain Custid DepVar Dt_Customer Education Element1 Element2 Element3 
Element4 Frq F_DepVar Group HigherEducation HigherEducationBinary Income I_DepVar Kidhome 
Marital_Status Mnt MntFishProducts MntFruits MntGoldProds MntMeatProducts MntSweetProducts 
MntWines MonthsAsCustomer NumCatalogPurchases NumDealsPurchases NumDistPurchases 
NumStorePurchases NumWebPurchases NumWebVisitsMonth P_DepVar0 P_DepVar1 Q_DepVar0 Q_DepVar1 
Recency RFMstat RMntFrq R_DepVar0 R_DepVar1 Teenhome U_DepVar V_DepVar0 V_DepVar1 Year_Birth 
Z_CostContact Z_Revenue _bin _dataobs_ _LEAF_ _NODE_ _WARN_
MPRINT(EM_DIAGRAM):  ;
MPRINT(EM_DIAGRAM):   run;
MPRINT(EM_DIAGRAM):    proc freq data=_DMDB1S3YZYJ noprint;
MPRINT(EM_DIAGRAM):   table name / out=_DMDBCOUNT1S3YZYJ(drop=percent rename=(count=NLEVEL));
MPRINT(EM_DIAGRAM):   run;
MPRINT(EM_DIAGRAM):   data _MISS1S3YZYJ(rename=(frequency=NMISS));
MPRINT(EM_DIAGRAM):   set _DMDB1S3YZYJ(where=(NRAW=. and CRAW=''));
MPRINT(EM_DIAGRAM):   keep name frequency;
MPRINT(EM_DIAGRAM):   run;
MPRINT(EM_DIAGRAM):   proc sort data=_MISS1S3YZYJ;
MPRINT(EM_DIAGRAM):   by NAME;
MPRINT(EM_DIAGRAM):   run;
MPRINT(EM_DIAGRAM):   proc sort data=_DMDBCOUNT1S3YZYJ;
MPRINT(EM_DIAGRAM):   by NAME;
MPRINT(EM_DIAGRAM):   run;
MPRINT(EM_DIAGRAM):    data _COUNTS1S3YZYJ;
MPRINT(EM_DIAGRAM):   merge _DMDBCOUNT1S3YZYJ _MISS1S3YZYJ;
MPRINT(EM_DIAGRAM):   label NLEVEL= 'Number of Category';
MPRINT(EM_DIAGRAM):   by name;
MPRINT(EM_DIAGRAM):   if NMISS > 0 then do;
MPRINT(EM_DIAGRAM):   NLEVEL= NLEVEL-1;
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   else NMISS = 0;
MPRINT(EM_DIAGRAM):   run;
MPRINT(EM_DIAGRAM):    proc sort data=_COUNTS1S3YZYJ NOTHREADS;
MPRINT(EM_DIAGRAM):   by name;
MPRINT(EM_DIAGRAM):   run;
MPRINT(EM_DIAGRAM):   proc sort data=WORK.M0GP867E NOTHREADS;
MPRINT(EM_DIAGRAM):   by name;
MPRINT(EM_DIAGRAM):   run;
MPRINT(EM_DIAGRAM):   data WORK.M0GP867E;
MPRINT(EM_DIAGRAM):   length NLEVEL 8 nmiss 8;
MPRINT(EM_DIAGRAM):   update WORK.M0GP867E _COUNTS1S3YZYJ;
MPRINT(EM_DIAGRAM):   by name;
MPRINT(EM_DIAGRAM):   if name='' then name='_';
MPRINT(EM_DIAGRAM):   if levelAssigned and ROLE ne 'FREQ' then do;
MPRINT(EM_DIAGRAM):   select(NLEVEL);
MPRINT(EM_DIAGRAM):   when(.) do;
MPRINT(EM_DIAGRAM):   if type eq 'C' then level = 'NOMINAL';
MPRINT(EM_DIAGRAM):   else level = 'INTERVAL';
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   when(0) level = 'UNARY';
MPRINT(EM_DIAGRAM):   when(1) level = 'UNARY';
MPRINT(EM_DIAGRAM):   when(2) level = 'BINARY';
MPRINT(EM_DIAGRAM):   otherwise do;
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   if roleAssigned then do;
MPRINT(EM_DIAGRAM):   if level = 'NOMINAL' and NLEVEL > 20 then do;
MPRINT(EM_DIAGRAM):   role = 'REJECTED';
MPRINT(EM_DIAGRAM):   comment = "Exceeds maximum number of levels cutoff";
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   if level = 'UNARY' and ROLE ne 'FREQ' then role='REJECTED';
MPRINT(EM_DIAGRAM):   drop NLEVEL nmiss;
MPRINT(EM_DIAGRAM):   label NAME = "Variable Name" TYPE = "Type" ROLE = "Role" LEVEL= 
"Measurement Level" ORDER= "Order" CREATOR= "Creator" FORMATTYPE= "Format Type" FAMILY= 
"Family" DISTRIBUTION= "Distribution" PRICE= "Price" LOWERLIMIT= "Lower limit" UPPERLIMIT= 
"Upper Limit" REPORT= "Report" COMMENT= "Comment" INDEX= "Index" INDEXTYPE= "IndexType" LABEL= 
"Label" LENGTH= "Length";
MPRINT(EM_DIAGRAM):   drop levelAssigned roleAssigned;
MPRINT(EM_DIAGRAM):   run;
3083219    data WORK.M2QD0RVS;
MPRINT(EM_DIAGRAM):    data WORK.M2QD0RVS;
3083220    set WORK.M2QD0RVS;
MPRINT(EM_DIAGRAM):   set WORK.M2QD0RVS;
3083221    if NAME='Element1' then delete;
MPRINT(EM_DIAGRAM):   if NAME='Element1' then delete;
3083222    if NAME='Element2' then delete;
MPRINT(EM_DIAGRAM):   if NAME='Element2' then delete;
3083223    if NAME='Element3' then delete;
MPRINT(EM_DIAGRAM):   if NAME='Element3' then delete;
3083224    if NAME='Element4' then delete;
MPRINT(EM_DIAGRAM):   if NAME='Element4' then delete;
3083225    if NAME='Group' then delete;
MPRINT(EM_DIAGRAM):   if NAME='Group' then delete;
3083226    if NAME='Z_CostContact' then delete;
MPRINT(EM_DIAGRAM):   if NAME='Z_CostContact' then delete;
3083227    if NAME='Z_Revenue' then delete;
MPRINT(EM_DIAGRAM):   if NAME='Z_Revenue' then delete;
3083228    if NAME='_WARN_' then delete;
MPRINT(EM_DIAGRAM):   if NAME='_WARN_' then delete;
3083229    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 27 observations read from the data set WORK.M2QD0RVS.
NOTE: The data set WORK.M2QD0RVS has 27 observations and 21 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

3083230    data WORK.M1AW7E8F;
MPRINT(EM_DIAGRAM):    data WORK.M1AW7E8F;
3083231    set WORK.M1AW7E8F;
MPRINT(EM_DIAGRAM):   set WORK.M1AW7E8F;
3083232    if role='INPUT' and use='D' then use='Y';
MPRINT(EM_DIAGRAM):   if role='INPUT' and use='D' then use='Y';
3083233    if NAME='_bin' then do;
MPRINT(EM_DIAGRAM):   if NAME='_bin' then do;
3083234    ROLE='TARGET';
MPRINT(EM_DIAGRAM):   ROLE='TARGET';
3083235    LEVEL='BINARY';
MPRINT(EM_DIAGRAM):   LEVEL='BINARY';
3083236    USE='Y';
MPRINT(EM_DIAGRAM):   USE='Y';
3083237    end;
MPRINT(EM_DIAGRAM):   end;
3083238    if NAME='DepVar' then do;
MPRINT(EM_DIAGRAM):   if NAME='DepVar' then do;
3083239    ROLE='REJECTED';
MPRINT(EM_DIAGRAM):   ROLE='REJECTED';
3083240    end;
MPRINT(EM_DIAGRAM):   end;
3083241    if NAME='Element1' then delete;
MPRINT(EM_DIAGRAM):   if NAME='Element1' then delete;
3083242    if NAME='Element2' then delete;
MPRINT(EM_DIAGRAM):   if NAME='Element2' then delete;
3083243    if NAME='Element3' then delete;
MPRINT(EM_DIAGRAM):   if NAME='Element3' then delete;
3083244    if NAME='Element4' then delete;
MPRINT(EM_DIAGRAM):   if NAME='Element4' then delete;
3083245    if NAME='Group' then delete;
MPRINT(EM_DIAGRAM):   if NAME='Group' then delete;
3083246    if NAME='Z_CostContact' then delete;
MPRINT(EM_DIAGRAM):   if NAME='Z_CostContact' then delete;
3083247    if NAME='Z_Revenue' then delete;
MPRINT(EM_DIAGRAM):   if NAME='Z_Revenue' then delete;
3083248    if NAME='_WARN_' then delete;
MPRINT(EM_DIAGRAM):   if NAME='_WARN_' then delete;
3083249    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 28 observations read from the data set WORK.M1AW7E8F.
NOTE: The data set WORK.M1AW7E8F has 28 observations and 21 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

3083250    *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):    *------------------------------------------------------------*;
3083251    * Binary Model DepVar = 0;
MPRINT(EM_DIAGRAM):   * Binary Model DepVar = 0;
3083252    *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
3083253    *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
3083254    * REGRESSION MODEL DepVar binary BIN1;
MPRINT(EM_DIAGRAM):   * REGRESSION MODEL DepVar binary BIN1;
3083255    *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
3083256    *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
3083257    * Rule4: Create decision matrix;
MPRINT(EM_DIAGRAM):   * Rule4: Create decision matrix;
3083258    *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
3083259    data EM_DMREG / view=EM_DMREG;
MPRINT(EM_DIAGRAM):   data EM_DMREG / view=EM_DMREG;
3083260    set work._train(keep=
3083261    AcceptedCmp1 AcceptedCmp2 AcceptedCmp3 AcceptedCmp4 AcceptedCmp5
3083262    AcceptedCmpTotal Age Complain DepVar Education Frq HigherEducationBinary Income
3083263    Kidhome Marital_Status MntFishProducts MntFruits MntGoldProds MntSweetProducts
3083264    MonthsAsCustomer NumDealsPurchases NumWebVisitsMonth RFMstat RMntFrq Recency
3083265    Teenhome _bin);
MPRINT(EM_DIAGRAM):   set work._train(keep= AcceptedCmp1 AcceptedCmp2 AcceptedCmp3 
AcceptedCmp4 AcceptedCmp5 AcceptedCmpTotal Age Complain DepVar Education Frq 
HigherEducationBinary Income Kidhome Marital_Status MntFishProducts MntFruits MntGoldProds 
MntSweetProducts MonthsAsCustomer NumDealsPurchases NumWebVisitsMonth RFMstat RMntFrq Recency 
Teenhome _bin);
3083266    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: DATA STEP view saved on file WORK.EM_DMREG.
NOTE: A stored DATA STEP view cannot run under a different operating system.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

MPRINT(EM_DIAGRAM):   *------------------------------------------------------------* ;
MPRINT(EM_DIAGRAM):   * Rule4: DMDBClass Macro ;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------* ;
3083267    *------------------------------------------------------------* ;
3083268    * Rule4: DMDBClass Macro ;
3083269    *------------------------------------------------------------* ;
3083270    %macro DMDBClass;
3083271        AcceptedCmp1(ASC) AcceptedCmp2(ASC) AcceptedCmp3(ASC) AcceptedCmp4(ASC)
3083272       AcceptedCmp5(ASC) Complain(ASC) DepVar(ASC) Education(ASC)
3083273       HigherEducationBinary(ASC) Marital_Status(ASC) _bin(DESC)
3083274    %mend DMDBClass;
3083275    *------------------------------------------------------------* ;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------* ;
3083276    * Rule4: DMDBVar Macro ;
MPRINT(EM_DIAGRAM):   * Rule4: DMDBVar Macro ;
3083277    *------------------------------------------------------------* ;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------* ;
3083278    %macro DMDBVar;
3083279        AcceptedCmpTotal Age Frq Income Kidhome MntFishProducts MntFruits MntGoldProds
3083280       MntSweetProducts MonthsAsCustomer NumDealsPurchases NumWebVisitsMonth RFMstat
3083281       RMntFrq Recency Teenhome
3083282    %mend DMDBVar;
3083283    *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
3083284    * Rule4: Create DMDB;
MPRINT(EM_DIAGRAM):   * Rule4: Create DMDB;
3083285    *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
3083286    proc dmdb batch data=WORK.EM_DMREG
3083287    dmdbcat=WORK.Rule4_DMDB
3083288    maxlevel = 513
3083289    ;
MPRINT(EM_DIAGRAM):   proc dmdb batch data=WORK.EM_DMREG dmdbcat=WORK.Rule4_DMDB maxlevel = 
513 ;
3083290    class %DMDBClass;
MPRINT(EM_DIAGRAM):   class
MPRINT(DMDBCLASS):   AcceptedCmp1(ASC) AcceptedCmp2(ASC) AcceptedCmp3(ASC) AcceptedCmp4(ASC) 
AcceptedCmp5(ASC) Complain(ASC) DepVar(ASC) Education(ASC) HigherEducationBinary(ASC) 
Marital_Status(ASC) _bin(DESC)
MPRINT(EM_DIAGRAM):  ;
3083291    var %DMDBVar;
MPRINT(EM_DIAGRAM):   var
MPRINT(DMDBVAR):   AcceptedCmpTotal Age Frq Income Kidhome MntFishProducts MntFruits 
MntGoldProds MntSweetProducts MonthsAsCustomer NumDealsPurchases NumWebVisitsMonth RFMstat 
RMntFrq Recency Teenhome
MPRINT(EM_DIAGRAM):  ;
3083292    target
3083293    _bin
3083294    ;
MPRINT(EM_DIAGRAM):   target _bin ;
3083295    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: Records processed = 2374   Memory used = 511K.
NOTE: View WORK.EM_DMREG.VIEW used (Total process time):
      real time           0.02 seconds
      cpu time            0.03 seconds
      
NOTE: There were 2374 observations read from the data set WORK._TRAIN.
NOTE: There were 2374 observations read from the data set WORK.EM_DMREG.
NOTE: PROCEDURE DMDB used (Total process time):
      real time           0.03 seconds
      cpu time            0.03 seconds
      

MPRINT(EM_DIAGRAM):   quit;
MPRINT(EM_DIAGRAM):   *--- end code ---*;
3083296    quit;
3083297    *--- end code ---*;

3083298    *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):    *------------------------------------------------------------*;
3083299    * Rule4: Run DMREG procedure;
MPRINT(EM_DIAGRAM):   * Rule4: Run DMREG procedure;
3083300    *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
3083301    proc dmreg data=EM_DMREG dmdbcat=WORK.Rule4_DMDB
3083302    validata = work._valid
3083303    outest = WORK.DMREG_04JTLRA_OUTEST
3083304    outterms = WORK.DMREG_04JTLRA_OUTTERMS
3083305    outmap= WORK.DMREG_04JTLRA_MAP namelen=200
3083306    ;
MPRINT(EM_DIAGRAM):   proc dmreg data=EM_DMREG dmdbcat=WORK.Rule4_DMDB validata = work._valid 
outest = WORK.DMREG_04JTLRA_OUTEST outterms = WORK.DMREG_04JTLRA_OUTTERMS outmap= 
WORK.DMREG_04JTLRA_MAP namelen=200 ;
3083307    class
3083308    _bin
3083309    AcceptedCmp1
3083310    AcceptedCmp2
3083311    AcceptedCmp3
3083312    AcceptedCmp4
3083313    AcceptedCmp5
3083314    Complain
3083315    Education
3083316    HigherEducationBinary
3083317    Marital_Status
3083318    ;
MPRINT(EM_DIAGRAM):   class _bin AcceptedCmp1 AcceptedCmp2 AcceptedCmp3 AcceptedCmp4 
AcceptedCmp5 Complain Education HigherEducationBinary Marital_Status ;
3083319    model _bin =
3083320    AcceptedCmp1
3083321    AcceptedCmp2
3083322    AcceptedCmp3
3083323    AcceptedCmp4
3083324    AcceptedCmp5
3083325    AcceptedCmpTotal
3083326    Age
3083327    Complain
3083328    Education
3083329    Frq
3083330    HigherEducationBinary
3083331    Income
3083332    Kidhome
3083333    Marital_Status
3083334    MntFishProducts
3083335    MntFruits
3083336    MntGoldProds
3083337    MntSweetProducts
3083338    MonthsAsCustomer
3083339    NumDealsPurchases
3083340    NumWebVisitsMonth
3083341    RFMstat
3083342    RMntFrq
3083343    Recency
3083344    Teenhome
3083345    /error=binomial link=LOGIT
3083346    coding=DEVIATION
3083347    nodesignprint
3083348    ;
MPRINT(EM_DIAGRAM):   model _bin = AcceptedCmp1 AcceptedCmp2 AcceptedCmp3 AcceptedCmp4 
AcceptedCmp5 AcceptedCmpTotal Age Complain Education Frq HigherEducationBinary Income Kidhome 
Marital_Status MntFishProducts MntFruits MntGoldProds MntSweetProducts MonthsAsCustomer 
NumDealsPurchases NumWebVisitsMonth RFMstat RMntFrq Recency Teenhome /error=binomial 
link=LOGIT coding=DEVIATION nodesignprint ;
3083349    ;
MPRINT(EM_DIAGRAM):   ;
3083350    score data=_train
3083351    out=_ptrain(label="")
3083352    ;
MPRINT(EM_DIAGRAM):   score data=_train out=_ptrain(label="") ;
3083353    score data=_valid
3083354    out=_pvalid(label="")
3083355    ;
MPRINT(EM_DIAGRAM):   score data=_valid out=_pvalid(label="") ;
3083356    code file="C:\Users\LUKASF~1\AppData\Local\Temp\SAS Temporary
3083356  ! Files\_TD9752_WN7LF-LEAVE_\Prc2\BIN1.sas"
3083357    group=Rule4_1
3083358    ;
MPRINT(EM_DIAGRAM):   code file="C:\Users\LUKASF~1\AppData\Local\Temp\SAS Temporary 
Files\_TD9752_WN7LF-LEAVE_\Prc2\BIN1.sas" group=Rule4_1 ;
3083359    code file="C:\Users\LUKASF~1\AppData\Local\Temp\SAS Temporary
3083359  ! Files\_TD9752_WN7LF-LEAVE_\Prc2\BIN1_res.sas"
3083360    group=Rule4_1
3083361    residual
3083362    ;
MPRINT(EM_DIAGRAM):   code file="C:\Users\LUKASF~1\AppData\Local\Temp\SAS Temporary 
Files\_TD9752_WN7LF-LEAVE_\Prc2\BIN1_res.sas" group=Rule4_1 residual ;
3083363    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: Variable _WARN_ already exists on file WORK._PTRAIN, using _WARN_2 instead.
NOTE: Variable _WARN_ already exists on file WORK._PVALID, using _WARN_2 instead.

NOTE: PROC DMREG is modeling the probability that _bin='1'.
NOTE: Convergence criterion (GCONV=1E-6) satisfied.
NOTE: External file C:\Users\LUKASF~1\AppData\Local\Temp\SAS Temporary 
      Files\_TD9752_WN7LF-LEAVE_\Prc2\BIN1.sas opened.
NOTE: External file C:\Users\LUKASF~1\AppData\Local\Temp\SAS Temporary 
      Files\_TD9752_WN7LF-LEAVE_\Prc2\BIN1_res.sas opened.
NOTE: View WORK.EM_DMREG.VIEW used (Total process time):
      real time           0.24 seconds
      cpu time            0.21 seconds
      
NOTE: There were 2374 observations read from the data set WORK._TRAIN.
NOTE: There were 2374 observations read from the data set WORK.EM_DMREG.
NOTE: There were 1018 observations read from the data set WORK._VALID.
NOTE: There were 2374 observations read from the data set WORK._TRAIN.
NOTE: There were 1018 observations read from the data set WORK._VALID.
NOTE: The data set WORK.DMREG_04JTLRA_OUTEST has 3 observations and 66 variables.
NOTE: The data set WORK.DMREG_04JTLRA_OUTTERMS has 32 observations and 6 variables.
NOTE: The data set WORK.DMREG_04JTLRA_MAP has 2 observations and 33 variables.
NOTE: The data set WORK._PTRAIN has 2374 observations and 69 variables.
NOTE: The data set WORK._PVALID has 1018 observations and 70 variables.
NOTE: The PROCEDURE DMREG printed pages 2790-2791.
NOTE: PROCEDURE DMREG used (Total process time):
      real time           0.26 seconds
      cpu time            0.23 seconds
      

MPRINT(EM_DIAGRAM):   quit;
3083364    quit;

3083365    proc datasets lib=WORK nolist;
MPRINT(EM_DIAGRAM):    proc datasets lib=WORK nolist;
3083366    delete Rule4_DMDB;
MPRINT(EM_DIAGRAM):   delete Rule4_DMDB;
3083367    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: The file WORK.RULE4_DMDB (memtype=DATA) was not found, but appears on a DELETE statement.
3083368    quit;
MPRINT(EM_DIAGRAM):   quit;

NOTE: PROCEDURE DATASETS used (Total process time):
      real time           0.06 seconds
      cpu time            0.06 seconds
      

3083369    proc datasets lib=WORK nolist;
MPRINT(EM_DIAGRAM):    proc datasets lib=WORK nolist;
3083370    delete Rule4_DMDB / memtype=catalog;
MPRINT(EM_DIAGRAM):   delete Rule4_DMDB / memtype=catalog;
3083371    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: Deleting WORK.RULE4_DMDB (memtype=CATALOG).
3083372    quit;
MPRINT(EM_DIAGRAM):   quit;

NOTE: PROCEDURE DATASETS used (Total process time):
      real time           0.05 seconds
      cpu time            0.04 seconds
      

3083373    * BINARY: Training Classification;
MPRINT(EM_DIAGRAM):    * BINARY: Training Classification;
3083374    ;
MPRINT(EM_DIAGRAM):   ;
3083375    proc freq data = _ptrain noprint;
MPRINT(EM_DIAGRAM):   proc freq data = _ptrain noprint;
3083376    tables F__bin * I__bin / out = _count;
MPRINT(EM_DIAGRAM):   tables F__bin * I__bin / out = _count;
3083377    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 2374 observations read from the data set WORK._PTRAIN.
NOTE: The data set WORK._COUNT has 4 observations and 4 variables.
NOTE: PROCEDURE FREQ used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

3083378    data _count;
MPRINT(EM_DIAGRAM):   data _count;
3083379    set _count;
MPRINT(EM_DIAGRAM):   set _count;
3083380    label count = "%sysfunc(sasmsg(sashelp.dmine, rpt_traincount_vlabel, NOQUOTE))";
MPRINT(EM_DIAGRAM):   label count = "Train Count";
3083381    label percent = "%sysfunc(sasmsg(sashelp.dmine, rpt_trainpercent_vlabel, NOQUOTE))";
MPRINT(EM_DIAGRAM):   label percent = "Train Percent";
3083382    label F__bin = "%sysfunc(sasmsg(sashelp.dmine, rpt_from_vlabel, NOQUOTE))";
MPRINT(EM_DIAGRAM):   label F__bin = "From";
3083383    label I__bin = "%sysfunc(sasmsg(sashelp.dmine, rpt_into_vlabel, NOQUOTE))";
MPRINT(EM_DIAGRAM):   label I__bin = "Into";
3083384    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 4 observations read from the data set WORK._COUNT.
NOTE: The data set WORK._COUNT has 4 observations and 4 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

MPRINT(EM_DIAGRAM):   * BINARY: Validation Classification;
MPRINT(EM_DIAGRAM):   ;
3083385    * BINARY: Validation Classification;
3083386    ;
3083387    proc freq data = _pvalid noprint;
MPRINT(EM_DIAGRAM):   proc freq data = _pvalid noprint;
3083388    tables f__bin * i__bin / out=_vcount;
MPRINT(EM_DIAGRAM):   tables f__bin * i__bin / out=_vcount;
3083389    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 1018 observations read from the data set WORK._PVALID.
NOTE: The data set WORK._VCOUNT has 4 observations and 4 variables.
NOTE: PROCEDURE FREQ used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

3083390    data _vcount;
MPRINT(EM_DIAGRAM):   data _vcount;
3083391    set _vcount;
MPRINT(EM_DIAGRAM):   set _vcount;
3083392    length key $64;
MPRINT(EM_DIAGRAM):   length key $64;
3083393    label count = "%sysfunc(sasmsg(sashelp.dmine, rpt_validcount_vlabel, NOQUOTE))";
MPRINT(EM_DIAGRAM):   label count = "Valid Count";
3083394    label percent = "%sysfunc(sasmsg(sashelp.dmine, rpt_validpercent_vlabel, NOQUOTE))";
MPRINT(EM_DIAGRAM):   label percent = "Valid Percent";
3083395    label f__bin = "%sysfunc(sasmsg(sashelp.dmine, rpt_from_vlabel, NOQUOTE))";
MPRINT(EM_DIAGRAM):   label f__bin = "From";
3083396    label i__bin = "%sysfunc(sasmsg(sashelp.dmine, rpt_into_vlabel, NOQUOTE))";
MPRINT(EM_DIAGRAM):   label i__bin = "Into";
3083397    rename count = vcount;
MPRINT(EM_DIAGRAM):   rename count = vcount;
3083398    rename percent= vpercent;
MPRINT(EM_DIAGRAM):   rename percent= vpercent;
3083399    key = ktrim(kleft(f__bin) !! '_' !! ktrim(kleft(i__bin)));
MPRINT(EM_DIAGRAM):   key = ktrim(kleft(f__bin) !! '_' !! ktrim(kleft(i__bin)));
3083400    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 4 observations read from the data set WORK._VCOUNT.
NOTE: The data set WORK._VCOUNT has 4 observations and 5 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

MPRINT(EM_DIAGRAM):   *;
3083401    *;
3083402    data _count;
MPRINT(EM_DIAGRAM):   data _count;
3083403    set _count;
MPRINT(EM_DIAGRAM):   set _count;
3083404    length key $64;
MPRINT(EM_DIAGRAM):   length key $64;
3083405    key = ktrim(kleft(f__bin) !! '_' !! ktrim(kleft(i__bin)));
MPRINT(EM_DIAGRAM):   key = ktrim(kleft(f__bin) !! '_' !! ktrim(kleft(i__bin)));
3083406    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 4 observations read from the data set WORK._COUNT.
NOTE: The data set WORK._COUNT has 4 observations and 5 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

MPRINT(EM_DIAGRAM):   * Merge Train and Valid classification;
MPRINT(EM_DIAGRAM):   ;
3083407    * Merge Train and Valid classification;
3083408    ;
3083409    proc sort data=_count;
MPRINT(EM_DIAGRAM):   proc sort data=_count;
3083410    by key;
MPRINT(EM_DIAGRAM):   by key;
3083411    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 4 observations read from the data set WORK._COUNT.
NOTE: The data set WORK._COUNT has 4 observations and 5 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

3083412    proc sort data=_vcount;
MPRINT(EM_DIAGRAM):   proc sort data=_vcount;
3083413    by key;
MPRINT(EM_DIAGRAM):   by key;
3083414    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 4 observations read from the data set WORK._VCOUNT.
NOTE: The data set WORK._VCOUNT has 4 observations and 5 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

MPRINT(EM_DIAGRAM):   *;
3083415    *;
3083416    data _count;
MPRINT(EM_DIAGRAM):   data _count;
3083417    merge _count _vcount;
MPRINT(EM_DIAGRAM):   merge _count _vcount;
3083418    by key;
MPRINT(EM_DIAGRAM):   by key;
3083419    drop key;
MPRINT(EM_DIAGRAM):   drop key;
3083420    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 4 observations read from the data set WORK._COUNT.
NOTE: There were 4 observations read from the data set WORK._VCOUNT.
NOTE: The data set WORK._COUNT has 4 observations and 6 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

MPRINT(EM_DIAGRAM):   *BINARY: Print Classification;
MPRINT(EM_DIAGRAM):   ;
3083421    *BINARY: Print Classification;
3083422    ;
3083423    title9 "%sysfunc(sasmsg(sashelp.dmine, rpt_binmodel_title, NOQUOTE, DepVar,
3083423  ! %nrbquote(0)))";
MPRINT(EM_DIAGRAM):   title9 "Binary Model DepVar = 0";
3083424    title10 "%sysfunc(sasmsg(sashelp.dmine, rpt_classification_title, NOQUOTE))";
MPRINT(EM_DIAGRAM):   title10 "Classification Table";
3083425    proc print data = _count noobs label;
MPRINT(EM_DIAGRAM):   proc print data = _count noobs label;
3083426    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 4 observations read from the data set WORK._COUNT.
NOTE: The PROCEDURE PRINT printed page 2792.
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

3083427    title9;
MPRINT(EM_DIAGRAM):   title9;
3083428    title10;
MPRINT(EM_DIAGRAM):   title10;
3083429    * Extract misfit training values;
MPRINT(EM_DIAGRAM):    * Extract misfit training values;
3083430    ;
MPRINT(EM_DIAGRAM):   ;
3083431    data _ptrain;
MPRINT(EM_DIAGRAM):   data _ptrain;
3083432    set _ptrain;
MPRINT(EM_DIAGRAM):   set _ptrain;
3083433    if not ( I__bin eq '1' and F__bin eq '1') then output;
MPRINT(EM_DIAGRAM):   if not ( I__bin eq '1' and F__bin eq '1') then output;
3083434    keep
3083435    AcceptedCmp1
3083436    AcceptedCmp2
3083437    AcceptedCmp3
3083438    AcceptedCmp4
3083439    AcceptedCmp5
3083440    AcceptedCmpTotal
3083441    Age
3083442    Complain
3083443    Education
3083444    Frq
3083445    HigherEducationBinary
3083446    Income
3083447    Kidhome
3083448    Marital_Status
3083449    MntFishProducts
3083450    MntFruits
3083451    MntGoldProds
3083452    MntSweetProducts
3083453    MonthsAsCustomer
3083454    NumDealsPurchases
3083455    NumWebVisitsMonth
3083456    RFMstat
3083457    RMntFrq
3083458    Recency
3083459    Teenhome
3083460    DepVar;
MPRINT(EM_DIAGRAM):   keep AcceptedCmp1 AcceptedCmp2 AcceptedCmp3 AcceptedCmp4 AcceptedCmp5 
AcceptedCmpTotal Age Complain Education Frq HigherEducationBinary Income Kidhome 
Marital_Status MntFishProducts MntFruits MntGoldProds MntSweetProducts MonthsAsCustomer 
NumDealsPurchases NumWebVisitsMonth RFMstat RMntFrq Recency Teenhome DepVar;
3083461    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 2374 observations read from the data set WORK._PTRAIN.
NOTE: The data set WORK._PTRAIN has 417 observations and 26 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

MPRINT(EM_DIAGRAM):   * Extract misfit validation values;
MPRINT(EM_DIAGRAM):   ;
3083462    * Extract misfit validation values;
3083463    ;
3083464    data _pvalid;
MPRINT(EM_DIAGRAM):   data _pvalid;
3083465    set _pvalid;
MPRINT(EM_DIAGRAM):   set _pvalid;
3083466    if not (I__bin eq '1' and F__bin eq '1') then output;
MPRINT(EM_DIAGRAM):   if not (I__bin eq '1' and F__bin eq '1') then output;
3083467    keep
3083468    AcceptedCmp1
3083469    AcceptedCmp2
3083470    AcceptedCmp3
3083471    AcceptedCmp4
3083472    AcceptedCmp5
3083473    AcceptedCmpTotal
3083474    Age
3083475    Complain
3083476    Education
3083477    Frq
3083478    HigherEducationBinary
3083479    Income
3083480    Kidhome
3083481    Marital_Status
3083482    MntFishProducts
3083483    MntFruits
3083484    MntGoldProds
3083485    MntSweetProducts
3083486    MonthsAsCustomer
3083487    NumDealsPurchases
3083488    NumWebVisitsMonth
3083489    RFMstat
3083490    RMntFrq
3083491    Recency
3083492    Teenhome
3083493    DepVar;
MPRINT(EM_DIAGRAM):   keep AcceptedCmp1 AcceptedCmp2 AcceptedCmp3 AcceptedCmp4 AcceptedCmp5 
AcceptedCmpTotal Age Complain Education Frq HigherEducationBinary Income Kidhome 
Marital_Status MntFishProducts MntFruits MntGoldProds MntSweetProducts MonthsAsCustomer 
NumDealsPurchases NumWebVisitsMonth RFMstat RMntFrq Recency Teenhome DepVar;
3083494    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 1018 observations read from the data set WORK._PVALID.
NOTE: The data set WORK._PVALID has 180 observations and 26 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

3083495    * Create training data set with binary target for modeling;
MPRINT(EM_DIAGRAM):    * Create training data set with binary target for modeling;
3083496    ;
MPRINT(EM_DIAGRAM):   ;
3083497    data _ptrain;
MPRINT(EM_DIAGRAM):   data _ptrain;
3083498    length _bin $12;
MPRINT(EM_DIAGRAM):   length _bin $12;
3083499    set _ptrain;
MPRINT(EM_DIAGRAM):   set _ptrain;
3083500    _tmp=putn(DepVar, 'best.');
MPRINT(EM_DIAGRAM):   _tmp=putn(DepVar, 'best.');
3083501    %DMNORMIP(_tmp);
MPRINT(DMNORMIP):   call dmnorm(_tmp,
MPRINT(DMNORLEN):  32
MPRINT(DMNORMIP):  );
MPRINT(EM_DIAGRAM):  ;
3083502    _tmpLevel = '1';
MPRINT(EM_DIAGRAM):   _tmpLevel = '1';
3083503    %DMNORMCP(_tmpLevel, _tmpLevel);
MPRINT(DMNORMCP):   _tmpLevel=dmnorm(_tmpLevel,
MPRINT(DMNORLEN):  32
MPRINT(DMNORMCP):  );
MPRINT(EM_DIAGRAM):  ;
3083504    if _tmp eq _tmpLevel then _bin = '1';
MPRINT(EM_DIAGRAM):   if _tmp eq _tmpLevel then _bin = '1';
3083505    else _bin = '0';
MPRINT(EM_DIAGRAM):   else _bin = '0';
3083506    drop _tmp _tmpLevel
3083507    ;
MPRINT(EM_DIAGRAM):   drop _tmp _tmpLevel ;
3083508    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 417 observations read from the data set WORK._PTRAIN.
NOTE: The data set WORK._PTRAIN has 417 observations and 27 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

3083509    * Create validation data set with binary target for modeling;
MPRINT(EM_DIAGRAM):    * Create validation data set with binary target for modeling;
3083510    ;
MPRINT(EM_DIAGRAM):   ;
3083511    data _pvalid;
MPRINT(EM_DIAGRAM):   data _pvalid;
3083512    length _bin $12;
MPRINT(EM_DIAGRAM):   length _bin $12;
3083513    set _pvalid;
MPRINT(EM_DIAGRAM):   set _pvalid;
3083514    _tmp = putn(DepVar, 'best.');
MPRINT(EM_DIAGRAM):   _tmp = putn(DepVar, 'best.');
3083515    %DMNORMIP(_TMP);
MPRINT(DMNORMIP):   call dmnorm(_TMP,
MPRINT(DMNORLEN):  32
MPRINT(DMNORMIP):  );
MPRINT(EM_DIAGRAM):  ;
3083516    _tmpLevel = '1';
MPRINT(EM_DIAGRAM):   _tmpLevel = '1';
3083517    %DMNORMCP(_tmpLevel, _tmpLevel);
MPRINT(DMNORMCP):   _tmpLevel=dmnorm(_tmpLevel,
MPRINT(DMNORLEN):  32
MPRINT(DMNORMCP):  );
MPRINT(EM_DIAGRAM):  ;
3083518    if _tmp eq _tmpLevel then _bin = '1';
MPRINT(EM_DIAGRAM):   if _tmp eq _tmpLevel then _bin = '1';
3083519    else _bin = '0';
MPRINT(EM_DIAGRAM):   else _bin = '0';
3083520    drop _tmp
3083521    ;
MPRINT(EM_DIAGRAM):   drop _tmp ;
3083522    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 180 observations read from the data set WORK._PVALID.
NOTE: The data set WORK._PVALID has 180 observations and 28 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

3083523    data _train;
MPRINT(EM_DIAGRAM):    data _train;
3083524    set _ptrain;
MPRINT(EM_DIAGRAM):   set _ptrain;
3083525    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 417 observations read from the data set WORK._PTRAIN.
NOTE: The data set WORK._TRAIN has 417 observations and 27 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

3083526    data _valid;
MPRINT(EM_DIAGRAM):   data _valid;
3083527    set _pvalid;
MPRINT(EM_DIAGRAM):   set _pvalid;
3083528    options validvarname=any;
MPRINT(EM_DIAGRAM):   options validvarname=any;
3083529    proc contents data=work._train out=_tempAdvisor noprint;

NOTE: There were 180 observations read from the data set WORK._PVALID.
NOTE: The data set WORK._VALID has 180 observations and 28 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

MPRINT(EM_DIAGRAM):   proc contents data=work._train out=_tempAdvisor noprint;
3083530    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: The data set WORK._TEMPADVISOR has 27 observations and 40 variables.
NOTE: PROCEDURE CONTENTS used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

3083531    options validvarname=V7;
MPRINT(EM_DIAGRAM):   options validvarname=V7;
3083532    %let _dsidTable = 0;
3083533    %let _engineTable =;
3083534    data _null_;
MPRINT(EM_DIAGRAM):    data _null_;
3083535    dsid = open('work._train');
MPRINT(EM_DIAGRAM):   dsid = open('work._train');
3083536    call symput('_dsidTable', strip(put(dsid, best.)));
MPRINT(EM_DIAGRAM):   call symput('_dsidTable', strip(put(dsid, best.)));
3083537    if dsid then do;
MPRINT(EM_DIAGRAM):   if dsid then do;
3083538    call symput('_engineTable', attrc(dsid, 'ENGINE'));
MPRINT(EM_DIAGRAM):   call symput('_engineTable', attrc(dsid, 'ENGINE'));
3083539    dsid = close(dsid);
MPRINT(EM_DIAGRAM):   dsid = close(dsid);
3083540    end;
MPRINT(EM_DIAGRAM):   end;
3083541    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

3083542    options fmterr;
MPRINT(EM_DIAGRAM):    options fmterr;
3083543    data _metaTestView;
MPRINT(EM_DIAGRAM):   data _metaTestView;
3083544    set work._train;
MPRINT(EM_DIAGRAM):   set work._train;
3083545    if _N_=1 then do;
MPRINT(EM_DIAGRAM):   if _N_=1 then do;
3083546    output;
MPRINT(EM_DIAGRAM):   output;
3083547    stop;
MPRINT(EM_DIAGRAM):   stop;
3083548    end;
MPRINT(EM_DIAGRAM):   end;
3083549    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 1 observations read from the data set WORK._TRAIN.
NOTE: The data set WORK._METATESTVIEW has 1 observations and 27 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

3083550    proc contents data=work._train
3083551    out=WORK.M3HJJ82Q noprint;
MPRINT(EM_DIAGRAM):    proc contents data=work._train out=WORK.M3HJJ82Q noprint;
3083552    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: The data set WORK.M3HJJ82Q has 27 observations and 40 variables.
NOTE: PROCEDURE CONTENTS used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

3083553    data WORK.M3HJJ82Q;
MPRINT(EM_DIAGRAM):    data WORK.M3HJJ82Q;
3083554    length NAME $ 64 TYPE $ 1 LABEL $ 200 FORMAT $ 20 INFORMAT $20 INDEX $ 1 INDEXTYPE $
3083554  !  9;
MPRINT(EM_DIAGRAM):   length NAME $ 64 TYPE $ 1 LABEL $ 200 FORMAT $ 20 INFORMAT $20 INDEX $ 1 
INDEXTYPE $ 9;
3083555    label NAME =;
MPRINT(EM_DIAGRAM):   label NAME =;
3083556    set WORK.M3HJJ82Q(keep=name type length label format formatl formatd informat
3083556  ! informl informd idxusage rename=(type=itype));
MPRINT(EM_DIAGRAM):   set WORK.M3HJJ82Q(keep=name type length label format formatl formatd 
informat informl informd idxusage rename=(type=itype));
3083557    if itype = 1 then type = 'N';
MPRINT(EM_DIAGRAM):   if itype = 1 then type = 'N';
3083558    else type = 'C';
MPRINT(EM_DIAGRAM):   else type = 'C';
3083559    if formatl > 0 then do;
MPRINT(EM_DIAGRAM):   if formatl > 0 then do;
3083560    if format ne ' ' then format = strip(format)!!strip(put(formatl,
3083560  ! best12.))!!'.'!!strip(put(formatd, best12.));
MPRINT(EM_DIAGRAM):   if format ne ' ' then format = strip(format)!!strip(put(formatl, 
best12.))!!'.'!!strip(put(formatd, best12.));
3083561    else format = strip(put(formatl, best12.))!!'.'!!strip(put(formatd, best12.));
MPRINT(EM_DIAGRAM):   else format = strip(put(formatl, best12.))!!'.'!!strip(put(formatd, 
best12.));
3083562    end;
MPRINT(EM_DIAGRAM):   end;
3083563    else if format ne '' then format = strip(format)!!'.';
MPRINT(EM_DIAGRAM):   else if format ne '' then format = strip(format)!!'.';
3083564    if informl > 0 then do;
MPRINT(EM_DIAGRAM):   if informl > 0 then do;
3083565    if informat ne ' ' then informat = strip(informat)!!strip(put(informl,
3083565  ! best12.))!!'.'!!strip(put(informd, best12.));
MPRINT(EM_DIAGRAM):   if informat ne ' ' then informat = strip(informat)!!strip(put(informl, 
best12.))!!'.'!!strip(put(informd, best12.));
3083566    else informat = strip(put(informl, best12.))!!'.'!!strip(put(informd, best12.));
MPRINT(EM_DIAGRAM):   else informat = strip(put(informl, best12.))!!'.'!!strip(put(informd, 
best12.));
3083567    end;
MPRINT(EM_DIAGRAM):   end;
3083568    else if informat ne '' then informat = strip(informat)!!'.';
MPRINT(EM_DIAGRAM):   else if informat ne '' then informat = strip(informat)!!'.';
3083569    if idxusage = 'NONE' then index ="N";
MPRINT(EM_DIAGRAM):   if idxusage = 'NONE' then index ="N";
3083570    else index = "Y";
MPRINT(EM_DIAGRAM):   else index = "Y";
3083571    indextype = idxusage;
MPRINT(EM_DIAGRAM):   indextype = idxusage;
3083572    drop idxusage itype formatl formatd informl informd;
MPRINT(EM_DIAGRAM):   drop idxusage itype formatl formatd informl informd;
3083573    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 27 observations read from the data set WORK.M3HJJ82Q.
NOTE: The data set WORK.M3HJJ82Q has 27 observations and 8 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

3083574    data WORK.M3HJJ82Q;
MPRINT(EM_DIAGRAM):    data WORK.M3HJJ82Q;
3083575    length UNAME $64;
MPRINT(EM_DIAGRAM):   length UNAME $64;
3083576    set WORK.M3HJJ82Q;
MPRINT(EM_DIAGRAM):   set WORK.M3HJJ82Q;
3083577    UNAME = upcase(NAME);
MPRINT(EM_DIAGRAM):   UNAME = upcase(NAME);
3083578    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 27 observations read from the data set WORK.M3HJJ82Q.
NOTE: The data set WORK.M3HJJ82Q has 27 observations and 9 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

MPRINT(EM_DIAGRAM):    proc sort data=WORK.M36U6WCM NOTHREADS;
MPRINT(EM_DIAGRAM):   by UNAME;
MPRINT(EM_DIAGRAM):   run;
3083582    data WORK.M36U6WCM;
MPRINT(EM_DIAGRAM):    data WORK.M36U6WCM;
3083583    drop UNAME;
MPRINT(EM_DIAGRAM):   drop UNAME;
3083584    set WORK.M36U6WCM;
MPRINT(EM_DIAGRAM):   set WORK.M36U6WCM;
3083585    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 27 observations read from the data set WORK.M36U6WCM.
NOTE: The data set WORK.M36U6WCM has 27 observations and 8 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

MPRINT(EM_DIAGRAM):    data WORK.M3DNS37Y(keep=NAME ATTR);
MPRINT(EM_DIAGRAM):   length ATTR $ 20;
MPRINT(EM_DIAGRAM):   set WORK.M36U6WCM;
MPRINT(EM_DIAGRAM):   if level ne "INTERVAL" then do;
MPRINT(EM_DIAGRAM):   if order = ' ' then do;
MPRINT(EM_DIAGRAM):   attr = 'ORDER';
MPRINT(EM_DIAGRAM):   output;
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   if format ne ' ' and formattype = ' ' then do;
MPRINT(EM_DIAGRAM):   attr = 'FORMATTYPE';
MPRINT(EM_DIAGRAM):   output;
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   if role = ' ' then do;
MPRINT(EM_DIAGRAM):   attr = 'ROLE';
MPRINT(EM_DIAGRAM):   output;
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   if level = ' ' then do;
MPRINT(EM_DIAGRAM):   attr = 'LEVEL';
MPRINT(EM_DIAGRAM):   output;
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   if type = ' ' then do;
MPRINT(EM_DIAGRAM):   attr = 'TYPE';
MPRINT(EM_DIAGRAM):   output;
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   if index = ' ' then do;
MPRINT(EM_DIAGRAM):   attr = 'INDEX';
MPRINT(EM_DIAGRAM):   output;
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   if report = ' ' then do;
MPRINT(EM_DIAGRAM):   attr = 'REPORT';
MPRINT(EM_DIAGRAM):   output;
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   run;
MPRINT(EM_DIAGRAM):   proc sort NOTHREADS;
MPRINT(EM_DIAGRAM):   by attr;
MPRINT(EM_DIAGRAM):   run;
MPRINT(EM_DIAGRAM):    data WORK.M36U6WCM;
MPRINT(EM_DIAGRAM):   length NAME $64 ROLE $ 32 LEVEL $ 10 ORDER $ 8 CREATOR $32 FORMATTYPE $ 
10 FAMILY $ 10 LOWERLIMIT 8 UPPERLIMIT 8 REPORT $1 DISTRIBUTION $ 20 COMMENT $64;
MPRINT(EM_DIAGRAM):   length levelAssigned 8 roleAssigned 8 PRICE 8;
MPRINT(EM_DIAGRAM):   set WORK.M36U6WCM;
MPRINT(EM_DIAGRAM):   if formattype = ' ' then do;
MPRINT(EM_DIAGRAM):   if format ne ' ' then do;
MPRINT(EM_DIAGRAM):   if type = 'N' then do;
MPRINT(EM_DIAGRAM):   pos = indexc(format,'.1234567890');
MPRINT(EM_DIAGRAM):   if pos > 1 then tempfmt = substr(format,1, pos-1);
MPRINT(EM_DIAGRAM):   else tempfmt = ' ';
MPRINT(EM_DIAGRAM):   flen = length(tempfmt);
MPRINT(EM_DIAGRAM):   select;
MPRINT(EM_DIAGRAM):   when(tempfmt in ("DATE" "DAY" "DDMMYY" "DOWNAME" "JULDAY" "JULIAN" 
"MMDDYY" "MMDDYYD" "MMDDYYC" "MMDDYYN" "MMDDYYP" "MMDDYYS" "MONNAME" "MONTH" "MONYY" "NENGO" 
"QTR" "QTRR" "WEEKDATE" "WEEKDATX" "WEEKDAY" "WORDDATE" "WORDDATX" "YEAR" "YYMMDD" "YYMON" 
"YYMMDDC" "YYMMDDD" "YYMMDDN" "YYMMDDP" "YYMMDDS" "EURDFDE" "NJDATE" "NLDATE" "EURDFDD" 
"EURDFDWN" "EURDFMN" "EURDFMY" "EURDFWK" "EURDFWKX" "EURDFWDX" "EURDFDN" "EURDFDE" )) 
formattype = 'DATE';
MPRINT(EM_DIAGRAM):   when(tempfmt in ("DATETIME" "EURDFDT" "TOD" )) formattype = "DATETIME";
MPRINT(EM_DIAGRAM):   when(tempfmt in ("HHMM" "HOUR" "MMSS" "TIME" "TIMEAMPM" )) formattype = 
"TIME";
MPRINT(EM_DIAGRAM):   when(tempfmt in ("COMMA" "COMMAX" "DOLLAR" "DOLLARX" "E" "FRACT" 
"NEGPAREN" "PERCENT")) formattype="QUANTITY";
MPRINT(EM_DIAGRAM):   when(tempfmt in ("BINARY" "HEX" "IB" "OCTAL" "PD" "PIB" "PK" "RB" "SSN" 
"Z" "ZD")) formattype = "CODING";
MPRINT(EM_DIAGRAM):   otherwise do;
MPRINT(EM_DIAGRAM):   formattype = "USER";
MPRINT(EM_DIAGRAM):   if substr(tempfmt, 1, 6)='NLDATE' then formattype = "DATE";
MPRINT(EM_DIAGRAM):   else if substr(tempfmt, 1, 6)='NLDATM' then formattype = "DATETIME";
MPRINT(EM_DIAGRAM):   else if substr(tempfmt, 1, 4)='NLTIM' then formattype = "TIME";
MPRINT(EM_DIAGRAM):   else if flen >= 4 then do;
MPRINT(EM_DIAGRAM):   str = substr(tempfmt,1,4);
MPRINT(EM_DIAGRAM):   if str in ("MMYY" "YYMM" "YYQR") then formattype ="DATE";
MPRINT(EM_DIAGRAM):   else if str = "S370" then formattype = "CODING";
MPRINT(EM_DIAGRAM):   else if str = "BEST" then formattype = "NUM";
MPRINT(EM_DIAGRAM):   drop str;
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   else if flen >=3 and substr(tempfmt,1,3) = "YYQ" then formatType = 
"DATE";
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   drop flen tempfmt pos;
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   else do;
MPRINT(EM_DIAGRAM):   formatType = "CATEGORY";
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   if formatType = "NUM" then do;
MPRINT(EM_DIAGRAM):   if index = "Y" then formatType = "DISCRETE";
MPRINT(EM_DIAGRAM):   else formatType = "QUANTITY";
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   if level = ' ' then do;
MPRINT(EM_DIAGRAM):   if formatType in ("CATEGORY", "CODING", "ID") or type = "C" then level = 
"NOMINAL";
MPRINT(EM_DIAGRAM):   else level = "INTERVAL";
MPRINT(EM_DIAGRAM):   levelAssigned = 1;
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   else level = upcase(level);
MPRINT(EM_DIAGRAM):   if role = ' ' then do;
MPRINT(EM_DIAGRAM):   length name_prefix $8 _uname $64;
MPRINT(EM_DIAGRAM):   drop name_prefix _uname _freqflag;
MPRINT(EM_DIAGRAM):   retain _freqflag;
MPRINT(EM_DIAGRAM):   if LENGTH> 80 then ROLE = 'TEXT';
MPRINT(EM_DIAGRAM):   _uname = upcase(NAME);
MPRINT(EM_DIAGRAM):   select(_uname);
MPRINT(EM_DIAGRAM):   when('_WARN_') ROLE = 'ASSESS';
MPRINT(EM_DIAGRAM):   when('EM_SEGMENT') do;
MPRINT(EM_DIAGRAM):   ROLE = 'SEGMENT';
MPRINT(EM_DIAGRAM):   LEVEL = 'NOMINAL';
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   when('_NODE_') do;
MPRINT(EM_DIAGRAM):   ROLE = 'SEGMENT';
MPRINT(EM_DIAGRAM):   LEVEL = 'NOMINAL';
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   when('EM_CLASSTARGET') ROLE = 'ASSESS';
MPRINT(EM_DIAGRAM):   when('EM_VALUETARGET') ROLE = 'ASSESS';
MPRINT(EM_DIAGRAM):   when('EM_PREDICTION') ROLE = 'PREDICT';
MPRINT(EM_DIAGRAM):   when('EM_PROBABILITY') ROLE = 'PREDICT';
MPRINT(EM_DIAGRAM):   when('EM_EVENTPROBABILITY') ROLE = 'PREDICT';
MPRINT(EM_DIAGRAM):   when('EM_CLASSIFICATION') ROLE = 'CLASSIFICATION';
MPRINT(EM_DIAGRAM):   when('EM_DECISION') ROLE = 'DECISION';
MPRINT(EM_DIAGRAM):   when('EM_PROFIT') ROLE = 'ASSESS';
MPRINT(EM_DIAGRAM):   when('EM_LOSS') ROLE = 'ASSESS';
MPRINT(EM_DIAGRAM):   when('EM_ROI') ROLE = 'ASSESS';
MPRINT(EM_DIAGRAM):   when('URI') ROLE = 'URL';
MPRINT(EM_DIAGRAM):   when('FILTERED') ROLE = 'TEXTLOC';
MPRINT(EM_DIAGRAM):   otherwise do;
MPRINT(EM_DIAGRAM):   if upcase(NAME) =: 'ZIP' then do;
MPRINT(EM_DIAGRAM):   ROLE = 'REJECTED';
MPRINT(EM_DIAGRAM):   LEVEL = 'NOMINAL';
MPRINT(EM_DIAGRAM):   COMMENT = 'Rejected by: Exceed the maximum class level of %s';
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   else if upcase(NAME) in('FREQ', 'FREQUENCY') then do;
MPRINT(EM_DIAGRAM):   ROLE = 'FREQ';
MPRINT(EM_DIAGRAM):   if TYPE = 'C' then ROLE = 'INPUT';
MPRINT(EM_DIAGRAM):   else if _freqflag =1 then ROLE='REJECTED';
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   else do;
MPRINT(EM_DIAGRAM):   name_prefix = scan(_uname, 1, '_');
MPRINT(EM_DIAGRAM):   if scan(_uname, 2, '_') = '' then name_prefix='';
MPRINT(EM_DIAGRAM):   if name_prefix in('F', 'I', 'U') then do;
MPRINT(EM_DIAGRAM):   ROLE = 'CLASSIFICATION';
MPRINT(EM_DIAGRAM):   LEVEL = 'NOMINAL';
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   else if name_prefix in('P', 'V') then ROLE = 'PREDICT';
MPRINT(EM_DIAGRAM):   else if name_prefix in('R', 'RS', 'RT', 'RD', 'RDS', 'RDT', 'RA', 'RAS', 
'RAT') then ROLE = 'RESIDUAL';
MPRINT(EM_DIAGRAM):   else if name_prefix ='D' then do;
MPRINT(EM_DIAGRAM):   ROLE = 'DECISION';
MPRINT(EM_DIAGRAM):   LEVEL = 'NOMINAL';
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   else if name_prefix ='B' then do;
MPRINT(EM_DIAGRAM):   ROLE = 'SEGMENT';
MPRINT(EM_DIAGRAM):   LEVEL = 'NOMINAL';
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   else if name_prefix in('EP', 'BP', 'CP', 'EL', 'CL', 'BL', 'W', 'ROI', 
'IC') then ROLE = 'ASSESS';
MPRINT(EM_DIAGRAM):   else do;
MPRINT(EM_DIAGRAM):   array _ROLE_ (19) $32 _TEMPORARY_ ('ASSESS','CLASSIFICATION','CENSOR', 
'COST', 'CROSSID', 'DECISION', 'ID','INPUT', 'LABEL', 
'MISSING','PREDICT','REFERRER','REJECTED', 'RESIDUAL','SEGMENT', 'SEQUENCE','TARGET', 'TEXT', 
'TIMEID');
MPRINT(EM_DIAGRAM):   drop _found_ i;
MPRINT(EM_DIAGRAM):   _found_=0;
MPRINT(EM_DIAGRAM):   do i=1 to 19 until(_found_=1);
MPRINT(EM_DIAGRAM):   if index(_uname, trim(_ROLE_{i}))=1 then do;
MPRINT(EM_DIAGRAM):   ROLE=_ROLE_{i};
MPRINT(EM_DIAGRAM):   if ROLE = 'ID' then LEVEL = 'NOMINAL';
MPRINT(EM_DIAGRAM):   else if ROLE = 'SEGMENT' then LEVEL = 'NOMINAL';
MPRINT(EM_DIAGRAM):   else if ROLE = 'TIMEID' and TYPE='N' then LEVEL = 'INTERVAL';
MPRINT(EM_DIAGRAM):   _found_=1;
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   if length(_uname)>2 then do;
MPRINT(EM_DIAGRAM):   if substr(reverse(trim(_uname)), 1, 3) = 'DI_' then do;
MPRINT(EM_DIAGRAM):   ROLE = 'ID';
MPRINT(EM_DIAGRAM):   LEVEL = 'NOMINAL';
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   if ROLE='FREQ' then _freqflag=1;
MPRINT(EM_DIAGRAM):   else if ROLE = 'CLASSIFICATION' then LEVEL = 'NOMINAL';
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   if role = ' ' then do;
MPRINT(EM_DIAGRAM):   if formattype in('DATE', 'DATETIME', 'TIME') then role = 'TIMEID';
MPRINT(EM_DIAGRAM):   else role = 'INPUT';
MPRINT(EM_DIAGRAM):   roleAssigned = 1;
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   else role = upcase(role);
MPRINT(EM_DIAGRAM):   if REPORT = '' then REPORT = 'N';
MPRINT(EM_DIAGRAM):   run;
MPRINT(EM_DIAGRAM):    *------------------------------------------------------------* ;
MPRINT(EM_DIAGRAM):   * DMDBClass Macro ;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------* ;
MPRINT(HPDM_PERFORMANCE):  ;
PERFORMANCE  DETAILS
MPRINT(EM_DIAGRAM):  ;
MPRINT(EM_DIAGRAM):    proc dmdb data=work._train(obs=1000000) batch classOut=_DMDB2DEQFVR 
maxLevel=22;
MPRINT(EM_DIAGRAM):   class
MPRINT(DMDBCLASS):   AcceptedCmp1 AcceptedCmp2 AcceptedCmp3 AcceptedCmp4 AcceptedCmp5 
AcceptedCmpTotal Age Complain DepVar Education Frq HigherEducationBinary Income Kidhome 
Marital_Status MntFishProducts MntFruits MntGoldProds MntSweetProducts MonthsAsCustomer 
NumDealsPurchases NumWebVisitsMonth Recency RFMstat RMntFrq Teenhome _bin
MPRINT(EM_DIAGRAM):  ;
MPRINT(EM_DIAGRAM):   run;
MPRINT(EM_DIAGRAM):    proc freq data=_DMDB2DEQFVR noprint;
MPRINT(EM_DIAGRAM):   table name / out=_DMDBCOUNT2DEQFVR(drop=percent rename=(count=NLEVEL));
MPRINT(EM_DIAGRAM):   run;
MPRINT(EM_DIAGRAM):   data _MISS2DEQFVR(rename=(frequency=NMISS));
MPRINT(EM_DIAGRAM):   set _DMDB2DEQFVR(where=(NRAW=. and CRAW=''));
MPRINT(EM_DIAGRAM):   keep name frequency;
MPRINT(EM_DIAGRAM):   run;
MPRINT(EM_DIAGRAM):   proc sort data=_MISS2DEQFVR;
MPRINT(EM_DIAGRAM):   by NAME;
MPRINT(EM_DIAGRAM):   run;
MPRINT(EM_DIAGRAM):   proc sort data=_DMDBCOUNT2DEQFVR;
MPRINT(EM_DIAGRAM):   by NAME;
MPRINT(EM_DIAGRAM):   run;
MPRINT(EM_DIAGRAM):    data _COUNTS2DEQFVR;
MPRINT(EM_DIAGRAM):   merge _DMDBCOUNT2DEQFVR _MISS2DEQFVR;
MPRINT(EM_DIAGRAM):   label NLEVEL= 'Number of Category';
MPRINT(EM_DIAGRAM):   by name;
MPRINT(EM_DIAGRAM):   if NMISS > 0 then do;
MPRINT(EM_DIAGRAM):   NLEVEL= NLEVEL-1;
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   else NMISS = 0;
MPRINT(EM_DIAGRAM):   run;
MPRINT(EM_DIAGRAM):    proc sort data=_COUNTS2DEQFVR NOTHREADS;
MPRINT(EM_DIAGRAM):   by name;
MPRINT(EM_DIAGRAM):   run;
MPRINT(EM_DIAGRAM):   proc sort data=WORK.M36U6WCM NOTHREADS;
MPRINT(EM_DIAGRAM):   by name;
MPRINT(EM_DIAGRAM):   run;
MPRINT(EM_DIAGRAM):   data WORK.M36U6WCM;
MPRINT(EM_DIAGRAM):   length NLEVEL 8 nmiss 8;
MPRINT(EM_DIAGRAM):   update WORK.M36U6WCM _COUNTS2DEQFVR;
MPRINT(EM_DIAGRAM):   by name;
MPRINT(EM_DIAGRAM):   if name='' then name='_';
MPRINT(EM_DIAGRAM):   if levelAssigned and ROLE ne 'FREQ' then do;
MPRINT(EM_DIAGRAM):   select(NLEVEL);
MPRINT(EM_DIAGRAM):   when(.) do;
MPRINT(EM_DIAGRAM):   if type eq 'C' then level = 'NOMINAL';
MPRINT(EM_DIAGRAM):   else level = 'INTERVAL';
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   when(0) level = 'UNARY';
MPRINT(EM_DIAGRAM):   when(1) level = 'UNARY';
MPRINT(EM_DIAGRAM):   when(2) level = 'BINARY';
MPRINT(EM_DIAGRAM):   otherwise do;
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   if roleAssigned then do;
MPRINT(EM_DIAGRAM):   if level = 'NOMINAL' and NLEVEL > 20 then do;
MPRINT(EM_DIAGRAM):   role = 'REJECTED';
MPRINT(EM_DIAGRAM):   comment = "Exceeds maximum number of levels cutoff";
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   if level = 'UNARY' and ROLE ne 'FREQ' then role='REJECTED';
MPRINT(EM_DIAGRAM):   drop NLEVEL nmiss;
MPRINT(EM_DIAGRAM):   label NAME = "Variable Name" TYPE = "Type" ROLE = "Role" LEVEL= 
"Measurement Level" ORDER= "Order" CREATOR= "Creator" FORMATTYPE= "Format Type" FAMILY= 
"Family" DISTRIBUTION= "Distribution" PRICE= "Price" LOWERLIMIT= "Lower limit" UPPERLIMIT= 
"Upper Limit" REPORT= "Report" COMMENT= "Comment" INDEX= "Index" INDEXTYPE= "IndexType" LABEL= 
"Label" LENGTH= "Length";
MPRINT(EM_DIAGRAM):   drop levelAssigned roleAssigned;
MPRINT(EM_DIAGRAM):   run;
3083870    data WORK.M2QD0RVS;
MPRINT(EM_DIAGRAM):    data WORK.M2QD0RVS;
3083871    set WORK.M2QD0RVS;
MPRINT(EM_DIAGRAM):   set WORK.M2QD0RVS;
3083872    if NAME='Element1' then delete;
MPRINT(EM_DIAGRAM):   if NAME='Element1' then delete;
3083873    if NAME='Element2' then delete;
MPRINT(EM_DIAGRAM):   if NAME='Element2' then delete;
3083874    if NAME='Element3' then delete;
MPRINT(EM_DIAGRAM):   if NAME='Element3' then delete;
3083875    if NAME='Element4' then delete;
MPRINT(EM_DIAGRAM):   if NAME='Element4' then delete;
3083876    if NAME='Group' then delete;
MPRINT(EM_DIAGRAM):   if NAME='Group' then delete;
3083877    if NAME='Z_CostContact' then delete;
MPRINT(EM_DIAGRAM):   if NAME='Z_CostContact' then delete;
3083878    if NAME='Z_Revenue' then delete;
MPRINT(EM_DIAGRAM):   if NAME='Z_Revenue' then delete;
3083879    if NAME='_WARN_' then delete;
MPRINT(EM_DIAGRAM):   if NAME='_WARN_' then delete;
3083880    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 27 observations read from the data set WORK.M2QD0RVS.
NOTE: The data set WORK.M2QD0RVS has 27 observations and 21 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

3083881    data WORK.M0UFGNTO;
MPRINT(EM_DIAGRAM):    data WORK.M0UFGNTO;
3083882    set WORK.M0UFGNTO;
MPRINT(EM_DIAGRAM):   set WORK.M0UFGNTO;
3083883    if role='INPUT' and use='D' then use='Y';
MPRINT(EM_DIAGRAM):   if role='INPUT' and use='D' then use='Y';
3083884    if NAME='_bin' then do;
MPRINT(EM_DIAGRAM):   if NAME='_bin' then do;
3083885    ROLE='TARGET';
MPRINT(EM_DIAGRAM):   ROLE='TARGET';
3083886    LEVEL='BINARY';
MPRINT(EM_DIAGRAM):   LEVEL='BINARY';
3083887    USE='Y';
MPRINT(EM_DIAGRAM):   USE='Y';
3083888    end;
MPRINT(EM_DIAGRAM):   end;
3083889    if NAME='DepVar' then do;
MPRINT(EM_DIAGRAM):   if NAME='DepVar' then do;
3083890    ROLE='REJECTED';
MPRINT(EM_DIAGRAM):   ROLE='REJECTED';
3083891    end;
MPRINT(EM_DIAGRAM):   end;
3083892    if NAME='Element1' then delete;
MPRINT(EM_DIAGRAM):   if NAME='Element1' then delete;
3083893    if NAME='Element2' then delete;
MPRINT(EM_DIAGRAM):   if NAME='Element2' then delete;
3083894    if NAME='Element3' then delete;
MPRINT(EM_DIAGRAM):   if NAME='Element3' then delete;
3083895    if NAME='Element4' then delete;
MPRINT(EM_DIAGRAM):   if NAME='Element4' then delete;
3083896    if NAME='Group' then delete;
MPRINT(EM_DIAGRAM):   if NAME='Group' then delete;
3083897    if NAME='Z_CostContact' then delete;
MPRINT(EM_DIAGRAM):   if NAME='Z_CostContact' then delete;
3083898    if NAME='Z_Revenue' then delete;
MPRINT(EM_DIAGRAM):   if NAME='Z_Revenue' then delete;
3083899    if NAME='_WARN_' then delete;
MPRINT(EM_DIAGRAM):   if NAME='_WARN_' then delete;
3083900    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 28 observations read from the data set WORK.M0UFGNTO.
NOTE: The data set WORK.M0UFGNTO has 28 observations and 21 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

3083901    *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):    *------------------------------------------------------------*;
3083902    * Binary Model DepVar = 1;
MPRINT(EM_DIAGRAM):   * Binary Model DepVar = 1;
3083903    *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
3083904    *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
3083905    * REGRESSION MODEL DepVar binary BIN2;
MPRINT(EM_DIAGRAM):   * REGRESSION MODEL DepVar binary BIN2;
3083906    *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
3083907    *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
3083908    * Rule4: Create decision matrix;
MPRINT(EM_DIAGRAM):   * Rule4: Create decision matrix;
3083909    *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
3083910    data EM_DMREG / view=EM_DMREG;
MPRINT(EM_DIAGRAM):   data EM_DMREG / view=EM_DMREG;
3083911    set work._train(keep=
3083912    AcceptedCmp1 AcceptedCmp2 AcceptedCmp3 AcceptedCmp4 AcceptedCmp5
3083913    AcceptedCmpTotal Age Complain DepVar Education Frq HigherEducationBinary Income
3083914    Kidhome Marital_Status MntFishProducts MntFruits MntGoldProds MntSweetProducts
3083915    MonthsAsCustomer NumDealsPurchases NumWebVisitsMonth RFMstat RMntFrq Recency
3083916    Teenhome _bin);
MPRINT(EM_DIAGRAM):   set work._train(keep= AcceptedCmp1 AcceptedCmp2 AcceptedCmp3 
AcceptedCmp4 AcceptedCmp5 AcceptedCmpTotal Age Complain DepVar Education Frq 
HigherEducationBinary Income Kidhome Marital_Status MntFishProducts MntFruits MntGoldProds 
MntSweetProducts MonthsAsCustomer NumDealsPurchases NumWebVisitsMonth RFMstat RMntFrq Recency 
Teenhome _bin);
3083917    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: DATA STEP view saved on file WORK.EM_DMREG.
NOTE: A stored DATA STEP view cannot run under a different operating system.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

MPRINT(EM_DIAGRAM):   *------------------------------------------------------------* ;
MPRINT(EM_DIAGRAM):   * Rule4: DMDBClass Macro ;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------* ;
3083918    *------------------------------------------------------------* ;
3083919    * Rule4: DMDBClass Macro ;
3083920    *------------------------------------------------------------* ;
3083921    %macro DMDBClass;
3083922        AcceptedCmp1(ASC) AcceptedCmp2(ASC) AcceptedCmp3(ASC) AcceptedCmp4(ASC)
3083923       AcceptedCmp5(ASC) Complain(ASC) DepVar(ASC) Education(ASC)
3083924       HigherEducationBinary(ASC) Marital_Status(ASC) _bin(DESC)
3083925    %mend DMDBClass;
3083926    *------------------------------------------------------------* ;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------* ;
3083927    * Rule4: DMDBVar Macro ;
MPRINT(EM_DIAGRAM):   * Rule4: DMDBVar Macro ;
3083928    *------------------------------------------------------------* ;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------* ;
3083929    %macro DMDBVar;
3083930        AcceptedCmpTotal Age Frq Income Kidhome MntFishProducts MntFruits MntGoldProds
3083931       MntSweetProducts MonthsAsCustomer NumDealsPurchases NumWebVisitsMonth RFMstat
3083932       RMntFrq Recency Teenhome
3083933    %mend DMDBVar;
3083934    *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
3083935    * Rule4: Create DMDB;
MPRINT(EM_DIAGRAM):   * Rule4: Create DMDB;
3083936    *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
3083937    proc dmdb batch data=WORK.EM_DMREG
3083938    dmdbcat=WORK.Rule4_DMDB
3083939    maxlevel = 513
3083940    ;
MPRINT(EM_DIAGRAM):   proc dmdb batch data=WORK.EM_DMREG dmdbcat=WORK.Rule4_DMDB maxlevel = 
513 ;
3083941    class %DMDBClass;
MPRINT(EM_DIAGRAM):   class
MPRINT(DMDBCLASS):   AcceptedCmp1(ASC) AcceptedCmp2(ASC) AcceptedCmp3(ASC) AcceptedCmp4(ASC) 
AcceptedCmp5(ASC) Complain(ASC) DepVar(ASC) Education(ASC) HigherEducationBinary(ASC) 
Marital_Status(ASC) _bin(DESC)
MPRINT(EM_DIAGRAM):  ;
3083942    var %DMDBVar;
MPRINT(EM_DIAGRAM):   var
MPRINT(DMDBVAR):   AcceptedCmpTotal Age Frq Income Kidhome MntFishProducts MntFruits 
MntGoldProds MntSweetProducts MonthsAsCustomer NumDealsPurchases NumWebVisitsMonth RFMstat 
RMntFrq Recency Teenhome
MPRINT(EM_DIAGRAM):  ;
3083943    target
3083944    _bin
3083945    ;
MPRINT(EM_DIAGRAM):   target _bin ;
3083946    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: Records processed = 417   Memory used = 511K.
NOTE: View WORK.EM_DMREG.VIEW used (Total process time):
      real time           0.02 seconds
      cpu time            0.03 seconds
      
NOTE: There were 417 observations read from the data set WORK._TRAIN.
NOTE: There were 417 observations read from the data set WORK.EM_DMREG.
NOTE: PROCEDURE DMDB used (Total process time):
      real time           0.03 seconds
      cpu time            0.04 seconds
      

MPRINT(EM_DIAGRAM):   quit;
MPRINT(EM_DIAGRAM):   *--- end code ---*;
3083947    quit;
3083948    *--- end code ---*;

3083949    *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):    *------------------------------------------------------------*;
3083950    * Rule4: Run DMREG procedure;
MPRINT(EM_DIAGRAM):   * Rule4: Run DMREG procedure;
3083951    *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
3083952    proc dmreg data=EM_DMREG dmdbcat=WORK.Rule4_DMDB
3083953    validata = work._valid
3083954    outest = WORK.DMREG_2IRCTEX_OUTEST
3083955    outterms = WORK.DMREG_2IRCTEX_OUTTERMS
3083956    outmap= WORK.DMREG_2IRCTEX_MAP namelen=200
3083957    ;
MPRINT(EM_DIAGRAM):   proc dmreg data=EM_DMREG dmdbcat=WORK.Rule4_DMDB validata = work._valid 
outest = WORK.DMREG_2IRCTEX_OUTEST outterms = WORK.DMREG_2IRCTEX_OUTTERMS outmap= 
WORK.DMREG_2IRCTEX_MAP namelen=200 ;
3083958    class
3083959    _bin
3083960    AcceptedCmp1
3083961    AcceptedCmp2
3083962    AcceptedCmp3
3083963    AcceptedCmp4
3083964    AcceptedCmp5
3083965    Complain
3083966    Education
3083967    HigherEducationBinary
3083968    Marital_Status
3083969    ;
MPRINT(EM_DIAGRAM):   class _bin AcceptedCmp1 AcceptedCmp2 AcceptedCmp3 AcceptedCmp4 
AcceptedCmp5 Complain Education HigherEducationBinary Marital_Status ;
3083970    model _bin =
3083971    AcceptedCmp1
3083972    AcceptedCmp2
3083973    AcceptedCmp3
3083974    AcceptedCmp4
3083975    AcceptedCmp5
3083976    AcceptedCmpTotal
3083977    Age
3083978    Complain
3083979    Education
3083980    Frq
3083981    HigherEducationBinary
3083982    Income
3083983    Kidhome
3083984    Marital_Status
3083985    MntFishProducts
3083986    MntFruits
3083987    MntGoldProds
3083988    MntSweetProducts
3083989    MonthsAsCustomer
3083990    NumDealsPurchases
3083991    NumWebVisitsMonth
3083992    RFMstat
3083993    RMntFrq
3083994    Recency
3083995    Teenhome
3083996    /error=binomial link=LOGIT
3083997    coding=DEVIATION
3083998    nodesignprint
3083999    ;
MPRINT(EM_DIAGRAM):   model _bin = AcceptedCmp1 AcceptedCmp2 AcceptedCmp3 AcceptedCmp4 
AcceptedCmp5 AcceptedCmpTotal Age Complain Education Frq HigherEducationBinary Income Kidhome 
Marital_Status MntFishProducts MntFruits MntGoldProds MntSweetProducts MonthsAsCustomer 
NumDealsPurchases NumWebVisitsMonth RFMstat RMntFrq Recency Teenhome /error=binomial 
link=LOGIT coding=DEVIATION nodesignprint ;
3084000    ;
MPRINT(EM_DIAGRAM):   ;
3084001    score data=_train
3084002    out=_ptrain(label="")
3084003    ;
MPRINT(EM_DIAGRAM):   score data=_train out=_ptrain(label="") ;
3084004    score data=_valid
3084005    out=_pvalid(label="")
3084006    ;
MPRINT(EM_DIAGRAM):   score data=_valid out=_pvalid(label="") ;
3084007    code file="C:\Users\LUKASF~1\AppData\Local\Temp\SAS Temporary
3084007  ! Files\_TD9752_WN7LF-LEAVE_\Prc2\BIN2.sas"
3084008    group=Rule4_2
3084009    ;
MPRINT(EM_DIAGRAM):   code file="C:\Users\LUKASF~1\AppData\Local\Temp\SAS Temporary 
Files\_TD9752_WN7LF-LEAVE_\Prc2\BIN2.sas" group=Rule4_2 ;
3084010    code file="C:\Users\LUKASF~1\AppData\Local\Temp\SAS Temporary
3084010  ! Files\_TD9752_WN7LF-LEAVE_\Prc2\BIN2_res.sas"
3084011    group=Rule4_2
3084012    residual
3084013    ;
MPRINT(EM_DIAGRAM):   code file="C:\Users\LUKASF~1\AppData\Local\Temp\SAS Temporary 
Files\_TD9752_WN7LF-LEAVE_\Prc2\BIN2_res.sas" group=Rule4_2 residual ;
3084014    run;
MPRINT(EM_DIAGRAM):   run;


NOTE: PROC DMREG is modeling the probability that _bin='1'.
NOTE: Convergence criterion (GCONV=1E-6) satisfied.
NOTE: External file C:\Users\LUKASF~1\AppData\Local\Temp\SAS Temporary 
      Files\_TD9752_WN7LF-LEAVE_\Prc2\BIN2.sas opened.
NOTE: External file C:\Users\LUKASF~1\AppData\Local\Temp\SAS Temporary 
      Files\_TD9752_WN7LF-LEAVE_\Prc2\BIN2_res.sas opened.
NOTE: View WORK.EM_DMREG.VIEW used (Total process time):
      real time           0.19 seconds
      cpu time            0.18 seconds
      
NOTE: There were 417 observations read from the data set WORK._TRAIN.
NOTE: There were 417 observations read from the data set WORK.EM_DMREG.
NOTE: There were 180 observations read from the data set WORK._VALID.
NOTE: There were 417 observations read from the data set WORK._TRAIN.
NOTE: There were 180 observations read from the data set WORK._VALID.
NOTE: The data set WORK.DMREG_2IRCTEX_OUTEST has 3 observations and 66 variables.
NOTE: The data set WORK.DMREG_2IRCTEX_OUTTERMS has 32 observations and 6 variables.
NOTE: The data set WORK.DMREG_2IRCTEX_MAP has 2 observations and 33 variables.
NOTE: The data set WORK._PTRAIN has 417 observations and 36 variables.
NOTE: The data set WORK._PVALID has 180 observations and 37 variables.
NOTE: The PROCEDURE DMREG printed pages 2793-2794.
NOTE: PROCEDURE DMREG used (Total process time):
      real time           0.21 seconds
      cpu time            0.21 seconds
      

MPRINT(EM_DIAGRAM):   quit;
3084015    quit;

3084016    proc datasets lib=WORK nolist;
MPRINT(EM_DIAGRAM):    proc datasets lib=WORK nolist;
3084017    delete Rule4_DMDB;
MPRINT(EM_DIAGRAM):   delete Rule4_DMDB;
3084018    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: The file WORK.RULE4_DMDB (memtype=DATA) was not found, but appears on a DELETE statement.
3084019    quit;
MPRINT(EM_DIAGRAM):   quit;

NOTE: PROCEDURE DATASETS used (Total process time):
      real time           0.06 seconds
      cpu time            0.06 seconds
      

3084020    proc datasets lib=WORK nolist;
MPRINT(EM_DIAGRAM):    proc datasets lib=WORK nolist;
3084021    delete Rule4_DMDB / memtype=catalog;
MPRINT(EM_DIAGRAM):   delete Rule4_DMDB / memtype=catalog;
3084022    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: Deleting WORK.RULE4_DMDB (memtype=CATALOG).
3084023    quit;
MPRINT(EM_DIAGRAM):   quit;

NOTE: PROCEDURE DATASETS used (Total process time):
      real time           0.06 seconds
      cpu time            0.06 seconds
      

3084024    * BINARY: Training Classification;
MPRINT(EM_DIAGRAM):    * BINARY: Training Classification;
3084025    ;
MPRINT(EM_DIAGRAM):   ;
3084026    proc freq data = _ptrain noprint;
MPRINT(EM_DIAGRAM):   proc freq data = _ptrain noprint;
3084027    tables F__bin * I__bin / out = _count;
MPRINT(EM_DIAGRAM):   tables F__bin * I__bin / out = _count;
3084028    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 417 observations read from the data set WORK._PTRAIN.
NOTE: The data set WORK._COUNT has 3 observations and 4 variables.
NOTE: PROCEDURE FREQ used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

3084029    data _count;
MPRINT(EM_DIAGRAM):   data _count;
3084030    set _count;
MPRINT(EM_DIAGRAM):   set _count;
3084031    label count = "%sysfunc(sasmsg(sashelp.dmine, rpt_traincount_vlabel, NOQUOTE))";
MPRINT(EM_DIAGRAM):   label count = "Train Count";
3084032    label percent = "%sysfunc(sasmsg(sashelp.dmine, rpt_trainpercent_vlabel, NOQUOTE))";
MPRINT(EM_DIAGRAM):   label percent = "Train Percent";
3084033    label F__bin = "%sysfunc(sasmsg(sashelp.dmine, rpt_from_vlabel, NOQUOTE))";
MPRINT(EM_DIAGRAM):   label F__bin = "From";
3084034    label I__bin = "%sysfunc(sasmsg(sashelp.dmine, rpt_into_vlabel, NOQUOTE))";
MPRINT(EM_DIAGRAM):   label I__bin = "Into";
3084035    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 3 observations read from the data set WORK._COUNT.
NOTE: The data set WORK._COUNT has 3 observations and 4 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

MPRINT(EM_DIAGRAM):   * BINARY: Validation Classification;
MPRINT(EM_DIAGRAM):   ;
3084036    * BINARY: Validation Classification;
3084037    ;
3084038    proc freq data = _pvalid noprint;
MPRINT(EM_DIAGRAM):   proc freq data = _pvalid noprint;
3084039    tables f__bin * i__bin / out=_vcount;
MPRINT(EM_DIAGRAM):   tables f__bin * i__bin / out=_vcount;
3084040    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 180 observations read from the data set WORK._PVALID.
NOTE: The data set WORK._VCOUNT has 3 observations and 4 variables.
NOTE: PROCEDURE FREQ used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

3084041    data _vcount;
MPRINT(EM_DIAGRAM):   data _vcount;
3084042    set _vcount;
MPRINT(EM_DIAGRAM):   set _vcount;
3084043    length key $64;
MPRINT(EM_DIAGRAM):   length key $64;
3084044    label count = "%sysfunc(sasmsg(sashelp.dmine, rpt_validcount_vlabel, NOQUOTE))";
MPRINT(EM_DIAGRAM):   label count = "Valid Count";
3084045    label percent = "%sysfunc(sasmsg(sashelp.dmine, rpt_validpercent_vlabel, NOQUOTE))";
MPRINT(EM_DIAGRAM):   label percent = "Valid Percent";
3084046    label f__bin = "%sysfunc(sasmsg(sashelp.dmine, rpt_from_vlabel, NOQUOTE))";
MPRINT(EM_DIAGRAM):   label f__bin = "From";
3084047    label i__bin = "%sysfunc(sasmsg(sashelp.dmine, rpt_into_vlabel, NOQUOTE))";
MPRINT(EM_DIAGRAM):   label i__bin = "Into";
3084048    rename count = vcount;
MPRINT(EM_DIAGRAM):   rename count = vcount;
3084049    rename percent= vpercent;
MPRINT(EM_DIAGRAM):   rename percent= vpercent;
3084050    key = ktrim(kleft(f__bin) !! '_' !! ktrim(kleft(i__bin)));
MPRINT(EM_DIAGRAM):   key = ktrim(kleft(f__bin) !! '_' !! ktrim(kleft(i__bin)));
3084051    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 3 observations read from the data set WORK._VCOUNT.
NOTE: The data set WORK._VCOUNT has 3 observations and 5 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

MPRINT(EM_DIAGRAM):   *;
3084052    *;
3084053    data _count;
MPRINT(EM_DIAGRAM):   data _count;
3084054    set _count;
MPRINT(EM_DIAGRAM):   set _count;
3084055    length key $64;
MPRINT(EM_DIAGRAM):   length key $64;
3084056    key = ktrim(kleft(f__bin) !! '_' !! ktrim(kleft(i__bin)));
MPRINT(EM_DIAGRAM):   key = ktrim(kleft(f__bin) !! '_' !! ktrim(kleft(i__bin)));
3084057    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 3 observations read from the data set WORK._COUNT.
NOTE: The data set WORK._COUNT has 3 observations and 5 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

MPRINT(EM_DIAGRAM):   * Merge Train and Valid classification;
MPRINT(EM_DIAGRAM):   ;
3084058    * Merge Train and Valid classification;
3084059    ;
3084060    proc sort data=_count;
MPRINT(EM_DIAGRAM):   proc sort data=_count;
3084061    by key;
MPRINT(EM_DIAGRAM):   by key;
3084062    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 3 observations read from the data set WORK._COUNT.
NOTE: The data set WORK._COUNT has 3 observations and 5 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

3084063    proc sort data=_vcount;
MPRINT(EM_DIAGRAM):   proc sort data=_vcount;
3084064    by key;
MPRINT(EM_DIAGRAM):   by key;
3084065    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 3 observations read from the data set WORK._VCOUNT.
NOTE: The data set WORK._VCOUNT has 3 observations and 5 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

MPRINT(EM_DIAGRAM):   *;
3084066    *;
3084067    data _count;
MPRINT(EM_DIAGRAM):   data _count;
3084068    merge _count _vcount;
MPRINT(EM_DIAGRAM):   merge _count _vcount;
3084069    by key;
MPRINT(EM_DIAGRAM):   by key;
3084070    drop key;
MPRINT(EM_DIAGRAM):   drop key;
3084071    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 3 observations read from the data set WORK._COUNT.
NOTE: There were 3 observations read from the data set WORK._VCOUNT.
NOTE: The data set WORK._COUNT has 3 observations and 6 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

MPRINT(EM_DIAGRAM):   *BINARY: Print Classification;
MPRINT(EM_DIAGRAM):   ;
3084072    *BINARY: Print Classification;
3084073    ;
3084074    title9 "%sysfunc(sasmsg(sashelp.dmine, rpt_binmodel_title, NOQUOTE, DepVar,
3084074  ! %nrbquote(1)))";
MPRINT(EM_DIAGRAM):   title9 "Binary Model DepVar = 1";
3084075    title10 "%sysfunc(sasmsg(sashelp.dmine, rpt_classification_title, NOQUOTE))";
MPRINT(EM_DIAGRAM):   title10 "Classification Table";
3084076    proc print data = _count noobs label;
MPRINT(EM_DIAGRAM):   proc print data = _count noobs label;
3084077    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 3 observations read from the data set WORK._COUNT.
NOTE: The PROCEDURE PRINT printed page 2795.
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

3084078    title9;
MPRINT(EM_DIAGRAM):   title9;
3084079    title10;
MPRINT(EM_DIAGRAM):   title10;
3084080    * Extract misfit training values;
MPRINT(EM_DIAGRAM):    * Extract misfit training values;
3084081    ;
MPRINT(EM_DIAGRAM):   ;
3084082    data _ptrain;
MPRINT(EM_DIAGRAM):   data _ptrain;
3084083    set _ptrain;
MPRINT(EM_DIAGRAM):   set _ptrain;
3084084    if not ( I__bin eq '1' and F__bin eq '1') then output;
MPRINT(EM_DIAGRAM):   if not ( I__bin eq '1' and F__bin eq '1') then output;
3084085    keep
3084086    AcceptedCmp1
3084087    AcceptedCmp2
3084088    AcceptedCmp3
3084089    AcceptedCmp4
3084090    AcceptedCmp5
3084091    AcceptedCmpTotal
3084092    Age
3084093    Complain
3084094    Education
3084095    Frq
3084096    HigherEducationBinary
3084097    Income
3084098    Kidhome
3084099    Marital_Status
3084100    MntFishProducts
3084101    MntFruits
3084102    MntGoldProds
3084103    MntSweetProducts
3084104    MonthsAsCustomer
3084105    NumDealsPurchases
3084106    NumWebVisitsMonth
3084107    RFMstat
3084108    RMntFrq
3084109    Recency
3084110    Teenhome
3084111    DepVar;
MPRINT(EM_DIAGRAM):   keep AcceptedCmp1 AcceptedCmp2 AcceptedCmp3 AcceptedCmp4 AcceptedCmp5 
AcceptedCmpTotal Age Complain Education Frq HigherEducationBinary Income Kidhome 
Marital_Status MntFishProducts MntFruits MntGoldProds MntSweetProducts MonthsAsCustomer 
NumDealsPurchases NumWebVisitsMonth RFMstat RMntFrq Recency Teenhome DepVar;
3084112    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 417 observations read from the data set WORK._PTRAIN.
NOTE: The data set WORK._PTRAIN has 60 observations and 26 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

MPRINT(EM_DIAGRAM):   * Extract misfit validation values;
MPRINT(EM_DIAGRAM):   ;
3084113    * Extract misfit validation values;
3084114    ;
3084115    data _pvalid;
MPRINT(EM_DIAGRAM):   data _pvalid;
3084116    set _pvalid;
MPRINT(EM_DIAGRAM):   set _pvalid;
3084117    if not (I__bin eq '1' and F__bin eq '1') then output;
MPRINT(EM_DIAGRAM):   if not (I__bin eq '1' and F__bin eq '1') then output;
3084118    keep
3084119    AcceptedCmp1
3084120    AcceptedCmp2
3084121    AcceptedCmp3
3084122    AcceptedCmp4
3084123    AcceptedCmp5
3084124    AcceptedCmpTotal
3084125    Age
3084126    Complain
3084127    Education
3084128    Frq
3084129    HigherEducationBinary
3084130    Income
3084131    Kidhome
3084132    Marital_Status
3084133    MntFishProducts
3084134    MntFruits
3084135    MntGoldProds
3084136    MntSweetProducts
3084137    MonthsAsCustomer
3084138    NumDealsPurchases
3084139    NumWebVisitsMonth
3084140    RFMstat
3084141    RMntFrq
3084142    Recency
3084143    Teenhome
3084144    DepVar;
MPRINT(EM_DIAGRAM):   keep AcceptedCmp1 AcceptedCmp2 AcceptedCmp3 AcceptedCmp4 AcceptedCmp5 
AcceptedCmpTotal Age Complain Education Frq HigherEducationBinary Income Kidhome 
Marital_Status MntFishProducts MntFruits MntGoldProds MntSweetProducts MonthsAsCustomer 
NumDealsPurchases NumWebVisitsMonth RFMstat RMntFrq Recency Teenhome DepVar;
3084145    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 180 observations read from the data set WORK._PVALID.
NOTE: The data set WORK._PVALID has 26 observations and 26 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

3084146    data _train;
MPRINT(EM_DIAGRAM):    data _train;
3084147    set _ptrain;
MPRINT(EM_DIAGRAM):   set _ptrain;
3084148    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 60 observations read from the data set WORK._PTRAIN.
NOTE: The data set WORK._TRAIN has 60 observations and 26 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

3084149    data _valid;
MPRINT(EM_DIAGRAM):   data _valid;
3084150    set _pvalid;
MPRINT(EM_DIAGRAM):   set _pvalid;
3084151    options validvarname=any;
MPRINT(EM_DIAGRAM):   options validvarname=any;
3084152    proc contents data=work._train out=_tempAdvisor noprint;

NOTE: There were 26 observations read from the data set WORK._PVALID.
NOTE: The data set WORK._VALID has 26 observations and 26 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      

MPRINT(EM_DIAGRAM):   proc contents data=work._train out=_tempAdvisor noprint;
3084153    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: The data set WORK._TEMPADVISOR has 26 observations and 40 variables.
NOTE: PROCEDURE CONTENTS used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

3084154    options validvarname=V7;
MPRINT(EM_DIAGRAM):   options validvarname=V7;
3084155    %let _dsidTable = 0;
3084156    %let _engineTable =;
3084157    data _null_;
MPRINT(EM_DIAGRAM):    data _null_;
3084158    dsid = open('work._train');
MPRINT(EM_DIAGRAM):   dsid = open('work._train');
3084159    call symput('_dsidTable', strip(put(dsid, best.)));
MPRINT(EM_DIAGRAM):   call symput('_dsidTable', strip(put(dsid, best.)));
3084160    if dsid then do;
MPRINT(EM_DIAGRAM):   if dsid then do;
3084161    call symput('_engineTable', attrc(dsid, 'ENGINE'));
MPRINT(EM_DIAGRAM):   call symput('_engineTable', attrc(dsid, 'ENGINE'));
3084162    dsid = close(dsid);
MPRINT(EM_DIAGRAM):   dsid = close(dsid);
3084163    end;
MPRINT(EM_DIAGRAM):   end;
3084164    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

3084165    options fmterr;
MPRINT(EM_DIAGRAM):    options fmterr;
3084166    data _metaTestView;
MPRINT(EM_DIAGRAM):   data _metaTestView;
3084167    set work._train;
MPRINT(EM_DIAGRAM):   set work._train;
3084168    if _N_=1 then do;
MPRINT(EM_DIAGRAM):   if _N_=1 then do;
3084169    output;
MPRINT(EM_DIAGRAM):   output;
3084170    stop;
MPRINT(EM_DIAGRAM):   stop;
3084171    end;
MPRINT(EM_DIAGRAM):   end;
3084172    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 1 observations read from the data set WORK._TRAIN.
NOTE: The data set WORK._METATESTVIEW has 1 observations and 26 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

3084173    proc contents data=work._train
3084174    out=WORK.M38C4P91 noprint;
MPRINT(EM_DIAGRAM):    proc contents data=work._train out=WORK.M38C4P91 noprint;
3084175    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: The data set WORK.M38C4P91 has 26 observations and 40 variables.
NOTE: PROCEDURE CONTENTS used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

3084176    data WORK.M38C4P91;
MPRINT(EM_DIAGRAM):    data WORK.M38C4P91;
3084177    length NAME $ 64 TYPE $ 1 LABEL $ 200 FORMAT $ 20 INFORMAT $20 INDEX $ 1 INDEXTYPE $
3084177  !  9;
MPRINT(EM_DIAGRAM):   length NAME $ 64 TYPE $ 1 LABEL $ 200 FORMAT $ 20 INFORMAT $20 INDEX $ 1 
INDEXTYPE $ 9;
3084178    label NAME =;
MPRINT(EM_DIAGRAM):   label NAME =;
3084179    set WORK.M38C4P91(keep=name type length label format formatl formatd informat
3084179  ! informl informd idxusage rename=(type=itype));
MPRINT(EM_DIAGRAM):   set WORK.M38C4P91(keep=name type length label format formatl formatd 
informat informl informd idxusage rename=(type=itype));
3084180    if itype = 1 then type = 'N';
MPRINT(EM_DIAGRAM):   if itype = 1 then type = 'N';
3084181    else type = 'C';
MPRINT(EM_DIAGRAM):   else type = 'C';
3084182    if formatl > 0 then do;
MPRINT(EM_DIAGRAM):   if formatl > 0 then do;
3084183    if format ne ' ' then format = strip(format)!!strip(put(formatl,
3084183  ! best12.))!!'.'!!strip(put(formatd, best12.));
MPRINT(EM_DIAGRAM):   if format ne ' ' then format = strip(format)!!strip(put(formatl, 
best12.))!!'.'!!strip(put(formatd, best12.));
3084184    else format = strip(put(formatl, best12.))!!'.'!!strip(put(formatd, best12.));
MPRINT(EM_DIAGRAM):   else format = strip(put(formatl, best12.))!!'.'!!strip(put(formatd, 
best12.));
3084185    end;
MPRINT(EM_DIAGRAM):   end;
3084186    else if format ne '' then format = strip(format)!!'.';
MPRINT(EM_DIAGRAM):   else if format ne '' then format = strip(format)!!'.';
3084187    if informl > 0 then do;
MPRINT(EM_DIAGRAM):   if informl > 0 then do;
3084188    if informat ne ' ' then informat = strip(informat)!!strip(put(informl,
3084188  ! best12.))!!'.'!!strip(put(informd, best12.));
MPRINT(EM_DIAGRAM):   if informat ne ' ' then informat = strip(informat)!!strip(put(informl, 
best12.))!!'.'!!strip(put(informd, best12.));
3084189    else informat = strip(put(informl, best12.))!!'.'!!strip(put(informd, best12.));
MPRINT(EM_DIAGRAM):   else informat = strip(put(informl, best12.))!!'.'!!strip(put(informd, 
best12.));
3084190    end;
MPRINT(EM_DIAGRAM):   end;
3084191    else if informat ne '' then informat = strip(informat)!!'.';
MPRINT(EM_DIAGRAM):   else if informat ne '' then informat = strip(informat)!!'.';
3084192    if idxusage = 'NONE' then index ="N";
MPRINT(EM_DIAGRAM):   if idxusage = 'NONE' then index ="N";
3084193    else index = "Y";
MPRINT(EM_DIAGRAM):   else index = "Y";
3084194    indextype = idxusage;
MPRINT(EM_DIAGRAM):   indextype = idxusage;
3084195    drop idxusage itype formatl formatd informl informd;
MPRINT(EM_DIAGRAM):   drop idxusage itype formatl formatd informl informd;
3084196    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 26 observations read from the data set WORK.M38C4P91.
NOTE: The data set WORK.M38C4P91 has 26 observations and 8 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

3084197    data WORK.M38C4P91;
MPRINT(EM_DIAGRAM):    data WORK.M38C4P91;
3084198    length UNAME $64;
MPRINT(EM_DIAGRAM):   length UNAME $64;
3084199    set WORK.M38C4P91;
MPRINT(EM_DIAGRAM):   set WORK.M38C4P91;
3084200    UNAME = upcase(NAME);
MPRINT(EM_DIAGRAM):   UNAME = upcase(NAME);
3084201    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 26 observations read from the data set WORK.M38C4P91.
NOTE: The data set WORK.M38C4P91 has 26 observations and 9 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

MPRINT(EM_DIAGRAM):    proc sort data=WORK.M2KIY45B NOTHREADS;
MPRINT(EM_DIAGRAM):   by UNAME;
MPRINT(EM_DIAGRAM):   run;
3084205    data WORK.M2KIY45B;
MPRINT(EM_DIAGRAM):    data WORK.M2KIY45B;
3084206    drop UNAME;
MPRINT(EM_DIAGRAM):   drop UNAME;
3084207    set WORK.M2KIY45B;
MPRINT(EM_DIAGRAM):   set WORK.M2KIY45B;
3084208    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 26 observations read from the data set WORK.M2KIY45B.
NOTE: The data set WORK.M2KIY45B has 26 observations and 8 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

MPRINT(EM_DIAGRAM):    data WORK.M3CWHQQN(keep=NAME ATTR);
MPRINT(EM_DIAGRAM):   length ATTR $ 20;
MPRINT(EM_DIAGRAM):   set WORK.M2KIY45B;
MPRINT(EM_DIAGRAM):   if level ne "INTERVAL" then do;
MPRINT(EM_DIAGRAM):   if order = ' ' then do;
MPRINT(EM_DIAGRAM):   attr = 'ORDER';
MPRINT(EM_DIAGRAM):   output;
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   if format ne ' ' and formattype = ' ' then do;
MPRINT(EM_DIAGRAM):   attr = 'FORMATTYPE';
MPRINT(EM_DIAGRAM):   output;
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   if role = ' ' then do;
MPRINT(EM_DIAGRAM):   attr = 'ROLE';
MPRINT(EM_DIAGRAM):   output;
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   if level = ' ' then do;
MPRINT(EM_DIAGRAM):   attr = 'LEVEL';
MPRINT(EM_DIAGRAM):   output;
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   if type = ' ' then do;
MPRINT(EM_DIAGRAM):   attr = 'TYPE';
MPRINT(EM_DIAGRAM):   output;
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   if index = ' ' then do;
MPRINT(EM_DIAGRAM):   attr = 'INDEX';
MPRINT(EM_DIAGRAM):   output;
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   if report = ' ' then do;
MPRINT(EM_DIAGRAM):   attr = 'REPORT';
MPRINT(EM_DIAGRAM):   output;
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   run;
MPRINT(EM_DIAGRAM):   proc sort NOTHREADS;
MPRINT(EM_DIAGRAM):   by attr;
MPRINT(EM_DIAGRAM):   run;
MPRINT(EM_DIAGRAM):    data WORK.M2KIY45B;
MPRINT(EM_DIAGRAM):   length NAME $64 ROLE $ 32 LEVEL $ 10 ORDER $ 8 CREATOR $32 FORMATTYPE $ 
10 FAMILY $ 10 LOWERLIMIT 8 UPPERLIMIT 8 REPORT $1 DISTRIBUTION $ 20 COMMENT $64;
MPRINT(EM_DIAGRAM):   length levelAssigned 8 roleAssigned 8 PRICE 8;
MPRINT(EM_DIAGRAM):   set WORK.M2KIY45B;
MPRINT(EM_DIAGRAM):   if formattype = ' ' then do;
MPRINT(EM_DIAGRAM):   if format ne ' ' then do;
MPRINT(EM_DIAGRAM):   if type = 'N' then do;
MPRINT(EM_DIAGRAM):   pos = indexc(format,'.1234567890');
MPRINT(EM_DIAGRAM):   if pos > 1 then tempfmt = substr(format,1, pos-1);
MPRINT(EM_DIAGRAM):   else tempfmt = ' ';
MPRINT(EM_DIAGRAM):   flen = length(tempfmt);
MPRINT(EM_DIAGRAM):   select;
MPRINT(EM_DIAGRAM):   when(tempfmt in ("DATE" "DAY" "DDMMYY" "DOWNAME" "JULDAY" "JULIAN" 
"MMDDYY" "MMDDYYD" "MMDDYYC" "MMDDYYN" "MMDDYYP" "MMDDYYS" "MONNAME" "MONTH" "MONYY" "NENGO" 
"QTR" "QTRR" "WEEKDATE" "WEEKDATX" "WEEKDAY" "WORDDATE" "WORDDATX" "YEAR" "YYMMDD" "YYMON" 
"YYMMDDC" "YYMMDDD" "YYMMDDN" "YYMMDDP" "YYMMDDS" "EURDFDE" "NJDATE" "NLDATE" "EURDFDD" 
"EURDFDWN" "EURDFMN" "EURDFMY" "EURDFWK" "EURDFWKX" "EURDFWDX" "EURDFDN" "EURDFDE" )) 
formattype = 'DATE';
MPRINT(EM_DIAGRAM):   when(tempfmt in ("DATETIME" "EURDFDT" "TOD" )) formattype = "DATETIME";
MPRINT(EM_DIAGRAM):   when(tempfmt in ("HHMM" "HOUR" "MMSS" "TIME" "TIMEAMPM" )) formattype = 
"TIME";
MPRINT(EM_DIAGRAM):   when(tempfmt in ("COMMA" "COMMAX" "DOLLAR" "DOLLARX" "E" "FRACT" 
"NEGPAREN" "PERCENT")) formattype="QUANTITY";
MPRINT(EM_DIAGRAM):   when(tempfmt in ("BINARY" "HEX" "IB" "OCTAL" "PD" "PIB" "PK" "RB" "SSN" 
"Z" "ZD")) formattype = "CODING";
MPRINT(EM_DIAGRAM):   otherwise do;
MPRINT(EM_DIAGRAM):   formattype = "USER";
MPRINT(EM_DIAGRAM):   if substr(tempfmt, 1, 6)='NLDATE' then formattype = "DATE";
MPRINT(EM_DIAGRAM):   else if substr(tempfmt, 1, 6)='NLDATM' then formattype = "DATETIME";
MPRINT(EM_DIAGRAM):   else if substr(tempfmt, 1, 4)='NLTIM' then formattype = "TIME";
MPRINT(EM_DIAGRAM):   else if flen >= 4 then do;
MPRINT(EM_DIAGRAM):   str = substr(tempfmt,1,4);
MPRINT(EM_DIAGRAM):   if str in ("MMYY" "YYMM" "YYQR") then formattype ="DATE";
MPRINT(EM_DIAGRAM):   else if str = "S370" then formattype = "CODING";
MPRINT(EM_DIAGRAM):   else if str = "BEST" then formattype = "NUM";
MPRINT(EM_DIAGRAM):   drop str;
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   else if flen >=3 and substr(tempfmt,1,3) = "YYQ" then formatType = 
"DATE";
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   drop flen tempfmt pos;
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   else do;
MPRINT(EM_DIAGRAM):   formatType = "CATEGORY";
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   if formatType = "NUM" then do;
MPRINT(EM_DIAGRAM):   if index = "Y" then formatType = "DISCRETE";
MPRINT(EM_DIAGRAM):   else formatType = "QUANTITY";
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   if level = ' ' then do;
MPRINT(EM_DIAGRAM):   if formatType in ("CATEGORY", "CODING", "ID") or type = "C" then level = 
"NOMINAL";
MPRINT(EM_DIAGRAM):   else level = "INTERVAL";
MPRINT(EM_DIAGRAM):   levelAssigned = 1;
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   else level = upcase(level);
MPRINT(EM_DIAGRAM):   if role = ' ' then do;
MPRINT(EM_DIAGRAM):   length name_prefix $8 _uname $64;
MPRINT(EM_DIAGRAM):   drop name_prefix _uname _freqflag;
MPRINT(EM_DIAGRAM):   retain _freqflag;
MPRINT(EM_DIAGRAM):   if LENGTH> 80 then ROLE = 'TEXT';
MPRINT(EM_DIAGRAM):   _uname = upcase(NAME);
MPRINT(EM_DIAGRAM):   select(_uname);
MPRINT(EM_DIAGRAM):   when('_WARN_') ROLE = 'ASSESS';
MPRINT(EM_DIAGRAM):   when('EM_SEGMENT') do;
MPRINT(EM_DIAGRAM):   ROLE = 'SEGMENT';
MPRINT(EM_DIAGRAM):   LEVEL = 'NOMINAL';
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   when('_NODE_') do;
MPRINT(EM_DIAGRAM):   ROLE = 'SEGMENT';
MPRINT(EM_DIAGRAM):   LEVEL = 'NOMINAL';
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   when('EM_CLASSTARGET') ROLE = 'ASSESS';
MPRINT(EM_DIAGRAM):   when('EM_VALUETARGET') ROLE = 'ASSESS';
MPRINT(EM_DIAGRAM):   when('EM_PREDICTION') ROLE = 'PREDICT';
MPRINT(EM_DIAGRAM):   when('EM_PROBABILITY') ROLE = 'PREDICT';
MPRINT(EM_DIAGRAM):   when('EM_EVENTPROBABILITY') ROLE = 'PREDICT';
MPRINT(EM_DIAGRAM):   when('EM_CLASSIFICATION') ROLE = 'CLASSIFICATION';
MPRINT(EM_DIAGRAM):   when('EM_DECISION') ROLE = 'DECISION';
MPRINT(EM_DIAGRAM):   when('EM_PROFIT') ROLE = 'ASSESS';
MPRINT(EM_DIAGRAM):   when('EM_LOSS') ROLE = 'ASSESS';
MPRINT(EM_DIAGRAM):   when('EM_ROI') ROLE = 'ASSESS';
MPRINT(EM_DIAGRAM):   when('URI') ROLE = 'URL';
MPRINT(EM_DIAGRAM):   when('FILTERED') ROLE = 'TEXTLOC';
MPRINT(EM_DIAGRAM):   otherwise do;
MPRINT(EM_DIAGRAM):   if upcase(NAME) =: 'ZIP' then do;
MPRINT(EM_DIAGRAM):   ROLE = 'REJECTED';
MPRINT(EM_DIAGRAM):   LEVEL = 'NOMINAL';
MPRINT(EM_DIAGRAM):   COMMENT = 'Rejected by: Exceed the maximum class level of %s';
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   else if upcase(NAME) in('FREQ', 'FREQUENCY') then do;
MPRINT(EM_DIAGRAM):   ROLE = 'FREQ';
MPRINT(EM_DIAGRAM):   if TYPE = 'C' then ROLE = 'INPUT';
MPRINT(EM_DIAGRAM):   else if _freqflag =1 then ROLE='REJECTED';
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   else do;
MPRINT(EM_DIAGRAM):   name_prefix = scan(_uname, 1, '_');
MPRINT(EM_DIAGRAM):   if scan(_uname, 2, '_') = '' then name_prefix='';
MPRINT(EM_DIAGRAM):   if name_prefix in('F', 'I', 'U') then do;
MPRINT(EM_DIAGRAM):   ROLE = 'CLASSIFICATION';
MPRINT(EM_DIAGRAM):   LEVEL = 'NOMINAL';
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   else if name_prefix in('P', 'V') then ROLE = 'PREDICT';
MPRINT(EM_DIAGRAM):   else if name_prefix in('R', 'RS', 'RT', 'RD', 'RDS', 'RDT', 'RA', 'RAS', 
'RAT') then ROLE = 'RESIDUAL';
MPRINT(EM_DIAGRAM):   else if name_prefix ='D' then do;
MPRINT(EM_DIAGRAM):   ROLE = 'DECISION';
MPRINT(EM_DIAGRAM):   LEVEL = 'NOMINAL';
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   else if name_prefix ='B' then do;
MPRINT(EM_DIAGRAM):   ROLE = 'SEGMENT';
MPRINT(EM_DIAGRAM):   LEVEL = 'NOMINAL';
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   else if name_prefix in('EP', 'BP', 'CP', 'EL', 'CL', 'BL', 'W', 'ROI', 
'IC') then ROLE = 'ASSESS';
MPRINT(EM_DIAGRAM):   else do;
MPRINT(EM_DIAGRAM):   array _ROLE_ (19) $32 _TEMPORARY_ ('ASSESS','CLASSIFICATION','CENSOR', 
'COST', 'CROSSID', 'DECISION', 'ID','INPUT', 'LABEL', 
'MISSING','PREDICT','REFERRER','REJECTED', 'RESIDUAL','SEGMENT', 'SEQUENCE','TARGET', 'TEXT', 
'TIMEID');
MPRINT(EM_DIAGRAM):   drop _found_ i;
MPRINT(EM_DIAGRAM):   _found_=0;
MPRINT(EM_DIAGRAM):   do i=1 to 19 until(_found_=1);
MPRINT(EM_DIAGRAM):   if index(_uname, trim(_ROLE_{i}))=1 then do;
MPRINT(EM_DIAGRAM):   ROLE=_ROLE_{i};
MPRINT(EM_DIAGRAM):   if ROLE = 'ID' then LEVEL = 'NOMINAL';
MPRINT(EM_DIAGRAM):   else if ROLE = 'SEGMENT' then LEVEL = 'NOMINAL';
MPRINT(EM_DIAGRAM):   else if ROLE = 'TIMEID' and TYPE='N' then LEVEL = 'INTERVAL';
MPRINT(EM_DIAGRAM):   _found_=1;
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   if length(_uname)>2 then do;
MPRINT(EM_DIAGRAM):   if substr(reverse(trim(_uname)), 1, 3) = 'DI_' then do;
MPRINT(EM_DIAGRAM):   ROLE = 'ID';
MPRINT(EM_DIAGRAM):   LEVEL = 'NOMINAL';
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   if ROLE='FREQ' then _freqflag=1;
MPRINT(EM_DIAGRAM):   else if ROLE = 'CLASSIFICATION' then LEVEL = 'NOMINAL';
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   if role = ' ' then do;
MPRINT(EM_DIAGRAM):   if formattype in('DATE', 'DATETIME', 'TIME') then role = 'TIMEID';
MPRINT(EM_DIAGRAM):   else role = 'INPUT';
MPRINT(EM_DIAGRAM):   roleAssigned = 1;
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   else role = upcase(role);
MPRINT(EM_DIAGRAM):   if REPORT = '' then REPORT = 'N';
MPRINT(EM_DIAGRAM):   run;
MPRINT(EM_DIAGRAM):    *------------------------------------------------------------* ;
MPRINT(EM_DIAGRAM):   * DMDBClass Macro ;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------* ;
MPRINT(HPDM_PERFORMANCE):  ;
PERFORMANCE  DETAILS
MPRINT(EM_DIAGRAM):  ;
MPRINT(EM_DIAGRAM):    proc dmdb data=work._train(obs=1000000) batch classOut=_DMDB3CFSHB5 
maxLevel=22;
MPRINT(EM_DIAGRAM):   class
MPRINT(DMDBCLASS):   AcceptedCmp1 AcceptedCmp2 AcceptedCmp3 AcceptedCmp4 AcceptedCmp5 
AcceptedCmpTotal Age Complain DepVar Education Frq HigherEducationBinary Income Kidhome 
Marital_Status MntFishProducts MntFruits MntGoldProds MntSweetProducts MonthsAsCustomer 
NumDealsPurchases NumWebVisitsMonth Recency RFMstat RMntFrq Teenhome
MPRINT(EM_DIAGRAM):  ;
MPRINT(EM_DIAGRAM):   run;
MPRINT(EM_DIAGRAM):    proc freq data=_DMDB3CFSHB5 noprint;
MPRINT(EM_DIAGRAM):   table name / out=_DMDBCOUNT3CFSHB5(drop=percent rename=(count=NLEVEL));
MPRINT(EM_DIAGRAM):   run;
MPRINT(EM_DIAGRAM):   data _MISS3CFSHB5(rename=(frequency=NMISS));
MPRINT(EM_DIAGRAM):   set _DMDB3CFSHB5(where=(NRAW=. and CRAW=''));
MPRINT(EM_DIAGRAM):   keep name frequency;
MPRINT(EM_DIAGRAM):   run;
MPRINT(EM_DIAGRAM):   proc sort data=_MISS3CFSHB5;
MPRINT(EM_DIAGRAM):   by NAME;
MPRINT(EM_DIAGRAM):   run;
MPRINT(EM_DIAGRAM):   proc sort data=_DMDBCOUNT3CFSHB5;
MPRINT(EM_DIAGRAM):   by NAME;
MPRINT(EM_DIAGRAM):   run;
MPRINT(EM_DIAGRAM):    data _COUNTS3CFSHB5;
MPRINT(EM_DIAGRAM):   merge _DMDBCOUNT3CFSHB5 _MISS3CFSHB5;
MPRINT(EM_DIAGRAM):   label NLEVEL= 'Number of Category';
MPRINT(EM_DIAGRAM):   by name;
MPRINT(EM_DIAGRAM):   if NMISS > 0 then do;
MPRINT(EM_DIAGRAM):   NLEVEL= NLEVEL-1;
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   else NMISS = 0;
MPRINT(EM_DIAGRAM):   run;
MPRINT(EM_DIAGRAM):    proc sort data=_COUNTS3CFSHB5 NOTHREADS;
MPRINT(EM_DIAGRAM):   by name;
MPRINT(EM_DIAGRAM):   run;
MPRINT(EM_DIAGRAM):   proc sort data=WORK.M2KIY45B NOTHREADS;
MPRINT(EM_DIAGRAM):   by name;
MPRINT(EM_DIAGRAM):   run;
MPRINT(EM_DIAGRAM):   data WORK.M2KIY45B;
MPRINT(EM_DIAGRAM):   length NLEVEL 8 nmiss 8;
MPRINT(EM_DIAGRAM):   update WORK.M2KIY45B _COUNTS3CFSHB5;
MPRINT(EM_DIAGRAM):   by name;
MPRINT(EM_DIAGRAM):   if name='' then name='_';
MPRINT(EM_DIAGRAM):   if levelAssigned and ROLE ne 'FREQ' then do;
MPRINT(EM_DIAGRAM):   select(NLEVEL);
MPRINT(EM_DIAGRAM):   when(.) do;
MPRINT(EM_DIAGRAM):   if type eq 'C' then level = 'NOMINAL';
MPRINT(EM_DIAGRAM):   else level = 'INTERVAL';
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   when(0) level = 'UNARY';
MPRINT(EM_DIAGRAM):   when(1) level = 'UNARY';
MPRINT(EM_DIAGRAM):   when(2) level = 'BINARY';
MPRINT(EM_DIAGRAM):   otherwise do;
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   if roleAssigned then do;
MPRINT(EM_DIAGRAM):   if level = 'NOMINAL' and NLEVEL > 20 then do;
MPRINT(EM_DIAGRAM):   role = 'REJECTED';
MPRINT(EM_DIAGRAM):   comment = "Exceeds maximum number of levels cutoff";
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   if level = 'UNARY' and ROLE ne 'FREQ' then role='REJECTED';
MPRINT(EM_DIAGRAM):   drop NLEVEL nmiss;
MPRINT(EM_DIAGRAM):   label NAME = "Variable Name" TYPE = "Type" ROLE = "Role" LEVEL= 
"Measurement Level" ORDER= "Order" CREATOR= "Creator" FORMATTYPE= "Format Type" FAMILY= 
"Family" DISTRIBUTION= "Distribution" PRICE= "Price" LOWERLIMIT= "Lower limit" UPPERLIMIT= 
"Upper Limit" REPORT= "Report" COMMENT= "Comment" INDEX= "Index" INDEXTYPE= "IndexType" LABEL= 
"Label" LENGTH= "Length";
MPRINT(EM_DIAGRAM):   drop levelAssigned roleAssigned;
MPRINT(EM_DIAGRAM):   run;
3084493    title8 "%sysfunc(sasmsg(sashelp.dmine, rpt_clean_title, NOQUOTE))";
MPRINT(EM_DIAGRAM):    title8 "Cleanup Model";
3084494    data WORK.M2QD0RVS;
MPRINT(EM_DIAGRAM):   data WORK.M2QD0RVS;
3084495    set WORK.M2QD0RVS;
MPRINT(EM_DIAGRAM):   set WORK.M2QD0RVS;
3084496    if NAME='Element1' then delete;
MPRINT(EM_DIAGRAM):   if NAME='Element1' then delete;
3084497    if NAME='Element2' then delete;
MPRINT(EM_DIAGRAM):   if NAME='Element2' then delete;
3084498    if NAME='Element3' then delete;
MPRINT(EM_DIAGRAM):   if NAME='Element3' then delete;
3084499    if NAME='Element4' then delete;
MPRINT(EM_DIAGRAM):   if NAME='Element4' then delete;
3084500    if NAME='Group' then delete;
MPRINT(EM_DIAGRAM):   if NAME='Group' then delete;
3084501    if NAME='Z_CostContact' then delete;
MPRINT(EM_DIAGRAM):   if NAME='Z_CostContact' then delete;
3084502    if NAME='Z_Revenue' then delete;
MPRINT(EM_DIAGRAM):   if NAME='Z_Revenue' then delete;
3084503    if NAME='_WARN_' then delete;
MPRINT(EM_DIAGRAM):   if NAME='_WARN_' then delete;
3084504    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 27 observations read from the data set WORK.M2QD0RVS.
NOTE: The data set WORK.M2QD0RVS has 27 observations and 21 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

3084505    *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):    *------------------------------------------------------------*;
3084506    * Cleanup Model;
MPRINT(EM_DIAGRAM):   * Cleanup Model;
3084507    *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
3084508    *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
3084509    * NEURAL MODEL DepVar BINARY CM;
MPRINT(EM_DIAGRAM):   * NEURAL MODEL DepVar BINARY CM;
3084510    *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
3084511    *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
3084512    * Rule4: Create decision matrix;
MPRINT(EM_DIAGRAM):   * Rule4: Create decision matrix;
3084513    *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
3084514    data EM_Rule4;
MPRINT(EM_DIAGRAM):   data EM_Rule4;
3084515    set work._train(keep=
3084516    AcceptedCmp1 AcceptedCmp2 AcceptedCmp3 AcceptedCmp4 AcceptedCmp5
3084517    AcceptedCmpTotal Age Complain DepVar Education Frq HigherEducationBinary Income
3084518    Kidhome Marital_Status MntFishProducts MntFruits MntGoldProds MntSweetProducts
3084519    MonthsAsCustomer NumDealsPurchases NumWebVisitsMonth RFMstat RMntFrq Recency
3084520    Teenhome );
MPRINT(EM_DIAGRAM):   set work._train(keep= AcceptedCmp1 AcceptedCmp2 AcceptedCmp3 
AcceptedCmp4 AcceptedCmp5 AcceptedCmpTotal Age Complain DepVar Education Frq 
HigherEducationBinary Income Kidhome Marital_Status MntFishProducts MntFruits MntGoldProds 
MntSweetProducts MonthsAsCustomer NumDealsPurchases NumWebVisitsMonth RFMstat RMntFrq Recency 
Teenhome );
3084521    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 60 observations read from the data set WORK._TRAIN.
NOTE: The data set WORK.EM_RULE4 has 60 observations and 26 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

MPRINT(EM_DIAGRAM):   *------------------------------------------------------------* ;
MPRINT(EM_DIAGRAM):   * Rule4: DMDBClass Macro ;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------* ;
3084522    *------------------------------------------------------------* ;
3084523    * Rule4: DMDBClass Macro ;
3084524    *------------------------------------------------------------* ;
3084525    %macro DMDBClass;
3084526        AcceptedCmp1(ASC) AcceptedCmp2(ASC) AcceptedCmp3(ASC) AcceptedCmp4(ASC)
3084527       AcceptedCmp5(ASC) Complain(ASC) DepVar(DESC) Education(ASC)
3084528       HigherEducationBinary(ASC) Marital_Status(ASC)
3084529    %mend DMDBClass;
3084530    *------------------------------------------------------------* ;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------* ;
3084531    * Rule4: DMDBVar Macro ;
MPRINT(EM_DIAGRAM):   * Rule4: DMDBVar Macro ;
3084532    *------------------------------------------------------------* ;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------* ;
3084533    %macro DMDBVar;
3084534        AcceptedCmpTotal Age Frq Income Kidhome MntFishProducts MntFruits MntGoldProds
3084535       MntSweetProducts MonthsAsCustomer NumDealsPurchases NumWebVisitsMonth RFMstat
3084536       RMntFrq Recency Teenhome
3084537    %mend DMDBVar;
3084538    *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
3084539    * Rule4: Create DMDB;
MPRINT(EM_DIAGRAM):   * Rule4: Create DMDB;
3084540    *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
3084541    proc dmdb batch data=WORK.EM_Rule4
3084542    dmdbcat=WORK.Rule4_DMDB
3084543    maxlevel = 513
3084544    ;
MPRINT(EM_DIAGRAM):   proc dmdb batch data=WORK.EM_Rule4 dmdbcat=WORK.Rule4_DMDB maxlevel = 
513 ;
3084545    class %DMDBClass;
MPRINT(EM_DIAGRAM):   class
MPRINT(DMDBCLASS):   AcceptedCmp1(ASC) AcceptedCmp2(ASC) AcceptedCmp3(ASC) AcceptedCmp4(ASC) 
AcceptedCmp5(ASC) Complain(ASC) DepVar(DESC) Education(ASC) HigherEducationBinary(ASC) 
Marital_Status(ASC)
MPRINT(EM_DIAGRAM):  ;
3084546    var %DMDBVar;
MPRINT(EM_DIAGRAM):   var
MPRINT(DMDBVAR):   AcceptedCmpTotal Age Frq Income Kidhome MntFishProducts MntFruits 
MntGoldProds MntSweetProducts MonthsAsCustomer NumDealsPurchases NumWebVisitsMonth RFMstat 
RMntFrq Recency Teenhome
MPRINT(EM_DIAGRAM):  ;
3084547    target
3084548    DepVar
3084549    ;
MPRINT(EM_DIAGRAM):   target DepVar ;
3084550    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: Records processed = 60   Memory used = 511K.
NOTE: There were 60 observations read from the data set WORK.EM_RULE4.
NOTE: PROCEDURE DMDB used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

MPRINT(EM_DIAGRAM):   quit;
MPRINT(EM_DIAGRAM):   *--- end code ---*;
3084551    quit;
3084552    *--- end code ---*;

3084553    *------------------------------------------------------------* ;
MPRINT(EM_DIAGRAM):    *------------------------------------------------------------* ;
3084554    * Rule4: Interval Input Variables Macro ;
MPRINT(EM_DIAGRAM):   * Rule4: Interval Input Variables Macro ;
3084555    *------------------------------------------------------------* ;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------* ;
3084556    %macro INTINPUTS;
3084557        AcceptedCmpTotal Age Frq Income Kidhome MntFishProducts MntFruits MntGoldProds
3084558       MntSweetProducts MonthsAsCustomer NumDealsPurchases NumWebVisitsMonth RFMstat
3084559       RMntFrq Recency Teenhome
3084560    %mend INTINPUTS;
3084561    *------------------------------------------------------------* ;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------* ;
3084562    * Rule4: Binary Inputs Macro ;
MPRINT(EM_DIAGRAM):   * Rule4: Binary Inputs Macro ;
3084563    *------------------------------------------------------------* ;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------* ;
3084564    %macro BININPUTS;
3084565        AcceptedCmp1 AcceptedCmp2 AcceptedCmp3 AcceptedCmp4 AcceptedCmp5 Complain
3084566       HigherEducationBinary
3084567    %mend BININPUTS;
3084568    *------------------------------------------------------------* ;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------* ;
3084569    * Rule4: Nominal Inputs Macro ;
MPRINT(EM_DIAGRAM):   * Rule4: Nominal Inputs Macro ;
3084570    *------------------------------------------------------------* ;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------* ;
3084571    %macro NOMINPUTS;
3084572        Education Marital_Status
3084573    %mend NOMINPUTS;
3084574    *------------------------------------------------------------* ;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------* ;
3084575    * Rule4: Ordinal Inputs Macro ;
MPRINT(EM_DIAGRAM):   * Rule4: Ordinal Inputs Macro ;
3084576    *------------------------------------------------------------* ;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------* ;
3084577    %macro ORDINPUTS;
3084578    
3084579    %mend ORDINPUTS;
3084580    *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
3084581    * Neural Network Training;
MPRINT(EM_DIAGRAM):   * Neural Network Training;
3084582    ;
MPRINT(EM_DIAGRAM):   ;
3084583    *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
3084584    proc neural data=EM_Rule4 dmdbcat=WORK.Rule4_DMDB
3084585    validdata = work._valid
3084586    random=12345
3084587    ;
MPRINT(EM_DIAGRAM):   proc neural data=EM_Rule4 dmdbcat=WORK.Rule4_DMDB validdata = 
work._valid random=12345 ;
3084588    nloptions
3084589    noprint
3084590    ;
MPRINT(EM_DIAGRAM):   nloptions noprint ;
3084591    performance alldetails noutilfile;
MPRINT(EM_DIAGRAM):   performance alldetails noutilfile;
3084592    netopts
3084593    decay=0;
MPRINT(EM_DIAGRAM):   netopts decay=0;
3084594    input %INTINPUTS / level=interval id=intvl
MPRINT(EM_DIAGRAM):   input
MPRINT(INTINPUTS):   AcceptedCmpTotal Age Frq Income Kidhome MntFishProducts MntFruits 
MntGoldProds MntSweetProducts MonthsAsCustomer NumDealsPurchases NumWebVisitsMonth RFMstat 
RMntFrq Recency Teenhome
3084595    ;
MPRINT(EM_DIAGRAM):   / level=interval id=intvl ;
3084596    input %BININPUTS / level=nominal id=bin
MPRINT(EM_DIAGRAM):   input
MPRINT(BININPUTS):   AcceptedCmp1 AcceptedCmp2 AcceptedCmp3 AcceptedCmp4 AcceptedCmp5 Complain 
HigherEducationBinary
3084597    ;
MPRINT(EM_DIAGRAM):   / level=nominal id=bin ;
3084598    input %NOMINPUTS / level=nominal id=nom
MPRINT(EM_DIAGRAM):   input
MPRINT(NOMINPUTS):   Education Marital_Status
3084599    ;
MPRINT(EM_DIAGRAM):   / level=nominal id=nom ;
3084600    target DepVar / level=NOMINAL id=DepVar
3084601    bias
3084602    ;
MPRINT(EM_DIAGRAM):   target DepVar / level=NOMINAL id=DepVar bias ;
3084603    arch NRBFEQ
3084604    Hidden=3
3084605    ;
MPRINT(EM_DIAGRAM):   arch NRBFEQ Hidden=3 ;
3084606    Prelim 8 preiter=10
3084607    pretime=3600
3084608    Outest=WORK.PRELIMOUTEST_EMNEURAL_2AH2XVH
3084609    ;
MPRINT(EM_DIAGRAM):   Prelim 8 preiter=10 pretime=3600 
Outest=WORK.PRELIMOUTEST_EMNEURAL_2AH2XVH ;
NOTE:  Synchronizing the objectives and the Solution.
NOTE: LEVMAR Optimization cannot be completed.
NOTE: LEVMAR needs more than 10 iterations or 2147483647 function calls.
NOTE: LEVMAR Optimization cannot be completed.
NOTE: LEVMAR needs more than 10 iterations or 2147483647 function calls.
NOTE: LEVMAR Optimization cannot be completed.
NOTE: LEVMAR needs more than 10 iterations or 2147483647 function calls.
NOTE: Convergence criterion (ABSCONV=0.0034350989) satisfied.
NOTE: At least one element of the gradient is greater than 1e-3.
NOTE: Convergence criterion (ABSCONV=0.0034350989) satisfied.
NOTE: At least one element of the gradient is greater than 1e-3.
NOTE: LEVMAR Optimization cannot be completed.
NOTE: LEVMAR needs more than 10 iterations or 2147483647 function calls.
NOTE: LEVMAR Optimization cannot be completed.
NOTE: LEVMAR needs more than 10 iterations or 2147483647 function calls.
NOTE: LEVMAR Optimization cannot be completed.
NOTE: LEVMAR needs more than 10 iterations or 2147483647 function calls.
NOTE: The data set WORK.PRELIMOUTEST_EMNEURAL_2AH2XVH has 17 observations and 109 variables.
3084610    save network=WORK.NETWORK.dm_neural;
MPRINT(EM_DIAGRAM):   save network=WORK.NETWORK.dm_neural;
NOTE: Entry WORK.NETWORK.DM_NEURAL has been opened.
NOTE: Entry WORK.NETWORK.DM_NEURAL has been closed.
3084611    train Maxiter=20
3084612    maxtime=14400
3084613    Outest=WORK.Rule4_outest estiter=1
3084614    Outfit=_rnfit
3084615    ;
MPRINT(EM_DIAGRAM):   train Maxiter=20 maxtime=14400 Outest=WORK.Rule4_outest estiter=1 
Outfit=_rnfit ;
NOTE: Convergence criterion (ABSCONV=0.0034350989) satisfied.
NOTE: At least one element of the gradient is greater than 1e-3.
NOTE: The data set WORK.RULE4_OUTEST has 97 observations and 109 variables.
NOTE: The data set WORK._RNFIT has 4 observations and 36 variables.
3084616    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: The data set WORK.EM_RULE4 has 60 observations and 26 variables.
NOTE: The data set WORK._VALID has 26 observations and 26 variables.
NOTE: Closing the Neural Application.
NOTE: The PROCEDURE NEURAL printed page 2796.
NOTE: PROCEDURE NEURAL used (Total process time):
      real time           0.26 seconds
      cpu time            0.26 seconds
      

MPRINT(EM_DIAGRAM):   quit;
3084617    quit;

3084618    proc sort data=_rnfit(where=(_iter_ ne . and _NAME_="OVERALL")) out=fit_Rule4;
MPRINT(EM_DIAGRAM):    proc sort data=_rnfit(where=(_iter_ ne . and _NAME_="OVERALL")) 
out=fit_Rule4;
3084619    by _VAVERR_;
MPRINT(EM_DIAGRAM):   by _VAVERR_;
3084620    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 2 observations read from the data set WORK._RNFIT.
      WHERE (_iter_ not = .) and (_NAME_='OVERALL');
NOTE: The data set WORK.FIT_RULE4 has 2 observations and 36 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

3084621    %GLOBAL ITER;
3084622    data _null_;
MPRINT(EM_DIAGRAM):   data _null_;
3084623    set fit_Rule4(obs=1);
MPRINT(EM_DIAGRAM):   set fit_Rule4(obs=1);
3084624    call symput('ITER',put(_ITER_, 6.));
MPRINT(EM_DIAGRAM):   call symput('ITER',put(_ITER_, 6.));
3084625    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 1 observations read from the data set WORK.FIT_RULE4.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

3084626    data WORK.INITIAL_EMNEURAL_2AH2XVH;
MPRINT(EM_DIAGRAM):   data WORK.INITIAL_EMNEURAL_2AH2XVH;
3084627    set WORK.Rule4_outest(where=(_ITER_ eq &ITER and _OBJ_ ne .));
MPRINT(EM_DIAGRAM):   set WORK.Rule4_outest(where=(_ITER_ eq 0 and _OBJ_ ne .));
3084628    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 2 observations read from the data set WORK.RULE4_OUTEST.
      WHERE (_ITER_=0) and (_OBJ_ not = .);
NOTE: The data set WORK.INITIAL_EMNEURAL_2AH2XVH has 2 observations and 109 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

3084629    *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):    *------------------------------------------------------------*;
3084630    * Neural Network Model Selection;
MPRINT(EM_DIAGRAM):   * Neural Network Model Selection;
3084631    ;
MPRINT(EM_DIAGRAM):   ;
3084632    *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
3084633    proc neural data=EM_Rule4 dmdbcat=WORK.Rule4_DMDB
3084634    validdata = work._valid
3084635    network = WORK.NETWORK.dm_neural
3084636    random=12345
3084637    ;
MPRINT(EM_DIAGRAM):   proc neural data=EM_Rule4 dmdbcat=WORK.Rule4_DMDB validdata = 
work._valid network = WORK.NETWORK.dm_neural random=12345 ;
NOTE: Entry WORK.NETWORK.DM_NEURAL has been opened.
NOTE: Entry WORK.NETWORK.DM_NEURAL has been closed.
3084638    nloptions noprint;
MPRINT(EM_DIAGRAM):   nloptions noprint;
3084639    performance alldetails noutilfile;
MPRINT(EM_DIAGRAM):   performance alldetails noutilfile;
3084640    initial inest=WORK.INITIAL_EMNEURAL_2AH2XVH;
MPRINT(EM_DIAGRAM):   initial inest=WORK.INITIAL_EMNEURAL_2AH2XVH;
NOTE: The data set WORK.INITIAL_EMNEURAL_2AH2XVH has 2 observations and 109 variables.
3084641    train tech=NONE;
MPRINT(EM_DIAGRAM):   train tech=NONE;
NOTE: No optimization performed.
3084642    code file="C:\Users\LUKASF~1\AppData\Local\Temp\SAS Temporary
3084642  ! Files\_TD9752_WN7LF-LEAVE_\Prc2\CM.sas"
3084643    group=Rule4
3084644    ;
MPRINT(EM_DIAGRAM):   code file="C:\Users\LUKASF~1\AppData\Local\Temp\SAS Temporary 
Files\_TD9752_WN7LF-LEAVE_\Prc2\CM.sas" group=Rule4 ;
NOTE: External file C:\Users\LUKASF~1\AppData\Local\Temp\SAS Temporary 
      Files\_TD9752_WN7LF-LEAVE_\Prc2\CM.sas opened.
3084645    ;
MPRINT(EM_DIAGRAM):   ;
3084646    code file="C:\Users\LUKASF~1\AppData\Local\Temp\SAS Temporary
3084646  ! Files\_TD9752_WN7LF-LEAVE_\Prc2\CM_res.sas"
3084647    group=Rule4
3084648    residual
3084649    ;
MPRINT(EM_DIAGRAM):   code file="C:\Users\LUKASF~1\AppData\Local\Temp\SAS Temporary 
Files\_TD9752_WN7LF-LEAVE_\Prc2\CM_res.sas" group=Rule4 residual ;
NOTE: External file C:\Users\LUKASF~1\AppData\Local\Temp\SAS Temporary 
      Files\_TD9752_WN7LF-LEAVE_\Prc2\CM_res.sas opened.
3084650    ;
MPRINT(EM_DIAGRAM):   ;
3084651    score data=_train out=_ptrain
3084652    outkey=WORK.OUTKEY_EMNEURAL_2AH2XVH;
MPRINT(EM_DIAGRAM):   score data=_train out=_ptrain outkey=WORK.OUTKEY_EMNEURAL_2AH2XVH;
NOTE: The data set WORK.OUTKEY_EMNEURAL_2AH2XVH has 29 observations and 8 variables.
NOTE: The data set WORK._TRAIN has 60 observations and 26 variables.
NOTE: The data set WORK._PTRAIN has 60 observations and 55 variables.
3084653    score data=_valid out=_pvalid
3084654    outkey=WORK.OUTKEY_EMNEURAL_2AH2XVH;
MPRINT(EM_DIAGRAM):   score data=_valid out=_pvalid outkey=WORK.OUTKEY_EMNEURAL_2AH2XVH;
NOTE: The data set WORK.OUTKEY_EMNEURAL_2AH2XVH has 29 observations and 8 variables.
NOTE: The data set WORK._VALID has 26 observations and 26 variables.
NOTE: The data set WORK._PVALID has 26 observations and 55 variables.
3084655    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: The data set WORK.EM_RULE4 has 60 observations and 26 variables.
NOTE: The data set WORK._VALID has 26 observations and 26 variables.
NOTE: Closing the Neural Application.
NOTE: PROCEDURE NEURAL used (Total process time):
      real time           0.03 seconds
      cpu time            0.03 seconds
      

MPRINT(EM_DIAGRAM):   quit;
3084656    quit;
3084657    data _rnest;
MPRINT(EM_DIAGRAM):   data _rnest;
3084658    set WORK.Rule4_outest;
MPRINT(EM_DIAGRAM):   set WORK.Rule4_outest;
3084659    if _type_ ^in('HESSIAN' 'GRAD');
MPRINT(EM_DIAGRAM):   if _type_ ^in('HESSIAN' 'GRAD');
3084660    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 97 observations read from the data set WORK.RULE4_OUTEST.
NOTE: The data set WORK._RNEST has 2 observations and 109 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

3084661    proc datasets lib=work nolist;
MPRINT(EM_DIAGRAM):   proc datasets lib=work nolist;
3084662    delete EM_Rule4;
MPRINT(EM_DIAGRAM):   delete EM_Rule4;
3084663    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: Deleting WORK.EM_RULE4 (memtype=DATA).
3084664    quit;
MPRINT(EM_DIAGRAM):   quit;

NOTE: PROCEDURE DATASETS used (Total process time):
      real time           0.06 seconds
      cpu time            0.06 seconds
      

3084665    * CLEANUP: Training Classification;
MPRINT(EM_DIAGRAM):    * CLEANUP: Training Classification;
3084666    ;
MPRINT(EM_DIAGRAM):   ;
3084667    proc freq data= _ptrain noprint;
MPRINT(EM_DIAGRAM):   proc freq data= _ptrain noprint;
3084668    tables F_DepVar * I_DepVar / out = _count;
MPRINT(EM_DIAGRAM):   tables F_DepVar * I_DepVar / out = _count;
3084669    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 60 observations read from the data set WORK._PTRAIN.
NOTE: The data set WORK._COUNT has 2 observations and 4 variables.
NOTE: PROCEDURE FREQ used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      

3084670    data _count;
MPRINT(EM_DIAGRAM):   data _count;
3084671    set _count;
MPRINT(EM_DIAGRAM):   set _count;
3084672    label count = "%sysfunc(sasmsg(sashelp.dmine, rpt_traincount_vlabel, NOQUOTE))";
MPRINT(EM_DIAGRAM):   label count = "Train Count";
3084673    label percent = "%sysfunc(sasmsg(sashelp.dmine, rpt_trainpercent_vlabel, NOQUOTE))";
MPRINT(EM_DIAGRAM):   label percent = "Train Percent";
3084674    label F_DepVar = "%sysfunc(sasmsg(sashelp.dmine, rpt_target_vlabel, NOQUOTE))";
MPRINT(EM_DIAGRAM):   label F_DepVar = "Target";
3084675    label I_DepVar = "%sysfunc(sasmsg(sashelp.dmine, rpt_predict_vlabel, NOQUOTE))";
MPRINT(EM_DIAGRAM):   label I_DepVar = "Predict";
3084676    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 2 observations read from the data set WORK._COUNT.
NOTE: The data set WORK._COUNT has 2 observations and 4 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

MPRINT(EM_DIAGRAM):   * CLEANUP: Validation Classification;
MPRINT(EM_DIAGRAM):   ;
3084677    * CLEANUP: Validation Classification;
3084678    ;
3084679    proc freq data= _pvalid noprint;
MPRINT(EM_DIAGRAM):   proc freq data= _pvalid noprint;
3084680    tables F_DepVar * I_DepVar / out = _vcount;
MPRINT(EM_DIAGRAM):   tables F_DepVar * I_DepVar / out = _vcount;
3084681    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 26 observations read from the data set WORK._PVALID.
NOTE: The data set WORK._VCOUNT has 2 observations and 4 variables.
NOTE: PROCEDURE FREQ used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

3084682    data _vcount;
MPRINT(EM_DIAGRAM):   data _vcount;
3084683    set _vcount;
MPRINT(EM_DIAGRAM):   set _vcount;
3084684    length key $64;
MPRINT(EM_DIAGRAM):   length key $64;
3084685    label count = "%sysfunc(sasmsg(sashelp.dmine, rpt_validcount_vlabel, NOQUOTE))";
MPRINT(EM_DIAGRAM):   label count = "Valid Count";
3084686    label percent = "%sysfunc(sasmsg(sashelp.dmine, rpt_validpercent_vlabel, NOQUOTE))";
MPRINT(EM_DIAGRAM):   label percent = "Valid Percent";
3084687    label F_DepVar = "%sysfunc(sasmsg(sashelp.dmine, rpt_target_vlabel, NOQUOTE))";
MPRINT(EM_DIAGRAM):   label F_DepVar = "Target";
3084688    label I_DepVar = "%sysfunc(sasmsg(sashelp.dmine, rpt_predict_vlabel, NOQUOTE))";
MPRINT(EM_DIAGRAM):   label I_DepVar = "Predict";
3084689    rename count = vcount;
MPRINT(EM_DIAGRAM):   rename count = vcount;
3084690    rename percent= vpercent;
MPRINT(EM_DIAGRAM):   rename percent= vpercent;
3084691    key = ktrim(kleft(F_DepVar) !! '_' !! ktrim(kleft(I_DepVar)));
MPRINT(EM_DIAGRAM):   key = ktrim(kleft(F_DepVar) !! '_' !! ktrim(kleft(I_DepVar)));
3084692    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 2 observations read from the data set WORK._VCOUNT.
NOTE: The data set WORK._VCOUNT has 2 observations and 5 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

MPRINT(EM_DIAGRAM):   *;
3084693    *;
3084694    data _count;
MPRINT(EM_DIAGRAM):   data _count;
3084695    set _count;
MPRINT(EM_DIAGRAM):   set _count;
3084696    length key $64;
MPRINT(EM_DIAGRAM):   length key $64;
3084697    key = ktrim(kleft(F_DepVar) !!'_' !!ktrim(kleft(I_DepVar)));
MPRINT(EM_DIAGRAM):   key = ktrim(kleft(F_DepVar) !!'_' !!ktrim(kleft(I_DepVar)));
3084698    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 2 observations read from the data set WORK._COUNT.
NOTE: The data set WORK._COUNT has 2 observations and 5 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

MPRINT(EM_DIAGRAM):   * Merge Train and Valid classification;
MPRINT(EM_DIAGRAM):   ;
3084699    * Merge Train and Valid classification;
3084700    ;
3084701    proc sort data=_count;
MPRINT(EM_DIAGRAM):   proc sort data=_count;
3084702    by key;
MPRINT(EM_DIAGRAM):   by key;
3084703    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 2 observations read from the data set WORK._COUNT.
NOTE: The data set WORK._COUNT has 2 observations and 5 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

3084704    proc sort data=_vcount;
MPRINT(EM_DIAGRAM):   proc sort data=_vcount;
3084705    by key;
MPRINT(EM_DIAGRAM):   by key;
3084706    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 2 observations read from the data set WORK._VCOUNT.
NOTE: The data set WORK._VCOUNT has 2 observations and 5 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

MPRINT(EM_DIAGRAM):   *;
3084707    *;
3084708    data _count;
MPRINT(EM_DIAGRAM):   data _count;
3084709    merge _count _vcount;
MPRINT(EM_DIAGRAM):   merge _count _vcount;
3084710    by key;
MPRINT(EM_DIAGRAM):   by key;
3084711    drop key;
MPRINT(EM_DIAGRAM):   drop key;
3084712    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 2 observations read from the data set WORK._COUNT.
NOTE: There were 2 observations read from the data set WORK._VCOUNT.
NOTE: The data set WORK._COUNT has 3 observations and 6 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

MPRINT(EM_DIAGRAM):   * CLEANUP: Print Classification;
MPRINT(EM_DIAGRAM):   ;
3084713    * CLEANUP: Print Classification;
3084714    ;
3084715    title9 "%sysfunc(sasmsg(sashelp.dmine, rpt_cleanup_title, NOQUOTE, DepVar))";
MPRINT(EM_DIAGRAM):   title9 "TARGET=DepVar : Cleanup Model";
3084716    title10 "%sysfunc(sasmsg(sashelp.dmine, rpt_classification_title, NOQUOTE))";
MPRINT(EM_DIAGRAM):   title10 "Classification Table";
3084717    proc print data = _count noobs label;
MPRINT(EM_DIAGRAM):   proc print data = _count noobs label;
3084718    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 3 observations read from the data set WORK._COUNT.
NOTE: The PROCEDURE PRINT printed page 2797.
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

3084719    title9;
MPRINT(EM_DIAGRAM):   title9;
3084720    title10;
MPRINT(EM_DIAGRAM):   title10;
3084721    title8;
MPRINT(EM_DIAGRAM):    title8;
3084722    proc datasets lib=work nolist;
MPRINT(EM_DIAGRAM):    proc datasets lib=work nolist;
3084723    delete _train;
MPRINT(EM_DIAGRAM):   delete _train;
3084724    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: Deleting WORK._TRAIN (memtype=DATA).
3084725    proc datasets lib=work nolist;
NOTE: PROCEDURE DATASETS used (Total process time):
      real time           0.06 seconds
      cpu time            0.06 seconds
      

MPRINT(EM_DIAGRAM):   proc datasets lib=work nolist;
3084726    delete _ptrain;
MPRINT(EM_DIAGRAM):   delete _ptrain;
3084727    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: Deleting WORK._PTRAIN (memtype=DATA).
3084728    proc datasets lib=work nolist;
NOTE: PROCEDURE DATASETS used (Total process time):
      real time           0.06 seconds
      cpu time            0.07 seconds
      

MPRINT(EM_DIAGRAM):   proc datasets lib=work nolist;
3084729    delete _valid;
MPRINT(EM_DIAGRAM):   delete _valid;
3084730    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: Deleting WORK._VALID (memtype=DATA).
3084731    proc datasets lib=work nolist;
NOTE: PROCEDURE DATASETS used (Total process time):
      real time           0.06 seconds
      cpu time            0.06 seconds
      

MPRINT(EM_DIAGRAM):   proc datasets lib=work nolist;
3084732    delete _pvalid;
MPRINT(EM_DIAGRAM):   delete _pvalid;
3084733    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: Deleting WORK._PVALID (memtype=DATA).
3084734    %makeResidualVars(target=DepVar, decmeta=EMWS8.Rule4_DepVar_DM , fref=#LN23426);
NOTE: PROCEDURE DATASETS used (Total process time):
      real time           0.14 seconds
      cpu time            0.14 seconds
      

MPRINT(MAKERESIDUALVARS):   data _null_;
MPRINT(MAKERESIDUALVARS):   set EMWS8.Rule4_DepVar_DM end=eof;
MPRINT(MAKERESIDUALVARS):   where _TYPE_ in('TARGET', 'FROM');
MPRINT(MAKERESIDUALVARS):   if _TYPE_='TARGET' then call symput('target_level', strip(LEVEL));
MPRINT(MAKERESIDUALVARS):   else call symput('from_var', strip(VARIABLE));
MPRINT(MAKERESIDUALVARS):   run;

NOTE: There were 2 observations read from the data set EMWS8.RULE4_DEPVAR_DM.
      WHERE _TYPE_ in ('FROM', 'TARGET');
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

MPRINT(MAKERESIDUALVARS):   data _null_;
MPRINT(MAKERESIDUALVARS):   set EMWS8.Rule4_DepVar_DM;
MPRINT(MAKERESIDUALVARS):   where _TYPE_ ='PREDICTED';
MPRINT(MAKERESIDUALVARS):   call symput('pred_vars'!!strip(put(_N_,BEST.)), strip(Variable));
MPRINT(MAKERESIDUALVARS):   run;

NOTE: There were 2 observations read from the data set EMWS8.RULE4_DEPVAR_DM.
      WHERE _TYPE_='PREDICTED';
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

MPRINT(MAKERESIDUALVARS):   data _null_;
MPRINT(MAKERESIDUALVARS):   set EMWS8.Rule4_DepVar_DM end=eof;
MPRINT(MAKERESIDUALVARS):   where _TYPE_ ='RESIDUAL';
MPRINT(MAKERESIDUALVARS):   call symput('res_vars'!!strip(put(_N_,BEST.)), strip(Variable));
MPRINT(MAKERESIDUALVARS):   call symput('res_labels'!!strip(put(_N_,BEST.)), 
strip(tranwrd(LABEL,"'","''")));
MPRINT(MAKERESIDUALVARS):   call symput('res_levels'!!strip(put(_N_,BEST.)), 
strip(tranwrd(LEVEL,"'","''")));
MPRINT(MAKERESIDUALVARS):   if eof then call symput('numLevels', strip(put(_N_,BEST.)));
MPRINT(MAKERESIDUALVARS):   run;

NOTE: There were 2 observations read from the data set EMWS8.RULE4_DEPVAR_DM.
      WHERE _TYPE_='RESIDUAL';
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

MPRINT(MAKERESIDUALVARS):   data _null_;
MPRINT(MAKERESIDUALVARS):   file #LN23426;
MPRINT(MAKERESIDUALVARS):   put 
"*------------------------------------------------------------*;";
MPRINT(MAKERESIDUALVARS):   put "*Computing Residual Vars: DepVar;";
MPRINT(MAKERESIDUALVARS):   put 
"*------------------------------------------------------------*;";
MPRINT(MAKERESIDUALVARS):   put "Label R_DepVar1='Residual: DepVar=1';";
MPRINT(MAKERESIDUALVARS):   put "Label R_DepVar0='Residual: DepVar=0';";
MPRINT(MAKERESIDUALVARS):   put "if ";
MPRINT(MAKERESIDUALVARS):   put " F_DepVar ne '1'";
MPRINT(MAKERESIDUALVARS):   put "and F_DepVar ne '0'";
MPRINT(MAKERESIDUALVARS):   put " then do;";
MPRINT(MAKERESIDUALVARS):   put "R_DepVar1=.;";
MPRINT(MAKERESIDUALVARS):   put "R_DepVar0=.;";
MPRINT(MAKERESIDUALVARS):   put "end;";
MPRINT(MAKERESIDUALVARS):   put "else do;";
MPRINT(MAKERESIDUALVARS):   put "R_DepVar1= - P_DepVar1;";
MPRINT(MAKERESIDUALVARS):   put "R_DepVar0= - P_DepVar0;";
MPRINT(MAKERESIDUALVARS):   put "select(F_DepVar);";
MPRINT(MAKERESIDUALVARS):   put "when('1')R_DepVar1= R_DepVar1+1;";
MPRINT(MAKERESIDUALVARS):   put "when('0')R_DepVar0= R_DepVar0+1;";
MPRINT(MAKERESIDUALVARS):   put 'otherwise;';
MPRINT(MAKERESIDUALVARS):   put 'end;';
MPRINT(MAKERESIDUALVARS):   put 'end;';
MPRINT(MAKERESIDUALVARS):   run;

NOTE: The file #LN23426 is:
      Filename=C:\\predictive-models-project\Workspaces\EMWS8\Rule4\RESIDUALCODE.sas,
      RECFM=V,LRECL=256,File Size (bytes)=0,
      Last Modified=28. April 2016 11.02 Uhr,
      Create Time=27. April 2016 21.27 Uhr

NOTE: 21 records were written to the file #LN23426.
      The minimum record length was 3.
      The maximum record length was 63.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

MPRINT(EM_DIAGRAM):  ;

MPRINT(EM_DIAGRAM):    proc printto;
MPRINT(EM_DIAGRAM):   run;
