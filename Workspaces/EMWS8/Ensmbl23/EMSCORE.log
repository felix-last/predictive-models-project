MPRINT(EM_DIAGRAM):    data _null_;
MPRINT(EM_DIAGRAM):   call symput('NLDATE', strip(put(date(), NLDATE.)));
MPRINT(EM_DIAGRAM):   call symput('NLTIME', strip(put(datetime(), NLTIME.)));
MPRINT(EM_DIAGRAM):   run;
MPRINT(EM_DIAGRAM):   data _null_;
MPRINT(EM_DIAGRAM):   nldate= sasmsg("sashelp.dmine", "log_date_note", 'N', "20. April 2016" );
MPRINT(EM_DIAGRAM):   nltime= sasmsg("sashelp.dmine", "log_time_note", 'N', "17.36 Uhr" );
MPRINT(EM_DIAGRAM):   put "*------------------------------------------------------------*";
MPRINT(EM_DIAGRAM):   put "* Score Log";
MPRINT(EM_DIAGRAM):   put nldate;
MPRINT(EM_DIAGRAM):   put nltime;
MPRINT(EM_DIAGRAM):   put "*------------------------------------------------------------*";
MPRINT(EM_DIAGRAM):   run;
*------------------------------------------------------------*
* Score Log
Date:                20. April 2016
Time:                17.36 Uhr
*------------------------------------------------------------*
MPRINT(EM_DIAGRAM):    filename O0TYJ6KR 
"C:\\predictive-models-project\Workspaces\EMWS8\Ensmbl23\EMSCORE.out" encoding="UTF-8" NOBOM;
MPRINT(EM_DIAGRAM):   proc printto print=O0TYJ6KR new;
MPRINT(EM_DIAGRAM):   run;
2138632    filename emflow
2138632  ! "C:\\predictive-models-project\Workspaces\EMWS8\Ensmbl23\EMFLOWSCORE.sas";
MPRINT(EM_DIAGRAM):    filename emflow 
"C:\\predictive-models-project\Workspaces\EMWS8\Ensmbl23\EMFLOWSCORE.sas";
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   * Ensmbl23: Scoring NEURAL41_TRAIN data;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
2138633    *------------------------------------------------------------*;
2138634    * Ensmbl23: Scoring NEURAL41_TRAIN data;
2138635    *------------------------------------------------------------*;
2138636    data EMWS8.Ensmbl23_TRAIN
2138637    / view=EMWS8.Ensmbl23_TRAIN
2138638    ;
MPRINT(EM_DIAGRAM):   data EMWS8.Ensmbl23_TRAIN / view=EMWS8.Ensmbl23_TRAIN ;
2138639    set EMWS8.Neural41_TRAIN
2138640    ;
MPRINT(EM_DIAGRAM):   set EMWS8.Neural41_TRAIN ;
2138641    %inc emflow;
NOTE: %INCLUDE (level 1) file EMFLOW is file 
      C:\\predictive-models-project\Workspaces\EMWS8\Ensmbl23\EMFLOWSCORE.sas.
2138642   +*------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
2138643   +* Ensmbl23: Combine model for DepVar;
MPRINT(EM_DIAGRAM):   * Ensmbl23: Combine model for DepVar;
2138644   +*------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
2138645   +* Ensmbl23: Scoring Code of model 1 of 5;
MPRINT(EM_DIAGRAM):   * Ensmbl23: Scoring Code of model 1 of 5;
2138646   +*------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
2138647   +*------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
2138648   +* TOOL: Extension Class;
MPRINT(EM_DIAGRAM):   * TOOL: Extension Class;
2138649   +* TYPE: SAMPLE;
MPRINT(EM_DIAGRAM):   * TYPE: SAMPLE;
2138650   +* NODE: FIMPORT;
MPRINT(EM_DIAGRAM):   * NODE: FIMPORT;
2138651   +*------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
2138652   +*------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
2138653   +* TOOL: Statistics Exploration;
MPRINT(EM_DIAGRAM):   * TOOL: Statistics Exploration;
2138654   +* TYPE: EXPLORE;
MPRINT(EM_DIAGRAM):   * TYPE: EXPLORE;
2138655   +* NODE: Stat;
MPRINT(EM_DIAGRAM):   * NODE: Stat;
2138656   +*------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
2138657   +*------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
2138658   +* TOOL: Filtering;
MPRINT(EM_DIAGRAM):   * TOOL: Filtering;
2138659   +* TYPE: MODIFY;
MPRINT(EM_DIAGRAM):   * TYPE: MODIFY;
2138660   +* NODE: Filter;
MPRINT(EM_DIAGRAM):   * NODE: Filter;
2138661   +*------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
2138662   +*------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
2138663   +* TOOL: SASHELP.EMCORE.EMCODETOOL.CLASS;
MPRINT(EM_DIAGRAM):   * TOOL: SASHELP.EMCORE.EMCODETOOL.CLASS;
2138664   +* TYPE: UTILITY;
MPRINT(EM_DIAGRAM):   * TYPE: UTILITY;
2138665   +* NODE: EMCODE4;
MPRINT(EM_DIAGRAM):   * NODE: EMCODE4;
2138666   +*------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
2138667   +
2138668   +  Frq=NumStorePurchases+NumWebPurchases+NumCatalogPurchases;
MPRINT(EM_DIAGRAM):   Frq=NumStorePurchases+NumWebPurchases+NumCatalogPurchases;
2138669   +  Mnt=MntFishProducts+MntFruits+MntGoldProds+MntMeatProducts+MntSweetProducts+MntWin
2138669  !+es;
MPRINT(EM_DIAGRAM):   
Mnt=MntFishProducts+MntFruits+MntGoldProds+MntMeatProducts+MntSweetProducts+MntWines;
2138670   +  RMntFrq=Mnt/Frq;
MPRINT(EM_DIAGRAM):   RMntFrq=Mnt/Frq;
2138671   +  RFMstat=(Mnt*Frq)/(Recency+1);
MPRINT(EM_DIAGRAM):   RFMstat=(Mnt*Frq)/(Recency+1);
2138672   +  HigherEducation=1*(upcase(Education) in ("GRADUATION","MASTER","PHD"));
MPRINT(EM_DIAGRAM):   HigherEducation=1*(upcase(Education) in ("GRADUATION","MASTER","PHD"));
2138673   +  Age = year(today())-Year_Birth;
MPRINT(EM_DIAGRAM):   Age = year(today())-Year_Birth;
2138674   +  AcceptedCmpTotal=AcceptedCmp1+AcceptedCmp2+AcceptedCmp3+AcceptedCmp4+AcceptedCmp5;
MPRINT(EM_DIAGRAM):   
AcceptedCmpTotal=AcceptedCmp1+AcceptedCmp2+AcceptedCmp3+AcceptedCmp4+AcceptedCmp5;
2138675   +*------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
2138676   +* TOOL: Transform;
MPRINT(EM_DIAGRAM):   * TOOL: Transform;
2138677   +* TYPE: MODIFY;
MPRINT(EM_DIAGRAM):   * TYPE: MODIFY;
2138678   +* NODE: Trans;
MPRINT(EM_DIAGRAM):   * NODE: Trans;
2138679   +*------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
2138680   +*------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
2138681   +* Formula Code;
MPRINT(EM_DIAGRAM):   * Formula Code;
2138682   +*------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
2138683   +MonthsAsCustomer =int((today()-Dt_Customer)/12) ;
MPRINT(EM_DIAGRAM):   MonthsAsCustomer =int((today()-Dt_Customer)/12) ;
2138684   +HigherEducationBinary =HigherEducation ;
MPRINT(EM_DIAGRAM):   HigherEducationBinary =HigherEducation ;
2138685   +NumDistPurchases =NumCatalogPurchases + NumWebPurchases ;
MPRINT(EM_DIAGRAM):   NumDistPurchases =NumCatalogPurchases + NumWebPurchases ;
2138686   +*------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
2138687   +* TOOL: Partition Class;
MPRINT(EM_DIAGRAM):   * TOOL: Partition Class;
2138688   +* TYPE: SAMPLE;
MPRINT(EM_DIAGRAM):   * TYPE: SAMPLE;
2138689   +* NODE: Part;
MPRINT(EM_DIAGRAM):   * NODE: Part;
2138690   +*------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
2138691   +*------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
2138692   +* TOOL: Metadata Node;
MPRINT(EM_DIAGRAM):   * TOOL: Metadata Node;
2138693   +* TYPE: UTILITY;
MPRINT(EM_DIAGRAM):   * TYPE: UTILITY;
2138694   +* NODE: Meta3;
MPRINT(EM_DIAGRAM):   * NODE: Meta3;
2138695   +*------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
2138696   +*------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
2138697   +* TOOL: Neural;
MPRINT(EM_DIAGRAM):   * TOOL: Neural;
2138698   +* TYPE: MODEL;
MPRINT(EM_DIAGRAM):   * TYPE: MODEL;
2138699   +* NODE: Neural41;
MPRINT(EM_DIAGRAM):   * NODE: Neural41;
2138700   +*------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
2138701   +***********************************;
MPRINT(EM_DIAGRAM):   ***********************************;
2138702   +*** Begin Scoring Code for Neural;
MPRINT(EM_DIAGRAM):   *** Begin Scoring Code for Neural;
2138703   +***********************************;
MPRINT(EM_DIAGRAM):   ***********************************;
2138704   +DROP _DM_BAD _EPS _NOCL_ _MAX_ _MAXP_ _SUM_ _NTRIALS;
MPRINT(EM_DIAGRAM):   DROP _DM_BAD _EPS _NOCL_ _MAX_ _MAXP_ _SUM_ _NTRIALS;
2138705   + _DM_BAD = 0;
MPRINT(EM_DIAGRAM):   _DM_BAD = 0;
2138706   + _NOCL_ = .;
MPRINT(EM_DIAGRAM):   _NOCL_ = .;
2138707   + _MAX_ = .;
MPRINT(EM_DIAGRAM):   _MAX_ = .;
2138708   + _MAXP_ = .;
MPRINT(EM_DIAGRAM):   _MAXP_ = .;
2138709   + _SUM_ = .;
MPRINT(EM_DIAGRAM):   _SUM_ = .;
2138710   + _NTRIALS = .;
MPRINT(EM_DIAGRAM):   _NTRIALS = .;
2138711   + _EPS =                1E-10;
MPRINT(EM_DIAGRAM):   _EPS = 1E-10;
2138712   +LENGTH _WARN_ $4
2138713   +      F_DepVar  $ 12
2138714   +;
MPRINT(EM_DIAGRAM):   LENGTH _WARN_ $4 F_DepVar $ 12 ;
2138715   +      label S_AcceptedCmpTotal = 'Standard: AcceptedCmpTotal' ;
MPRINT(EM_DIAGRAM):   label S_AcceptedCmpTotal = 'Standard: AcceptedCmpTotal' ;
2138716   +
2138717   +      label S_Age = 'Standard: Age' ;
MPRINT(EM_DIAGRAM):   label S_Age = 'Standard: Age' ;
2138718   +
2138719   +      label S_Frq = 'Standard: Frq' ;
MPRINT(EM_DIAGRAM):   label S_Frq = 'Standard: Frq' ;
2138720   +
2138721   +      label S_Income = 'Standard: Income' ;
MPRINT(EM_DIAGRAM):   label S_Income = 'Standard: Income' ;
2138722   +
2138723   +      label S_Kidhome = 'Standard: Kidhome' ;
MPRINT(EM_DIAGRAM):   label S_Kidhome = 'Standard: Kidhome' ;
2138724   +
2138725   +      label S_MntFishProducts = 'Standard: MntFishProducts' ;
MPRINT(EM_DIAGRAM):   label S_MntFishProducts = 'Standard: MntFishProducts' ;
2138726   +
2138727   +      label S_MntFruits = 'Standard: MntFruits' ;
MPRINT(EM_DIAGRAM):   label S_MntFruits = 'Standard: MntFruits' ;
2138728   +
2138729   +      label S_MntGoldProds = 'Standard: MntGoldProds' ;
MPRINT(EM_DIAGRAM):   label S_MntGoldProds = 'Standard: MntGoldProds' ;
2138730   +
2138731   +      label S_MntSweetProducts = 'Standard: MntSweetProducts' ;
MPRINT(EM_DIAGRAM):   label S_MntSweetProducts = 'Standard: MntSweetProducts' ;
2138732   +
2138733   +      label S_MonthsAsCustomer = 'Standard: MonthsAsCustomer' ;
MPRINT(EM_DIAGRAM):   label S_MonthsAsCustomer = 'Standard: MonthsAsCustomer' ;
2138734   +
2138735   +      label S_NumDealsPurchases = 'Standard: NumDealsPurchases' ;
MPRINT(EM_DIAGRAM):   label S_NumDealsPurchases = 'Standard: NumDealsPurchases' ;
2138736   +
2138737   +      label S_NumWebVisitsMonth = 'Standard: NumWebVisitsMonth' ;
MPRINT(EM_DIAGRAM):   label S_NumWebVisitsMonth = 'Standard: NumWebVisitsMonth' ;
2138738   +
2138739   +      label S_RFMstat = 'Standard: RFMstat' ;
MPRINT(EM_DIAGRAM):   label S_RFMstat = 'Standard: RFMstat' ;
2138740   +
2138741   +      label S_RMntFrq = 'Standard: RMntFrq' ;
MPRINT(EM_DIAGRAM):   label S_RMntFrq = 'Standard: RMntFrq' ;
2138742   +
2138743   +      label S_Recency = 'Standard: Recency' ;
MPRINT(EM_DIAGRAM):   label S_Recency = 'Standard: Recency' ;
2138744   +
2138745   +      label S_Teenhome = 'Standard: Teenhome' ;
MPRINT(EM_DIAGRAM):   label S_Teenhome = 'Standard: Teenhome' ;
2138746   +
2138747   +      label AcceptedCmp10 = 'Dummy: AcceptedCmp1=0' ;
MPRINT(EM_DIAGRAM):   label AcceptedCmp10 = 'Dummy: AcceptedCmp1=0' ;
2138748   +
2138749   +      label AcceptedCmp20 = 'Dummy: AcceptedCmp2=0' ;
MPRINT(EM_DIAGRAM):   label AcceptedCmp20 = 'Dummy: AcceptedCmp2=0' ;
2138750   +
2138751   +      label AcceptedCmp30 = 'Dummy: AcceptedCmp3=0' ;
MPRINT(EM_DIAGRAM):   label AcceptedCmp30 = 'Dummy: AcceptedCmp3=0' ;
2138752   +
2138753   +      label AcceptedCmp40 = 'Dummy: AcceptedCmp4=0' ;
MPRINT(EM_DIAGRAM):   label AcceptedCmp40 = 'Dummy: AcceptedCmp4=0' ;
2138754   +
2138755   +      label AcceptedCmp50 = 'Dummy: AcceptedCmp5=0' ;
MPRINT(EM_DIAGRAM):   label AcceptedCmp50 = 'Dummy: AcceptedCmp5=0' ;
2138756   +
2138757   +      label Complain0 = 'Dummy: Complain=0' ;
MPRINT(EM_DIAGRAM):   label Complain0 = 'Dummy: Complain=0' ;
2138758   +
2138759   +      label HigherEducationBinary0 = 'Dummy: HigherEducationBinary=0' ;
MPRINT(EM_DIAGRAM):   label HigherEducationBinary0 = 'Dummy: HigherEducationBinary=0' ;
2138760   +
2138761   +      label Education2n_Cycle = 'Dummy: Education=2n Cycle' ;
MPRINT(EM_DIAGRAM):   label Education2n_Cycle = 'Dummy: Education=2n Cycle' ;
2138762   +
2138763   +      label EducationBasic = 'Dummy: Education=Basic' ;
MPRINT(EM_DIAGRAM):   label EducationBasic = 'Dummy: Education=Basic' ;
2138764   +
2138765   +      label EducationGraduation = 'Dummy: Education=Graduation' ;
MPRINT(EM_DIAGRAM):   label EducationGraduation = 'Dummy: Education=Graduation' ;
2138766   +
2138767   +      label EducationMaster = 'Dummy: Education=Master' ;
MPRINT(EM_DIAGRAM):   label EducationMaster = 'Dummy: Education=Master' ;
2138768   +
2138769   +      label Marital_StatusDivorced = 'Dummy: Marital_Status=Divorced' ;
MPRINT(EM_DIAGRAM):   label Marital_StatusDivorced = 'Dummy: Marital_Status=Divorced' ;
2138770   +
2138771   +      label Marital_StatusMarried = 'Dummy: Marital_Status=Married' ;
MPRINT(EM_DIAGRAM):   label Marital_StatusMarried = 'Dummy: Marital_Status=Married' ;
2138772   +
2138773   +      label Marital_StatusSingle = 'Dummy: Marital_Status=Single' ;
MPRINT(EM_DIAGRAM):   label Marital_StatusSingle = 'Dummy: Marital_Status=Single' ;
2138774   +
2138775   +      label Marital_StatusTogether = 'Dummy: Marital_Status=Together' ;
MPRINT(EM_DIAGRAM):   label Marital_StatusTogether = 'Dummy: Marital_Status=Together' ;
2138776   +
2138777   +      label H11 = 'Hidden: H1=1' ;
MPRINT(EM_DIAGRAM):   label H11 = 'Hidden: H1=1' ;
2138778   +
2138779   +      label H12 = 'Hidden: H1=2' ;
MPRINT(EM_DIAGRAM):   label H12 = 'Hidden: H1=2' ;
2138780   +
2138781   +      label H13 = 'Hidden: H1=3' ;
MPRINT(EM_DIAGRAM):   label H13 = 'Hidden: H1=3' ;
2138782   +
2138783   +      label H14 = 'Hidden: H1=4' ;
MPRINT(EM_DIAGRAM):   label H14 = 'Hidden: H1=4' ;
2138784   +
2138785   +      label H15 = 'Hidden: H1=5' ;
MPRINT(EM_DIAGRAM):   label H15 = 'Hidden: H1=5' ;
2138786   +
2138787   +      label H16 = 'Hidden: H1=6' ;
MPRINT(EM_DIAGRAM):   label H16 = 'Hidden: H1=6' ;
2138788   +
2138789   +      label I_DepVar = 'Into: DepVar' ;
MPRINT(EM_DIAGRAM):   label I_DepVar = 'Into: DepVar' ;
2138790   +
2138791   +      label F_DepVar = 'From: DepVar' ;
MPRINT(EM_DIAGRAM):   label F_DepVar = 'From: DepVar' ;
2138792   +
2138793   +      label U_DepVar = 'Unnormalized Into: DepVar' ;
MPRINT(EM_DIAGRAM):   label U_DepVar = 'Unnormalized Into: DepVar' ;
2138794   +
2138795   +      label P_DepVar1 = 'Predicted: DepVar=1' ;
MPRINT(EM_DIAGRAM):   label P_DepVar1 = 'Predicted: DepVar=1' ;
2138796   +
2138797   +      label R_DepVar1 = 'Residual: DepVar=1' ;
MPRINT(EM_DIAGRAM):   label R_DepVar1 = 'Residual: DepVar=1' ;
2138798   +
2138799   +      label P_DepVar0 = 'Predicted: DepVar=0' ;
MPRINT(EM_DIAGRAM):   label P_DepVar0 = 'Predicted: DepVar=0' ;
2138800   +
2138801   +      label R_DepVar0 = 'Residual: DepVar=0' ;
MPRINT(EM_DIAGRAM):   label R_DepVar0 = 'Residual: DepVar=0' ;
2138802   +
2138803   +      label  _WARN_ = "Warnings";
MPRINT(EM_DIAGRAM):   label _WARN_ = "Warnings";
2138804   +
2138805   +*** Generate dummy variables for AcceptedCmp1 ;
MPRINT(EM_DIAGRAM):   *** Generate dummy variables for AcceptedCmp1 ;
2138806   +drop AcceptedCmp10 ;
MPRINT(EM_DIAGRAM):   drop AcceptedCmp10 ;
2138807   +if missing( AcceptedCmp1 ) then do;
MPRINT(EM_DIAGRAM):   if missing( AcceptedCmp1 ) then do;
2138808   +   AcceptedCmp10 = .;
MPRINT(EM_DIAGRAM):   AcceptedCmp10 = .;
2138809   +   substr(_warn_,1,1) = 'M';
MPRINT(EM_DIAGRAM):   substr(_warn_,1,1) = 'M';
2138810   +   _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2138811   +end;
MPRINT(EM_DIAGRAM):   end;
2138812   +else do;
MPRINT(EM_DIAGRAM):   else do;
2138813   +   length _dm12 $ 12; drop _dm12 ;
MPRINT(EM_DIAGRAM):   length _dm12 $ 12;
MPRINT(EM_DIAGRAM):   drop _dm12 ;
2138814   +   _dm12 = put( AcceptedCmp1 , BEST. );
MPRINT(EM_DIAGRAM):   _dm12 = put( AcceptedCmp1 , BEST. );
2138815   +   %DMNORMIP( _dm12 )
MPRINT(DMNORMIP):   call dmnorm(_dm12,
MPRINT(DMNORLEN):  32
MPRINT(DMNORMIP):  );
2138816   +   if _dm12 = '0'  then do;
MPRINT(EM_DIAGRAM):   if _dm12 = '0' then do;
2138817   +      AcceptedCmp10 = 1;
MPRINT(EM_DIAGRAM):   AcceptedCmp10 = 1;
2138818   +   end;
MPRINT(EM_DIAGRAM):   end;
2138819   +   else if _dm12 = '1'  then do;
MPRINT(EM_DIAGRAM):   else if _dm12 = '1' then do;
2138820   +      AcceptedCmp10 = -1;
MPRINT(EM_DIAGRAM):   AcceptedCmp10 = -1;
2138821   +   end;
MPRINT(EM_DIAGRAM):   end;
2138822   +   else do;
MPRINT(EM_DIAGRAM):   else do;
2138823   +      AcceptedCmp10 = .;
MPRINT(EM_DIAGRAM):   AcceptedCmp10 = .;
2138824   +      substr(_warn_,2,1) = 'U';
MPRINT(EM_DIAGRAM):   substr(_warn_,2,1) = 'U';
2138825   +      _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2138826   +   end;
MPRINT(EM_DIAGRAM):   end;
2138827   +end;
MPRINT(EM_DIAGRAM):   end;
2138828   +
2138829   +*** Generate dummy variables for AcceptedCmp2 ;
MPRINT(EM_DIAGRAM):   *** Generate dummy variables for AcceptedCmp2 ;
2138830   +drop AcceptedCmp20 ;
MPRINT(EM_DIAGRAM):   drop AcceptedCmp20 ;
2138831   +if missing( AcceptedCmp2 ) then do;
MPRINT(EM_DIAGRAM):   if missing( AcceptedCmp2 ) then do;
2138832   +   AcceptedCmp20 = .;
MPRINT(EM_DIAGRAM):   AcceptedCmp20 = .;
2138833   +   substr(_warn_,1,1) = 'M';
MPRINT(EM_DIAGRAM):   substr(_warn_,1,1) = 'M';
2138834   +   _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2138835   +end;
MPRINT(EM_DIAGRAM):   end;
2138836   +else do;
MPRINT(EM_DIAGRAM):   else do;
2138837   +   length _dm12 $ 12; drop _dm12 ;
MPRINT(EM_DIAGRAM):   length _dm12 $ 12;
MPRINT(EM_DIAGRAM):   drop _dm12 ;
2138838   +   _dm12 = put( AcceptedCmp2 , BEST. );
MPRINT(EM_DIAGRAM):   _dm12 = put( AcceptedCmp2 , BEST. );
2138839   +   %DMNORMIP( _dm12 )
MPRINT(DMNORMIP):   call dmnorm(_dm12,
MPRINT(DMNORLEN):  32
MPRINT(DMNORMIP):  );
2138840   +   if _dm12 = '0'  then do;
MPRINT(EM_DIAGRAM):   if _dm12 = '0' then do;
2138841   +      AcceptedCmp20 = 1;
MPRINT(EM_DIAGRAM):   AcceptedCmp20 = 1;
2138842   +   end;
MPRINT(EM_DIAGRAM):   end;
2138843   +   else if _dm12 = '1'  then do;
MPRINT(EM_DIAGRAM):   else if _dm12 = '1' then do;
2138844   +      AcceptedCmp20 = -1;
MPRINT(EM_DIAGRAM):   AcceptedCmp20 = -1;
2138845   +   end;
MPRINT(EM_DIAGRAM):   end;
2138846   +   else do;
MPRINT(EM_DIAGRAM):   else do;
2138847   +      AcceptedCmp20 = .;
MPRINT(EM_DIAGRAM):   AcceptedCmp20 = .;
2138848   +      substr(_warn_,2,1) = 'U';
MPRINT(EM_DIAGRAM):   substr(_warn_,2,1) = 'U';
2138849   +      _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2138850   +   end;
MPRINT(EM_DIAGRAM):   end;
2138851   +end;
MPRINT(EM_DIAGRAM):   end;
2138852   +
2138853   +*** Generate dummy variables for AcceptedCmp3 ;
MPRINT(EM_DIAGRAM):   *** Generate dummy variables for AcceptedCmp3 ;
2138854   +drop AcceptedCmp30 ;
MPRINT(EM_DIAGRAM):   drop AcceptedCmp30 ;
2138855   +if missing( AcceptedCmp3 ) then do;
MPRINT(EM_DIAGRAM):   if missing( AcceptedCmp3 ) then do;
2138856   +   AcceptedCmp30 = .;
MPRINT(EM_DIAGRAM):   AcceptedCmp30 = .;
2138857   +   substr(_warn_,1,1) = 'M';
MPRINT(EM_DIAGRAM):   substr(_warn_,1,1) = 'M';
2138858   +   _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2138859   +end;
MPRINT(EM_DIAGRAM):   end;
2138860   +else do;
MPRINT(EM_DIAGRAM):   else do;
2138861   +   length _dm12 $ 12; drop _dm12 ;
MPRINT(EM_DIAGRAM):   length _dm12 $ 12;
MPRINT(EM_DIAGRAM):   drop _dm12 ;
2138862   +   _dm12 = put( AcceptedCmp3 , BEST. );
MPRINT(EM_DIAGRAM):   _dm12 = put( AcceptedCmp3 , BEST. );
2138863   +   %DMNORMIP( _dm12 )
MPRINT(DMNORMIP):   call dmnorm(_dm12,
MPRINT(DMNORLEN):  32
MPRINT(DMNORMIP):  );
2138864   +   if _dm12 = '0'  then do;
MPRINT(EM_DIAGRAM):   if _dm12 = '0' then do;
2138865   +      AcceptedCmp30 = 1;
MPRINT(EM_DIAGRAM):   AcceptedCmp30 = 1;
2138866   +   end;
MPRINT(EM_DIAGRAM):   end;
2138867   +   else if _dm12 = '1'  then do;
MPRINT(EM_DIAGRAM):   else if _dm12 = '1' then do;
2138868   +      AcceptedCmp30 = -1;
MPRINT(EM_DIAGRAM):   AcceptedCmp30 = -1;
2138869   +   end;
MPRINT(EM_DIAGRAM):   end;
2138870   +   else do;
MPRINT(EM_DIAGRAM):   else do;
2138871   +      AcceptedCmp30 = .;
MPRINT(EM_DIAGRAM):   AcceptedCmp30 = .;
2138872   +      substr(_warn_,2,1) = 'U';
MPRINT(EM_DIAGRAM):   substr(_warn_,2,1) = 'U';
2138873   +      _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2138874   +   end;
MPRINT(EM_DIAGRAM):   end;
2138875   +end;
MPRINT(EM_DIAGRAM):   end;
2138876   +
2138877   +*** Generate dummy variables for AcceptedCmp4 ;
MPRINT(EM_DIAGRAM):   *** Generate dummy variables for AcceptedCmp4 ;
2138878   +drop AcceptedCmp40 ;
MPRINT(EM_DIAGRAM):   drop AcceptedCmp40 ;
2138879   +if missing( AcceptedCmp4 ) then do;
MPRINT(EM_DIAGRAM):   if missing( AcceptedCmp4 ) then do;
2138880   +   AcceptedCmp40 = .;
MPRINT(EM_DIAGRAM):   AcceptedCmp40 = .;
2138881   +   substr(_warn_,1,1) = 'M';
MPRINT(EM_DIAGRAM):   substr(_warn_,1,1) = 'M';
2138882   +   _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2138883   +end;
MPRINT(EM_DIAGRAM):   end;
2138884   +else do;
MPRINT(EM_DIAGRAM):   else do;
2138885   +   length _dm12 $ 12; drop _dm12 ;
MPRINT(EM_DIAGRAM):   length _dm12 $ 12;
MPRINT(EM_DIAGRAM):   drop _dm12 ;
2138886   +   _dm12 = put( AcceptedCmp4 , BEST. );
MPRINT(EM_DIAGRAM):   _dm12 = put( AcceptedCmp4 , BEST. );
2138887   +   %DMNORMIP( _dm12 )
MPRINT(DMNORMIP):   call dmnorm(_dm12,
MPRINT(DMNORLEN):  32
MPRINT(DMNORMIP):  );
2138888   +   if _dm12 = '0'  then do;
MPRINT(EM_DIAGRAM):   if _dm12 = '0' then do;
2138889   +      AcceptedCmp40 = 1;
MPRINT(EM_DIAGRAM):   AcceptedCmp40 = 1;
2138890   +   end;
MPRINT(EM_DIAGRAM):   end;
2138891   +   else if _dm12 = '1'  then do;
MPRINT(EM_DIAGRAM):   else if _dm12 = '1' then do;
2138892   +      AcceptedCmp40 = -1;
MPRINT(EM_DIAGRAM):   AcceptedCmp40 = -1;
2138893   +   end;
MPRINT(EM_DIAGRAM):   end;
2138894   +   else do;
MPRINT(EM_DIAGRAM):   else do;
2138895   +      AcceptedCmp40 = .;
MPRINT(EM_DIAGRAM):   AcceptedCmp40 = .;
2138896   +      substr(_warn_,2,1) = 'U';
MPRINT(EM_DIAGRAM):   substr(_warn_,2,1) = 'U';
2138897   +      _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2138898   +   end;
MPRINT(EM_DIAGRAM):   end;
2138899   +end;
MPRINT(EM_DIAGRAM):   end;
2138900   +
2138901   +*** Generate dummy variables for AcceptedCmp5 ;
MPRINT(EM_DIAGRAM):   *** Generate dummy variables for AcceptedCmp5 ;
2138902   +drop AcceptedCmp50 ;
MPRINT(EM_DIAGRAM):   drop AcceptedCmp50 ;
2138903   +if missing( AcceptedCmp5 ) then do;
MPRINT(EM_DIAGRAM):   if missing( AcceptedCmp5 ) then do;
2138904   +   AcceptedCmp50 = .;
MPRINT(EM_DIAGRAM):   AcceptedCmp50 = .;
2138905   +   substr(_warn_,1,1) = 'M';
MPRINT(EM_DIAGRAM):   substr(_warn_,1,1) = 'M';
2138906   +   _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2138907   +end;
MPRINT(EM_DIAGRAM):   end;
2138908   +else do;
MPRINT(EM_DIAGRAM):   else do;
2138909   +   length _dm12 $ 12; drop _dm12 ;
MPRINT(EM_DIAGRAM):   length _dm12 $ 12;
MPRINT(EM_DIAGRAM):   drop _dm12 ;
2138910   +   _dm12 = put( AcceptedCmp5 , BEST. );
MPRINT(EM_DIAGRAM):   _dm12 = put( AcceptedCmp5 , BEST. );
2138911   +   %DMNORMIP( _dm12 )
MPRINT(DMNORMIP):   call dmnorm(_dm12,
MPRINT(DMNORLEN):  32
MPRINT(DMNORMIP):  );
2138912   +   if _dm12 = '0'  then do;
MPRINT(EM_DIAGRAM):   if _dm12 = '0' then do;
2138913   +      AcceptedCmp50 = 1;
MPRINT(EM_DIAGRAM):   AcceptedCmp50 = 1;
2138914   +   end;
MPRINT(EM_DIAGRAM):   end;
2138915   +   else if _dm12 = '1'  then do;
MPRINT(EM_DIAGRAM):   else if _dm12 = '1' then do;
2138916   +      AcceptedCmp50 = -1;
MPRINT(EM_DIAGRAM):   AcceptedCmp50 = -1;
2138917   +   end;
MPRINT(EM_DIAGRAM):   end;
2138918   +   else do;
MPRINT(EM_DIAGRAM):   else do;
2138919   +      AcceptedCmp50 = .;
MPRINT(EM_DIAGRAM):   AcceptedCmp50 = .;
2138920   +      substr(_warn_,2,1) = 'U';
MPRINT(EM_DIAGRAM):   substr(_warn_,2,1) = 'U';
2138921   +      _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2138922   +   end;
MPRINT(EM_DIAGRAM):   end;
2138923   +end;
MPRINT(EM_DIAGRAM):   end;
2138924   +
2138925   +*** Generate dummy variables for Complain ;
MPRINT(EM_DIAGRAM):   *** Generate dummy variables for Complain ;
2138926   +drop Complain0 ;
MPRINT(EM_DIAGRAM):   drop Complain0 ;
2138927   +if missing( Complain ) then do;
MPRINT(EM_DIAGRAM):   if missing( Complain ) then do;
2138928   +   Complain0 = .;
MPRINT(EM_DIAGRAM):   Complain0 = .;
2138929   +   substr(_warn_,1,1) = 'M';
MPRINT(EM_DIAGRAM):   substr(_warn_,1,1) = 'M';
2138930   +   _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2138931   +end;
MPRINT(EM_DIAGRAM):   end;
2138932   +else do;
MPRINT(EM_DIAGRAM):   else do;
2138933   +   length _dm12 $ 12; drop _dm12 ;
MPRINT(EM_DIAGRAM):   length _dm12 $ 12;
MPRINT(EM_DIAGRAM):   drop _dm12 ;
2138934   +   _dm12 = put( Complain , BEST. );
MPRINT(EM_DIAGRAM):   _dm12 = put( Complain , BEST. );
2138935   +   %DMNORMIP( _dm12 )
MPRINT(DMNORMIP):   call dmnorm(_dm12,
MPRINT(DMNORLEN):  32
MPRINT(DMNORMIP):  );
2138936   +   if _dm12 = '0'  then do;
MPRINT(EM_DIAGRAM):   if _dm12 = '0' then do;
2138937   +      Complain0 = 1;
MPRINT(EM_DIAGRAM):   Complain0 = 1;
2138938   +   end;
MPRINT(EM_DIAGRAM):   end;
2138939   +   else if _dm12 = '1'  then do;
MPRINT(EM_DIAGRAM):   else if _dm12 = '1' then do;
2138940   +      Complain0 = -1;
MPRINT(EM_DIAGRAM):   Complain0 = -1;
2138941   +   end;
MPRINT(EM_DIAGRAM):   end;
2138942   +   else do;
MPRINT(EM_DIAGRAM):   else do;
2138943   +      Complain0 = .;
MPRINT(EM_DIAGRAM):   Complain0 = .;
2138944   +      substr(_warn_,2,1) = 'U';
MPRINT(EM_DIAGRAM):   substr(_warn_,2,1) = 'U';
2138945   +      _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2138946   +   end;
MPRINT(EM_DIAGRAM):   end;
2138947   +end;
MPRINT(EM_DIAGRAM):   end;
2138948   +
2138949   +*** Generate dummy variables for HigherEducationBinary ;
MPRINT(EM_DIAGRAM):   *** Generate dummy variables for HigherEducationBinary ;
2138950   +drop HigherEducationBinary0 ;
MPRINT(EM_DIAGRAM):   drop HigherEducationBinary0 ;
2138951   +if missing( HigherEducationBinary ) then do;
MPRINT(EM_DIAGRAM):   if missing( HigherEducationBinary ) then do;
2138952   +   HigherEducationBinary0 = .;
MPRINT(EM_DIAGRAM):   HigherEducationBinary0 = .;
2138953   +   substr(_warn_,1,1) = 'M';
MPRINT(EM_DIAGRAM):   substr(_warn_,1,1) = 'M';
2138954   +   _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2138955   +end;
MPRINT(EM_DIAGRAM):   end;
2138956   +else do;
MPRINT(EM_DIAGRAM):   else do;
2138957   +   length _dm12 $ 12; drop _dm12 ;
MPRINT(EM_DIAGRAM):   length _dm12 $ 12;
MPRINT(EM_DIAGRAM):   drop _dm12 ;
2138958   +   _dm12 = put( HigherEducationBinary , BEST12. );
MPRINT(EM_DIAGRAM):   _dm12 = put( HigherEducationBinary , BEST12. );
2138959   +   %DMNORMIP( _dm12 )
MPRINT(DMNORMIP):   call dmnorm(_dm12,
MPRINT(DMNORLEN):  32
MPRINT(DMNORMIP):  );
2138960   +   if _dm12 = '1'  then do;
MPRINT(EM_DIAGRAM):   if _dm12 = '1' then do;
2138961   +      HigherEducationBinary0 = -1;
MPRINT(EM_DIAGRAM):   HigherEducationBinary0 = -1;
2138962   +   end;
MPRINT(EM_DIAGRAM):   end;
2138963   +   else if _dm12 = '0'  then do;
MPRINT(EM_DIAGRAM):   else if _dm12 = '0' then do;
2138964   +      HigherEducationBinary0 = 1;
MPRINT(EM_DIAGRAM):   HigherEducationBinary0 = 1;
2138965   +   end;
MPRINT(EM_DIAGRAM):   end;
2138966   +   else do;
MPRINT(EM_DIAGRAM):   else do;
2138967   +      HigherEducationBinary0 = .;
MPRINT(EM_DIAGRAM):   HigherEducationBinary0 = .;
2138968   +      substr(_warn_,2,1) = 'U';
MPRINT(EM_DIAGRAM):   substr(_warn_,2,1) = 'U';
2138969   +      _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2138970   +   end;
MPRINT(EM_DIAGRAM):   end;
2138971   +end;
MPRINT(EM_DIAGRAM):   end;
2138972   +
2138973   +*** Generate dummy variables for Education ;
MPRINT(EM_DIAGRAM):   *** Generate dummy variables for Education ;
2138974   +drop Education2n_Cycle EducationBasic EducationGraduation EducationMaster ;
MPRINT(EM_DIAGRAM):   drop Education2n_Cycle EducationBasic EducationGraduation 
EducationMaster ;
2138975   +*** encoding is sparse, initialize to zero;
MPRINT(EM_DIAGRAM):   *** encoding is sparse, initialize to zero;
2138976   +Education2n_Cycle = 0;
MPRINT(EM_DIAGRAM):   Education2n_Cycle = 0;
2138977   +EducationBasic = 0;
MPRINT(EM_DIAGRAM):   EducationBasic = 0;
2138978   +EducationGraduation = 0;
MPRINT(EM_DIAGRAM):   EducationGraduation = 0;
2138979   +EducationMaster = 0;
MPRINT(EM_DIAGRAM):   EducationMaster = 0;
2138980   +if missing( Education ) then do;
MPRINT(EM_DIAGRAM):   if missing( Education ) then do;
2138981   +   Education2n_Cycle = .;
MPRINT(EM_DIAGRAM):   Education2n_Cycle = .;
2138982   +   EducationBasic = .;
MPRINT(EM_DIAGRAM):   EducationBasic = .;
2138983   +   EducationGraduation = .;
MPRINT(EM_DIAGRAM):   EducationGraduation = .;
2138984   +   EducationMaster = .;
MPRINT(EM_DIAGRAM):   EducationMaster = .;
2138985   +   substr(_warn_,1,1) = 'M';
MPRINT(EM_DIAGRAM):   substr(_warn_,1,1) = 'M';
2138986   +   _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2138987   +end;
MPRINT(EM_DIAGRAM):   end;
2138988   +else do;
MPRINT(EM_DIAGRAM):   else do;
2138989   +   length _dm10 $ 10; drop _dm10 ;
MPRINT(EM_DIAGRAM):   length _dm10 $ 10;
MPRINT(EM_DIAGRAM):   drop _dm10 ;
2138990   +   _dm10 = put( Education , $10. );
MPRINT(EM_DIAGRAM):   _dm10 = put( Education , $10. );
2138991   +   %DMNORMIP( _dm10 )
MPRINT(DMNORMIP):   call dmnorm(_dm10,
MPRINT(DMNORLEN):  32
MPRINT(DMNORMIP):  );
2138992   +   if _dm10 = 'GRADUATION'  then do;
MPRINT(EM_DIAGRAM):   if _dm10 = 'GRADUATION' then do;
2138993   +      EducationGraduation = 1;
MPRINT(EM_DIAGRAM):   EducationGraduation = 1;
2138994   +   end;
MPRINT(EM_DIAGRAM):   end;
2138995   +   else if _dm10 = 'PHD'  then do;
MPRINT(EM_DIAGRAM):   else if _dm10 = 'PHD' then do;
2138996   +      Education2n_Cycle = -1;
MPRINT(EM_DIAGRAM):   Education2n_Cycle = -1;
2138997   +      EducationBasic = -1;
MPRINT(EM_DIAGRAM):   EducationBasic = -1;
2138998   +      EducationGraduation = -1;
MPRINT(EM_DIAGRAM):   EducationGraduation = -1;
2138999   +      EducationMaster = -1;
MPRINT(EM_DIAGRAM):   EducationMaster = -1;
2139000   +   end;
MPRINT(EM_DIAGRAM):   end;
2139001   +   else if _dm10 = 'MASTER'  then do;
MPRINT(EM_DIAGRAM):   else if _dm10 = 'MASTER' then do;
2139002   +      EducationMaster = 1;
MPRINT(EM_DIAGRAM):   EducationMaster = 1;
2139003   +   end;
MPRINT(EM_DIAGRAM):   end;
2139004   +   else if _dm10 = '2N CYCLE'  then do;
MPRINT(EM_DIAGRAM):   else if _dm10 = '2N CYCLE' then do;
2139005   +      Education2n_Cycle = 1;
MPRINT(EM_DIAGRAM):   Education2n_Cycle = 1;
2139006   +   end;
MPRINT(EM_DIAGRAM):   end;
2139007   +   else if _dm10 = 'BASIC'  then do;
MPRINT(EM_DIAGRAM):   else if _dm10 = 'BASIC' then do;
2139008   +      EducationBasic = 1;
MPRINT(EM_DIAGRAM):   EducationBasic = 1;
2139009   +   end;
MPRINT(EM_DIAGRAM):   end;
2139010   +   else do;
MPRINT(EM_DIAGRAM):   else do;
2139011   +      Education2n_Cycle = .;
MPRINT(EM_DIAGRAM):   Education2n_Cycle = .;
2139012   +      EducationBasic = .;
MPRINT(EM_DIAGRAM):   EducationBasic = .;
2139013   +      EducationGraduation = .;
MPRINT(EM_DIAGRAM):   EducationGraduation = .;
2139014   +      EducationMaster = .;
MPRINT(EM_DIAGRAM):   EducationMaster = .;
2139015   +      substr(_warn_,2,1) = 'U';
MPRINT(EM_DIAGRAM):   substr(_warn_,2,1) = 'U';
2139016   +      _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2139017   +   end;
MPRINT(EM_DIAGRAM):   end;
2139018   +end;
MPRINT(EM_DIAGRAM):   end;
2139019   +
2139020   +*** Generate dummy variables for Marital_Status ;
MPRINT(EM_DIAGRAM):   *** Generate dummy variables for Marital_Status ;
2139021   +drop Marital_StatusDivorced Marital_StatusMarried Marital_StatusSingle
2139022   +        Marital_StatusTogether ;
MPRINT(EM_DIAGRAM):   drop Marital_StatusDivorced Marital_StatusMarried Marital_StatusSingle 
Marital_StatusTogether ;
2139023   +*** encoding is sparse, initialize to zero;
MPRINT(EM_DIAGRAM):   *** encoding is sparse, initialize to zero;
2139024   +Marital_StatusDivorced = 0;
MPRINT(EM_DIAGRAM):   Marital_StatusDivorced = 0;
2139025   +Marital_StatusMarried = 0;
MPRINT(EM_DIAGRAM):   Marital_StatusMarried = 0;
2139026   +Marital_StatusSingle = 0;
MPRINT(EM_DIAGRAM):   Marital_StatusSingle = 0;
2139027   +Marital_StatusTogether = 0;
MPRINT(EM_DIAGRAM):   Marital_StatusTogether = 0;
2139028   +if missing( Marital_Status ) then do;
MPRINT(EM_DIAGRAM):   if missing( Marital_Status ) then do;
2139029   +   Marital_StatusDivorced = .;
MPRINT(EM_DIAGRAM):   Marital_StatusDivorced = .;
2139030   +   Marital_StatusMarried = .;
MPRINT(EM_DIAGRAM):   Marital_StatusMarried = .;
2139031   +   Marital_StatusSingle = .;
MPRINT(EM_DIAGRAM):   Marital_StatusSingle = .;
2139032   +   Marital_StatusTogether = .;
MPRINT(EM_DIAGRAM):   Marital_StatusTogether = .;
2139033   +   substr(_warn_,1,1) = 'M';
MPRINT(EM_DIAGRAM):   substr(_warn_,1,1) = 'M';
2139034   +   _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2139035   +end;
MPRINT(EM_DIAGRAM):   end;
2139036   +else do;
MPRINT(EM_DIAGRAM):   else do;
2139037   +   length _dm8 $ 8; drop _dm8 ;
MPRINT(EM_DIAGRAM):   length _dm8 $ 8;
MPRINT(EM_DIAGRAM):   drop _dm8 ;
2139038   +   _dm8 = put( Marital_Status , $8. );
MPRINT(EM_DIAGRAM):   _dm8 = put( Marital_Status , $8. );
2139039   +   %DMNORMIP( _dm8 )
MPRINT(DMNORMIP):   call dmnorm(_dm8,
MPRINT(DMNORLEN):  32
MPRINT(DMNORMIP):  );
2139040   +   _dm_find = 0; drop _dm_find;
MPRINT(EM_DIAGRAM):   _dm_find = 0;
MPRINT(EM_DIAGRAM):   drop _dm_find;
2139041   +   if _dm8 <= 'SINGLE'  then do;
MPRINT(EM_DIAGRAM):   if _dm8 <= 'SINGLE' then do;
2139042   +      if _dm8 <= 'MARRIED'  then do;
MPRINT(EM_DIAGRAM):   if _dm8 <= 'MARRIED' then do;
2139043   +         if _dm8 = 'DIVORCED'  then do;
MPRINT(EM_DIAGRAM):   if _dm8 = 'DIVORCED' then do;
2139044   +            Marital_StatusDivorced = 1;
MPRINT(EM_DIAGRAM):   Marital_StatusDivorced = 1;
2139045   +            _dm_find = 1;
MPRINT(EM_DIAGRAM):   _dm_find = 1;
2139046   +         end;
MPRINT(EM_DIAGRAM):   end;
2139047   +         else do;
MPRINT(EM_DIAGRAM):   else do;
2139048   +            if _dm8 = 'MARRIED'  then do;
MPRINT(EM_DIAGRAM):   if _dm8 = 'MARRIED' then do;
2139049   +               Marital_StatusMarried = 1;
MPRINT(EM_DIAGRAM):   Marital_StatusMarried = 1;
2139050   +               _dm_find = 1;
MPRINT(EM_DIAGRAM):   _dm_find = 1;
2139051   +            end;
MPRINT(EM_DIAGRAM):   end;
2139052   +         end;
MPRINT(EM_DIAGRAM):   end;
2139053   +      end;
MPRINT(EM_DIAGRAM):   end;
2139054   +      else do;
MPRINT(EM_DIAGRAM):   else do;
2139055   +         if _dm8 = 'SINGLE'  then do;
MPRINT(EM_DIAGRAM):   if _dm8 = 'SINGLE' then do;
2139056   +            Marital_StatusSingle = 1;
MPRINT(EM_DIAGRAM):   Marital_StatusSingle = 1;
2139057   +            _dm_find = 1;
MPRINT(EM_DIAGRAM):   _dm_find = 1;
2139058   +         end;
MPRINT(EM_DIAGRAM):   end;
2139059   +      end;
MPRINT(EM_DIAGRAM):   end;
2139060   +   end;
MPRINT(EM_DIAGRAM):   end;
2139061   +   else do;
MPRINT(EM_DIAGRAM):   else do;
2139062   +      if _dm8 = 'TOGETHER'  then do;
MPRINT(EM_DIAGRAM):   if _dm8 = 'TOGETHER' then do;
2139063   +         Marital_StatusTogether = 1;
MPRINT(EM_DIAGRAM):   Marital_StatusTogether = 1;
2139064   +         _dm_find = 1;
MPRINT(EM_DIAGRAM):   _dm_find = 1;
2139065   +      end;
MPRINT(EM_DIAGRAM):   end;
2139066   +      else do;
MPRINT(EM_DIAGRAM):   else do;
2139067   +         if _dm8 = 'WIDOW'  then do;
MPRINT(EM_DIAGRAM):   if _dm8 = 'WIDOW' then do;
2139068   +            Marital_StatusDivorced = -1;
MPRINT(EM_DIAGRAM):   Marital_StatusDivorced = -1;
2139069   +            Marital_StatusMarried = -1;
MPRINT(EM_DIAGRAM):   Marital_StatusMarried = -1;
2139070   +            Marital_StatusSingle = -1;
MPRINT(EM_DIAGRAM):   Marital_StatusSingle = -1;
2139071   +            Marital_StatusTogether = -1;
MPRINT(EM_DIAGRAM):   Marital_StatusTogether = -1;
2139072   +            _dm_find = 1;
MPRINT(EM_DIAGRAM):   _dm_find = 1;
2139073   +         end;
MPRINT(EM_DIAGRAM):   end;
2139074   +      end;
MPRINT(EM_DIAGRAM):   end;
2139075   +   end;
MPRINT(EM_DIAGRAM):   end;
2139076   +   if not _dm_find then do;
MPRINT(EM_DIAGRAM):   if not _dm_find then do;
2139077   +      Marital_StatusDivorced = .;
MPRINT(EM_DIAGRAM):   Marital_StatusDivorced = .;
2139078   +      Marital_StatusMarried = .;
MPRINT(EM_DIAGRAM):   Marital_StatusMarried = .;
2139079   +      Marital_StatusSingle = .;
MPRINT(EM_DIAGRAM):   Marital_StatusSingle = .;
2139080   +      Marital_StatusTogether = .;
MPRINT(EM_DIAGRAM):   Marital_StatusTogether = .;
2139081   +      substr(_warn_,2,1) = 'U';
MPRINT(EM_DIAGRAM):   substr(_warn_,2,1) = 'U';
2139082   +      _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2139083   +   end;
MPRINT(EM_DIAGRAM):   end;
2139084   +end;
MPRINT(EM_DIAGRAM):   end;
2139085   +
2139086   +*** *************************;
MPRINT(EM_DIAGRAM):   *** *************************;
2139087   +*** Checking missing input Interval
2139088   +*** *************************;
MPRINT(EM_DIAGRAM):   *** Checking missing input Interval *** *************************;
2139089   +
2139090   +IF NMISS(
2139091   +   AcceptedCmpTotal ,
2139092   +   Age ,
2139093   +   Frq ,
2139094   +   Income ,
2139095   +   Kidhome ,
2139096   +   MntFishProducts ,
2139097   +   MntFruits ,
2139098   +   MntGoldProds ,
2139099   +   MntSweetProducts ,
2139100   +   MonthsAsCustomer ,
2139101   +   NumDealsPurchases ,
2139102   +   NumWebVisitsMonth ,
2139103   +   RFMstat ,
2139104   +   RMntFrq ,
2139105   +   Recency ,
2139106   +   Teenhome   ) THEN DO;
MPRINT(EM_DIAGRAM):   IF NMISS( AcceptedCmpTotal , Age , Frq , Income , Kidhome , 
MntFishProducts , MntFruits , MntGoldProds , MntSweetProducts , MonthsAsCustomer , 
NumDealsPurchases , NumWebVisitsMonth , RFMstat , RMntFrq , Recency , Teenhome ) THEN DO;
2139107   +   SUBSTR(_WARN_, 1, 1) = 'M';
MPRINT(EM_DIAGRAM):   SUBSTR(_WARN_, 1, 1) = 'M';
2139108   +
2139109   +   _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2139110   +END;
MPRINT(EM_DIAGRAM):   END;
2139111   +*** *************************;
MPRINT(EM_DIAGRAM):   *** *************************;
2139112   +*** Writing the Node intvl ;
MPRINT(EM_DIAGRAM):   *** Writing the Node intvl ;
2139113   +*** *************************;
MPRINT(EM_DIAGRAM):   *** *************************;
2139114   +IF _DM_BAD EQ 0 THEN DO;
MPRINT(EM_DIAGRAM):   IF _DM_BAD EQ 0 THEN DO;
2139115   +   S_AcceptedCmpTotal  =    -0.46762909508827 +      1.4961610131261 *
2139116   +        AcceptedCmpTotal ;
MPRINT(EM_DIAGRAM):   S_AcceptedCmpTotal = -0.46762909508827 + 1.4961610131261 * 
AcceptedCmpTotal ;
2139117   +   S_Age  =    -3.91319138389466 +     0.08289609202857 * Age ;
MPRINT(EM_DIAGRAM):   S_Age = -3.91319138389466 + 0.08289609202857 * Age ;
2139118   +   S_Frq  =     -1.7674482809159 +     0.13966853800993 * Frq ;
MPRINT(EM_DIAGRAM):   S_Frq = -1.7674482809159 + 0.13966853800993 * Frq ;
2139119   +   S_Income  =    -2.48883438787018 +     0.00004789669836 * Income ;
MPRINT(EM_DIAGRAM):   S_Income = -2.48883438787018 + 0.00004789669836 * Income ;
2139120   +   S_Kidhome  =    -0.81505958668041 +     1.87132636245581 * Kidhome ;
MPRINT(EM_DIAGRAM):   S_Kidhome = -0.81505958668041 + 1.87132636245581 * Kidhome ;
2139121   +   S_MntFishProducts  =    -0.69884925989448 +     0.01914942799914 *
2139122   +        MntFishProducts ;
MPRINT(EM_DIAGRAM):   S_MntFishProducts = -0.69884925989448 + 0.01914942799914 * 
MntFishProducts ;
2139123   +   S_MntFruits  =    -0.68347542544545 +     0.02517057319714 * MntFruits ;
MPRINT(EM_DIAGRAM):   S_MntFruits = -0.68347542544545 + 0.02517057319714 * MntFruits ;
2139124   +   S_MntGoldProds  =     -0.8611213764608 +     0.01954474499711 *
2139125   +        MntGoldProds ;
MPRINT(EM_DIAGRAM):   S_MntGoldProds = -0.8611213764608 + 0.01954474499711 * MntGoldProds ;
2139126   +   S_MntSweetProducts  =    -0.69020047720885 +     0.02548703406327 *
2139127   +        MntSweetProducts ;
MPRINT(EM_DIAGRAM):   S_MntSweetProducts = -0.69020047720885 + 0.02548703406327 * 
MntSweetProducts ;
2139128   +   S_MonthsAsCustomer  =    -4.93133031507839 +     0.05900664899872 *
2139129   +        MonthsAsCustomer ;
MPRINT(EM_DIAGRAM):   S_MonthsAsCustomer = -4.93133031507839 + 0.05900664899872 * 
MonthsAsCustomer ;
2139130   +   S_NumDealsPurchases  =    -1.34788949552081 +     0.59766336614987 *
2139131   +        NumDealsPurchases ;
MPRINT(EM_DIAGRAM):   S_NumDealsPurchases = -1.34788949552081 + 0.59766336614987 * 
NumDealsPurchases ;
2139132   +   S_NumWebVisitsMonth  =    -2.24769875596018 +     0.42876953368015 *
2139133   +        NumWebVisitsMonth ;
MPRINT(EM_DIAGRAM):   S_NumWebVisitsMonth = -2.24769875596018 + 0.42876953368015 * 
NumWebVisitsMonth ;
2139134   +   S_RFMstat  =    -0.33944380186973 +     0.00063877635032 * RFMstat ;
MPRINT(EM_DIAGRAM):   S_RFMstat = -0.33944380186973 + 0.00063877635032 * RFMstat ;
2139135   +   S_RMntFrq  =    -1.25743573075922 +     0.03326204244626 * RMntFrq ;
MPRINT(EM_DIAGRAM):   S_RMntFrq = -1.25743573075922 + 0.03326204244626 * RMntFrq ;
2139136   +   S_Recency  =    -1.69222845719633 +     0.03469514083585 * Recency ;
MPRINT(EM_DIAGRAM):   S_Recency = -1.69222845719633 + 0.03469514083585 * Recency ;
2139137   +   S_Teenhome  =    -0.88382230606631 +     1.81661831567223 * Teenhome ;
MPRINT(EM_DIAGRAM):   S_Teenhome = -0.88382230606631 + 1.81661831567223 * Teenhome ;
2139138   +END;
MPRINT(EM_DIAGRAM):   END;
2139139   +ELSE DO;
MPRINT(EM_DIAGRAM):   ELSE DO;
2139140   +   IF MISSING( AcceptedCmpTotal ) THEN S_AcceptedCmpTotal  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( AcceptedCmpTotal ) THEN S_AcceptedCmpTotal = . ;
2139141   +   ELSE S_AcceptedCmpTotal  =    -0.46762909508827 +      1.4961610131261 *
2139142   +        AcceptedCmpTotal ;
MPRINT(EM_DIAGRAM):   ELSE S_AcceptedCmpTotal = -0.46762909508827 + 1.4961610131261 * 
AcceptedCmpTotal ;
2139143   +   IF MISSING( Age ) THEN S_Age  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( Age ) THEN S_Age = . ;
2139144   +   ELSE S_Age  =    -3.91319138389466 +     0.08289609202857 * Age ;
MPRINT(EM_DIAGRAM):   ELSE S_Age = -3.91319138389466 + 0.08289609202857 * Age ;
2139145   +   IF MISSING( Frq ) THEN S_Frq  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( Frq ) THEN S_Frq = . ;
2139146   +   ELSE S_Frq  =     -1.7674482809159 +     0.13966853800993 * Frq ;
MPRINT(EM_DIAGRAM):   ELSE S_Frq = -1.7674482809159 + 0.13966853800993 * Frq ;
2139147   +   IF MISSING( Income ) THEN S_Income  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( Income ) THEN S_Income = . ;
2139148   +   ELSE S_Income  =    -2.48883438787018 +     0.00004789669836 * Income ;
MPRINT(EM_DIAGRAM):   ELSE S_Income = -2.48883438787018 + 0.00004789669836 * Income ;
2139149   +   IF MISSING( Kidhome ) THEN S_Kidhome  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( Kidhome ) THEN S_Kidhome = . ;
2139150   +   ELSE S_Kidhome  =    -0.81505958668041 +     1.87132636245581 * Kidhome ;
MPRINT(EM_DIAGRAM):   ELSE S_Kidhome = -0.81505958668041 + 1.87132636245581 * Kidhome ;
2139151   +   IF MISSING( MntFishProducts ) THEN S_MntFishProducts  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( MntFishProducts ) THEN S_MntFishProducts = . ;
2139152   +   ELSE S_MntFishProducts  =    -0.69884925989448 +     0.01914942799914 *
2139153   +        MntFishProducts ;
MPRINT(EM_DIAGRAM):   ELSE S_MntFishProducts = -0.69884925989448 + 0.01914942799914 * 
MntFishProducts ;
2139154   +   IF MISSING( MntFruits ) THEN S_MntFruits  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( MntFruits ) THEN S_MntFruits = . ;
2139155   +   ELSE S_MntFruits  =    -0.68347542544545 +     0.02517057319714 * MntFruits
2139156   +         ;
MPRINT(EM_DIAGRAM):   ELSE S_MntFruits = -0.68347542544545 + 0.02517057319714 * MntFruits ;
2139157   +   IF MISSING( MntGoldProds ) THEN S_MntGoldProds  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( MntGoldProds ) THEN S_MntGoldProds = . ;
2139158   +   ELSE S_MntGoldProds  =     -0.8611213764608 +     0.01954474499711 *
2139159   +        MntGoldProds ;
MPRINT(EM_DIAGRAM):   ELSE S_MntGoldProds = -0.8611213764608 + 0.01954474499711 * MntGoldProds 
;
2139160   +   IF MISSING( MntSweetProducts ) THEN S_MntSweetProducts  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( MntSweetProducts ) THEN S_MntSweetProducts = . ;
2139161   +   ELSE S_MntSweetProducts  =    -0.69020047720885 +     0.02548703406327 *
2139162   +        MntSweetProducts ;
MPRINT(EM_DIAGRAM):   ELSE S_MntSweetProducts = -0.69020047720885 + 0.02548703406327 * 
MntSweetProducts ;
2139163   +   IF MISSING( MonthsAsCustomer ) THEN S_MonthsAsCustomer  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( MonthsAsCustomer ) THEN S_MonthsAsCustomer = . ;
2139164   +   ELSE S_MonthsAsCustomer  =    -4.93133031507839 +     0.05900664899872 *
2139165   +        MonthsAsCustomer ;
MPRINT(EM_DIAGRAM):   ELSE S_MonthsAsCustomer = -4.93133031507839 + 0.05900664899872 * 
MonthsAsCustomer ;
2139166   +   IF MISSING( NumDealsPurchases ) THEN S_NumDealsPurchases  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( NumDealsPurchases ) THEN S_NumDealsPurchases = . ;
2139167   +   ELSE S_NumDealsPurchases  =    -1.34788949552081 +     0.59766336614987 *
2139168   +        NumDealsPurchases ;
MPRINT(EM_DIAGRAM):   ELSE S_NumDealsPurchases = -1.34788949552081 + 0.59766336614987 * 
NumDealsPurchases ;
2139169   +   IF MISSING( NumWebVisitsMonth ) THEN S_NumWebVisitsMonth  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( NumWebVisitsMonth ) THEN S_NumWebVisitsMonth = . ;
2139170   +   ELSE S_NumWebVisitsMonth  =    -2.24769875596018 +     0.42876953368015 *
2139171   +        NumWebVisitsMonth ;
MPRINT(EM_DIAGRAM):   ELSE S_NumWebVisitsMonth = -2.24769875596018 + 0.42876953368015 * 
NumWebVisitsMonth ;
2139172   +   IF MISSING( RFMstat ) THEN S_RFMstat  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( RFMstat ) THEN S_RFMstat = . ;
2139173   +   ELSE S_RFMstat  =    -0.33944380186973 +     0.00063877635032 * RFMstat ;
MPRINT(EM_DIAGRAM):   ELSE S_RFMstat = -0.33944380186973 + 0.00063877635032 * RFMstat ;
2139174   +   IF MISSING( RMntFrq ) THEN S_RMntFrq  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( RMntFrq ) THEN S_RMntFrq = . ;
2139175   +   ELSE S_RMntFrq  =    -1.25743573075922 +     0.03326204244626 * RMntFrq ;
MPRINT(EM_DIAGRAM):   ELSE S_RMntFrq = -1.25743573075922 + 0.03326204244626 * RMntFrq ;
2139176   +   IF MISSING( Recency ) THEN S_Recency  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( Recency ) THEN S_Recency = . ;
2139177   +   ELSE S_Recency  =    -1.69222845719633 +     0.03469514083585 * Recency ;
MPRINT(EM_DIAGRAM):   ELSE S_Recency = -1.69222845719633 + 0.03469514083585 * Recency ;
2139178   +   IF MISSING( Teenhome ) THEN S_Teenhome  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( Teenhome ) THEN S_Teenhome = . ;
2139179   +   ELSE S_Teenhome  =    -0.88382230606631 +     1.81661831567223 * Teenhome ;
MPRINT(EM_DIAGRAM):   ELSE S_Teenhome = -0.88382230606631 + 1.81661831567223 * Teenhome ;
2139180   +END;
MPRINT(EM_DIAGRAM):   END;
2139181   +*** *************************;
MPRINT(EM_DIAGRAM):   *** *************************;
2139182   +*** Writing the Node bin ;
MPRINT(EM_DIAGRAM):   *** Writing the Node bin ;
2139183   +*** *************************;
MPRINT(EM_DIAGRAM):   *** *************************;
2139184   +*** *************************;
MPRINT(EM_DIAGRAM):   *** *************************;
2139185   +*** Writing the Node nom ;
MPRINT(EM_DIAGRAM):   *** Writing the Node nom ;
2139186   +*** *************************;
MPRINT(EM_DIAGRAM):   *** *************************;
2139187   +*** *************************;
MPRINT(EM_DIAGRAM):   *** *************************;
2139188   +*** Writing the Node H1 ;
MPRINT(EM_DIAGRAM):   *** Writing the Node H1 ;
2139189   +*** *************************;
MPRINT(EM_DIAGRAM):   *** *************************;
2139190   +IF _DM_BAD EQ 0 THEN DO;
MPRINT(EM_DIAGRAM):   IF _DM_BAD EQ 0 THEN DO;
2139191   +   H11  =      0.0008226807158 * S_AcceptedCmpTotal  +    -0.13079988413445 *
2139192   +        S_Age  +    -0.18186889239879 * S_Frq  +     0.00434831119231 *
2139193   +        S_Income  +    -0.53011815040389 * S_Kidhome
2139194   +          +     0.07798575279605 * S_MntFishProducts
2139195   +          +    -0.04638001961046 * S_MntFruits  +     0.05519829379656 *
2139196   +        S_MntGoldProds  +    -0.39625749892117 * S_MntSweetProducts
2139197   +          +    -0.43868326715852 * S_MonthsAsCustomer
2139198   +          +    -0.20150528265823 * S_NumDealsPurchases
2139199   +          +     0.06302113040532 * S_NumWebVisitsMonth
2139200   +          +      0.1350599599417 * S_RFMstat  +    -0.29383555338259 *
2139201   +        S_RMntFrq  +    -0.68766827249955 * S_Recency
2139202   +          +    -0.29183727562247 * S_Teenhome ;
MPRINT(EM_DIAGRAM):   H11 = 0.0008226807158 * S_AcceptedCmpTotal + -0.13079988413445 * S_Age + 
-0.18186889239879 * S_Frq + 0.00434831119231 * S_Income + -0.53011815040389 * S_Kidhome + 
0.07798575279605 * S_MntFishProducts + -0.04638001961046 * S_MntFruits + 0.05519829379656 * 
S_MntGoldProds + -0.39625749892117 * S_MntSweetProducts + -0.43868326715852 * 
S_MonthsAsCustomer + -0.20150528265823 * S_NumDealsPurchases + 0.06302113040532 * 
S_NumWebVisitsMonth + 0.1350599599417 * S_RFMstat + -0.29383555338259 * S_RMntFrq + 
-0.68766827249955 * S_Recency + -0.29183727562247 * S_Teenhome ;
2139203   +   H12  =     0.39055667226149 * S_AcceptedCmpTotal  +    -0.01370934848049 *
2139204   +        S_Age  +     0.24087739377669 * S_Frq  +      0.6385645265661 *
2139205   +        S_Income  +     0.91005509221929 * S_Kidhome
2139206   +          +     0.26314513971971 * S_MntFishProducts
2139207   +          +    -0.31269343103037 * S_MntFruits  +     0.14926981327092 *
2139208   +        S_MntGoldProds  +     0.23823473046762 * S_MntSweetProducts
2139209   +          +    -0.11762692239171 * S_MonthsAsCustomer
2139210   +          +     0.66369415921808 * S_NumDealsPurchases
2139211   +          +     0.34818395961585 * S_NumWebVisitsMonth
2139212   +          +     0.15957643046632 * S_RFMstat  +       0.043074454712 *
2139213   +        S_RMntFrq  +     -0.8279410878863 * S_Recency
2139214   +          +    -0.37857896695074 * S_Teenhome ;
MPRINT(EM_DIAGRAM):   H12 = 0.39055667226149 * S_AcceptedCmpTotal + -0.01370934848049 * S_Age 
+ 0.24087739377669 * S_Frq + 0.6385645265661 * S_Income + 0.91005509221929 * S_Kidhome + 
0.26314513971971 * S_MntFishProducts + -0.31269343103037 * S_MntFruits + 0.14926981327092 * 
S_MntGoldProds + 0.23823473046762 * S_MntSweetProducts + -0.11762692239171 * 
S_MonthsAsCustomer + 0.66369415921808 * S_NumDealsPurchases + 0.34818395961585 * 
S_NumWebVisitsMonth + 0.15957643046632 * S_RFMstat + 0.043074454712 * S_RMntFrq + 
-0.8279410878863 * S_Recency + -0.37857896695074 * S_Teenhome ;
2139215   +   H13  =     0.01761535715706 * S_AcceptedCmpTotal  +      -0.178245965481 *
2139216   +        S_Age  +    -0.38345114554341 * S_Frq  +    -0.85875480356991 *
2139217   +        S_Income  +     0.62650302214702 * S_Kidhome
2139218   +          +     0.15114878471783 * S_MntFishProducts
2139219   +          +    -0.04867026102421 * S_MntFruits  +    -0.02464340314012 *
2139220   +        S_MntGoldProds  +     0.25958757216658 * S_MntSweetProducts
2139221   +          +    -0.21247922433607 * S_MonthsAsCustomer
2139222   +          +     0.29870259291589 * S_NumDealsPurchases
2139223   +          +    -0.15551171574573 * S_NumWebVisitsMonth
2139224   +          +    -0.02668833787849 * S_RFMstat  +     -0.3938077247244 *
2139225   +        S_RMntFrq  +     0.37292679100385 * S_Recency
2139226   +          +     0.58536255154591 * S_Teenhome ;
MPRINT(EM_DIAGRAM):   H13 = 0.01761535715706 * S_AcceptedCmpTotal + -0.178245965481 * S_Age + 
-0.38345114554341 * S_Frq + -0.85875480356991 * S_Income + 0.62650302214702 * S_Kidhome + 
0.15114878471783 * S_MntFishProducts + -0.04867026102421 * S_MntFruits + -0.02464340314012 * 
S_MntGoldProds + 0.25958757216658 * S_MntSweetProducts + -0.21247922433607 * 
S_MonthsAsCustomer + 0.29870259291589 * S_NumDealsPurchases + -0.15551171574573 * 
S_NumWebVisitsMonth + -0.02668833787849 * S_RFMstat + -0.3938077247244 * S_RMntFrq + 
0.37292679100385 * S_Recency + 0.58536255154591 * S_Teenhome ;
2139227   +   H14  =    -0.23067808386271 * S_AcceptedCmpTotal  +      0.2795284747435 *
2139228   +        S_Age  +     0.88920181420929 * S_Frq  +     0.17396080204168 *
2139229   +        S_Income  +    -0.00823748207218 * S_Kidhome
2139230   +          +    -0.26914878127706 * S_MntFishProducts
2139231   +          +     0.32721028770496 * S_MntFruits  +     0.07070268272045 *
2139232   +        S_MntGoldProds  +    -0.35290123515707 * S_MntSweetProducts
2139233   +          +    -0.02974642168316 * S_MonthsAsCustomer
2139234   +          +    -0.63307764160477 * S_NumDealsPurchases
2139235   +          +    -0.86210034703857 * S_NumWebVisitsMonth
2139236   +          +    -0.16450375531942 * S_RFMstat  +     -0.0920077372506 *
2139237   +        S_RMntFrq  +     0.61882336952278 * S_Recency
2139238   +          +    -0.21217863284358 * S_Teenhome ;
MPRINT(EM_DIAGRAM):   H14 = -0.23067808386271 * S_AcceptedCmpTotal + 0.2795284747435 * S_Age + 
0.88920181420929 * S_Frq + 0.17396080204168 * S_Income + -0.00823748207218 * S_Kidhome + 
-0.26914878127706 * S_MntFishProducts + 0.32721028770496 * S_MntFruits + 0.07070268272045 * 
S_MntGoldProds + -0.35290123515707 * S_MntSweetProducts + -0.02974642168316 * 
S_MonthsAsCustomer + -0.63307764160477 * S_NumDealsPurchases + -0.86210034703857 * 
S_NumWebVisitsMonth + -0.16450375531942 * S_RFMstat + -0.0920077372506 * S_RMntFrq + 
0.61882336952278 * S_Recency + -0.21217863284358 * S_Teenhome ;
2139239   +   H15  =     0.08444141658062 * S_AcceptedCmpTotal  +    -0.03922634475077 *
2139240   +        S_Age  +     0.26114587238563 * S_Frq  +     0.30374331939028 *
2139241   +        S_Income  +     -0.2421178734201 * S_Kidhome
2139242   +          +    -0.19019330388039 * S_MntFishProducts
2139243   +          +    -0.22928418606812 * S_MntFruits  +    -0.34980290580426 *
2139244   +        S_MntGoldProds  +    -0.02640373527826 * S_MntSweetProducts
2139245   +          +     0.04217213390907 * S_MonthsAsCustomer
2139246   +          +    -0.43394541277085 * S_NumDealsPurchases
2139247   +          +    -0.27821724458462 * S_NumWebVisitsMonth
2139248   +          +     0.15130301601187 * S_RFMstat  +     0.24450838354469 *
2139249   +        S_RMntFrq  +     0.50442944125738 * S_Recency
2139250   +          +     -0.2256501036913 * S_Teenhome ;
MPRINT(EM_DIAGRAM):   H15 = 0.08444141658062 * S_AcceptedCmpTotal + -0.03922634475077 * S_Age 
+ 0.26114587238563 * S_Frq + 0.30374331939028 * S_Income + -0.2421178734201 * S_Kidhome + 
-0.19019330388039 * S_MntFishProducts + -0.22928418606812 * S_MntFruits + -0.34980290580426 * 
S_MntGoldProds + -0.02640373527826 * S_MntSweetProducts + 0.04217213390907 * 
S_MonthsAsCustomer + -0.43394541277085 * S_NumDealsPurchases + -0.27821724458462 * 
S_NumWebVisitsMonth + 0.15130301601187 * S_RFMstat + 0.24450838354469 * S_RMntFrq + 
0.50442944125738 * S_Recency + -0.2256501036913 * S_Teenhome ;
2139251   +   H16  =     0.04374591358456 * S_AcceptedCmpTotal  +     -0.2751915893845 *
2139252   +        S_Age  +    -0.17372079221228 * S_Frq  +     0.53295067221555 *
2139253   +        S_Income  +    -0.25554119630622 * S_Kidhome
2139254   +          +    -0.04166493246597 * S_MntFishProducts
2139255   +          +    -0.06487290273448 * S_MntFruits  +    -0.00905943807166 *
2139256   +        S_MntGoldProds  +    -0.02954875571593 * S_MntSweetProducts
2139257   +          +    -0.00047914053162 * S_MonthsAsCustomer
2139258   +          +     0.27113708386032 * S_NumDealsPurchases
2139259   +          +      0.2230890818172 * S_NumWebVisitsMonth
2139260   +          +     0.08637996401688 * S_RFMstat  +     0.10242942070091 *
2139261   +        S_RMntFrq  +    -0.89858232865076 * S_Recency
2139262   +          +    -0.26683150727678 * S_Teenhome ;
MPRINT(EM_DIAGRAM):   H16 = 0.04374591358456 * S_AcceptedCmpTotal + -0.2751915893845 * S_Age + 
-0.17372079221228 * S_Frq + 0.53295067221555 * S_Income + -0.25554119630622 * S_Kidhome + 
-0.04166493246597 * S_MntFishProducts + -0.06487290273448 * S_MntFruits + -0.00905943807166 * 
S_MntGoldProds + -0.02954875571593 * S_MntSweetProducts + -0.00047914053162 * 
S_MonthsAsCustomer + 0.27113708386032 * S_NumDealsPurchases + 0.2230890818172 * 
S_NumWebVisitsMonth + 0.08637996401688 * S_RFMstat + 0.10242942070091 * S_RMntFrq + 
-0.89858232865076 * S_Recency + -0.26683150727678 * S_Teenhome ;
2139263   +   H11  = H11  +      0.2420532776991 * AcceptedCmp10
2139264   +          +     0.02694604108098 * AcceptedCmp20  +     0.06010577635911 *
2139265   +        AcceptedCmp30  +    -0.43469683295349 * AcceptedCmp40
2139266   +          +    -0.00225551219247 * AcceptedCmp50  +     0.43197139863535 *
2139267   +        Complain0  +      0.2323752775589 * HigherEducationBinary0 ;
MPRINT(EM_DIAGRAM):   H11 = H11 + 0.2420532776991 * AcceptedCmp10 + 0.02694604108098 * 
AcceptedCmp20 + 0.06010577635911 * AcceptedCmp30 + -0.43469683295349 * AcceptedCmp40 + 
-0.00225551219247 * AcceptedCmp50 + 0.43197139863535 * Complain0 + 0.2323752775589 * 
HigherEducationBinary0 ;
2139268   +   H12  = H12  +      0.0418845409836 * AcceptedCmp10
2139269   +          +    -0.01079705732899 * AcceptedCmp20  +    -0.29526959542283 *
2139270   +        AcceptedCmp30  +     0.58938855079432 * AcceptedCmp40
2139271   +          +    -0.40652812652647 * AcceptedCmp50  +       0.594077548144 *
2139272   +        Complain0  +    -0.31255483011975 * HigherEducationBinary0 ;
MPRINT(EM_DIAGRAM):   H12 = H12 + 0.0418845409836 * AcceptedCmp10 + -0.01079705732899 * 
AcceptedCmp20 + -0.29526959542283 * AcceptedCmp30 + 0.58938855079432 * AcceptedCmp40 + 
-0.40652812652647 * AcceptedCmp50 + 0.594077548144 * Complain0 + -0.31255483011975 * 
HigherEducationBinary0 ;
2139273   +   H13  = H13  +     0.49883844557768 * AcceptedCmp10
2139274   +          +     0.42674404967605 * AcceptedCmp20  +     0.29339018006371 *
2139275   +        AcceptedCmp30  +     0.54178658137703 * AcceptedCmp40
2139276   +          +     0.11058374076127 * AcceptedCmp50  +     0.11090027293948 *
2139277   +        Complain0  +    -0.44686878118331 * HigherEducationBinary0 ;
MPRINT(EM_DIAGRAM):   H13 = H13 + 0.49883844557768 * AcceptedCmp10 + 0.42674404967605 * 
AcceptedCmp20 + 0.29339018006371 * AcceptedCmp30 + 0.54178658137703 * AcceptedCmp40 + 
0.11058374076127 * AcceptedCmp50 + 0.11090027293948 * Complain0 + -0.44686878118331 * 
HigherEducationBinary0 ;
2139278   +   H14  = H14  +     0.70177037762742 * AcceptedCmp10
2139279   +          +     0.03868361905724 * AcceptedCmp20  +      0.7582949125852 *
2139280   +        AcceptedCmp30  +     0.10306711606837 * AcceptedCmp40
2139281   +          +     0.40988843645402 * AcceptedCmp50  +     0.19161446313882 *
2139282   +        Complain0  +     0.09113445636937 * HigherEducationBinary0 ;
MPRINT(EM_DIAGRAM):   H14 = H14 + 0.70177037762742 * AcceptedCmp10 + 0.03868361905724 * 
AcceptedCmp20 + 0.7582949125852 * AcceptedCmp30 + 0.10306711606837 * AcceptedCmp40 + 
0.40988843645402 * AcceptedCmp50 + 0.19161446313882 * Complain0 + 0.09113445636937 * 
HigherEducationBinary0 ;
2139283   +   H15  = H15  +     0.30528471213622 * AcceptedCmp10
2139284   +          +    -0.01583520039877 * AcceptedCmp20  +     0.09319095124312 *
2139285   +        AcceptedCmp30  +     0.03503111555527 * AcceptedCmp40
2139286   +          +     0.19732231305873 * AcceptedCmp50  +    -0.32344950489145 *
2139287   +        Complain0  +    -0.20793136544812 * HigherEducationBinary0 ;
MPRINT(EM_DIAGRAM):   H15 = H15 + 0.30528471213622 * AcceptedCmp10 + -0.01583520039877 * 
AcceptedCmp20 + 0.09319095124312 * AcceptedCmp30 + 0.03503111555527 * AcceptedCmp40 + 
0.19732231305873 * AcceptedCmp50 + -0.32344950489145 * Complain0 + -0.20793136544812 * 
HigherEducationBinary0 ;
2139288   +   H16  = H16  +      -0.197363329461 * AcceptedCmp10
2139289   +          +     0.01373408247141 * AcceptedCmp20  +    -0.28302701132077 *
2139290   +        AcceptedCmp30  +    -0.13213187292914 * AcceptedCmp40
2139291   +          +    -0.04492941290682 * AcceptedCmp50  +     -0.1996561599765 *
2139292   +        Complain0  +     0.14532553420948 * HigherEducationBinary0 ;
MPRINT(EM_DIAGRAM):   H16 = H16 + -0.197363329461 * AcceptedCmp10 + 0.01373408247141 * 
AcceptedCmp20 + -0.28302701132077 * AcceptedCmp30 + -0.13213187292914 * AcceptedCmp40 + 
-0.04492941290682 * AcceptedCmp50 + -0.1996561599765 * Complain0 + 0.14532553420948 * 
HigherEducationBinary0 ;
2139293   +   H11  = H11  +     0.05185932264462 * Education2n_Cycle
2139294   +          +    -0.08049073469669 * EducationBasic  +    -0.01273883208394 *
2139295   +        EducationGraduation  +     0.01672434885938 * EducationMaster
2139296   +          +      0.1247897348584 * Marital_StatusDivorced
2139297   +          +    -0.02487802842095 * Marital_StatusMarried
2139298   +          +     0.04087485047811 * Marital_StatusSingle
2139299   +          +     0.02032230199979 * Marital_StatusTogether ;
MPRINT(EM_DIAGRAM):   H11 = H11 + 0.05185932264462 * Education2n_Cycle + -0.08049073469669 * 
EducationBasic + -0.01273883208394 * EducationGraduation + 0.01672434885938 * EducationMaster 
+ 0.1247897348584 * Marital_StatusDivorced + -0.02487802842095 * Marital_StatusMarried + 
0.04087485047811 * Marital_StatusSingle + 0.02032230199979 * Marital_StatusTogether ;
2139300   +   H12  = H12  +    -0.18957172593422 * Education2n_Cycle
2139301   +          +     0.13527696352941 * EducationBasic  +    -0.00239660031532 *
2139302   +        EducationGraduation  +     0.00550624186666 * EducationMaster
2139303   +          +     0.19258280536293 * Marital_StatusDivorced
2139304   +          +     -0.1513365484224 * Marital_StatusMarried
2139305   +          +     0.24428021275955 * Marital_StatusSingle
2139306   +          +     0.09103830773223 * Marital_StatusTogether ;
MPRINT(EM_DIAGRAM):   H12 = H12 + -0.18957172593422 * Education2n_Cycle + 0.13527696352941 * 
EducationBasic + -0.00239660031532 * EducationGraduation + 0.00550624186666 * EducationMaster 
+ 0.19258280536293 * Marital_StatusDivorced + -0.1513365484224 * Marital_StatusMarried + 
0.24428021275955 * Marital_StatusSingle + 0.09103830773223 * Marital_StatusTogether ;
2139307   +   H13  = H13  +     0.02098627668197 * Education2n_Cycle
2139308   +          +      0.0580330260954 * EducationBasic  +    -0.44505513897295 *
2139309   +        EducationGraduation  +     0.17237699716249 * EducationMaster
2139310   +          +    -0.19344679470577 * Marital_StatusDivorced
2139311   +          +     0.75587070758138 * Marital_StatusMarried
2139312   +          +    -0.65993136500147 * Marital_StatusSingle
2139313   +          +     0.58034892534704 * Marital_StatusTogether ;
MPRINT(EM_DIAGRAM):   H13 = H13 + 0.02098627668197 * Education2n_Cycle + 0.0580330260954 * 
EducationBasic + -0.44505513897295 * EducationGraduation + 0.17237699716249 * EducationMaster 
+ -0.19344679470577 * Marital_StatusDivorced + 0.75587070758138 * Marital_StatusMarried + 
-0.65993136500147 * Marital_StatusSingle + 0.58034892534704 * Marital_StatusTogether ;
2139314   +   H14  = H14  +      0.1859168336856 * Education2n_Cycle
2139315   +          +    -0.06308135212768 * EducationBasic  +    -0.27356179131381 *
2139316   +        EducationGraduation  +      -0.306174241941 * EducationMaster
2139317   +          +    -0.18717675910714 * Marital_StatusDivorced
2139318   +          +    -0.15181048866652 * Marital_StatusMarried
2139319   +          +     0.15597021159938 * Marital_StatusSingle
2139320   +          +    -0.03726120161813 * Marital_StatusTogether ;
MPRINT(EM_DIAGRAM):   H14 = H14 + 0.1859168336856 * Education2n_Cycle + -0.06308135212768 * 
EducationBasic + -0.27356179131381 * EducationGraduation + -0.306174241941 * EducationMaster + 
-0.18717675910714 * Marital_StatusDivorced + -0.15181048866652 * Marital_StatusMarried + 
0.15597021159938 * Marital_StatusSingle + -0.03726120161813 * Marital_StatusTogether ;
2139321   +   H15  = H15  +    -0.12193342286067 * Education2n_Cycle
2139322   +          +     0.20525778906074 * EducationBasic  +     0.04967185521727 *
2139323   +        EducationGraduation  +    -0.21821780206446 * EducationMaster
2139324   +          +    -0.10132599459296 * Marital_StatusDivorced
2139325   +          +     0.14113826410264 * Marital_StatusMarried
2139326   +          +    -0.18380525511118 * Marital_StatusSingle
2139327   +          +     0.23156188953493 * Marital_StatusTogether ;
MPRINT(EM_DIAGRAM):   H15 = H15 + -0.12193342286067 * Education2n_Cycle + 0.20525778906074 * 
EducationBasic + 0.04967185521727 * EducationGraduation + -0.21821780206446 * EducationMaster 
+ -0.10132599459296 * Marital_StatusDivorced + 0.14113826410264 * Marital_StatusMarried + 
-0.18380525511118 * Marital_StatusSingle + 0.23156188953493 * Marital_StatusTogether ;
2139328   +   H16  = H16  +     0.03162941262342 * Education2n_Cycle
2139329   +          +    -0.45867622010455 * EducationBasic  +    -0.08178251039016 *
2139330   +        EducationGraduation  +     -0.1990982641521 * EducationMaster
2139331   +          +     0.04797839463285 * Marital_StatusDivorced
2139332   +          +    -0.38756124755799 * Marital_StatusMarried
2139333   +          +      0.3042262890255 * Marital_StatusSingle
2139334   +          +    -0.28172576605756 * Marital_StatusTogether ;
MPRINT(EM_DIAGRAM):   H16 = H16 + 0.03162941262342 * Education2n_Cycle + -0.45867622010455 * 
EducationBasic + -0.08178251039016 * EducationGraduation + -0.1990982641521 * EducationMaster 
+ 0.04797839463285 * Marital_StatusDivorced + -0.38756124755799 * Marital_StatusMarried + 
0.3042262890255 * Marital_StatusSingle + -0.28172576605756 * Marital_StatusTogether ;
2139335   +   H11  =     1.39567717675367 + H11 ;
MPRINT(EM_DIAGRAM):   H11 = 1.39567717675367 + H11 ;
2139336   +   H12  =     0.19220435511693 + H12 ;
MPRINT(EM_DIAGRAM):   H12 = 0.19220435511693 + H12 ;
2139337   +   H13  =     0.55786873663699 + H13 ;
MPRINT(EM_DIAGRAM):   H13 = 0.55786873663699 + H13 ;
2139338   +   H14  =     0.28152400973799 + H14 ;
MPRINT(EM_DIAGRAM):   H14 = 0.28152400973799 + H14 ;
2139339   +   H15  =     1.08936778651476 + H15 ;
MPRINT(EM_DIAGRAM):   H15 = 1.08936778651476 + H15 ;
2139340   +   H16  =     -0.2268073967479 + H16 ;
MPRINT(EM_DIAGRAM):   H16 = -0.2268073967479 + H16 ;
2139341   +   H11  = TANH(H11 );
MPRINT(EM_DIAGRAM):   H11 = TANH(H11 );
2139342   +   H12  = TANH(H12 );
MPRINT(EM_DIAGRAM):   H12 = TANH(H12 );
2139343   +   H13  = TANH(H13 );
MPRINT(EM_DIAGRAM):   H13 = TANH(H13 );
2139344   +   H14  = TANH(H14 );
MPRINT(EM_DIAGRAM):   H14 = TANH(H14 );
2139345   +   H15  = TANH(H15 );
MPRINT(EM_DIAGRAM):   H15 = TANH(H15 );
2139346   +   H16  = TANH(H16 );
MPRINT(EM_DIAGRAM):   H16 = TANH(H16 );
2139347   +END;
MPRINT(EM_DIAGRAM):   END;
2139348   +ELSE DO;
MPRINT(EM_DIAGRAM):   ELSE DO;
2139349   +   H11  = .;
MPRINT(EM_DIAGRAM):   H11 = .;
2139350   +   H12  = .;
MPRINT(EM_DIAGRAM):   H12 = .;
2139351   +   H13  = .;
MPRINT(EM_DIAGRAM):   H13 = .;
2139352   +   H14  = .;
MPRINT(EM_DIAGRAM):   H14 = .;
2139353   +   H15  = .;
MPRINT(EM_DIAGRAM):   H15 = .;
2139354   +   H16  = .;
MPRINT(EM_DIAGRAM):   H16 = .;
2139355   +END;
MPRINT(EM_DIAGRAM):   END;
2139356   +*** *************************;
MPRINT(EM_DIAGRAM):   *** *************************;
2139357   +*** Writing the Node DepVar ;
MPRINT(EM_DIAGRAM):   *** Writing the Node DepVar ;
2139358   +*** *************************;
MPRINT(EM_DIAGRAM):   *** *************************;
2139359   +
2139360   +*** Generate dummy variables for DepVar ;
MPRINT(EM_DIAGRAM):   *** Generate dummy variables for DepVar ;
2139361   +drop DepVar1 DepVar0 ;
MPRINT(EM_DIAGRAM):   drop DepVar1 DepVar0 ;
2139362   +label F_DepVar = 'From: DepVar' ;
MPRINT(EM_DIAGRAM):   label F_DepVar = 'From: DepVar' ;
2139363   +length F_DepVar $ 12;
MPRINT(EM_DIAGRAM):   length F_DepVar $ 12;
2139364   +F_DepVar = put( DepVar , BEST. );
MPRINT(EM_DIAGRAM):   F_DepVar = put( DepVar , BEST. );
2139365   +%DMNORMIP( F_DepVar )
MPRINT(DMNORMIP):   call dmnorm(F_DepVar,
MPRINT(DMNORLEN):  32
MPRINT(DMNORMIP):  );
2139366   +if missing( DepVar ) then do;
MPRINT(EM_DIAGRAM):   if missing( DepVar ) then do;
2139367   +   DepVar1 = .;
MPRINT(EM_DIAGRAM):   DepVar1 = .;
2139368   +   DepVar0 = .;
MPRINT(EM_DIAGRAM):   DepVar0 = .;
2139369   +end;
MPRINT(EM_DIAGRAM):   end;
2139370   +else do;
MPRINT(EM_DIAGRAM):   else do;
2139371   +   if F_DepVar = '0'  then do;
MPRINT(EM_DIAGRAM):   if F_DepVar = '0' then do;
2139372   +      DepVar1 = 0;
MPRINT(EM_DIAGRAM):   DepVar1 = 0;
2139373   +      DepVar0 = 1;
MPRINT(EM_DIAGRAM):   DepVar0 = 1;
2139374   +   end;
MPRINT(EM_DIAGRAM):   end;
2139375   +   else if F_DepVar = '1'  then do;
MPRINT(EM_DIAGRAM):   else if F_DepVar = '1' then do;
2139376   +      DepVar1 = 1;
MPRINT(EM_DIAGRAM):   DepVar1 = 1;
2139377   +      DepVar0 = 0;
MPRINT(EM_DIAGRAM):   DepVar0 = 0;
2139378   +   end;
MPRINT(EM_DIAGRAM):   end;
2139379   +   else do;
MPRINT(EM_DIAGRAM):   else do;
2139380   +      DepVar1 = .;
MPRINT(EM_DIAGRAM):   DepVar1 = .;
2139381   +      DepVar0 = .;
MPRINT(EM_DIAGRAM):   DepVar0 = .;
2139382   +   end;
MPRINT(EM_DIAGRAM):   end;
2139383   +end;
MPRINT(EM_DIAGRAM):   end;
2139384   +IF _DM_BAD EQ 0 THEN DO;
MPRINT(EM_DIAGRAM):   IF _DM_BAD EQ 0 THEN DO;
2139385   +   P_DepVar1  =       1.190486795477 * H11  +     2.38320433896182 * H12
2139386   +          +    -2.42159759131581 * H13  +    -2.18917732939624 * H14
2139387   +          +    -0.38101990662686 * H15  +     1.17308047763791 * H16 ;
MPRINT(EM_DIAGRAM):   P_DepVar1 = 1.190486795477 * H11 + 2.38320433896182 * H12 + 
-2.42159759131581 * H13 + -2.18917732939624 * H14 + -0.38101990662686 * H15 + 1.17308047763791 
* H16 ;
2139388   +   P_DepVar1  =    -1.69959324221607 + P_DepVar1 ;
MPRINT(EM_DIAGRAM):   P_DepVar1 = -1.69959324221607 + P_DepVar1 ;
2139389   +   P_DepVar0  = 0;
MPRINT(EM_DIAGRAM):   P_DepVar0 = 0;
2139390   +   _MAX_ = MAX (P_DepVar1 , P_DepVar0 );
MPRINT(EM_DIAGRAM):   _MAX_ = MAX (P_DepVar1 , P_DepVar0 );
2139391   +   _SUM_ = 0.;
MPRINT(EM_DIAGRAM):   _SUM_ = 0.;
2139392   +   P_DepVar1  = EXP(P_DepVar1  - _MAX_);
MPRINT(EM_DIAGRAM):   P_DepVar1 = EXP(P_DepVar1 - _MAX_);
2139393   +   _SUM_ = _SUM_ + P_DepVar1 ;
MPRINT(EM_DIAGRAM):   _SUM_ = _SUM_ + P_DepVar1 ;
2139394   +   P_DepVar0  = EXP(P_DepVar0  - _MAX_);
MPRINT(EM_DIAGRAM):   P_DepVar0 = EXP(P_DepVar0 - _MAX_);
2139395   +   _SUM_ = _SUM_ + P_DepVar0 ;
MPRINT(EM_DIAGRAM):   _SUM_ = _SUM_ + P_DepVar0 ;
2139396   +   P_DepVar1  = P_DepVar1  / _SUM_;
MPRINT(EM_DIAGRAM):   P_DepVar1 = P_DepVar1 / _SUM_;
2139397   +   P_DepVar0  = P_DepVar0  / _SUM_;
MPRINT(EM_DIAGRAM):   P_DepVar0 = P_DepVar0 / _SUM_;
2139398   +END;
MPRINT(EM_DIAGRAM):   END;
2139399   +ELSE DO;
MPRINT(EM_DIAGRAM):   ELSE DO;
2139400   +   P_DepVar1  = .;
MPRINT(EM_DIAGRAM):   P_DepVar1 = .;
2139401   +   P_DepVar0  = .;
MPRINT(EM_DIAGRAM):   P_DepVar0 = .;
2139402   +END;
MPRINT(EM_DIAGRAM):   END;
2139403   +IF _DM_BAD EQ 1 THEN DO;
MPRINT(EM_DIAGRAM):   IF _DM_BAD EQ 1 THEN DO;
2139404   +   P_DepVar1  =     0.15122156697556;
MPRINT(EM_DIAGRAM):   P_DepVar1 = 0.15122156697556;
2139405   +   P_DepVar0  =     0.84877843302443;
MPRINT(EM_DIAGRAM):   P_DepVar0 = 0.84877843302443;
2139406   +END;
MPRINT(EM_DIAGRAM):   END;
2139407   +*** *****************************;
MPRINT(EM_DIAGRAM):   *** *****************************;
2139408   +*** Writing the Residuals  of the Node DepVar ;
MPRINT(EM_DIAGRAM):   *** Writing the Residuals of the Node DepVar ;
2139409   +*** ******************************;
MPRINT(EM_DIAGRAM):   *** ******************************;
2139410   +IF MISSING( DepVar1 ) THEN R_DepVar1  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( DepVar1 ) THEN R_DepVar1 = . ;
2139411   +ELSE R_DepVar1  = DepVar1  - P_DepVar1 ;
MPRINT(EM_DIAGRAM):   ELSE R_DepVar1 = DepVar1 - P_DepVar1 ;
2139412   +IF MISSING( DepVar0 ) THEN R_DepVar0  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( DepVar0 ) THEN R_DepVar0 = . ;
2139413   +ELSE R_DepVar0  = DepVar0  - P_DepVar0 ;
MPRINT(EM_DIAGRAM):   ELSE R_DepVar0 = DepVar0 - P_DepVar0 ;
2139414   +*** *************************;
MPRINT(EM_DIAGRAM):   *** *************************;
2139415   +*** Writing the I_DepVar  AND U_DepVar ;
MPRINT(EM_DIAGRAM):   *** Writing the I_DepVar AND U_DepVar ;
2139416   +*** *************************;
MPRINT(EM_DIAGRAM):   *** *************************;
2139417   +_MAXP_ = P_DepVar1 ;
MPRINT(EM_DIAGRAM):   _MAXP_ = P_DepVar1 ;
2139418   +I_DepVar  = "1           " ;
MPRINT(EM_DIAGRAM):   I_DepVar = "1           " ;
2139419   +U_DepVar  =                    1;
MPRINT(EM_DIAGRAM):   U_DepVar = 1;
2139420   +IF( _MAXP_ LT P_DepVar0  ) THEN DO;
MPRINT(EM_DIAGRAM):   IF( _MAXP_ LT P_DepVar0 ) THEN DO;
2139421   +   _MAXP_ = P_DepVar0 ;
MPRINT(EM_DIAGRAM):   _MAXP_ = P_DepVar0 ;
2139422   +   I_DepVar  = "0           " ;
MPRINT(EM_DIAGRAM):   I_DepVar = "0           " ;
2139423   +   U_DepVar  =                    0;
MPRINT(EM_DIAGRAM):   U_DepVar = 0;
2139424   +END;
MPRINT(EM_DIAGRAM):   END;
2139425   +********************************;
MPRINT(EM_DIAGRAM):   ********************************;
2139426   +*** End Scoring Code for Neural;
MPRINT(EM_DIAGRAM):   *** End Scoring Code for Neural;
2139427   +********************************;
MPRINT(EM_DIAGRAM):   ********************************;
2139428   +drop
2139429   +H11
2139430   +H12
2139431   +H13
2139432   +H14
2139433   +H15
2139434   +H16
2139435   +;
MPRINT(EM_DIAGRAM):   drop H11 H12 H13 H14 H15 H16 ;
2139436   +drop S_:;
MPRINT(EM_DIAGRAM):   drop S_:;
2139437   +* Renaming variables for Neural41;
MPRINT(EM_DIAGRAM):   * Renaming variables for Neural41;
2139438   +*------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
2139439   +* Renaming Posterior variables for Neural41;
MPRINT(EM_DIAGRAM):   * Renaming Posterior variables for Neural41;
2139440   +*------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
2139441   +drop Neural41_P_DepVar1;
MPRINT(EM_DIAGRAM):   drop Neural41_P_DepVar1;
2139442   +Neural41_P_DepVar1 = P_DepVar1;
MPRINT(EM_DIAGRAM):   Neural41_P_DepVar1 = P_DepVar1;
2139443   +drop Neural41_P_DepVar0;
MPRINT(EM_DIAGRAM):   drop Neural41_P_DepVar0;
2139444   +Neural41_P_DepVar0 = P_DepVar0;
MPRINT(EM_DIAGRAM):   Neural41_P_DepVar0 = P_DepVar0;
2139445   +*------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
2139446   +* Renaming _WARN_ variable for Neural41;
MPRINT(EM_DIAGRAM):   * Renaming _WARN_ variable for Neural41;
2139447   +*------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
2139448   +length Neural41_WARN_ $4;
MPRINT(EM_DIAGRAM):   length Neural41_WARN_ $4;
2139449   +drop Neural41_WARN_;
MPRINT(EM_DIAGRAM):   drop Neural41_WARN_;
2139450   +Neural41_WARN_ = _WARN_;
MPRINT(EM_DIAGRAM):   Neural41_WARN_ = _WARN_;
2139451   +*------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
2139452   +* Ensmbl23: Scoring Code of model 2 of 5;
MPRINT(EM_DIAGRAM):   * Ensmbl23: Scoring Code of model 2 of 5;
2139453   +*------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
2139454   +*------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
2139455   +* TOOL: Neural;
MPRINT(EM_DIAGRAM):   * TOOL: Neural;
2139456   +* TYPE: MODEL;
MPRINT(EM_DIAGRAM):   * TYPE: MODEL;
2139457   +* NODE: Neural40;
MPRINT(EM_DIAGRAM):   * NODE: Neural40;
2139458   +*------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
2139459   +***********************************;
MPRINT(EM_DIAGRAM):   ***********************************;
2139460   +*** Begin Scoring Code for Neural;
MPRINT(EM_DIAGRAM):   *** Begin Scoring Code for Neural;
2139461   +***********************************;
MPRINT(EM_DIAGRAM):   ***********************************;
2139462   +DROP _DM_BAD _EPS _NOCL_ _MAX_ _MAXP_ _SUM_ _NTRIALS;
MPRINT(EM_DIAGRAM):   DROP _DM_BAD _EPS _NOCL_ _MAX_ _MAXP_ _SUM_ _NTRIALS;
2139463   + _DM_BAD = 0;
MPRINT(EM_DIAGRAM):   _DM_BAD = 0;
2139464   + _NOCL_ = .;
MPRINT(EM_DIAGRAM):   _NOCL_ = .;
2139465   + _MAX_ = .;
MPRINT(EM_DIAGRAM):   _MAX_ = .;
2139466   + _MAXP_ = .;
MPRINT(EM_DIAGRAM):   _MAXP_ = .;
2139467   + _SUM_ = .;
MPRINT(EM_DIAGRAM):   _SUM_ = .;
2139468   + _NTRIALS = .;
MPRINT(EM_DIAGRAM):   _NTRIALS = .;
2139469   + _EPS =                1E-10;
MPRINT(EM_DIAGRAM):   _EPS = 1E-10;
2139470   +LENGTH _WARN_ $4
2139471   +      F_DepVar  $ 12
2139472   +;
MPRINT(EM_DIAGRAM):   LENGTH _WARN_ $4 F_DepVar $ 12 ;
2139473   +      label S_AcceptedCmpTotal = 'Standard: AcceptedCmpTotal' ;
MPRINT(EM_DIAGRAM):   label S_AcceptedCmpTotal = 'Standard: AcceptedCmpTotal' ;
2139474   +
2139475   +      label S_Age = 'Standard: Age' ;
MPRINT(EM_DIAGRAM):   label S_Age = 'Standard: Age' ;
2139476   +
2139477   +      label S_Frq = 'Standard: Frq' ;
MPRINT(EM_DIAGRAM):   label S_Frq = 'Standard: Frq' ;
2139478   +
2139479   +      label S_Income = 'Standard: Income' ;
MPRINT(EM_DIAGRAM):   label S_Income = 'Standard: Income' ;
2139480   +
2139481   +      label S_Kidhome = 'Standard: Kidhome' ;
MPRINT(EM_DIAGRAM):   label S_Kidhome = 'Standard: Kidhome' ;
2139482   +
2139483   +      label S_MntFishProducts = 'Standard: MntFishProducts' ;
MPRINT(EM_DIAGRAM):   label S_MntFishProducts = 'Standard: MntFishProducts' ;
2139484   +
2139485   +      label S_MntFruits = 'Standard: MntFruits' ;
MPRINT(EM_DIAGRAM):   label S_MntFruits = 'Standard: MntFruits' ;
2139486   +
2139487   +      label S_MntGoldProds = 'Standard: MntGoldProds' ;
MPRINT(EM_DIAGRAM):   label S_MntGoldProds = 'Standard: MntGoldProds' ;
2139488   +
2139489   +      label S_MntSweetProducts = 'Standard: MntSweetProducts' ;
MPRINT(EM_DIAGRAM):   label S_MntSweetProducts = 'Standard: MntSweetProducts' ;
2139490   +
2139491   +      label S_MonthsAsCustomer = 'Standard: MonthsAsCustomer' ;
MPRINT(EM_DIAGRAM):   label S_MonthsAsCustomer = 'Standard: MonthsAsCustomer' ;
2139492   +
2139493   +      label S_NumDealsPurchases = 'Standard: NumDealsPurchases' ;
MPRINT(EM_DIAGRAM):   label S_NumDealsPurchases = 'Standard: NumDealsPurchases' ;
2139494   +
2139495   +      label S_NumWebVisitsMonth = 'Standard: NumWebVisitsMonth' ;
MPRINT(EM_DIAGRAM):   label S_NumWebVisitsMonth = 'Standard: NumWebVisitsMonth' ;
2139496   +
2139497   +      label S_RFMstat = 'Standard: RFMstat' ;
MPRINT(EM_DIAGRAM):   label S_RFMstat = 'Standard: RFMstat' ;
2139498   +
2139499   +      label S_RMntFrq = 'Standard: RMntFrq' ;
MPRINT(EM_DIAGRAM):   label S_RMntFrq = 'Standard: RMntFrq' ;
2139500   +
2139501   +      label S_Recency = 'Standard: Recency' ;
MPRINT(EM_DIAGRAM):   label S_Recency = 'Standard: Recency' ;
2139502   +
2139503   +      label S_Teenhome = 'Standard: Teenhome' ;
MPRINT(EM_DIAGRAM):   label S_Teenhome = 'Standard: Teenhome' ;
2139504   +
2139505   +      label AcceptedCmp10 = 'Dummy: AcceptedCmp1=0' ;
MPRINT(EM_DIAGRAM):   label AcceptedCmp10 = 'Dummy: AcceptedCmp1=0' ;
2139506   +
2139507   +      label AcceptedCmp20 = 'Dummy: AcceptedCmp2=0' ;
MPRINT(EM_DIAGRAM):   label AcceptedCmp20 = 'Dummy: AcceptedCmp2=0' ;
2139508   +
2139509   +      label AcceptedCmp30 = 'Dummy: AcceptedCmp3=0' ;
MPRINT(EM_DIAGRAM):   label AcceptedCmp30 = 'Dummy: AcceptedCmp3=0' ;
2139510   +
2139511   +      label AcceptedCmp40 = 'Dummy: AcceptedCmp4=0' ;
MPRINT(EM_DIAGRAM):   label AcceptedCmp40 = 'Dummy: AcceptedCmp4=0' ;
2139512   +
2139513   +      label AcceptedCmp50 = 'Dummy: AcceptedCmp5=0' ;
MPRINT(EM_DIAGRAM):   label AcceptedCmp50 = 'Dummy: AcceptedCmp5=0' ;
2139514   +
2139515   +      label Complain0 = 'Dummy: Complain=0' ;
MPRINT(EM_DIAGRAM):   label Complain0 = 'Dummy: Complain=0' ;
2139516   +
2139517   +      label HigherEducationBinary0 = 'Dummy: HigherEducationBinary=0' ;
MPRINT(EM_DIAGRAM):   label HigherEducationBinary0 = 'Dummy: HigherEducationBinary=0' ;
2139518   +
2139519   +      label Education2n_Cycle = 'Dummy: Education=2n Cycle' ;
MPRINT(EM_DIAGRAM):   label Education2n_Cycle = 'Dummy: Education=2n Cycle' ;
2139520   +
2139521   +      label EducationBasic = 'Dummy: Education=Basic' ;
MPRINT(EM_DIAGRAM):   label EducationBasic = 'Dummy: Education=Basic' ;
2139522   +
2139523   +      label EducationGraduation = 'Dummy: Education=Graduation' ;
MPRINT(EM_DIAGRAM):   label EducationGraduation = 'Dummy: Education=Graduation' ;
2139524   +
2139525   +      label EducationMaster = 'Dummy: Education=Master' ;
MPRINT(EM_DIAGRAM):   label EducationMaster = 'Dummy: Education=Master' ;
2139526   +
2139527   +      label Marital_StatusDivorced = 'Dummy: Marital_Status=Divorced' ;
MPRINT(EM_DIAGRAM):   label Marital_StatusDivorced = 'Dummy: Marital_Status=Divorced' ;
2139528   +
2139529   +      label Marital_StatusMarried = 'Dummy: Marital_Status=Married' ;
MPRINT(EM_DIAGRAM):   label Marital_StatusMarried = 'Dummy: Marital_Status=Married' ;
2139530   +
2139531   +      label Marital_StatusSingle = 'Dummy: Marital_Status=Single' ;
MPRINT(EM_DIAGRAM):   label Marital_StatusSingle = 'Dummy: Marital_Status=Single' ;
2139532   +
2139533   +      label Marital_StatusTogether = 'Dummy: Marital_Status=Together' ;
MPRINT(EM_DIAGRAM):   label Marital_StatusTogether = 'Dummy: Marital_Status=Together' ;
2139534   +
2139535   +      label H11 = 'Hidden: H1=1' ;
MPRINT(EM_DIAGRAM):   label H11 = 'Hidden: H1=1' ;
2139536   +
2139537   +      label H12 = 'Hidden: H1=2' ;
MPRINT(EM_DIAGRAM):   label H12 = 'Hidden: H1=2' ;
2139538   +
2139539   +      label H13 = 'Hidden: H1=3' ;
MPRINT(EM_DIAGRAM):   label H13 = 'Hidden: H1=3' ;
2139540   +
2139541   +      label H14 = 'Hidden: H1=4' ;
MPRINT(EM_DIAGRAM):   label H14 = 'Hidden: H1=4' ;
2139542   +
2139543   +      label H15 = 'Hidden: H1=5' ;
MPRINT(EM_DIAGRAM):   label H15 = 'Hidden: H1=5' ;
2139544   +
2139545   +      label I_DepVar = 'Into: DepVar' ;
MPRINT(EM_DIAGRAM):   label I_DepVar = 'Into: DepVar' ;
2139546   +
2139547   +      label F_DepVar = 'From: DepVar' ;
MPRINT(EM_DIAGRAM):   label F_DepVar = 'From: DepVar' ;
2139548   +
2139549   +      label U_DepVar = 'Unnormalized Into: DepVar' ;
MPRINT(EM_DIAGRAM):   label U_DepVar = 'Unnormalized Into: DepVar' ;
2139550   +
2139551   +      label P_DepVar1 = 'Predicted: DepVar=1' ;
MPRINT(EM_DIAGRAM):   label P_DepVar1 = 'Predicted: DepVar=1' ;
2139552   +
2139553   +      label R_DepVar1 = 'Residual: DepVar=1' ;
MPRINT(EM_DIAGRAM):   label R_DepVar1 = 'Residual: DepVar=1' ;
2139554   +
2139555   +      label P_DepVar0 = 'Predicted: DepVar=0' ;
MPRINT(EM_DIAGRAM):   label P_DepVar0 = 'Predicted: DepVar=0' ;
2139556   +
2139557   +      label R_DepVar0 = 'Residual: DepVar=0' ;
MPRINT(EM_DIAGRAM):   label R_DepVar0 = 'Residual: DepVar=0' ;
2139558   +
2139559   +      label  _WARN_ = "Warnings";
MPRINT(EM_DIAGRAM):   label _WARN_ = "Warnings";
2139560   +
2139561   +*** Generate dummy variables for AcceptedCmp1 ;
MPRINT(EM_DIAGRAM):   *** Generate dummy variables for AcceptedCmp1 ;
2139562   +drop AcceptedCmp10 ;
MPRINT(EM_DIAGRAM):   drop AcceptedCmp10 ;
2139563   +if missing( AcceptedCmp1 ) then do;
MPRINT(EM_DIAGRAM):   if missing( AcceptedCmp1 ) then do;
2139564   +   AcceptedCmp10 = .;
MPRINT(EM_DIAGRAM):   AcceptedCmp10 = .;
2139565   +   substr(_warn_,1,1) = 'M';
MPRINT(EM_DIAGRAM):   substr(_warn_,1,1) = 'M';
2139566   +   _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2139567   +end;
MPRINT(EM_DIAGRAM):   end;
2139568   +else do;
MPRINT(EM_DIAGRAM):   else do;
2139569   +   length _dm12 $ 12; drop _dm12 ;
MPRINT(EM_DIAGRAM):   length _dm12 $ 12;
MPRINT(EM_DIAGRAM):   drop _dm12 ;
2139570   +   _dm12 = put( AcceptedCmp1 , BEST. );
MPRINT(EM_DIAGRAM):   _dm12 = put( AcceptedCmp1 , BEST. );
2139571   +   %DMNORMIP( _dm12 )
MPRINT(DMNORMIP):   call dmnorm(_dm12,
MPRINT(DMNORLEN):  32
MPRINT(DMNORMIP):  );
2139572   +   if _dm12 = '0'  then do;
MPRINT(EM_DIAGRAM):   if _dm12 = '0' then do;
2139573   +      AcceptedCmp10 = 1;
MPRINT(EM_DIAGRAM):   AcceptedCmp10 = 1;
2139574   +   end;
MPRINT(EM_DIAGRAM):   end;
2139575   +   else if _dm12 = '1'  then do;
MPRINT(EM_DIAGRAM):   else if _dm12 = '1' then do;
2139576   +      AcceptedCmp10 = -1;
MPRINT(EM_DIAGRAM):   AcceptedCmp10 = -1;
2139577   +   end;
MPRINT(EM_DIAGRAM):   end;
2139578   +   else do;
MPRINT(EM_DIAGRAM):   else do;
2139579   +      AcceptedCmp10 = .;
MPRINT(EM_DIAGRAM):   AcceptedCmp10 = .;
2139580   +      substr(_warn_,2,1) = 'U';
MPRINT(EM_DIAGRAM):   substr(_warn_,2,1) = 'U';
2139581   +      _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2139582   +   end;
MPRINT(EM_DIAGRAM):   end;
2139583   +end;
MPRINT(EM_DIAGRAM):   end;
2139584   +
2139585   +*** Generate dummy variables for AcceptedCmp2 ;
MPRINT(EM_DIAGRAM):   *** Generate dummy variables for AcceptedCmp2 ;
2139586   +drop AcceptedCmp20 ;
MPRINT(EM_DIAGRAM):   drop AcceptedCmp20 ;
2139587   +if missing( AcceptedCmp2 ) then do;
MPRINT(EM_DIAGRAM):   if missing( AcceptedCmp2 ) then do;
2139588   +   AcceptedCmp20 = .;
MPRINT(EM_DIAGRAM):   AcceptedCmp20 = .;
2139589   +   substr(_warn_,1,1) = 'M';
MPRINT(EM_DIAGRAM):   substr(_warn_,1,1) = 'M';
2139590   +   _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2139591   +end;
MPRINT(EM_DIAGRAM):   end;
2139592   +else do;
MPRINT(EM_DIAGRAM):   else do;
2139593   +   length _dm12 $ 12; drop _dm12 ;
MPRINT(EM_DIAGRAM):   length _dm12 $ 12;
MPRINT(EM_DIAGRAM):   drop _dm12 ;
2139594   +   _dm12 = put( AcceptedCmp2 , BEST. );
MPRINT(EM_DIAGRAM):   _dm12 = put( AcceptedCmp2 , BEST. );
2139595   +   %DMNORMIP( _dm12 )
MPRINT(DMNORMIP):   call dmnorm(_dm12,
MPRINT(DMNORLEN):  32
MPRINT(DMNORMIP):  );
2139596   +   if _dm12 = '0'  then do;
MPRINT(EM_DIAGRAM):   if _dm12 = '0' then do;
2139597   +      AcceptedCmp20 = 1;
MPRINT(EM_DIAGRAM):   AcceptedCmp20 = 1;
2139598   +   end;
MPRINT(EM_DIAGRAM):   end;
2139599   +   else if _dm12 = '1'  then do;
MPRINT(EM_DIAGRAM):   else if _dm12 = '1' then do;
2139600   +      AcceptedCmp20 = -1;
MPRINT(EM_DIAGRAM):   AcceptedCmp20 = -1;
2139601   +   end;
MPRINT(EM_DIAGRAM):   end;
2139602   +   else do;
MPRINT(EM_DIAGRAM):   else do;
2139603   +      AcceptedCmp20 = .;
MPRINT(EM_DIAGRAM):   AcceptedCmp20 = .;
2139604   +      substr(_warn_,2,1) = 'U';
MPRINT(EM_DIAGRAM):   substr(_warn_,2,1) = 'U';
2139605   +      _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2139606   +   end;
MPRINT(EM_DIAGRAM):   end;
2139607   +end;
MPRINT(EM_DIAGRAM):   end;
2139608   +
2139609   +*** Generate dummy variables for AcceptedCmp3 ;
MPRINT(EM_DIAGRAM):   *** Generate dummy variables for AcceptedCmp3 ;
2139610   +drop AcceptedCmp30 ;
MPRINT(EM_DIAGRAM):   drop AcceptedCmp30 ;
2139611   +if missing( AcceptedCmp3 ) then do;
MPRINT(EM_DIAGRAM):   if missing( AcceptedCmp3 ) then do;
2139612   +   AcceptedCmp30 = .;
MPRINT(EM_DIAGRAM):   AcceptedCmp30 = .;
2139613   +   substr(_warn_,1,1) = 'M';
MPRINT(EM_DIAGRAM):   substr(_warn_,1,1) = 'M';
2139614   +   _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2139615   +end;
MPRINT(EM_DIAGRAM):   end;
2139616   +else do;
MPRINT(EM_DIAGRAM):   else do;
2139617   +   length _dm12 $ 12; drop _dm12 ;
MPRINT(EM_DIAGRAM):   length _dm12 $ 12;
MPRINT(EM_DIAGRAM):   drop _dm12 ;
2139618   +   _dm12 = put( AcceptedCmp3 , BEST. );
MPRINT(EM_DIAGRAM):   _dm12 = put( AcceptedCmp3 , BEST. );
2139619   +   %DMNORMIP( _dm12 )
MPRINT(DMNORMIP):   call dmnorm(_dm12,
MPRINT(DMNORLEN):  32
MPRINT(DMNORMIP):  );
2139620   +   if _dm12 = '0'  then do;
MPRINT(EM_DIAGRAM):   if _dm12 = '0' then do;
2139621   +      AcceptedCmp30 = 1;
MPRINT(EM_DIAGRAM):   AcceptedCmp30 = 1;
2139622   +   end;
MPRINT(EM_DIAGRAM):   end;
2139623   +   else if _dm12 = '1'  then do;
MPRINT(EM_DIAGRAM):   else if _dm12 = '1' then do;
2139624   +      AcceptedCmp30 = -1;
MPRINT(EM_DIAGRAM):   AcceptedCmp30 = -1;
2139625   +   end;
MPRINT(EM_DIAGRAM):   end;
2139626   +   else do;
MPRINT(EM_DIAGRAM):   else do;
2139627   +      AcceptedCmp30 = .;
MPRINT(EM_DIAGRAM):   AcceptedCmp30 = .;
2139628   +      substr(_warn_,2,1) = 'U';
MPRINT(EM_DIAGRAM):   substr(_warn_,2,1) = 'U';
2139629   +      _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2139630   +   end;
MPRINT(EM_DIAGRAM):   end;
2139631   +end;
MPRINT(EM_DIAGRAM):   end;
2139632   +
2139633   +*** Generate dummy variables for AcceptedCmp4 ;
MPRINT(EM_DIAGRAM):   *** Generate dummy variables for AcceptedCmp4 ;
2139634   +drop AcceptedCmp40 ;
MPRINT(EM_DIAGRAM):   drop AcceptedCmp40 ;
2139635   +if missing( AcceptedCmp4 ) then do;
MPRINT(EM_DIAGRAM):   if missing( AcceptedCmp4 ) then do;
2139636   +   AcceptedCmp40 = .;
MPRINT(EM_DIAGRAM):   AcceptedCmp40 = .;
2139637   +   substr(_warn_,1,1) = 'M';
MPRINT(EM_DIAGRAM):   substr(_warn_,1,1) = 'M';
2139638   +   _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2139639   +end;
MPRINT(EM_DIAGRAM):   end;
2139640   +else do;
MPRINT(EM_DIAGRAM):   else do;
2139641   +   length _dm12 $ 12; drop _dm12 ;
MPRINT(EM_DIAGRAM):   length _dm12 $ 12;
MPRINT(EM_DIAGRAM):   drop _dm12 ;
2139642   +   _dm12 = put( AcceptedCmp4 , BEST. );
MPRINT(EM_DIAGRAM):   _dm12 = put( AcceptedCmp4 , BEST. );
2139643   +   %DMNORMIP( _dm12 )
MPRINT(DMNORMIP):   call dmnorm(_dm12,
MPRINT(DMNORLEN):  32
MPRINT(DMNORMIP):  );
2139644   +   if _dm12 = '0'  then do;
MPRINT(EM_DIAGRAM):   if _dm12 = '0' then do;
2139645   +      AcceptedCmp40 = 1;
MPRINT(EM_DIAGRAM):   AcceptedCmp40 = 1;
2139646   +   end;
MPRINT(EM_DIAGRAM):   end;
2139647   +   else if _dm12 = '1'  then do;
MPRINT(EM_DIAGRAM):   else if _dm12 = '1' then do;
2139648   +      AcceptedCmp40 = -1;
MPRINT(EM_DIAGRAM):   AcceptedCmp40 = -1;
2139649   +   end;
MPRINT(EM_DIAGRAM):   end;
2139650   +   else do;
MPRINT(EM_DIAGRAM):   else do;
2139651   +      AcceptedCmp40 = .;
MPRINT(EM_DIAGRAM):   AcceptedCmp40 = .;
2139652   +      substr(_warn_,2,1) = 'U';
MPRINT(EM_DIAGRAM):   substr(_warn_,2,1) = 'U';
2139653   +      _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2139654   +   end;
MPRINT(EM_DIAGRAM):   end;
2139655   +end;
MPRINT(EM_DIAGRAM):   end;
2139656   +
2139657   +*** Generate dummy variables for AcceptedCmp5 ;
MPRINT(EM_DIAGRAM):   *** Generate dummy variables for AcceptedCmp5 ;
2139658   +drop AcceptedCmp50 ;
MPRINT(EM_DIAGRAM):   drop AcceptedCmp50 ;
2139659   +if missing( AcceptedCmp5 ) then do;
MPRINT(EM_DIAGRAM):   if missing( AcceptedCmp5 ) then do;
2139660   +   AcceptedCmp50 = .;
MPRINT(EM_DIAGRAM):   AcceptedCmp50 = .;
2139661   +   substr(_warn_,1,1) = 'M';
MPRINT(EM_DIAGRAM):   substr(_warn_,1,1) = 'M';
2139662   +   _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2139663   +end;
MPRINT(EM_DIAGRAM):   end;
2139664   +else do;
MPRINT(EM_DIAGRAM):   else do;
2139665   +   length _dm12 $ 12; drop _dm12 ;
MPRINT(EM_DIAGRAM):   length _dm12 $ 12;
MPRINT(EM_DIAGRAM):   drop _dm12 ;
2139666   +   _dm12 = put( AcceptedCmp5 , BEST. );
MPRINT(EM_DIAGRAM):   _dm12 = put( AcceptedCmp5 , BEST. );
2139667   +   %DMNORMIP( _dm12 )
MPRINT(DMNORMIP):   call dmnorm(_dm12,
MPRINT(DMNORLEN):  32
MPRINT(DMNORMIP):  );
2139668   +   if _dm12 = '0'  then do;
MPRINT(EM_DIAGRAM):   if _dm12 = '0' then do;
2139669   +      AcceptedCmp50 = 1;
MPRINT(EM_DIAGRAM):   AcceptedCmp50 = 1;
2139670   +   end;
MPRINT(EM_DIAGRAM):   end;
2139671   +   else if _dm12 = '1'  then do;
MPRINT(EM_DIAGRAM):   else if _dm12 = '1' then do;
2139672   +      AcceptedCmp50 = -1;
MPRINT(EM_DIAGRAM):   AcceptedCmp50 = -1;
2139673   +   end;
MPRINT(EM_DIAGRAM):   end;
2139674   +   else do;
MPRINT(EM_DIAGRAM):   else do;
2139675   +      AcceptedCmp50 = .;
MPRINT(EM_DIAGRAM):   AcceptedCmp50 = .;
2139676   +      substr(_warn_,2,1) = 'U';
MPRINT(EM_DIAGRAM):   substr(_warn_,2,1) = 'U';
2139677   +      _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2139678   +   end;
MPRINT(EM_DIAGRAM):   end;
2139679   +end;
MPRINT(EM_DIAGRAM):   end;
2139680   +
2139681   +*** Generate dummy variables for Complain ;
MPRINT(EM_DIAGRAM):   *** Generate dummy variables for Complain ;
2139682   +drop Complain0 ;
MPRINT(EM_DIAGRAM):   drop Complain0 ;
2139683   +if missing( Complain ) then do;
MPRINT(EM_DIAGRAM):   if missing( Complain ) then do;
2139684   +   Complain0 = .;
MPRINT(EM_DIAGRAM):   Complain0 = .;
2139685   +   substr(_warn_,1,1) = 'M';
MPRINT(EM_DIAGRAM):   substr(_warn_,1,1) = 'M';
2139686   +   _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2139687   +end;
MPRINT(EM_DIAGRAM):   end;
2139688   +else do;
MPRINT(EM_DIAGRAM):   else do;
2139689   +   length _dm12 $ 12; drop _dm12 ;
MPRINT(EM_DIAGRAM):   length _dm12 $ 12;
MPRINT(EM_DIAGRAM):   drop _dm12 ;
2139690   +   _dm12 = put( Complain , BEST. );
MPRINT(EM_DIAGRAM):   _dm12 = put( Complain , BEST. );
2139691   +   %DMNORMIP( _dm12 )
MPRINT(DMNORMIP):   call dmnorm(_dm12,
MPRINT(DMNORLEN):  32
MPRINT(DMNORMIP):  );
2139692   +   if _dm12 = '0'  then do;
MPRINT(EM_DIAGRAM):   if _dm12 = '0' then do;
2139693   +      Complain0 = 1;
MPRINT(EM_DIAGRAM):   Complain0 = 1;
2139694   +   end;
MPRINT(EM_DIAGRAM):   end;
2139695   +   else if _dm12 = '1'  then do;
MPRINT(EM_DIAGRAM):   else if _dm12 = '1' then do;
2139696   +      Complain0 = -1;
MPRINT(EM_DIAGRAM):   Complain0 = -1;
2139697   +   end;
MPRINT(EM_DIAGRAM):   end;
2139698   +   else do;
MPRINT(EM_DIAGRAM):   else do;
2139699   +      Complain0 = .;
MPRINT(EM_DIAGRAM):   Complain0 = .;
2139700   +      substr(_warn_,2,1) = 'U';
MPRINT(EM_DIAGRAM):   substr(_warn_,2,1) = 'U';
2139701   +      _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2139702   +   end;
MPRINT(EM_DIAGRAM):   end;
2139703   +end;
MPRINT(EM_DIAGRAM):   end;
2139704   +
2139705   +*** Generate dummy variables for HigherEducationBinary ;
MPRINT(EM_DIAGRAM):   *** Generate dummy variables for HigherEducationBinary ;
2139706   +drop HigherEducationBinary0 ;
MPRINT(EM_DIAGRAM):   drop HigherEducationBinary0 ;
2139707   +if missing( HigherEducationBinary ) then do;
MPRINT(EM_DIAGRAM):   if missing( HigherEducationBinary ) then do;
2139708   +   HigherEducationBinary0 = .;
MPRINT(EM_DIAGRAM):   HigherEducationBinary0 = .;
2139709   +   substr(_warn_,1,1) = 'M';
MPRINT(EM_DIAGRAM):   substr(_warn_,1,1) = 'M';
2139710   +   _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2139711   +end;
MPRINT(EM_DIAGRAM):   end;
2139712   +else do;
MPRINT(EM_DIAGRAM):   else do;
2139713   +   length _dm12 $ 12; drop _dm12 ;
MPRINT(EM_DIAGRAM):   length _dm12 $ 12;
MPRINT(EM_DIAGRAM):   drop _dm12 ;
2139714   +   _dm12 = put( HigherEducationBinary , BEST12. );
MPRINT(EM_DIAGRAM):   _dm12 = put( HigherEducationBinary , BEST12. );
2139715   +   %DMNORMIP( _dm12 )
MPRINT(DMNORMIP):   call dmnorm(_dm12,
MPRINT(DMNORLEN):  32
MPRINT(DMNORMIP):  );
2139716   +   if _dm12 = '1'  then do;
MPRINT(EM_DIAGRAM):   if _dm12 = '1' then do;
2139717   +      HigherEducationBinary0 = -1;
MPRINT(EM_DIAGRAM):   HigherEducationBinary0 = -1;
2139718   +   end;
MPRINT(EM_DIAGRAM):   end;
2139719   +   else if _dm12 = '0'  then do;
MPRINT(EM_DIAGRAM):   else if _dm12 = '0' then do;
2139720   +      HigherEducationBinary0 = 1;
MPRINT(EM_DIAGRAM):   HigherEducationBinary0 = 1;
2139721   +   end;
MPRINT(EM_DIAGRAM):   end;
2139722   +   else do;
MPRINT(EM_DIAGRAM):   else do;
2139723   +      HigherEducationBinary0 = .;
MPRINT(EM_DIAGRAM):   HigherEducationBinary0 = .;
2139724   +      substr(_warn_,2,1) = 'U';
MPRINT(EM_DIAGRAM):   substr(_warn_,2,1) = 'U';
2139725   +      _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2139726   +   end;
MPRINT(EM_DIAGRAM):   end;
2139727   +end;
MPRINT(EM_DIAGRAM):   end;
2139728   +
2139729   +*** Generate dummy variables for Education ;
MPRINT(EM_DIAGRAM):   *** Generate dummy variables for Education ;
2139730   +drop Education2n_Cycle EducationBasic EducationGraduation EducationMaster ;
MPRINT(EM_DIAGRAM):   drop Education2n_Cycle EducationBasic EducationGraduation 
EducationMaster ;
2139731   +*** encoding is sparse, initialize to zero;
MPRINT(EM_DIAGRAM):   *** encoding is sparse, initialize to zero;
2139732   +Education2n_Cycle = 0;
MPRINT(EM_DIAGRAM):   Education2n_Cycle = 0;
2139733   +EducationBasic = 0;
MPRINT(EM_DIAGRAM):   EducationBasic = 0;
2139734   +EducationGraduation = 0;
MPRINT(EM_DIAGRAM):   EducationGraduation = 0;
2139735   +EducationMaster = 0;
MPRINT(EM_DIAGRAM):   EducationMaster = 0;
2139736   +if missing( Education ) then do;
MPRINT(EM_DIAGRAM):   if missing( Education ) then do;
2139737   +   Education2n_Cycle = .;
MPRINT(EM_DIAGRAM):   Education2n_Cycle = .;
2139738   +   EducationBasic = .;
MPRINT(EM_DIAGRAM):   EducationBasic = .;
2139739   +   EducationGraduation = .;
MPRINT(EM_DIAGRAM):   EducationGraduation = .;
2139740   +   EducationMaster = .;
MPRINT(EM_DIAGRAM):   EducationMaster = .;
2139741   +   substr(_warn_,1,1) = 'M';
MPRINT(EM_DIAGRAM):   substr(_warn_,1,1) = 'M';
2139742   +   _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2139743   +end;
MPRINT(EM_DIAGRAM):   end;
2139744   +else do;
MPRINT(EM_DIAGRAM):   else do;
2139745   +   length _dm10 $ 10; drop _dm10 ;
MPRINT(EM_DIAGRAM):   length _dm10 $ 10;
MPRINT(EM_DIAGRAM):   drop _dm10 ;
2139746   +   _dm10 = put( Education , $10. );
MPRINT(EM_DIAGRAM):   _dm10 = put( Education , $10. );
2139747   +   %DMNORMIP( _dm10 )
MPRINT(DMNORMIP):   call dmnorm(_dm10,
MPRINT(DMNORLEN):  32
MPRINT(DMNORMIP):  );
2139748   +   if _dm10 = 'GRADUATION'  then do;
MPRINT(EM_DIAGRAM):   if _dm10 = 'GRADUATION' then do;
2139749   +      EducationGraduation = 1;
MPRINT(EM_DIAGRAM):   EducationGraduation = 1;
2139750   +   end;
MPRINT(EM_DIAGRAM):   end;
2139751   +   else if _dm10 = 'PHD'  then do;
MPRINT(EM_DIAGRAM):   else if _dm10 = 'PHD' then do;
2139752   +      Education2n_Cycle = -1;
MPRINT(EM_DIAGRAM):   Education2n_Cycle = -1;
2139753   +      EducationBasic = -1;
MPRINT(EM_DIAGRAM):   EducationBasic = -1;
2139754   +      EducationGraduation = -1;
MPRINT(EM_DIAGRAM):   EducationGraduation = -1;
2139755   +      EducationMaster = -1;
MPRINT(EM_DIAGRAM):   EducationMaster = -1;
2139756   +   end;
MPRINT(EM_DIAGRAM):   end;
2139757   +   else if _dm10 = 'MASTER'  then do;
MPRINT(EM_DIAGRAM):   else if _dm10 = 'MASTER' then do;
2139758   +      EducationMaster = 1;
MPRINT(EM_DIAGRAM):   EducationMaster = 1;
2139759   +   end;
MPRINT(EM_DIAGRAM):   end;
2139760   +   else if _dm10 = '2N CYCLE'  then do;
MPRINT(EM_DIAGRAM):   else if _dm10 = '2N CYCLE' then do;
2139761   +      Education2n_Cycle = 1;
MPRINT(EM_DIAGRAM):   Education2n_Cycle = 1;
2139762   +   end;
MPRINT(EM_DIAGRAM):   end;
2139763   +   else if _dm10 = 'BASIC'  then do;
MPRINT(EM_DIAGRAM):   else if _dm10 = 'BASIC' then do;
2139764   +      EducationBasic = 1;
MPRINT(EM_DIAGRAM):   EducationBasic = 1;
2139765   +   end;
MPRINT(EM_DIAGRAM):   end;
2139766   +   else do;
MPRINT(EM_DIAGRAM):   else do;
2139767   +      Education2n_Cycle = .;
MPRINT(EM_DIAGRAM):   Education2n_Cycle = .;
2139768   +      EducationBasic = .;
MPRINT(EM_DIAGRAM):   EducationBasic = .;
2139769   +      EducationGraduation = .;
MPRINT(EM_DIAGRAM):   EducationGraduation = .;
2139770   +      EducationMaster = .;
MPRINT(EM_DIAGRAM):   EducationMaster = .;
2139771   +      substr(_warn_,2,1) = 'U';
MPRINT(EM_DIAGRAM):   substr(_warn_,2,1) = 'U';
2139772   +      _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2139773   +   end;
MPRINT(EM_DIAGRAM):   end;
2139774   +end;
MPRINT(EM_DIAGRAM):   end;
2139775   +
2139776   +*** Generate dummy variables for Marital_Status ;
MPRINT(EM_DIAGRAM):   *** Generate dummy variables for Marital_Status ;
2139777   +drop Marital_StatusDivorced Marital_StatusMarried Marital_StatusSingle
2139778   +        Marital_StatusTogether ;
MPRINT(EM_DIAGRAM):   drop Marital_StatusDivorced Marital_StatusMarried Marital_StatusSingle 
Marital_StatusTogether ;
2139779   +*** encoding is sparse, initialize to zero;
MPRINT(EM_DIAGRAM):   *** encoding is sparse, initialize to zero;
2139780   +Marital_StatusDivorced = 0;
MPRINT(EM_DIAGRAM):   Marital_StatusDivorced = 0;
2139781   +Marital_StatusMarried = 0;
MPRINT(EM_DIAGRAM):   Marital_StatusMarried = 0;
2139782   +Marital_StatusSingle = 0;
MPRINT(EM_DIAGRAM):   Marital_StatusSingle = 0;
2139783   +Marital_StatusTogether = 0;
MPRINT(EM_DIAGRAM):   Marital_StatusTogether = 0;
2139784   +if missing( Marital_Status ) then do;
MPRINT(EM_DIAGRAM):   if missing( Marital_Status ) then do;
2139785   +   Marital_StatusDivorced = .;
MPRINT(EM_DIAGRAM):   Marital_StatusDivorced = .;
2139786   +   Marital_StatusMarried = .;
MPRINT(EM_DIAGRAM):   Marital_StatusMarried = .;
2139787   +   Marital_StatusSingle = .;
MPRINT(EM_DIAGRAM):   Marital_StatusSingle = .;
2139788   +   Marital_StatusTogether = .;
MPRINT(EM_DIAGRAM):   Marital_StatusTogether = .;
2139789   +   substr(_warn_,1,1) = 'M';
MPRINT(EM_DIAGRAM):   substr(_warn_,1,1) = 'M';
2139790   +   _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2139791   +end;
MPRINT(EM_DIAGRAM):   end;
2139792   +else do;
MPRINT(EM_DIAGRAM):   else do;
2139793   +   length _dm8 $ 8; drop _dm8 ;
MPRINT(EM_DIAGRAM):   length _dm8 $ 8;
MPRINT(EM_DIAGRAM):   drop _dm8 ;
2139794   +   _dm8 = put( Marital_Status , $8. );
MPRINT(EM_DIAGRAM):   _dm8 = put( Marital_Status , $8. );
2139795   +   %DMNORMIP( _dm8 )
MPRINT(DMNORMIP):   call dmnorm(_dm8,
MPRINT(DMNORLEN):  32
MPRINT(DMNORMIP):  );
2139796   +   _dm_find = 0; drop _dm_find;
MPRINT(EM_DIAGRAM):   _dm_find = 0;
MPRINT(EM_DIAGRAM):   drop _dm_find;
2139797   +   if _dm8 <= 'SINGLE'  then do;
MPRINT(EM_DIAGRAM):   if _dm8 <= 'SINGLE' then do;
2139798   +      if _dm8 <= 'MARRIED'  then do;
MPRINT(EM_DIAGRAM):   if _dm8 <= 'MARRIED' then do;
2139799   +         if _dm8 = 'DIVORCED'  then do;
MPRINT(EM_DIAGRAM):   if _dm8 = 'DIVORCED' then do;
2139800   +            Marital_StatusDivorced = 1;
MPRINT(EM_DIAGRAM):   Marital_StatusDivorced = 1;
2139801   +            _dm_find = 1;
MPRINT(EM_DIAGRAM):   _dm_find = 1;
2139802   +         end;
MPRINT(EM_DIAGRAM):   end;
2139803   +         else do;
MPRINT(EM_DIAGRAM):   else do;
2139804   +            if _dm8 = 'MARRIED'  then do;
MPRINT(EM_DIAGRAM):   if _dm8 = 'MARRIED' then do;
2139805   +               Marital_StatusMarried = 1;
MPRINT(EM_DIAGRAM):   Marital_StatusMarried = 1;
2139806   +               _dm_find = 1;
MPRINT(EM_DIAGRAM):   _dm_find = 1;
2139807   +            end;
MPRINT(EM_DIAGRAM):   end;
2139808   +         end;
MPRINT(EM_DIAGRAM):   end;
2139809   +      end;
MPRINT(EM_DIAGRAM):   end;
2139810   +      else do;
MPRINT(EM_DIAGRAM):   else do;
2139811   +         if _dm8 = 'SINGLE'  then do;
MPRINT(EM_DIAGRAM):   if _dm8 = 'SINGLE' then do;
2139812   +            Marital_StatusSingle = 1;
MPRINT(EM_DIAGRAM):   Marital_StatusSingle = 1;
2139813   +            _dm_find = 1;
MPRINT(EM_DIAGRAM):   _dm_find = 1;
2139814   +         end;
MPRINT(EM_DIAGRAM):   end;
2139815   +      end;
MPRINT(EM_DIAGRAM):   end;
2139816   +   end;
MPRINT(EM_DIAGRAM):   end;
2139817   +   else do;
MPRINT(EM_DIAGRAM):   else do;
2139818   +      if _dm8 = 'TOGETHER'  then do;
MPRINT(EM_DIAGRAM):   if _dm8 = 'TOGETHER' then do;
2139819   +         Marital_StatusTogether = 1;
MPRINT(EM_DIAGRAM):   Marital_StatusTogether = 1;
2139820   +         _dm_find = 1;
MPRINT(EM_DIAGRAM):   _dm_find = 1;
2139821   +      end;
MPRINT(EM_DIAGRAM):   end;
2139822   +      else do;
MPRINT(EM_DIAGRAM):   else do;
2139823   +         if _dm8 = 'WIDOW'  then do;
MPRINT(EM_DIAGRAM):   if _dm8 = 'WIDOW' then do;
2139824   +            Marital_StatusDivorced = -1;
MPRINT(EM_DIAGRAM):   Marital_StatusDivorced = -1;
2139825   +            Marital_StatusMarried = -1;
MPRINT(EM_DIAGRAM):   Marital_StatusMarried = -1;
2139826   +            Marital_StatusSingle = -1;
MPRINT(EM_DIAGRAM):   Marital_StatusSingle = -1;
2139827   +            Marital_StatusTogether = -1;
MPRINT(EM_DIAGRAM):   Marital_StatusTogether = -1;
2139828   +            _dm_find = 1;
MPRINT(EM_DIAGRAM):   _dm_find = 1;
2139829   +         end;
MPRINT(EM_DIAGRAM):   end;
2139830   +      end;
MPRINT(EM_DIAGRAM):   end;
2139831   +   end;
MPRINT(EM_DIAGRAM):   end;
2139832   +   if not _dm_find then do;
MPRINT(EM_DIAGRAM):   if not _dm_find then do;
2139833   +      Marital_StatusDivorced = .;
MPRINT(EM_DIAGRAM):   Marital_StatusDivorced = .;
2139834   +      Marital_StatusMarried = .;
MPRINT(EM_DIAGRAM):   Marital_StatusMarried = .;
2139835   +      Marital_StatusSingle = .;
MPRINT(EM_DIAGRAM):   Marital_StatusSingle = .;
2139836   +      Marital_StatusTogether = .;
MPRINT(EM_DIAGRAM):   Marital_StatusTogether = .;
2139837   +      substr(_warn_,2,1) = 'U';
MPRINT(EM_DIAGRAM):   substr(_warn_,2,1) = 'U';
2139838   +      _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2139839   +   end;
MPRINT(EM_DIAGRAM):   end;
2139840   +end;
MPRINT(EM_DIAGRAM):   end;
2139841   +
2139842   +*** *************************;
MPRINT(EM_DIAGRAM):   *** *************************;
2139843   +*** Checking missing input Interval
2139844   +*** *************************;
MPRINT(EM_DIAGRAM):   *** Checking missing input Interval *** *************************;
2139845   +
2139846   +IF NMISS(
2139847   +   AcceptedCmpTotal ,
2139848   +   Age ,
2139849   +   Frq ,
2139850   +   Income ,
2139851   +   Kidhome ,
2139852   +   MntFishProducts ,
2139853   +   MntFruits ,
2139854   +   MntGoldProds ,
2139855   +   MntSweetProducts ,
2139856   +   MonthsAsCustomer ,
2139857   +   NumDealsPurchases ,
2139858   +   NumWebVisitsMonth ,
2139859   +   RFMstat ,
2139860   +   RMntFrq ,
2139861   +   Recency ,
2139862   +   Teenhome   ) THEN DO;
MPRINT(EM_DIAGRAM):   IF NMISS( AcceptedCmpTotal , Age , Frq , Income , Kidhome , 
MntFishProducts , MntFruits , MntGoldProds , MntSweetProducts , MonthsAsCustomer , 
NumDealsPurchases , NumWebVisitsMonth , RFMstat , RMntFrq , Recency , Teenhome ) THEN DO;
2139863   +   SUBSTR(_WARN_, 1, 1) = 'M';
MPRINT(EM_DIAGRAM):   SUBSTR(_WARN_, 1, 1) = 'M';
2139864   +
2139865   +   _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2139866   +END;
MPRINT(EM_DIAGRAM):   END;
2139867   +*** *************************;
MPRINT(EM_DIAGRAM):   *** *************************;
2139868   +*** Writing the Node intvl ;
MPRINT(EM_DIAGRAM):   *** Writing the Node intvl ;
2139869   +*** *************************;
MPRINT(EM_DIAGRAM):   *** *************************;
2139870   +IF _DM_BAD EQ 0 THEN DO;
MPRINT(EM_DIAGRAM):   IF _DM_BAD EQ 0 THEN DO;
2139871   +   S_AcceptedCmpTotal  =    -0.46762909508827 +      1.4961610131261 *
2139872   +        AcceptedCmpTotal ;
MPRINT(EM_DIAGRAM):   S_AcceptedCmpTotal = -0.46762909508827 + 1.4961610131261 * 
AcceptedCmpTotal ;
2139873   +   S_Age  =    -3.91319138389466 +     0.08289609202857 * Age ;
MPRINT(EM_DIAGRAM):   S_Age = -3.91319138389466 + 0.08289609202857 * Age ;
2139874   +   S_Frq  =     -1.7674482809159 +     0.13966853800993 * Frq ;
MPRINT(EM_DIAGRAM):   S_Frq = -1.7674482809159 + 0.13966853800993 * Frq ;
2139875   +   S_Income  =    -2.48883438787018 +     0.00004789669836 * Income ;
MPRINT(EM_DIAGRAM):   S_Income = -2.48883438787018 + 0.00004789669836 * Income ;
2139876   +   S_Kidhome  =    -0.81505958668041 +     1.87132636245581 * Kidhome ;
MPRINT(EM_DIAGRAM):   S_Kidhome = -0.81505958668041 + 1.87132636245581 * Kidhome ;
2139877   +   S_MntFishProducts  =    -0.69884925989448 +     0.01914942799914 *
2139878   +        MntFishProducts ;
MPRINT(EM_DIAGRAM):   S_MntFishProducts = -0.69884925989448 + 0.01914942799914 * 
MntFishProducts ;
2139879   +   S_MntFruits  =    -0.68347542544545 +     0.02517057319714 * MntFruits ;
MPRINT(EM_DIAGRAM):   S_MntFruits = -0.68347542544545 + 0.02517057319714 * MntFruits ;
2139880   +   S_MntGoldProds  =     -0.8611213764608 +     0.01954474499711 *
2139881   +        MntGoldProds ;
MPRINT(EM_DIAGRAM):   S_MntGoldProds = -0.8611213764608 + 0.01954474499711 * MntGoldProds ;
2139882   +   S_MntSweetProducts  =    -0.69020047720885 +     0.02548703406327 *
2139883   +        MntSweetProducts ;
MPRINT(EM_DIAGRAM):   S_MntSweetProducts = -0.69020047720885 + 0.02548703406327 * 
MntSweetProducts ;
2139884   +   S_MonthsAsCustomer  =    -4.93133031507839 +     0.05900664899872 *
2139885   +        MonthsAsCustomer ;
MPRINT(EM_DIAGRAM):   S_MonthsAsCustomer = -4.93133031507839 + 0.05900664899872 * 
MonthsAsCustomer ;
2139886   +   S_NumDealsPurchases  =    -1.34788949552081 +     0.59766336614987 *
2139887   +        NumDealsPurchases ;
MPRINT(EM_DIAGRAM):   S_NumDealsPurchases = -1.34788949552081 + 0.59766336614987 * 
NumDealsPurchases ;
2139888   +   S_NumWebVisitsMonth  =    -2.24769875596018 +     0.42876953368015 *
2139889   +        NumWebVisitsMonth ;
MPRINT(EM_DIAGRAM):   S_NumWebVisitsMonth = -2.24769875596018 + 0.42876953368015 * 
NumWebVisitsMonth ;
2139890   +   S_RFMstat  =    -0.33944380186973 +     0.00063877635032 * RFMstat ;
MPRINT(EM_DIAGRAM):   S_RFMstat = -0.33944380186973 + 0.00063877635032 * RFMstat ;
2139891   +   S_RMntFrq  =    -1.25743573075922 +     0.03326204244626 * RMntFrq ;
MPRINT(EM_DIAGRAM):   S_RMntFrq = -1.25743573075922 + 0.03326204244626 * RMntFrq ;
2139892   +   S_Recency  =    -1.69222845719633 +     0.03469514083585 * Recency ;
MPRINT(EM_DIAGRAM):   S_Recency = -1.69222845719633 + 0.03469514083585 * Recency ;
2139893   +   S_Teenhome  =    -0.88382230606631 +     1.81661831567223 * Teenhome ;
MPRINT(EM_DIAGRAM):   S_Teenhome = -0.88382230606631 + 1.81661831567223 * Teenhome ;
2139894   +END;
MPRINT(EM_DIAGRAM):   END;
2139895   +ELSE DO;
MPRINT(EM_DIAGRAM):   ELSE DO;
2139896   +   IF MISSING( AcceptedCmpTotal ) THEN S_AcceptedCmpTotal  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( AcceptedCmpTotal ) THEN S_AcceptedCmpTotal = . ;
2139897   +   ELSE S_AcceptedCmpTotal  =    -0.46762909508827 +      1.4961610131261 *
2139898   +        AcceptedCmpTotal ;
MPRINT(EM_DIAGRAM):   ELSE S_AcceptedCmpTotal = -0.46762909508827 + 1.4961610131261 * 
AcceptedCmpTotal ;
2139899   +   IF MISSING( Age ) THEN S_Age  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( Age ) THEN S_Age = . ;
2139900   +   ELSE S_Age  =    -3.91319138389466 +     0.08289609202857 * Age ;
MPRINT(EM_DIAGRAM):   ELSE S_Age = -3.91319138389466 + 0.08289609202857 * Age ;
2139901   +   IF MISSING( Frq ) THEN S_Frq  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( Frq ) THEN S_Frq = . ;
2139902   +   ELSE S_Frq  =     -1.7674482809159 +     0.13966853800993 * Frq ;
MPRINT(EM_DIAGRAM):   ELSE S_Frq = -1.7674482809159 + 0.13966853800993 * Frq ;
2139903   +   IF MISSING( Income ) THEN S_Income  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( Income ) THEN S_Income = . ;
2139904   +   ELSE S_Income  =    -2.48883438787018 +     0.00004789669836 * Income ;
MPRINT(EM_DIAGRAM):   ELSE S_Income = -2.48883438787018 + 0.00004789669836 * Income ;
2139905   +   IF MISSING( Kidhome ) THEN S_Kidhome  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( Kidhome ) THEN S_Kidhome = . ;
2139906   +   ELSE S_Kidhome  =    -0.81505958668041 +     1.87132636245581 * Kidhome ;
MPRINT(EM_DIAGRAM):   ELSE S_Kidhome = -0.81505958668041 + 1.87132636245581 * Kidhome ;
2139907   +   IF MISSING( MntFishProducts ) THEN S_MntFishProducts  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( MntFishProducts ) THEN S_MntFishProducts = . ;
2139908   +   ELSE S_MntFishProducts  =    -0.69884925989448 +     0.01914942799914 *
2139909   +        MntFishProducts ;
MPRINT(EM_DIAGRAM):   ELSE S_MntFishProducts = -0.69884925989448 + 0.01914942799914 * 
MntFishProducts ;
2139910   +   IF MISSING( MntFruits ) THEN S_MntFruits  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( MntFruits ) THEN S_MntFruits = . ;
2139911   +   ELSE S_MntFruits  =    -0.68347542544545 +     0.02517057319714 * MntFruits
2139912   +         ;
MPRINT(EM_DIAGRAM):   ELSE S_MntFruits = -0.68347542544545 + 0.02517057319714 * MntFruits ;
2139913   +   IF MISSING( MntGoldProds ) THEN S_MntGoldProds  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( MntGoldProds ) THEN S_MntGoldProds = . ;
2139914   +   ELSE S_MntGoldProds  =     -0.8611213764608 +     0.01954474499711 *
2139915   +        MntGoldProds ;
MPRINT(EM_DIAGRAM):   ELSE S_MntGoldProds = -0.8611213764608 + 0.01954474499711 * MntGoldProds 
;
2139916   +   IF MISSING( MntSweetProducts ) THEN S_MntSweetProducts  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( MntSweetProducts ) THEN S_MntSweetProducts = . ;
2139917   +   ELSE S_MntSweetProducts  =    -0.69020047720885 +     0.02548703406327 *
2139918   +        MntSweetProducts ;
MPRINT(EM_DIAGRAM):   ELSE S_MntSweetProducts = -0.69020047720885 + 0.02548703406327 * 
MntSweetProducts ;
2139919   +   IF MISSING( MonthsAsCustomer ) THEN S_MonthsAsCustomer  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( MonthsAsCustomer ) THEN S_MonthsAsCustomer = . ;
2139920   +   ELSE S_MonthsAsCustomer  =    -4.93133031507839 +     0.05900664899872 *
2139921   +        MonthsAsCustomer ;
MPRINT(EM_DIAGRAM):   ELSE S_MonthsAsCustomer = -4.93133031507839 + 0.05900664899872 * 
MonthsAsCustomer ;
2139922   +   IF MISSING( NumDealsPurchases ) THEN S_NumDealsPurchases  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( NumDealsPurchases ) THEN S_NumDealsPurchases = . ;
2139923   +   ELSE S_NumDealsPurchases  =    -1.34788949552081 +     0.59766336614987 *
2139924   +        NumDealsPurchases ;
MPRINT(EM_DIAGRAM):   ELSE S_NumDealsPurchases = -1.34788949552081 + 0.59766336614987 * 
NumDealsPurchases ;
2139925   +   IF MISSING( NumWebVisitsMonth ) THEN S_NumWebVisitsMonth  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( NumWebVisitsMonth ) THEN S_NumWebVisitsMonth = . ;
2139926   +   ELSE S_NumWebVisitsMonth  =    -2.24769875596018 +     0.42876953368015 *
2139927   +        NumWebVisitsMonth ;
MPRINT(EM_DIAGRAM):   ELSE S_NumWebVisitsMonth = -2.24769875596018 + 0.42876953368015 * 
NumWebVisitsMonth ;
2139928   +   IF MISSING( RFMstat ) THEN S_RFMstat  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( RFMstat ) THEN S_RFMstat = . ;
2139929   +   ELSE S_RFMstat  =    -0.33944380186973 +     0.00063877635032 * RFMstat ;
MPRINT(EM_DIAGRAM):   ELSE S_RFMstat = -0.33944380186973 + 0.00063877635032 * RFMstat ;
2139930   +   IF MISSING( RMntFrq ) THEN S_RMntFrq  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( RMntFrq ) THEN S_RMntFrq = . ;
2139931   +   ELSE S_RMntFrq  =    -1.25743573075922 +     0.03326204244626 * RMntFrq ;
MPRINT(EM_DIAGRAM):   ELSE S_RMntFrq = -1.25743573075922 + 0.03326204244626 * RMntFrq ;
2139932   +   IF MISSING( Recency ) THEN S_Recency  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( Recency ) THEN S_Recency = . ;
2139933   +   ELSE S_Recency  =    -1.69222845719633 +     0.03469514083585 * Recency ;
MPRINT(EM_DIAGRAM):   ELSE S_Recency = -1.69222845719633 + 0.03469514083585 * Recency ;
2139934   +   IF MISSING( Teenhome ) THEN S_Teenhome  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( Teenhome ) THEN S_Teenhome = . ;
2139935   +   ELSE S_Teenhome  =    -0.88382230606631 +     1.81661831567223 * Teenhome ;
MPRINT(EM_DIAGRAM):   ELSE S_Teenhome = -0.88382230606631 + 1.81661831567223 * Teenhome ;
2139936   +END;
MPRINT(EM_DIAGRAM):   END;
2139937   +*** *************************;
MPRINT(EM_DIAGRAM):   *** *************************;
2139938   +*** Writing the Node bin ;
MPRINT(EM_DIAGRAM):   *** Writing the Node bin ;
2139939   +*** *************************;
MPRINT(EM_DIAGRAM):   *** *************************;
2139940   +*** *************************;
MPRINT(EM_DIAGRAM):   *** *************************;
2139941   +*** Writing the Node nom ;
MPRINT(EM_DIAGRAM):   *** Writing the Node nom ;
2139942   +*** *************************;
MPRINT(EM_DIAGRAM):   *** *************************;
2139943   +*** *************************;
MPRINT(EM_DIAGRAM):   *** *************************;
2139944   +*** Writing the Node H1 ;
MPRINT(EM_DIAGRAM):   *** Writing the Node H1 ;
2139945   +*** *************************;
MPRINT(EM_DIAGRAM):   *** *************************;
2139946   +IF _DM_BAD EQ 0 THEN DO;
MPRINT(EM_DIAGRAM):   IF _DM_BAD EQ 0 THEN DO;
2139947   +   H11  =     0.02151728870806 * S_AcceptedCmpTotal  +     0.05254894554809 *
2139948   +        S_Age  +    -0.16973386556377 * S_Frq  +    -0.82728779491682 *
2139949   +        S_Income  +     0.39903592539043 * S_Kidhome
2139950   +          +    -0.04460924056526 * S_MntFishProducts
2139951   +          +     0.02733683231833 * S_MntFruits  +     0.05011896594494 *
2139952   +        S_MntGoldProds  +     0.19517504324129 * S_MntSweetProducts
2139953   +          +    -0.13600486461772 * S_MonthsAsCustomer
2139954   +          +    -0.00505319277464 * S_NumDealsPurchases
2139955   +          +    -0.02131770482252 * S_NumWebVisitsMonth
2139956   +          +     0.00524769837231 * S_RFMstat  +    -0.21746675829719 *
2139957   +        S_RMntFrq  +     0.54271297675327 * S_Recency
2139958   +          +      0.5568869219643 * S_Teenhome ;
MPRINT(EM_DIAGRAM):   H11 = 0.02151728870806 * S_AcceptedCmpTotal + 0.05254894554809 * S_Age + 
-0.16973386556377 * S_Frq + -0.82728779491682 * S_Income + 0.39903592539043 * S_Kidhome + 
-0.04460924056526 * S_MntFishProducts + 0.02733683231833 * S_MntFruits + 0.05011896594494 * 
S_MntGoldProds + 0.19517504324129 * S_MntSweetProducts + -0.13600486461772 * 
S_MonthsAsCustomer + -0.00505319277464 * S_NumDealsPurchases + -0.02131770482252 * 
S_NumWebVisitsMonth + 0.00524769837231 * S_RFMstat + -0.21746675829719 * S_RMntFrq + 
0.54271297675327 * S_Recency + 0.5568869219643 * S_Teenhome ;
2139959   +   H12  =    -0.31677356986514 * S_AcceptedCmpTotal  +    -0.13636654958991 *
2139960   +        S_Age  +    -0.12127604451874 * S_Frq  +    -0.03912727186842 *
2139961   +        S_Income  +     0.31541271020596 * S_Kidhome
2139962   +          +    -0.06070575535455 * S_MntFishProducts
2139963   +          +     0.04717351357982 * S_MntFruits  +     0.20035627551608 *
2139964   +        S_MntGoldProds  +     0.34661630810838 * S_MntSweetProducts
2139965   +          +    -0.49660266591157 * S_MonthsAsCustomer
2139966   +          +     0.31834511850835 * S_NumDealsPurchases
2139967   +          +     0.24781307795044 * S_NumWebVisitsMonth
2139968   +          +      0.2962065441422 * S_RFMstat  +    -0.00931536368325 *
2139969   +        S_RMntFrq  +     -0.4887066152184 * S_Recency
2139970   +          +    -0.31733549884932 * S_Teenhome ;
MPRINT(EM_DIAGRAM):   H12 = -0.31677356986514 * S_AcceptedCmpTotal + -0.13636654958991 * S_Age 
+ -0.12127604451874 * S_Frq + -0.03912727186842 * S_Income + 0.31541271020596 * S_Kidhome + 
-0.06070575535455 * S_MntFishProducts + 0.04717351357982 * S_MntFruits + 0.20035627551608 * 
S_MntGoldProds + 0.34661630810838 * S_MntSweetProducts + -0.49660266591157 * 
S_MonthsAsCustomer + 0.31834511850835 * S_NumDealsPurchases + 0.24781307795044 * 
S_NumWebVisitsMonth + 0.2962065441422 * S_RFMstat + -0.00931536368325 * S_RMntFrq + 
-0.4887066152184 * S_Recency + -0.31733549884932 * S_Teenhome ;
2139971   +   H13  =    -0.67923945541429 * S_AcceptedCmpTotal  +     -0.1600759141845 *
2139972   +        S_Age  +    -0.32206936571155 * S_Frq  +    -0.42231968918367 *
2139973   +        S_Income  +    -0.48980326576867 * S_Kidhome
2139974   +          +     0.16754214531813 * S_MntFishProducts
2139975   +          +     0.07042633274724 * S_MntFruits  +    -0.54860029741519 *
2139976   +        S_MntGoldProds  +    -0.02870819733746 * S_MntSweetProducts
2139977   +          +    -0.09017520473136 * S_MonthsAsCustomer
2139978   +          +    -0.45842921605242 * S_NumDealsPurchases
2139979   +          +    -0.51952177798857 * S_NumWebVisitsMonth
2139980   +          +    -0.31466002172051 * S_RFMstat  +    -0.48848348436254 *
2139981   +        S_RMntFrq  +     0.79178959337864 * S_Recency
2139982   +          +    -0.01573946454754 * S_Teenhome ;
MPRINT(EM_DIAGRAM):   H13 = -0.67923945541429 * S_AcceptedCmpTotal + -0.1600759141845 * S_Age 
+ -0.32206936571155 * S_Frq + -0.42231968918367 * S_Income + -0.48980326576867 * S_Kidhome + 
0.16754214531813 * S_MntFishProducts + 0.07042633274724 * S_MntFruits + -0.54860029741519 * 
S_MntGoldProds + -0.02870819733746 * S_MntSweetProducts + -0.09017520473136 * 
S_MonthsAsCustomer + -0.45842921605242 * S_NumDealsPurchases + -0.51952177798857 * 
S_NumWebVisitsMonth + -0.31466002172051 * S_RFMstat + -0.48848348436254 * S_RMntFrq + 
0.79178959337864 * S_Recency + -0.01573946454754 * S_Teenhome ;
2139983   +   H14  =     0.38562838138579 * S_AcceptedCmpTotal  +     0.07260700845897 *
2139984   +        S_Age  +     0.06970375186829 * S_Frq  +     0.14363271673316 *
2139985   +        S_Income  +    -0.63270966560605 * S_Kidhome
2139986   +          +    -0.08814987977037 * S_MntFishProducts
2139987   +          +    -0.16742996280424 * S_MntFruits  +     -0.0048241161297 *
2139988   +        S_MntGoldProds  +    -0.29868881598251 * S_MntSweetProducts
2139989   +          +    -0.04826032378728 * S_MonthsAsCustomer
2139990   +          +     0.01599853180114 * S_NumDealsPurchases
2139991   +          +     0.60119173038714 * S_NumWebVisitsMonth
2139992   +          +     0.24192512657122 * S_RFMstat  +    -0.16600268948701 *
2139993   +        S_RMntFrq  +    -0.74024886149073 * S_Recency
2139994   +          +    -0.33502330424595 * S_Teenhome ;
MPRINT(EM_DIAGRAM):   H14 = 0.38562838138579 * S_AcceptedCmpTotal + 0.07260700845897 * S_Age + 
0.06970375186829 * S_Frq + 0.14363271673316 * S_Income + -0.63270966560605 * S_Kidhome + 
-0.08814987977037 * S_MntFishProducts + -0.16742996280424 * S_MntFruits + -0.0048241161297 * 
S_MntGoldProds + -0.29868881598251 * S_MntSweetProducts + -0.04826032378728 * 
S_MonthsAsCustomer + 0.01599853180114 * S_NumDealsPurchases + 0.60119173038714 * 
S_NumWebVisitsMonth + 0.24192512657122 * S_RFMstat + -0.16600268948701 * S_RMntFrq + 
-0.74024886149073 * S_Recency + -0.33502330424595 * S_Teenhome ;
2139995   +   H15  =    -0.34311356733661 * S_AcceptedCmpTotal  +     0.16235616443826 *
2139996   +        S_Age  +     0.94382517748399 * S_Frq  +      0.2748531338861 *
2139997   +        S_Income  +    -0.02219671454546 * S_Kidhome
2139998   +          +    -0.15542333204257 * S_MntFishProducts
2139999   +          +     0.05860799445207 * S_MntFruits  +      0.0164088007412 *
2140000   +        S_MntGoldProds  +    -0.12449090470408 * S_MntSweetProducts
2140001   +          +     0.03737130526687 * S_MonthsAsCustomer
2140002   +          +    -0.55633092697691 * S_NumDealsPurchases
2140003   +          +     -0.5935978122359 * S_NumWebVisitsMonth
2140004   +          +    -0.06684824395733 * S_RFMstat  +    -0.17365329607203 *
2140005   +        S_RMntFrq  +      0.6764486616945 * S_Recency
2140006   +          +     -0.1892667221599 * S_Teenhome ;
MPRINT(EM_DIAGRAM):   H15 = -0.34311356733661 * S_AcceptedCmpTotal + 0.16235616443826 * S_Age 
+ 0.94382517748399 * S_Frq + 0.2748531338861 * S_Income + -0.02219671454546 * S_Kidhome + 
-0.15542333204257 * S_MntFishProducts + 0.05860799445207 * S_MntFruits + 0.0164088007412 * 
S_MntGoldProds + -0.12449090470408 * S_MntSweetProducts + 0.03737130526687 * 
S_MonthsAsCustomer + -0.55633092697691 * S_NumDealsPurchases + -0.5935978122359 * 
S_NumWebVisitsMonth + -0.06684824395733 * S_RFMstat + -0.17365329607203 * S_RMntFrq + 
0.6764486616945 * S_Recency + -0.1892667221599 * S_Teenhome ;
2140007   +   H11  = H11  +     0.32339671285779 * AcceptedCmp10
2140008   +          +     0.40704039360735 * AcceptedCmp20  +     0.30956684671901 *
2140009   +        AcceptedCmp30  +     0.31438728866768 * AcceptedCmp40
2140010   +          +     0.23235496545772 * AcceptedCmp50  +     0.16248155382451 *
2140011   +        Complain0  +    -0.30696195142475 * HigherEducationBinary0 ;
MPRINT(EM_DIAGRAM):   H11 = H11 + 0.32339671285779 * AcceptedCmp10 + 0.40704039360735 * 
AcceptedCmp20 + 0.30956684671901 * AcceptedCmp30 + 0.31438728866768 * AcceptedCmp40 + 
0.23235496545772 * AcceptedCmp50 + 0.16248155382451 * Complain0 + -0.30696195142475 * 
HigherEducationBinary0 ;
2140012   +   H12  = H12  +     0.15468195814719 * AcceptedCmp10
2140013   +          +    -0.01658463628305 * AcceptedCmp20  +    -0.18284432439766 *
2140014   +        AcceptedCmp30  +     0.10412487730599 * AcceptedCmp40
2140015   +          +      0.2784347604012 * AcceptedCmp50  +     0.21341015945758 *
2140016   +        Complain0  +     0.26769837741874 * HigherEducationBinary0 ;
MPRINT(EM_DIAGRAM):   H12 = H12 + 0.15468195814719 * AcceptedCmp10 + -0.01658463628305 * 
AcceptedCmp20 + -0.18284432439766 * AcceptedCmp30 + 0.10412487730599 * AcceptedCmp40 + 
0.2784347604012 * AcceptedCmp50 + 0.21341015945758 * Complain0 + 0.26769837741874 * 
HigherEducationBinary0 ;
2140017   +   H13  = H13  +    -0.11177158752481 * AcceptedCmp10
2140018   +          +    -0.13739486515218 * AcceptedCmp20  +     0.15972072685818 *
2140019   +        AcceptedCmp30  +    -0.09073450388158 * AcceptedCmp40
2140020   +          +     0.20479045598357 * AcceptedCmp50  +    -0.28874847014038 *
2140021   +        Complain0  +     0.12082289787754 * HigherEducationBinary0 ;
MPRINT(EM_DIAGRAM):   H13 = H13 + -0.11177158752481 * AcceptedCmp10 + -0.13739486515218 * 
AcceptedCmp20 + 0.15972072685818 * AcceptedCmp30 + -0.09073450388158 * AcceptedCmp40 + 
0.20479045598357 * AcceptedCmp50 + -0.28874847014038 * Complain0 + 0.12082289787754 * 
HigherEducationBinary0 ;
2140022   +   H14  = H14  +     0.22760562650379 * AcceptedCmp10
2140023   +          +    -0.01066432835565 * AcceptedCmp20  +    -0.32053666689899 *
2140024   +        AcceptedCmp30  +     0.01405337529301 * AcceptedCmp40
2140025   +          +     0.00690669937705 * AcceptedCmp50  +     0.18207401895977 *
2140026   +        Complain0  +     0.02728138057211 * HigherEducationBinary0 ;
MPRINT(EM_DIAGRAM):   H14 = H14 + 0.22760562650379 * AcceptedCmp10 + -0.01066432835565 * 
AcceptedCmp20 + -0.32053666689899 * AcceptedCmp30 + 0.01405337529301 * AcceptedCmp40 + 
0.00690669937705 * AcceptedCmp50 + 0.18207401895977 * Complain0 + 0.02728138057211 * 
HigherEducationBinary0 ;
2140027   +   H15  = H15  +     0.53146690040164 * AcceptedCmp10
2140028   +          +     0.02061647343682 * AcceptedCmp20  +     0.47331796914114 *
2140029   +        AcceptedCmp30  +    -0.05515580192077 * AcceptedCmp40
2140030   +          +     0.29161268499344 * AcceptedCmp50  +     0.05844301388229 *
2140031   +        Complain0  +      0.1779848505105 * HigherEducationBinary0 ;
MPRINT(EM_DIAGRAM):   H15 = H15 + 0.53146690040164 * AcceptedCmp10 + 0.02061647343682 * 
AcceptedCmp20 + 0.47331796914114 * AcceptedCmp30 + -0.05515580192077 * AcceptedCmp40 + 
0.29161268499344 * AcceptedCmp50 + 0.05844301388229 * Complain0 + 0.1779848505105 * 
HigherEducationBinary0 ;
2140032   +   H11  = H11  +     0.03097010145548 * Education2n_Cycle
2140033   +          +    -0.13406554569598 * EducationBasic  +    -0.09871242696608 *
2140034   +        EducationGraduation  +     0.23998958645262 * EducationMaster
2140035   +          +    -0.42082033749096 * Marital_StatusDivorced
2140036   +          +     0.66219400411029 * Marital_StatusMarried
2140037   +          +     -0.5319693170402 * Marital_StatusSingle
2140038   +          +     0.70748197229966 * Marital_StatusTogether ;
MPRINT(EM_DIAGRAM):   H11 = H11 + 0.03097010145548 * Education2n_Cycle + -0.13406554569598 * 
EducationBasic + -0.09871242696608 * EducationGraduation + 0.23998958645262 * EducationMaster 
+ -0.42082033749096 * Marital_StatusDivorced + 0.66219400411029 * Marital_StatusMarried + 
-0.5319693170402 * Marital_StatusSingle + 0.70748197229966 * Marital_StatusTogether ;
2140039   +   H12  = H12  +    -0.18240954892125 * Education2n_Cycle
2140040   +          +      -0.040279707928 * EducationBasic  +     0.26318151864922 *
2140041   +        EducationGraduation  +     0.04495546932118 * EducationMaster
2140042   +          +      -0.322040509013 * Marital_StatusDivorced
2140043   +          +     0.15587841196747 * Marital_StatusMarried
2140044   +          +     0.28814320146342 * Marital_StatusSingle
2140045   +          +    -0.31522150769005 * Marital_StatusTogether ;
MPRINT(EM_DIAGRAM):   H12 = H12 + -0.18240954892125 * Education2n_Cycle + -0.040279707928 * 
EducationBasic + 0.26318151864922 * EducationGraduation + 0.04495546932118 * EducationMaster + 
-0.322040509013 * Marital_StatusDivorced + 0.15587841196747 * Marital_StatusMarried + 
0.28814320146342 * Marital_StatusSingle + -0.31522150769005 * Marital_StatusTogether ;
2140046   +   H13  = H13  +     0.03294796280016 * Education2n_Cycle
2140047   +          +     0.16865870867242 * EducationBasic  +    -0.24783622415669 *
2140048   +        EducationGraduation  +    -0.16728377319058 * EducationMaster
2140049   +          +    -0.06468619863793 * Marital_StatusDivorced
2140050   +          +    -0.01423713588549 * Marital_StatusMarried
2140051   +          +    -0.04729389811247 * Marital_StatusSingle
2140052   +          +    -0.15198305020182 * Marital_StatusTogether ;
MPRINT(EM_DIAGRAM):   H13 = H13 + 0.03294796280016 * Education2n_Cycle + 0.16865870867242 * 
EducationBasic + -0.24783622415669 * EducationGraduation + -0.16728377319058 * EducationMaster 
+ -0.06468619863793 * Marital_StatusDivorced + -0.01423713588549 * Marital_StatusMarried + 
-0.04729389811247 * Marital_StatusSingle + -0.15198305020182 * Marital_StatusTogether ;
2140053   +   H14  = H14  +      0.0429131340472 * Education2n_Cycle
2140054   +          +     0.09798160258855 * EducationBasic  +     0.23808953197663 *
2140055   +        EducationGraduation  +    -0.18027397340106 * EducationMaster
2140056   +          +     0.20711724648422 * Marital_StatusDivorced
2140057   +          +    -0.52428656670194 * Marital_StatusMarried
2140058   +          +     0.50784243935214 * Marital_StatusSingle
2140059   +          +    -0.15093459229255 * Marital_StatusTogether ;
MPRINT(EM_DIAGRAM):   H14 = H14 + 0.0429131340472 * Education2n_Cycle + 0.09798160258855 * 
EducationBasic + 0.23808953197663 * EducationGraduation + -0.18027397340106 * EducationMaster 
+ 0.20711724648422 * Marital_StatusDivorced + -0.52428656670194 * Marital_StatusMarried + 
0.50784243935214 * Marital_StatusSingle + -0.15093459229255 * Marital_StatusTogether ;
2140060   +   H15  = H15  +    -0.07839732345604 * Education2n_Cycle
2140061   +          +     0.23809754868431 * EducationBasic  +     0.00672017411768 *
2140062   +        EducationGraduation  +     0.02815790747137 * EducationMaster
2140063   +          +    -0.13878251101316 * Marital_StatusDivorced
2140064   +          +     -0.1763810748285 * Marital_StatusMarried
2140065   +          +     0.09863670564728 * Marital_StatusSingle
2140066   +          +     0.03752805463412 * Marital_StatusTogether ;
MPRINT(EM_DIAGRAM):   H15 = H15 + -0.07839732345604 * Education2n_Cycle + 0.23809754868431 * 
EducationBasic + 0.00672017411768 * EducationGraduation + 0.02815790747137 * EducationMaster + 
-0.13878251101316 * Marital_StatusDivorced + -0.1763810748285 * Marital_StatusMarried + 
0.09863670564728 * Marital_StatusSingle + 0.03752805463412 * Marital_StatusTogether ;
2140067   +   H11  =     0.45564602198436 + H11 ;
MPRINT(EM_DIAGRAM):   H11 = 0.45564602198436 + H11 ;
2140068   +   H12  =    -0.95855185996396 + H12 ;
MPRINT(EM_DIAGRAM):   H12 = -0.95855185996396 + H12 ;
2140069   +   H13  =    -0.44150964212393 + H13 ;
MPRINT(EM_DIAGRAM):   H13 = -0.44150964212393 + H13 ;
2140070   +   H14  =     0.53989079832138 + H14 ;
MPRINT(EM_DIAGRAM):   H14 = 0.53989079832138 + H14 ;
2140071   +   H15  =     0.82844095622763 + H15 ;
MPRINT(EM_DIAGRAM):   H15 = 0.82844095622763 + H15 ;
2140072   +   H11  = TANH(H11 );
MPRINT(EM_DIAGRAM):   H11 = TANH(H11 );
2140073   +   H12  = TANH(H12 );
MPRINT(EM_DIAGRAM):   H12 = TANH(H12 );
2140074   +   H13  = TANH(H13 );
MPRINT(EM_DIAGRAM):   H13 = TANH(H13 );
2140075   +   H14  = TANH(H14 );
MPRINT(EM_DIAGRAM):   H14 = TANH(H14 );
2140076   +   H15  = TANH(H15 );
MPRINT(EM_DIAGRAM):   H15 = TANH(H15 );
2140077   +END;
MPRINT(EM_DIAGRAM):   END;
2140078   +ELSE DO;
MPRINT(EM_DIAGRAM):   ELSE DO;
2140079   +   H11  = .;
MPRINT(EM_DIAGRAM):   H11 = .;
2140080   +   H12  = .;
MPRINT(EM_DIAGRAM):   H12 = .;
2140081   +   H13  = .;
MPRINT(EM_DIAGRAM):   H13 = .;
2140082   +   H14  = .;
MPRINT(EM_DIAGRAM):   H14 = .;
2140083   +   H15  = .;
MPRINT(EM_DIAGRAM):   H15 = .;
2140084   +END;
MPRINT(EM_DIAGRAM):   END;
2140085   +*** *************************;
MPRINT(EM_DIAGRAM):   *** *************************;
2140086   +*** Writing the Node DepVar ;
MPRINT(EM_DIAGRAM):   *** Writing the Node DepVar ;
2140087   +*** *************************;
MPRINT(EM_DIAGRAM):   *** *************************;
2140088   +
2140089   +*** Generate dummy variables for DepVar ;
MPRINT(EM_DIAGRAM):   *** Generate dummy variables for DepVar ;
2140090   +drop DepVar1 DepVar0 ;
MPRINT(EM_DIAGRAM):   drop DepVar1 DepVar0 ;
2140091   +label F_DepVar = 'From: DepVar' ;
MPRINT(EM_DIAGRAM):   label F_DepVar = 'From: DepVar' ;
2140092   +length F_DepVar $ 12;
MPRINT(EM_DIAGRAM):   length F_DepVar $ 12;
2140093   +F_DepVar = put( DepVar , BEST. );
MPRINT(EM_DIAGRAM):   F_DepVar = put( DepVar , BEST. );
2140094   +%DMNORMIP( F_DepVar )
MPRINT(DMNORMIP):   call dmnorm(F_DepVar,
MPRINT(DMNORLEN):  32
MPRINT(DMNORMIP):  );
2140095   +if missing( DepVar ) then do;
MPRINT(EM_DIAGRAM):   if missing( DepVar ) then do;
2140096   +   DepVar1 = .;
MPRINT(EM_DIAGRAM):   DepVar1 = .;
2140097   +   DepVar0 = .;
MPRINT(EM_DIAGRAM):   DepVar0 = .;
2140098   +end;
MPRINT(EM_DIAGRAM):   end;
2140099   +else do;
MPRINT(EM_DIAGRAM):   else do;
2140100   +   if F_DepVar = '0'  then do;
MPRINT(EM_DIAGRAM):   if F_DepVar = '0' then do;
2140101   +      DepVar1 = 0;
MPRINT(EM_DIAGRAM):   DepVar1 = 0;
2140102   +      DepVar0 = 1;
MPRINT(EM_DIAGRAM):   DepVar0 = 1;
2140103   +   end;
MPRINT(EM_DIAGRAM):   end;
2140104   +   else if F_DepVar = '1'  then do;
MPRINT(EM_DIAGRAM):   else if F_DepVar = '1' then do;
2140105   +      DepVar1 = 1;
MPRINT(EM_DIAGRAM):   DepVar1 = 1;
2140106   +      DepVar0 = 0;
MPRINT(EM_DIAGRAM):   DepVar0 = 0;
2140107   +   end;
MPRINT(EM_DIAGRAM):   end;
2140108   +   else do;
MPRINT(EM_DIAGRAM):   else do;
2140109   +      DepVar1 = .;
MPRINT(EM_DIAGRAM):   DepVar1 = .;
2140110   +      DepVar0 = .;
MPRINT(EM_DIAGRAM):   DepVar0 = .;
2140111   +   end;
MPRINT(EM_DIAGRAM):   end;
2140112   +end;
MPRINT(EM_DIAGRAM):   end;
2140113   +IF _DM_BAD EQ 0 THEN DO;
MPRINT(EM_DIAGRAM):   IF _DM_BAD EQ 0 THEN DO;
2140114   +   P_DepVar1  =    -3.08524657689897 * H11  +     0.90135731546766 * H12
2140115   +          +    -2.65297083917138 * H13  +     1.47809334967539 * H14
2140116   +          +    -1.92897922289298 * H15 ;
MPRINT(EM_DIAGRAM):   P_DepVar1 = -3.08524657689897 * H11 + 0.90135731546766 * H12 + 
-2.65297083917138 * H13 + 1.47809334967539 * H14 + -1.92897922289298 * H15 ;
2140117   +   P_DepVar1  =    -1.84374798036079 + P_DepVar1 ;
MPRINT(EM_DIAGRAM):   P_DepVar1 = -1.84374798036079 + P_DepVar1 ;
2140118   +   P_DepVar0  = 0;
MPRINT(EM_DIAGRAM):   P_DepVar0 = 0;
2140119   +   _MAX_ = MAX (P_DepVar1 , P_DepVar0 );
MPRINT(EM_DIAGRAM):   _MAX_ = MAX (P_DepVar1 , P_DepVar0 );
2140120   +   _SUM_ = 0.;
MPRINT(EM_DIAGRAM):   _SUM_ = 0.;
2140121   +   P_DepVar1  = EXP(P_DepVar1  - _MAX_);
MPRINT(EM_DIAGRAM):   P_DepVar1 = EXP(P_DepVar1 - _MAX_);
2140122   +   _SUM_ = _SUM_ + P_DepVar1 ;
MPRINT(EM_DIAGRAM):   _SUM_ = _SUM_ + P_DepVar1 ;
2140123   +   P_DepVar0  = EXP(P_DepVar0  - _MAX_);
MPRINT(EM_DIAGRAM):   P_DepVar0 = EXP(P_DepVar0 - _MAX_);
2140124   +   _SUM_ = _SUM_ + P_DepVar0 ;
MPRINT(EM_DIAGRAM):   _SUM_ = _SUM_ + P_DepVar0 ;
2140125   +   P_DepVar1  = P_DepVar1  / _SUM_;
MPRINT(EM_DIAGRAM):   P_DepVar1 = P_DepVar1 / _SUM_;
2140126   +   P_DepVar0  = P_DepVar0  / _SUM_;
MPRINT(EM_DIAGRAM):   P_DepVar0 = P_DepVar0 / _SUM_;
2140127   +END;
MPRINT(EM_DIAGRAM):   END;
2140128   +ELSE DO;
MPRINT(EM_DIAGRAM):   ELSE DO;
2140129   +   P_DepVar1  = .;
MPRINT(EM_DIAGRAM):   P_DepVar1 = .;
2140130   +   P_DepVar0  = .;
MPRINT(EM_DIAGRAM):   P_DepVar0 = .;
2140131   +END;
MPRINT(EM_DIAGRAM):   END;
2140132   +IF _DM_BAD EQ 1 THEN DO;
MPRINT(EM_DIAGRAM):   IF _DM_BAD EQ 1 THEN DO;
2140133   +   P_DepVar1  =     0.15122156697556;
MPRINT(EM_DIAGRAM):   P_DepVar1 = 0.15122156697556;
2140134   +   P_DepVar0  =     0.84877843302443;
MPRINT(EM_DIAGRAM):   P_DepVar0 = 0.84877843302443;
2140135   +END;
MPRINT(EM_DIAGRAM):   END;
2140136   +*** *****************************;
MPRINT(EM_DIAGRAM):   *** *****************************;
2140137   +*** Writing the Residuals  of the Node DepVar ;
MPRINT(EM_DIAGRAM):   *** Writing the Residuals of the Node DepVar ;
2140138   +*** ******************************;
MPRINT(EM_DIAGRAM):   *** ******************************;
2140139   +IF MISSING( DepVar1 ) THEN R_DepVar1  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( DepVar1 ) THEN R_DepVar1 = . ;
2140140   +ELSE R_DepVar1  = DepVar1  - P_DepVar1 ;
MPRINT(EM_DIAGRAM):   ELSE R_DepVar1 = DepVar1 - P_DepVar1 ;
2140141   +IF MISSING( DepVar0 ) THEN R_DepVar0  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( DepVar0 ) THEN R_DepVar0 = . ;
2140142   +ELSE R_DepVar0  = DepVar0  - P_DepVar0 ;
MPRINT(EM_DIAGRAM):   ELSE R_DepVar0 = DepVar0 - P_DepVar0 ;
2140143   +*** *************************;
MPRINT(EM_DIAGRAM):   *** *************************;
2140144   +*** Writing the I_DepVar  AND U_DepVar ;
MPRINT(EM_DIAGRAM):   *** Writing the I_DepVar AND U_DepVar ;
2140145   +*** *************************;
MPRINT(EM_DIAGRAM):   *** *************************;
2140146   +_MAXP_ = P_DepVar1 ;
MPRINT(EM_DIAGRAM):   _MAXP_ = P_DepVar1 ;
2140147   +I_DepVar  = "1           " ;
MPRINT(EM_DIAGRAM):   I_DepVar = "1           " ;
2140148   +U_DepVar  =                    1;
MPRINT(EM_DIAGRAM):   U_DepVar = 1;
2140149   +IF( _MAXP_ LT P_DepVar0  ) THEN DO;
MPRINT(EM_DIAGRAM):   IF( _MAXP_ LT P_DepVar0 ) THEN DO;
2140150   +   _MAXP_ = P_DepVar0 ;
MPRINT(EM_DIAGRAM):   _MAXP_ = P_DepVar0 ;
2140151   +   I_DepVar  = "0           " ;
MPRINT(EM_DIAGRAM):   I_DepVar = "0           " ;
2140152   +   U_DepVar  =                    0;
MPRINT(EM_DIAGRAM):   U_DepVar = 0;
2140153   +END;
MPRINT(EM_DIAGRAM):   END;
2140154   +********************************;
MPRINT(EM_DIAGRAM):   ********************************;
2140155   +*** End Scoring Code for Neural;
MPRINT(EM_DIAGRAM):   *** End Scoring Code for Neural;
2140156   +********************************;
MPRINT(EM_DIAGRAM):   ********************************;
2140157   +drop
2140158   +H11
2140159   +H12
2140160   +H13
2140161   +H14
2140162   +H15
2140163   +;
MPRINT(EM_DIAGRAM):   drop H11 H12 H13 H14 H15 ;
2140164   +drop S_:;
MPRINT(EM_DIAGRAM):   drop S_:;
2140165   +* Renaming variables for Neural40;
MPRINT(EM_DIAGRAM):   * Renaming variables for Neural40;
2140166   +*------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
2140167   +* Renaming Posterior variables for Neural40;
MPRINT(EM_DIAGRAM):   * Renaming Posterior variables for Neural40;
2140168   +*------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
2140169   +drop Neural40_P_DepVar1;
MPRINT(EM_DIAGRAM):   drop Neural40_P_DepVar1;
2140170   +Neural40_P_DepVar1 = P_DepVar1;
MPRINT(EM_DIAGRAM):   Neural40_P_DepVar1 = P_DepVar1;
2140171   +drop Neural40_P_DepVar0;
MPRINT(EM_DIAGRAM):   drop Neural40_P_DepVar0;
2140172   +Neural40_P_DepVar0 = P_DepVar0;
MPRINT(EM_DIAGRAM):   Neural40_P_DepVar0 = P_DepVar0;
2140173   +*------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
2140174   +* Renaming _WARN_ variable for Neural40;
MPRINT(EM_DIAGRAM):   * Renaming _WARN_ variable for Neural40;
2140175   +*------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
2140176   +length Neural40_WARN_ $4;
MPRINT(EM_DIAGRAM):   length Neural40_WARN_ $4;
2140177   +drop Neural40_WARN_;
MPRINT(EM_DIAGRAM):   drop Neural40_WARN_;
2140178   +Neural40_WARN_ = _WARN_;
MPRINT(EM_DIAGRAM):   Neural40_WARN_ = _WARN_;
2140179   +*------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
2140180   +* Ensmbl23: Scoring Code of model 3 of 5;
MPRINT(EM_DIAGRAM):   * Ensmbl23: Scoring Code of model 3 of 5;
2140181   +*------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
2140182   +*------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
2140183   +* TOOL: Neural;
MPRINT(EM_DIAGRAM):   * TOOL: Neural;
2140184   +* TYPE: MODEL;
MPRINT(EM_DIAGRAM):   * TYPE: MODEL;
2140185   +* NODE: Neural39;
MPRINT(EM_DIAGRAM):   * NODE: Neural39;
2140186   +*------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
2140187   +***********************************;
MPRINT(EM_DIAGRAM):   ***********************************;
2140188   +*** Begin Scoring Code for Neural;
MPRINT(EM_DIAGRAM):   *** Begin Scoring Code for Neural;
2140189   +***********************************;
MPRINT(EM_DIAGRAM):   ***********************************;
2140190   +DROP _DM_BAD _EPS _NOCL_ _MAX_ _MAXP_ _SUM_ _NTRIALS;
MPRINT(EM_DIAGRAM):   DROP _DM_BAD _EPS _NOCL_ _MAX_ _MAXP_ _SUM_ _NTRIALS;
2140191   + _DM_BAD = 0;
MPRINT(EM_DIAGRAM):   _DM_BAD = 0;
2140192   + _NOCL_ = .;
MPRINT(EM_DIAGRAM):   _NOCL_ = .;
2140193   + _MAX_ = .;
MPRINT(EM_DIAGRAM):   _MAX_ = .;
2140194   + _MAXP_ = .;
MPRINT(EM_DIAGRAM):   _MAXP_ = .;
2140195   + _SUM_ = .;
MPRINT(EM_DIAGRAM):   _SUM_ = .;
2140196   + _NTRIALS = .;
MPRINT(EM_DIAGRAM):   _NTRIALS = .;
2140197   + _EPS =                1E-10;
MPRINT(EM_DIAGRAM):   _EPS = 1E-10;
2140198   +LENGTH _WARN_ $4
2140199   +      F_DepVar  $ 12
2140200   +;
MPRINT(EM_DIAGRAM):   LENGTH _WARN_ $4 F_DepVar $ 12 ;
2140201   +      label S_AcceptedCmpTotal = 'Standard: AcceptedCmpTotal' ;
MPRINT(EM_DIAGRAM):   label S_AcceptedCmpTotal = 'Standard: AcceptedCmpTotal' ;
2140202   +
2140203   +      label S_Age = 'Standard: Age' ;
MPRINT(EM_DIAGRAM):   label S_Age = 'Standard: Age' ;
2140204   +
2140205   +      label S_Frq = 'Standard: Frq' ;
MPRINT(EM_DIAGRAM):   label S_Frq = 'Standard: Frq' ;
2140206   +
2140207   +      label S_Income = 'Standard: Income' ;
MPRINT(EM_DIAGRAM):   label S_Income = 'Standard: Income' ;
2140208   +
2140209   +      label S_Kidhome = 'Standard: Kidhome' ;
MPRINT(EM_DIAGRAM):   label S_Kidhome = 'Standard: Kidhome' ;
2140210   +
2140211   +      label S_MntFishProducts = 'Standard: MntFishProducts' ;
MPRINT(EM_DIAGRAM):   label S_MntFishProducts = 'Standard: MntFishProducts' ;
2140212   +
2140213   +      label S_MntFruits = 'Standard: MntFruits' ;
MPRINT(EM_DIAGRAM):   label S_MntFruits = 'Standard: MntFruits' ;
2140214   +
2140215   +      label S_MntGoldProds = 'Standard: MntGoldProds' ;
MPRINT(EM_DIAGRAM):   label S_MntGoldProds = 'Standard: MntGoldProds' ;
2140216   +
2140217   +      label S_MntSweetProducts = 'Standard: MntSweetProducts' ;
MPRINT(EM_DIAGRAM):   label S_MntSweetProducts = 'Standard: MntSweetProducts' ;
2140218   +
2140219   +      label S_MonthsAsCustomer = 'Standard: MonthsAsCustomer' ;
MPRINT(EM_DIAGRAM):   label S_MonthsAsCustomer = 'Standard: MonthsAsCustomer' ;
2140220   +
2140221   +      label S_NumDealsPurchases = 'Standard: NumDealsPurchases' ;
MPRINT(EM_DIAGRAM):   label S_NumDealsPurchases = 'Standard: NumDealsPurchases' ;
2140222   +
2140223   +      label S_NumWebVisitsMonth = 'Standard: NumWebVisitsMonth' ;
MPRINT(EM_DIAGRAM):   label S_NumWebVisitsMonth = 'Standard: NumWebVisitsMonth' ;
2140224   +
2140225   +      label S_RFMstat = 'Standard: RFMstat' ;
MPRINT(EM_DIAGRAM):   label S_RFMstat = 'Standard: RFMstat' ;
2140226   +
2140227   +      label S_RMntFrq = 'Standard: RMntFrq' ;
MPRINT(EM_DIAGRAM):   label S_RMntFrq = 'Standard: RMntFrq' ;
2140228   +
2140229   +      label S_Recency = 'Standard: Recency' ;
MPRINT(EM_DIAGRAM):   label S_Recency = 'Standard: Recency' ;
2140230   +
2140231   +      label S_Teenhome = 'Standard: Teenhome' ;
MPRINT(EM_DIAGRAM):   label S_Teenhome = 'Standard: Teenhome' ;
2140232   +
2140233   +      label AcceptedCmp10 = 'Dummy: AcceptedCmp1=0' ;
MPRINT(EM_DIAGRAM):   label AcceptedCmp10 = 'Dummy: AcceptedCmp1=0' ;
2140234   +
2140235   +      label AcceptedCmp20 = 'Dummy: AcceptedCmp2=0' ;
MPRINT(EM_DIAGRAM):   label AcceptedCmp20 = 'Dummy: AcceptedCmp2=0' ;
2140236   +
2140237   +      label AcceptedCmp30 = 'Dummy: AcceptedCmp3=0' ;
MPRINT(EM_DIAGRAM):   label AcceptedCmp30 = 'Dummy: AcceptedCmp3=0' ;
2140238   +
2140239   +      label AcceptedCmp40 = 'Dummy: AcceptedCmp4=0' ;
MPRINT(EM_DIAGRAM):   label AcceptedCmp40 = 'Dummy: AcceptedCmp4=0' ;
2140240   +
2140241   +      label AcceptedCmp50 = 'Dummy: AcceptedCmp5=0' ;
MPRINT(EM_DIAGRAM):   label AcceptedCmp50 = 'Dummy: AcceptedCmp5=0' ;
2140242   +
2140243   +      label Complain0 = 'Dummy: Complain=0' ;
MPRINT(EM_DIAGRAM):   label Complain0 = 'Dummy: Complain=0' ;
2140244   +
2140245   +      label HigherEducationBinary0 = 'Dummy: HigherEducationBinary=0' ;
MPRINT(EM_DIAGRAM):   label HigherEducationBinary0 = 'Dummy: HigherEducationBinary=0' ;
2140246   +
2140247   +      label Education2n_Cycle = 'Dummy: Education=2n Cycle' ;
MPRINT(EM_DIAGRAM):   label Education2n_Cycle = 'Dummy: Education=2n Cycle' ;
2140248   +
2140249   +      label EducationBasic = 'Dummy: Education=Basic' ;
MPRINT(EM_DIAGRAM):   label EducationBasic = 'Dummy: Education=Basic' ;
2140250   +
2140251   +      label EducationGraduation = 'Dummy: Education=Graduation' ;
MPRINT(EM_DIAGRAM):   label EducationGraduation = 'Dummy: Education=Graduation' ;
2140252   +
2140253   +      label EducationMaster = 'Dummy: Education=Master' ;
MPRINT(EM_DIAGRAM):   label EducationMaster = 'Dummy: Education=Master' ;
2140254   +
2140255   +      label Marital_StatusDivorced = 'Dummy: Marital_Status=Divorced' ;
MPRINT(EM_DIAGRAM):   label Marital_StatusDivorced = 'Dummy: Marital_Status=Divorced' ;
2140256   +
2140257   +      label Marital_StatusMarried = 'Dummy: Marital_Status=Married' ;
MPRINT(EM_DIAGRAM):   label Marital_StatusMarried = 'Dummy: Marital_Status=Married' ;
2140258   +
2140259   +      label Marital_StatusSingle = 'Dummy: Marital_Status=Single' ;
MPRINT(EM_DIAGRAM):   label Marital_StatusSingle = 'Dummy: Marital_Status=Single' ;
2140260   +
2140261   +      label Marital_StatusTogether = 'Dummy: Marital_Status=Together' ;
MPRINT(EM_DIAGRAM):   label Marital_StatusTogether = 'Dummy: Marital_Status=Together' ;
2140262   +
2140263   +      label H11 = 'Hidden: H1=1' ;
MPRINT(EM_DIAGRAM):   label H11 = 'Hidden: H1=1' ;
2140264   +
2140265   +      label H12 = 'Hidden: H1=2' ;
MPRINT(EM_DIAGRAM):   label H12 = 'Hidden: H1=2' ;
2140266   +
2140267   +      label H13 = 'Hidden: H1=3' ;
MPRINT(EM_DIAGRAM):   label H13 = 'Hidden: H1=3' ;
2140268   +
2140269   +      label H14 = 'Hidden: H1=4' ;
MPRINT(EM_DIAGRAM):   label H14 = 'Hidden: H1=4' ;
2140270   +
2140271   +      label I_DepVar = 'Into: DepVar' ;
MPRINT(EM_DIAGRAM):   label I_DepVar = 'Into: DepVar' ;
2140272   +
2140273   +      label F_DepVar = 'From: DepVar' ;
MPRINT(EM_DIAGRAM):   label F_DepVar = 'From: DepVar' ;
2140274   +
2140275   +      label U_DepVar = 'Unnormalized Into: DepVar' ;
MPRINT(EM_DIAGRAM):   label U_DepVar = 'Unnormalized Into: DepVar' ;
2140276   +
2140277   +      label P_DepVar1 = 'Predicted: DepVar=1' ;
MPRINT(EM_DIAGRAM):   label P_DepVar1 = 'Predicted: DepVar=1' ;
2140278   +
2140279   +      label R_DepVar1 = 'Residual: DepVar=1' ;
MPRINT(EM_DIAGRAM):   label R_DepVar1 = 'Residual: DepVar=1' ;
2140280   +
2140281   +      label P_DepVar0 = 'Predicted: DepVar=0' ;
MPRINT(EM_DIAGRAM):   label P_DepVar0 = 'Predicted: DepVar=0' ;
2140282   +
2140283   +      label R_DepVar0 = 'Residual: DepVar=0' ;
MPRINT(EM_DIAGRAM):   label R_DepVar0 = 'Residual: DepVar=0' ;
2140284   +
2140285   +      label  _WARN_ = "Warnings";
MPRINT(EM_DIAGRAM):   label _WARN_ = "Warnings";
2140286   +
2140287   +*** Generate dummy variables for AcceptedCmp1 ;
MPRINT(EM_DIAGRAM):   *** Generate dummy variables for AcceptedCmp1 ;
2140288   +drop AcceptedCmp10 ;
MPRINT(EM_DIAGRAM):   drop AcceptedCmp10 ;
2140289   +if missing( AcceptedCmp1 ) then do;
MPRINT(EM_DIAGRAM):   if missing( AcceptedCmp1 ) then do;
2140290   +   AcceptedCmp10 = .;
MPRINT(EM_DIAGRAM):   AcceptedCmp10 = .;
2140291   +   substr(_warn_,1,1) = 'M';
MPRINT(EM_DIAGRAM):   substr(_warn_,1,1) = 'M';
2140292   +   _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2140293   +end;
MPRINT(EM_DIAGRAM):   end;
2140294   +else do;
MPRINT(EM_DIAGRAM):   else do;
2140295   +   length _dm12 $ 12; drop _dm12 ;
MPRINT(EM_DIAGRAM):   length _dm12 $ 12;
MPRINT(EM_DIAGRAM):   drop _dm12 ;
2140296   +   _dm12 = put( AcceptedCmp1 , BEST. );
MPRINT(EM_DIAGRAM):   _dm12 = put( AcceptedCmp1 , BEST. );
2140297   +   %DMNORMIP( _dm12 )
MPRINT(DMNORMIP):   call dmnorm(_dm12,
MPRINT(DMNORLEN):  32
MPRINT(DMNORMIP):  );
2140298   +   if _dm12 = '0'  then do;
MPRINT(EM_DIAGRAM):   if _dm12 = '0' then do;
2140299   +      AcceptedCmp10 = 1;
MPRINT(EM_DIAGRAM):   AcceptedCmp10 = 1;
2140300   +   end;
MPRINT(EM_DIAGRAM):   end;
2140301   +   else if _dm12 = '1'  then do;
MPRINT(EM_DIAGRAM):   else if _dm12 = '1' then do;
2140302   +      AcceptedCmp10 = -1;
MPRINT(EM_DIAGRAM):   AcceptedCmp10 = -1;
2140303   +   end;
MPRINT(EM_DIAGRAM):   end;
2140304   +   else do;
MPRINT(EM_DIAGRAM):   else do;
2140305   +      AcceptedCmp10 = .;
MPRINT(EM_DIAGRAM):   AcceptedCmp10 = .;
2140306   +      substr(_warn_,2,1) = 'U';
MPRINT(EM_DIAGRAM):   substr(_warn_,2,1) = 'U';
2140307   +      _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2140308   +   end;
MPRINT(EM_DIAGRAM):   end;
2140309   +end;
MPRINT(EM_DIAGRAM):   end;
2140310   +
2140311   +*** Generate dummy variables for AcceptedCmp2 ;
MPRINT(EM_DIAGRAM):   *** Generate dummy variables for AcceptedCmp2 ;
2140312   +drop AcceptedCmp20 ;
MPRINT(EM_DIAGRAM):   drop AcceptedCmp20 ;
2140313   +if missing( AcceptedCmp2 ) then do;
MPRINT(EM_DIAGRAM):   if missing( AcceptedCmp2 ) then do;
2140314   +   AcceptedCmp20 = .;
MPRINT(EM_DIAGRAM):   AcceptedCmp20 = .;
2140315   +   substr(_warn_,1,1) = 'M';
MPRINT(EM_DIAGRAM):   substr(_warn_,1,1) = 'M';
2140316   +   _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2140317   +end;
MPRINT(EM_DIAGRAM):   end;
2140318   +else do;
MPRINT(EM_DIAGRAM):   else do;
2140319   +   length _dm12 $ 12; drop _dm12 ;
MPRINT(EM_DIAGRAM):   length _dm12 $ 12;
MPRINT(EM_DIAGRAM):   drop _dm12 ;
2140320   +   _dm12 = put( AcceptedCmp2 , BEST. );
MPRINT(EM_DIAGRAM):   _dm12 = put( AcceptedCmp2 , BEST. );
2140321   +   %DMNORMIP( _dm12 )
MPRINT(DMNORMIP):   call dmnorm(_dm12,
MPRINT(DMNORLEN):  32
MPRINT(DMNORMIP):  );
2140322   +   if _dm12 = '0'  then do;
MPRINT(EM_DIAGRAM):   if _dm12 = '0' then do;
2140323   +      AcceptedCmp20 = 1;
MPRINT(EM_DIAGRAM):   AcceptedCmp20 = 1;
2140324   +   end;
MPRINT(EM_DIAGRAM):   end;
2140325   +   else if _dm12 = '1'  then do;
MPRINT(EM_DIAGRAM):   else if _dm12 = '1' then do;
2140326   +      AcceptedCmp20 = -1;
MPRINT(EM_DIAGRAM):   AcceptedCmp20 = -1;
2140327   +   end;
MPRINT(EM_DIAGRAM):   end;
2140328   +   else do;
MPRINT(EM_DIAGRAM):   else do;
2140329   +      AcceptedCmp20 = .;
MPRINT(EM_DIAGRAM):   AcceptedCmp20 = .;
2140330   +      substr(_warn_,2,1) = 'U';
MPRINT(EM_DIAGRAM):   substr(_warn_,2,1) = 'U';
2140331   +      _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2140332   +   end;
MPRINT(EM_DIAGRAM):   end;
2140333   +end;
MPRINT(EM_DIAGRAM):   end;
2140334   +
2140335   +*** Generate dummy variables for AcceptedCmp3 ;
MPRINT(EM_DIAGRAM):   *** Generate dummy variables for AcceptedCmp3 ;
2140336   +drop AcceptedCmp30 ;
MPRINT(EM_DIAGRAM):   drop AcceptedCmp30 ;
2140337   +if missing( AcceptedCmp3 ) then do;
MPRINT(EM_DIAGRAM):   if missing( AcceptedCmp3 ) then do;
2140338   +   AcceptedCmp30 = .;
MPRINT(EM_DIAGRAM):   AcceptedCmp30 = .;
2140339   +   substr(_warn_,1,1) = 'M';
MPRINT(EM_DIAGRAM):   substr(_warn_,1,1) = 'M';
2140340   +   _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2140341   +end;
MPRINT(EM_DIAGRAM):   end;
2140342   +else do;
MPRINT(EM_DIAGRAM):   else do;
2140343   +   length _dm12 $ 12; drop _dm12 ;
MPRINT(EM_DIAGRAM):   length _dm12 $ 12;
MPRINT(EM_DIAGRAM):   drop _dm12 ;
2140344   +   _dm12 = put( AcceptedCmp3 , BEST. );
MPRINT(EM_DIAGRAM):   _dm12 = put( AcceptedCmp3 , BEST. );
2140345   +   %DMNORMIP( _dm12 )
MPRINT(DMNORMIP):   call dmnorm(_dm12,
MPRINT(DMNORLEN):  32
MPRINT(DMNORMIP):  );
2140346   +   if _dm12 = '0'  then do;
MPRINT(EM_DIAGRAM):   if _dm12 = '0' then do;
2140347   +      AcceptedCmp30 = 1;
MPRINT(EM_DIAGRAM):   AcceptedCmp30 = 1;
2140348   +   end;
MPRINT(EM_DIAGRAM):   end;
2140349   +   else if _dm12 = '1'  then do;
MPRINT(EM_DIAGRAM):   else if _dm12 = '1' then do;
2140350   +      AcceptedCmp30 = -1;
MPRINT(EM_DIAGRAM):   AcceptedCmp30 = -1;
2140351   +   end;
MPRINT(EM_DIAGRAM):   end;
2140352   +   else do;
MPRINT(EM_DIAGRAM):   else do;
2140353   +      AcceptedCmp30 = .;
MPRINT(EM_DIAGRAM):   AcceptedCmp30 = .;
2140354   +      substr(_warn_,2,1) = 'U';
MPRINT(EM_DIAGRAM):   substr(_warn_,2,1) = 'U';
2140355   +      _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2140356   +   end;
MPRINT(EM_DIAGRAM):   end;
2140357   +end;
MPRINT(EM_DIAGRAM):   end;
2140358   +
2140359   +*** Generate dummy variables for AcceptedCmp4 ;
MPRINT(EM_DIAGRAM):   *** Generate dummy variables for AcceptedCmp4 ;
2140360   +drop AcceptedCmp40 ;
MPRINT(EM_DIAGRAM):   drop AcceptedCmp40 ;
2140361   +if missing( AcceptedCmp4 ) then do;
MPRINT(EM_DIAGRAM):   if missing( AcceptedCmp4 ) then do;
2140362   +   AcceptedCmp40 = .;
MPRINT(EM_DIAGRAM):   AcceptedCmp40 = .;
2140363   +   substr(_warn_,1,1) = 'M';
MPRINT(EM_DIAGRAM):   substr(_warn_,1,1) = 'M';
2140364   +   _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2140365   +end;
MPRINT(EM_DIAGRAM):   end;
2140366   +else do;
MPRINT(EM_DIAGRAM):   else do;
2140367   +   length _dm12 $ 12; drop _dm12 ;
MPRINT(EM_DIAGRAM):   length _dm12 $ 12;
MPRINT(EM_DIAGRAM):   drop _dm12 ;
2140368   +   _dm12 = put( AcceptedCmp4 , BEST. );
MPRINT(EM_DIAGRAM):   _dm12 = put( AcceptedCmp4 , BEST. );
2140369   +   %DMNORMIP( _dm12 )
MPRINT(DMNORMIP):   call dmnorm(_dm12,
MPRINT(DMNORLEN):  32
MPRINT(DMNORMIP):  );
2140370   +   if _dm12 = '0'  then do;
MPRINT(EM_DIAGRAM):   if _dm12 = '0' then do;
2140371   +      AcceptedCmp40 = 1;
MPRINT(EM_DIAGRAM):   AcceptedCmp40 = 1;
2140372   +   end;
MPRINT(EM_DIAGRAM):   end;
2140373   +   else if _dm12 = '1'  then do;
MPRINT(EM_DIAGRAM):   else if _dm12 = '1' then do;
2140374   +      AcceptedCmp40 = -1;
MPRINT(EM_DIAGRAM):   AcceptedCmp40 = -1;
2140375   +   end;
MPRINT(EM_DIAGRAM):   end;
2140376   +   else do;
MPRINT(EM_DIAGRAM):   else do;
2140377   +      AcceptedCmp40 = .;
MPRINT(EM_DIAGRAM):   AcceptedCmp40 = .;
2140378   +      substr(_warn_,2,1) = 'U';
MPRINT(EM_DIAGRAM):   substr(_warn_,2,1) = 'U';
2140379   +      _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2140380   +   end;
MPRINT(EM_DIAGRAM):   end;
2140381   +end;
MPRINT(EM_DIAGRAM):   end;
2140382   +
2140383   +*** Generate dummy variables for AcceptedCmp5 ;
MPRINT(EM_DIAGRAM):   *** Generate dummy variables for AcceptedCmp5 ;
2140384   +drop AcceptedCmp50 ;
MPRINT(EM_DIAGRAM):   drop AcceptedCmp50 ;
2140385   +if missing( AcceptedCmp5 ) then do;
MPRINT(EM_DIAGRAM):   if missing( AcceptedCmp5 ) then do;
2140386   +   AcceptedCmp50 = .;
MPRINT(EM_DIAGRAM):   AcceptedCmp50 = .;
2140387   +   substr(_warn_,1,1) = 'M';
MPRINT(EM_DIAGRAM):   substr(_warn_,1,1) = 'M';
2140388   +   _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2140389   +end;
MPRINT(EM_DIAGRAM):   end;
2140390   +else do;
MPRINT(EM_DIAGRAM):   else do;
2140391   +   length _dm12 $ 12; drop _dm12 ;
MPRINT(EM_DIAGRAM):   length _dm12 $ 12;
MPRINT(EM_DIAGRAM):   drop _dm12 ;
2140392   +   _dm12 = put( AcceptedCmp5 , BEST. );
MPRINT(EM_DIAGRAM):   _dm12 = put( AcceptedCmp5 , BEST. );
2140393   +   %DMNORMIP( _dm12 )
MPRINT(DMNORMIP):   call dmnorm(_dm12,
MPRINT(DMNORLEN):  32
MPRINT(DMNORMIP):  );
2140394   +   if _dm12 = '0'  then do;
MPRINT(EM_DIAGRAM):   if _dm12 = '0' then do;
2140395   +      AcceptedCmp50 = 1;
MPRINT(EM_DIAGRAM):   AcceptedCmp50 = 1;
2140396   +   end;
MPRINT(EM_DIAGRAM):   end;
2140397   +   else if _dm12 = '1'  then do;
MPRINT(EM_DIAGRAM):   else if _dm12 = '1' then do;
2140398   +      AcceptedCmp50 = -1;
MPRINT(EM_DIAGRAM):   AcceptedCmp50 = -1;
2140399   +   end;
MPRINT(EM_DIAGRAM):   end;
2140400   +   else do;
MPRINT(EM_DIAGRAM):   else do;
2140401   +      AcceptedCmp50 = .;
MPRINT(EM_DIAGRAM):   AcceptedCmp50 = .;
2140402   +      substr(_warn_,2,1) = 'U';
MPRINT(EM_DIAGRAM):   substr(_warn_,2,1) = 'U';
2140403   +      _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2140404   +   end;
MPRINT(EM_DIAGRAM):   end;
2140405   +end;
MPRINT(EM_DIAGRAM):   end;
2140406   +
2140407   +*** Generate dummy variables for Complain ;
MPRINT(EM_DIAGRAM):   *** Generate dummy variables for Complain ;
2140408   +drop Complain0 ;
MPRINT(EM_DIAGRAM):   drop Complain0 ;
2140409   +if missing( Complain ) then do;
MPRINT(EM_DIAGRAM):   if missing( Complain ) then do;
2140410   +   Complain0 = .;
MPRINT(EM_DIAGRAM):   Complain0 = .;
2140411   +   substr(_warn_,1,1) = 'M';
MPRINT(EM_DIAGRAM):   substr(_warn_,1,1) = 'M';
2140412   +   _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2140413   +end;
MPRINT(EM_DIAGRAM):   end;
2140414   +else do;
MPRINT(EM_DIAGRAM):   else do;
2140415   +   length _dm12 $ 12; drop _dm12 ;
MPRINT(EM_DIAGRAM):   length _dm12 $ 12;
MPRINT(EM_DIAGRAM):   drop _dm12 ;
2140416   +   _dm12 = put( Complain , BEST. );
MPRINT(EM_DIAGRAM):   _dm12 = put( Complain , BEST. );
2140417   +   %DMNORMIP( _dm12 )
MPRINT(DMNORMIP):   call dmnorm(_dm12,
MPRINT(DMNORLEN):  32
MPRINT(DMNORMIP):  );
2140418   +   if _dm12 = '0'  then do;
MPRINT(EM_DIAGRAM):   if _dm12 = '0' then do;
2140419   +      Complain0 = 1;
MPRINT(EM_DIAGRAM):   Complain0 = 1;
2140420   +   end;
MPRINT(EM_DIAGRAM):   end;
2140421   +   else if _dm12 = '1'  then do;
MPRINT(EM_DIAGRAM):   else if _dm12 = '1' then do;
2140422   +      Complain0 = -1;
MPRINT(EM_DIAGRAM):   Complain0 = -1;
2140423   +   end;
MPRINT(EM_DIAGRAM):   end;
2140424   +   else do;
MPRINT(EM_DIAGRAM):   else do;
2140425   +      Complain0 = .;
MPRINT(EM_DIAGRAM):   Complain0 = .;
2140426   +      substr(_warn_,2,1) = 'U';
MPRINT(EM_DIAGRAM):   substr(_warn_,2,1) = 'U';
2140427   +      _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2140428   +   end;
MPRINT(EM_DIAGRAM):   end;
2140429   +end;
MPRINT(EM_DIAGRAM):   end;
2140430   +
2140431   +*** Generate dummy variables for HigherEducationBinary ;
MPRINT(EM_DIAGRAM):   *** Generate dummy variables for HigherEducationBinary ;
2140432   +drop HigherEducationBinary0 ;
MPRINT(EM_DIAGRAM):   drop HigherEducationBinary0 ;
2140433   +if missing( HigherEducationBinary ) then do;
MPRINT(EM_DIAGRAM):   if missing( HigherEducationBinary ) then do;
2140434   +   HigherEducationBinary0 = .;
MPRINT(EM_DIAGRAM):   HigherEducationBinary0 = .;
2140435   +   substr(_warn_,1,1) = 'M';
MPRINT(EM_DIAGRAM):   substr(_warn_,1,1) = 'M';
2140436   +   _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2140437   +end;
MPRINT(EM_DIAGRAM):   end;
2140438   +else do;
MPRINT(EM_DIAGRAM):   else do;
2140439   +   length _dm12 $ 12; drop _dm12 ;
MPRINT(EM_DIAGRAM):   length _dm12 $ 12;
MPRINT(EM_DIAGRAM):   drop _dm12 ;
2140440   +   _dm12 = put( HigherEducationBinary , BEST12. );
MPRINT(EM_DIAGRAM):   _dm12 = put( HigherEducationBinary , BEST12. );
2140441   +   %DMNORMIP( _dm12 )
MPRINT(DMNORMIP):   call dmnorm(_dm12,
MPRINT(DMNORLEN):  32
MPRINT(DMNORMIP):  );
2140442   +   if _dm12 = '1'  then do;
MPRINT(EM_DIAGRAM):   if _dm12 = '1' then do;
2140443   +      HigherEducationBinary0 = -1;
MPRINT(EM_DIAGRAM):   HigherEducationBinary0 = -1;
2140444   +   end;
MPRINT(EM_DIAGRAM):   end;
2140445   +   else if _dm12 = '0'  then do;
MPRINT(EM_DIAGRAM):   else if _dm12 = '0' then do;
2140446   +      HigherEducationBinary0 = 1;
MPRINT(EM_DIAGRAM):   HigherEducationBinary0 = 1;
2140447   +   end;
MPRINT(EM_DIAGRAM):   end;
2140448   +   else do;
MPRINT(EM_DIAGRAM):   else do;
2140449   +      HigherEducationBinary0 = .;
MPRINT(EM_DIAGRAM):   HigherEducationBinary0 = .;
2140450   +      substr(_warn_,2,1) = 'U';
MPRINT(EM_DIAGRAM):   substr(_warn_,2,1) = 'U';
2140451   +      _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2140452   +   end;
MPRINT(EM_DIAGRAM):   end;
2140453   +end;
MPRINT(EM_DIAGRAM):   end;
2140454   +
2140455   +*** Generate dummy variables for Education ;
MPRINT(EM_DIAGRAM):   *** Generate dummy variables for Education ;
2140456   +drop Education2n_Cycle EducationBasic EducationGraduation EducationMaster ;
MPRINT(EM_DIAGRAM):   drop Education2n_Cycle EducationBasic EducationGraduation 
EducationMaster ;
2140457   +*** encoding is sparse, initialize to zero;
MPRINT(EM_DIAGRAM):   *** encoding is sparse, initialize to zero;
2140458   +Education2n_Cycle = 0;
MPRINT(EM_DIAGRAM):   Education2n_Cycle = 0;
2140459   +EducationBasic = 0;
MPRINT(EM_DIAGRAM):   EducationBasic = 0;
2140460   +EducationGraduation = 0;
MPRINT(EM_DIAGRAM):   EducationGraduation = 0;
2140461   +EducationMaster = 0;
MPRINT(EM_DIAGRAM):   EducationMaster = 0;
2140462   +if missing( Education ) then do;
MPRINT(EM_DIAGRAM):   if missing( Education ) then do;
2140463   +   Education2n_Cycle = .;
MPRINT(EM_DIAGRAM):   Education2n_Cycle = .;
2140464   +   EducationBasic = .;
MPRINT(EM_DIAGRAM):   EducationBasic = .;
2140465   +   EducationGraduation = .;
MPRINT(EM_DIAGRAM):   EducationGraduation = .;
2140466   +   EducationMaster = .;
MPRINT(EM_DIAGRAM):   EducationMaster = .;
2140467   +   substr(_warn_,1,1) = 'M';
MPRINT(EM_DIAGRAM):   substr(_warn_,1,1) = 'M';
2140468   +   _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2140469   +end;
MPRINT(EM_DIAGRAM):   end;
2140470   +else do;
MPRINT(EM_DIAGRAM):   else do;
2140471   +   length _dm10 $ 10; drop _dm10 ;
MPRINT(EM_DIAGRAM):   length _dm10 $ 10;
MPRINT(EM_DIAGRAM):   drop _dm10 ;
2140472   +   _dm10 = put( Education , $10. );
MPRINT(EM_DIAGRAM):   _dm10 = put( Education , $10. );
2140473   +   %DMNORMIP( _dm10 )
MPRINT(DMNORMIP):   call dmnorm(_dm10,
MPRINT(DMNORLEN):  32
MPRINT(DMNORMIP):  );
2140474   +   if _dm10 = 'GRADUATION'  then do;
MPRINT(EM_DIAGRAM):   if _dm10 = 'GRADUATION' then do;
2140475   +      EducationGraduation = 1;
MPRINT(EM_DIAGRAM):   EducationGraduation = 1;
2140476   +   end;
MPRINT(EM_DIAGRAM):   end;
2140477   +   else if _dm10 = 'PHD'  then do;
MPRINT(EM_DIAGRAM):   else if _dm10 = 'PHD' then do;
2140478   +      Education2n_Cycle = -1;
MPRINT(EM_DIAGRAM):   Education2n_Cycle = -1;
2140479   +      EducationBasic = -1;
MPRINT(EM_DIAGRAM):   EducationBasic = -1;
2140480   +      EducationGraduation = -1;
MPRINT(EM_DIAGRAM):   EducationGraduation = -1;
2140481   +      EducationMaster = -1;
MPRINT(EM_DIAGRAM):   EducationMaster = -1;
2140482   +   end;
MPRINT(EM_DIAGRAM):   end;
2140483   +   else if _dm10 = 'MASTER'  then do;
MPRINT(EM_DIAGRAM):   else if _dm10 = 'MASTER' then do;
2140484   +      EducationMaster = 1;
MPRINT(EM_DIAGRAM):   EducationMaster = 1;
2140485   +   end;
MPRINT(EM_DIAGRAM):   end;
2140486   +   else if _dm10 = '2N CYCLE'  then do;
MPRINT(EM_DIAGRAM):   else if _dm10 = '2N CYCLE' then do;
2140487   +      Education2n_Cycle = 1;
MPRINT(EM_DIAGRAM):   Education2n_Cycle = 1;
2140488   +   end;
MPRINT(EM_DIAGRAM):   end;
2140489   +   else if _dm10 = 'BASIC'  then do;
MPRINT(EM_DIAGRAM):   else if _dm10 = 'BASIC' then do;
2140490   +      EducationBasic = 1;
MPRINT(EM_DIAGRAM):   EducationBasic = 1;
2140491   +   end;
MPRINT(EM_DIAGRAM):   end;
2140492   +   else do;
MPRINT(EM_DIAGRAM):   else do;
2140493   +      Education2n_Cycle = .;
MPRINT(EM_DIAGRAM):   Education2n_Cycle = .;
2140494   +      EducationBasic = .;
MPRINT(EM_DIAGRAM):   EducationBasic = .;
2140495   +      EducationGraduation = .;
MPRINT(EM_DIAGRAM):   EducationGraduation = .;
2140496   +      EducationMaster = .;
MPRINT(EM_DIAGRAM):   EducationMaster = .;
2140497   +      substr(_warn_,2,1) = 'U';
MPRINT(EM_DIAGRAM):   substr(_warn_,2,1) = 'U';
2140498   +      _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2140499   +   end;
MPRINT(EM_DIAGRAM):   end;
2140500   +end;
MPRINT(EM_DIAGRAM):   end;
2140501   +
2140502   +*** Generate dummy variables for Marital_Status ;
MPRINT(EM_DIAGRAM):   *** Generate dummy variables for Marital_Status ;
2140503   +drop Marital_StatusDivorced Marital_StatusMarried Marital_StatusSingle
2140504   +        Marital_StatusTogether ;
MPRINT(EM_DIAGRAM):   drop Marital_StatusDivorced Marital_StatusMarried Marital_StatusSingle 
Marital_StatusTogether ;
2140505   +*** encoding is sparse, initialize to zero;
MPRINT(EM_DIAGRAM):   *** encoding is sparse, initialize to zero;
2140506   +Marital_StatusDivorced = 0;
MPRINT(EM_DIAGRAM):   Marital_StatusDivorced = 0;
2140507   +Marital_StatusMarried = 0;
MPRINT(EM_DIAGRAM):   Marital_StatusMarried = 0;
2140508   +Marital_StatusSingle = 0;
MPRINT(EM_DIAGRAM):   Marital_StatusSingle = 0;
2140509   +Marital_StatusTogether = 0;
MPRINT(EM_DIAGRAM):   Marital_StatusTogether = 0;
2140510   +if missing( Marital_Status ) then do;
MPRINT(EM_DIAGRAM):   if missing( Marital_Status ) then do;
2140511   +   Marital_StatusDivorced = .;
MPRINT(EM_DIAGRAM):   Marital_StatusDivorced = .;
2140512   +   Marital_StatusMarried = .;
MPRINT(EM_DIAGRAM):   Marital_StatusMarried = .;
2140513   +   Marital_StatusSingle = .;
MPRINT(EM_DIAGRAM):   Marital_StatusSingle = .;
2140514   +   Marital_StatusTogether = .;
MPRINT(EM_DIAGRAM):   Marital_StatusTogether = .;
2140515   +   substr(_warn_,1,1) = 'M';
MPRINT(EM_DIAGRAM):   substr(_warn_,1,1) = 'M';
2140516   +   _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2140517   +end;
MPRINT(EM_DIAGRAM):   end;
2140518   +else do;
MPRINT(EM_DIAGRAM):   else do;
2140519   +   length _dm8 $ 8; drop _dm8 ;
MPRINT(EM_DIAGRAM):   length _dm8 $ 8;
MPRINT(EM_DIAGRAM):   drop _dm8 ;
2140520   +   _dm8 = put( Marital_Status , $8. );
MPRINT(EM_DIAGRAM):   _dm8 = put( Marital_Status , $8. );
2140521   +   %DMNORMIP( _dm8 )
MPRINT(DMNORMIP):   call dmnorm(_dm8,
MPRINT(DMNORLEN):  32
MPRINT(DMNORMIP):  );
2140522   +   _dm_find = 0; drop _dm_find;
MPRINT(EM_DIAGRAM):   _dm_find = 0;
MPRINT(EM_DIAGRAM):   drop _dm_find;
2140523   +   if _dm8 <= 'SINGLE'  then do;
MPRINT(EM_DIAGRAM):   if _dm8 <= 'SINGLE' then do;
2140524   +      if _dm8 <= 'MARRIED'  then do;
MPRINT(EM_DIAGRAM):   if _dm8 <= 'MARRIED' then do;
2140525   +         if _dm8 = 'DIVORCED'  then do;
MPRINT(EM_DIAGRAM):   if _dm8 = 'DIVORCED' then do;
2140526   +            Marital_StatusDivorced = 1;
MPRINT(EM_DIAGRAM):   Marital_StatusDivorced = 1;
2140527   +            _dm_find = 1;
MPRINT(EM_DIAGRAM):   _dm_find = 1;
2140528   +         end;
MPRINT(EM_DIAGRAM):   end;
2140529   +         else do;
MPRINT(EM_DIAGRAM):   else do;
2140530   +            if _dm8 = 'MARRIED'  then do;
MPRINT(EM_DIAGRAM):   if _dm8 = 'MARRIED' then do;
2140531   +               Marital_StatusMarried = 1;
MPRINT(EM_DIAGRAM):   Marital_StatusMarried = 1;
2140532   +               _dm_find = 1;
MPRINT(EM_DIAGRAM):   _dm_find = 1;
2140533   +            end;
MPRINT(EM_DIAGRAM):   end;
2140534   +         end;
MPRINT(EM_DIAGRAM):   end;
2140535   +      end;
MPRINT(EM_DIAGRAM):   end;
2140536   +      else do;
MPRINT(EM_DIAGRAM):   else do;
2140537   +         if _dm8 = 'SINGLE'  then do;
MPRINT(EM_DIAGRAM):   if _dm8 = 'SINGLE' then do;
2140538   +            Marital_StatusSingle = 1;
MPRINT(EM_DIAGRAM):   Marital_StatusSingle = 1;
2140539   +            _dm_find = 1;
MPRINT(EM_DIAGRAM):   _dm_find = 1;
2140540   +         end;
MPRINT(EM_DIAGRAM):   end;
2140541   +      end;
MPRINT(EM_DIAGRAM):   end;
2140542   +   end;
MPRINT(EM_DIAGRAM):   end;
2140543   +   else do;
MPRINT(EM_DIAGRAM):   else do;
2140544   +      if _dm8 = 'TOGETHER'  then do;
MPRINT(EM_DIAGRAM):   if _dm8 = 'TOGETHER' then do;
2140545   +         Marital_StatusTogether = 1;
MPRINT(EM_DIAGRAM):   Marital_StatusTogether = 1;
2140546   +         _dm_find = 1;
MPRINT(EM_DIAGRAM):   _dm_find = 1;
2140547   +      end;
MPRINT(EM_DIAGRAM):   end;
2140548   +      else do;
MPRINT(EM_DIAGRAM):   else do;
2140549   +         if _dm8 = 'WIDOW'  then do;
MPRINT(EM_DIAGRAM):   if _dm8 = 'WIDOW' then do;
2140550   +            Marital_StatusDivorced = -1;
MPRINT(EM_DIAGRAM):   Marital_StatusDivorced = -1;
2140551   +            Marital_StatusMarried = -1;
MPRINT(EM_DIAGRAM):   Marital_StatusMarried = -1;
2140552   +            Marital_StatusSingle = -1;
MPRINT(EM_DIAGRAM):   Marital_StatusSingle = -1;
2140553   +            Marital_StatusTogether = -1;
MPRINT(EM_DIAGRAM):   Marital_StatusTogether = -1;
2140554   +            _dm_find = 1;
MPRINT(EM_DIAGRAM):   _dm_find = 1;
2140555   +         end;
MPRINT(EM_DIAGRAM):   end;
2140556   +      end;
MPRINT(EM_DIAGRAM):   end;
2140557   +   end;
MPRINT(EM_DIAGRAM):   end;
2140558   +   if not _dm_find then do;
MPRINT(EM_DIAGRAM):   if not _dm_find then do;
2140559   +      Marital_StatusDivorced = .;
MPRINT(EM_DIAGRAM):   Marital_StatusDivorced = .;
2140560   +      Marital_StatusMarried = .;
MPRINT(EM_DIAGRAM):   Marital_StatusMarried = .;
2140561   +      Marital_StatusSingle = .;
MPRINT(EM_DIAGRAM):   Marital_StatusSingle = .;
2140562   +      Marital_StatusTogether = .;
MPRINT(EM_DIAGRAM):   Marital_StatusTogether = .;
2140563   +      substr(_warn_,2,1) = 'U';
MPRINT(EM_DIAGRAM):   substr(_warn_,2,1) = 'U';
2140564   +      _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2140565   +   end;
MPRINT(EM_DIAGRAM):   end;
2140566   +end;
MPRINT(EM_DIAGRAM):   end;
2140567   +
2140568   +*** *************************;
MPRINT(EM_DIAGRAM):   *** *************************;
2140569   +*** Checking missing input Interval
2140570   +*** *************************;
MPRINT(EM_DIAGRAM):   *** Checking missing input Interval *** *************************;
2140571   +
2140572   +IF NMISS(
2140573   +   AcceptedCmpTotal ,
2140574   +   Age ,
2140575   +   Frq ,
2140576   +   Income ,
2140577   +   Kidhome ,
2140578   +   MntFishProducts ,
2140579   +   MntFruits ,
2140580   +   MntGoldProds ,
2140581   +   MntSweetProducts ,
2140582   +   MonthsAsCustomer ,
2140583   +   NumDealsPurchases ,
2140584   +   NumWebVisitsMonth ,
2140585   +   RFMstat ,
2140586   +   RMntFrq ,
2140587   +   Recency ,
2140588   +   Teenhome   ) THEN DO;
MPRINT(EM_DIAGRAM):   IF NMISS( AcceptedCmpTotal , Age , Frq , Income , Kidhome , 
MntFishProducts , MntFruits , MntGoldProds , MntSweetProducts , MonthsAsCustomer , 
NumDealsPurchases , NumWebVisitsMonth , RFMstat , RMntFrq , Recency , Teenhome ) THEN DO;
2140589   +   SUBSTR(_WARN_, 1, 1) = 'M';
MPRINT(EM_DIAGRAM):   SUBSTR(_WARN_, 1, 1) = 'M';
2140590   +
2140591   +   _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2140592   +END;
MPRINT(EM_DIAGRAM):   END;
2140593   +*** *************************;
MPRINT(EM_DIAGRAM):   *** *************************;
2140594   +*** Writing the Node intvl ;
MPRINT(EM_DIAGRAM):   *** Writing the Node intvl ;
2140595   +*** *************************;
MPRINT(EM_DIAGRAM):   *** *************************;
2140596   +IF _DM_BAD EQ 0 THEN DO;
MPRINT(EM_DIAGRAM):   IF _DM_BAD EQ 0 THEN DO;
2140597   +   S_AcceptedCmpTotal  =    -0.46762909508827 +      1.4961610131261 *
2140598   +        AcceptedCmpTotal ;
MPRINT(EM_DIAGRAM):   S_AcceptedCmpTotal = -0.46762909508827 + 1.4961610131261 * 
AcceptedCmpTotal ;
2140599   +   S_Age  =    -3.91319138389466 +     0.08289609202857 * Age ;
MPRINT(EM_DIAGRAM):   S_Age = -3.91319138389466 + 0.08289609202857 * Age ;
2140600   +   S_Frq  =     -1.7674482809159 +     0.13966853800993 * Frq ;
MPRINT(EM_DIAGRAM):   S_Frq = -1.7674482809159 + 0.13966853800993 * Frq ;
2140601   +   S_Income  =    -2.48883438787018 +     0.00004789669836 * Income ;
MPRINT(EM_DIAGRAM):   S_Income = -2.48883438787018 + 0.00004789669836 * Income ;
2140602   +   S_Kidhome  =    -0.81505958668041 +     1.87132636245581 * Kidhome ;
MPRINT(EM_DIAGRAM):   S_Kidhome = -0.81505958668041 + 1.87132636245581 * Kidhome ;
2140603   +   S_MntFishProducts  =    -0.69884925989448 +     0.01914942799914 *
2140604   +        MntFishProducts ;
MPRINT(EM_DIAGRAM):   S_MntFishProducts = -0.69884925989448 + 0.01914942799914 * 
MntFishProducts ;
2140605   +   S_MntFruits  =    -0.68347542544545 +     0.02517057319714 * MntFruits ;
MPRINT(EM_DIAGRAM):   S_MntFruits = -0.68347542544545 + 0.02517057319714 * MntFruits ;
2140606   +   S_MntGoldProds  =     -0.8611213764608 +     0.01954474499711 *
2140607   +        MntGoldProds ;
MPRINT(EM_DIAGRAM):   S_MntGoldProds = -0.8611213764608 + 0.01954474499711 * MntGoldProds ;
2140608   +   S_MntSweetProducts  =    -0.69020047720885 +     0.02548703406327 *
2140609   +        MntSweetProducts ;
MPRINT(EM_DIAGRAM):   S_MntSweetProducts = -0.69020047720885 + 0.02548703406327 * 
MntSweetProducts ;
2140610   +   S_MonthsAsCustomer  =    -4.93133031507839 +     0.05900664899872 *
2140611   +        MonthsAsCustomer ;
MPRINT(EM_DIAGRAM):   S_MonthsAsCustomer = -4.93133031507839 + 0.05900664899872 * 
MonthsAsCustomer ;
2140612   +   S_NumDealsPurchases  =    -1.34788949552081 +     0.59766336614987 *
2140613   +        NumDealsPurchases ;
MPRINT(EM_DIAGRAM):   S_NumDealsPurchases = -1.34788949552081 + 0.59766336614987 * 
NumDealsPurchases ;
2140614   +   S_NumWebVisitsMonth  =    -2.24769875596018 +     0.42876953368015 *
2140615   +        NumWebVisitsMonth ;
MPRINT(EM_DIAGRAM):   S_NumWebVisitsMonth = -2.24769875596018 + 0.42876953368015 * 
NumWebVisitsMonth ;
2140616   +   S_RFMstat  =    -0.33944380186973 +     0.00063877635032 * RFMstat ;
MPRINT(EM_DIAGRAM):   S_RFMstat = -0.33944380186973 + 0.00063877635032 * RFMstat ;
2140617   +   S_RMntFrq  =    -1.25743573075922 +     0.03326204244626 * RMntFrq ;
MPRINT(EM_DIAGRAM):   S_RMntFrq = -1.25743573075922 + 0.03326204244626 * RMntFrq ;
2140618   +   S_Recency  =    -1.69222845719633 +     0.03469514083585 * Recency ;
MPRINT(EM_DIAGRAM):   S_Recency = -1.69222845719633 + 0.03469514083585 * Recency ;
2140619   +   S_Teenhome  =    -0.88382230606631 +     1.81661831567223 * Teenhome ;
MPRINT(EM_DIAGRAM):   S_Teenhome = -0.88382230606631 + 1.81661831567223 * Teenhome ;
2140620   +END;
MPRINT(EM_DIAGRAM):   END;
2140621   +ELSE DO;
MPRINT(EM_DIAGRAM):   ELSE DO;
2140622   +   IF MISSING( AcceptedCmpTotal ) THEN S_AcceptedCmpTotal  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( AcceptedCmpTotal ) THEN S_AcceptedCmpTotal = . ;
2140623   +   ELSE S_AcceptedCmpTotal  =    -0.46762909508827 +      1.4961610131261 *
2140624   +        AcceptedCmpTotal ;
MPRINT(EM_DIAGRAM):   ELSE S_AcceptedCmpTotal = -0.46762909508827 + 1.4961610131261 * 
AcceptedCmpTotal ;
2140625   +   IF MISSING( Age ) THEN S_Age  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( Age ) THEN S_Age = . ;
2140626   +   ELSE S_Age  =    -3.91319138389466 +     0.08289609202857 * Age ;
MPRINT(EM_DIAGRAM):   ELSE S_Age = -3.91319138389466 + 0.08289609202857 * Age ;
2140627   +   IF MISSING( Frq ) THEN S_Frq  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( Frq ) THEN S_Frq = . ;
2140628   +   ELSE S_Frq  =     -1.7674482809159 +     0.13966853800993 * Frq ;
MPRINT(EM_DIAGRAM):   ELSE S_Frq = -1.7674482809159 + 0.13966853800993 * Frq ;
2140629   +   IF MISSING( Income ) THEN S_Income  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( Income ) THEN S_Income = . ;
2140630   +   ELSE S_Income  =    -2.48883438787018 +     0.00004789669836 * Income ;
MPRINT(EM_DIAGRAM):   ELSE S_Income = -2.48883438787018 + 0.00004789669836 * Income ;
2140631   +   IF MISSING( Kidhome ) THEN S_Kidhome  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( Kidhome ) THEN S_Kidhome = . ;
2140632   +   ELSE S_Kidhome  =    -0.81505958668041 +     1.87132636245581 * Kidhome ;
MPRINT(EM_DIAGRAM):   ELSE S_Kidhome = -0.81505958668041 + 1.87132636245581 * Kidhome ;
2140633   +   IF MISSING( MntFishProducts ) THEN S_MntFishProducts  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( MntFishProducts ) THEN S_MntFishProducts = . ;
2140634   +   ELSE S_MntFishProducts  =    -0.69884925989448 +     0.01914942799914 *
2140635   +        MntFishProducts ;
MPRINT(EM_DIAGRAM):   ELSE S_MntFishProducts = -0.69884925989448 + 0.01914942799914 * 
MntFishProducts ;
2140636   +   IF MISSING( MntFruits ) THEN S_MntFruits  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( MntFruits ) THEN S_MntFruits = . ;
2140637   +   ELSE S_MntFruits  =    -0.68347542544545 +     0.02517057319714 * MntFruits
2140638   +         ;
MPRINT(EM_DIAGRAM):   ELSE S_MntFruits = -0.68347542544545 + 0.02517057319714 * MntFruits ;
2140639   +   IF MISSING( MntGoldProds ) THEN S_MntGoldProds  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( MntGoldProds ) THEN S_MntGoldProds = . ;
2140640   +   ELSE S_MntGoldProds  =     -0.8611213764608 +     0.01954474499711 *
2140641   +        MntGoldProds ;
MPRINT(EM_DIAGRAM):   ELSE S_MntGoldProds = -0.8611213764608 + 0.01954474499711 * MntGoldProds 
;
2140642   +   IF MISSING( MntSweetProducts ) THEN S_MntSweetProducts  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( MntSweetProducts ) THEN S_MntSweetProducts = . ;
2140643   +   ELSE S_MntSweetProducts  =    -0.69020047720885 +     0.02548703406327 *
2140644   +        MntSweetProducts ;
MPRINT(EM_DIAGRAM):   ELSE S_MntSweetProducts = -0.69020047720885 + 0.02548703406327 * 
MntSweetProducts ;
2140645   +   IF MISSING( MonthsAsCustomer ) THEN S_MonthsAsCustomer  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( MonthsAsCustomer ) THEN S_MonthsAsCustomer = . ;
2140646   +   ELSE S_MonthsAsCustomer  =    -4.93133031507839 +     0.05900664899872 *
2140647   +        MonthsAsCustomer ;
MPRINT(EM_DIAGRAM):   ELSE S_MonthsAsCustomer = -4.93133031507839 + 0.05900664899872 * 
MonthsAsCustomer ;
2140648   +   IF MISSING( NumDealsPurchases ) THEN S_NumDealsPurchases  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( NumDealsPurchases ) THEN S_NumDealsPurchases = . ;
2140649   +   ELSE S_NumDealsPurchases  =    -1.34788949552081 +     0.59766336614987 *
2140650   +        NumDealsPurchases ;
MPRINT(EM_DIAGRAM):   ELSE S_NumDealsPurchases = -1.34788949552081 + 0.59766336614987 * 
NumDealsPurchases ;
2140651   +   IF MISSING( NumWebVisitsMonth ) THEN S_NumWebVisitsMonth  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( NumWebVisitsMonth ) THEN S_NumWebVisitsMonth = . ;
2140652   +   ELSE S_NumWebVisitsMonth  =    -2.24769875596018 +     0.42876953368015 *
2140653   +        NumWebVisitsMonth ;
MPRINT(EM_DIAGRAM):   ELSE S_NumWebVisitsMonth = -2.24769875596018 + 0.42876953368015 * 
NumWebVisitsMonth ;
2140654   +   IF MISSING( RFMstat ) THEN S_RFMstat  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( RFMstat ) THEN S_RFMstat = . ;
2140655   +   ELSE S_RFMstat  =    -0.33944380186973 +     0.00063877635032 * RFMstat ;
MPRINT(EM_DIAGRAM):   ELSE S_RFMstat = -0.33944380186973 + 0.00063877635032 * RFMstat ;
2140656   +   IF MISSING( RMntFrq ) THEN S_RMntFrq  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( RMntFrq ) THEN S_RMntFrq = . ;
2140657   +   ELSE S_RMntFrq  =    -1.25743573075922 +     0.03326204244626 * RMntFrq ;
MPRINT(EM_DIAGRAM):   ELSE S_RMntFrq = -1.25743573075922 + 0.03326204244626 * RMntFrq ;
2140658   +   IF MISSING( Recency ) THEN S_Recency  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( Recency ) THEN S_Recency = . ;
2140659   +   ELSE S_Recency  =    -1.69222845719633 +     0.03469514083585 * Recency ;
MPRINT(EM_DIAGRAM):   ELSE S_Recency = -1.69222845719633 + 0.03469514083585 * Recency ;
2140660   +   IF MISSING( Teenhome ) THEN S_Teenhome  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( Teenhome ) THEN S_Teenhome = . ;
2140661   +   ELSE S_Teenhome  =    -0.88382230606631 +     1.81661831567223 * Teenhome ;
MPRINT(EM_DIAGRAM):   ELSE S_Teenhome = -0.88382230606631 + 1.81661831567223 * Teenhome ;
2140662   +END;
MPRINT(EM_DIAGRAM):   END;
2140663   +*** *************************;
MPRINT(EM_DIAGRAM):   *** *************************;
2140664   +*** Writing the Node bin ;
MPRINT(EM_DIAGRAM):   *** Writing the Node bin ;
2140665   +*** *************************;
MPRINT(EM_DIAGRAM):   *** *************************;
2140666   +*** *************************;
MPRINT(EM_DIAGRAM):   *** *************************;
2140667   +*** Writing the Node nom ;
MPRINT(EM_DIAGRAM):   *** Writing the Node nom ;
2140668   +*** *************************;
MPRINT(EM_DIAGRAM):   *** *************************;
2140669   +*** *************************;
MPRINT(EM_DIAGRAM):   *** *************************;
2140670   +*** Writing the Node H1 ;
MPRINT(EM_DIAGRAM):   *** Writing the Node H1 ;
2140671   +*** *************************;
MPRINT(EM_DIAGRAM):   *** *************************;
2140672   +IF _DM_BAD EQ 0 THEN DO;
MPRINT(EM_DIAGRAM):   IF _DM_BAD EQ 0 THEN DO;
2140673   +   H11  =    -0.59455727552731 * S_AcceptedCmpTotal  +    -0.08167191943092 *
2140674   +        S_Age  +     0.34904063109008 * S_Frq  +     0.08433673871857 *
2140675   +        S_Income  +     0.23959806833358 * S_Kidhome
2140676   +          +    -0.01518037416881 * S_MntFishProducts
2140677   +          +     0.10484256743602 * S_MntFruits  +     0.18738600021461 *
2140678   +        S_MntGoldProds  +     0.12927048058846 * S_MntSweetProducts
2140679   +          +    -0.27670454990341 * S_MonthsAsCustomer
2140680   +          +    -0.57117018330921 * S_NumDealsPurchases
2140681   +          +    -0.36419456228524 * S_NumWebVisitsMonth
2140682   +          +    -0.07695281325888 * S_RFMstat  +     0.26913561397665 *
2140683   +        S_RMntFrq  +     0.69534731451792 * S_Recency
2140684   +          +     0.12556011393839 * S_Teenhome ;
MPRINT(EM_DIAGRAM):   H11 = -0.59455727552731 * S_AcceptedCmpTotal + -0.08167191943092 * S_Age 
+ 0.34904063109008 * S_Frq + 0.08433673871857 * S_Income + 0.23959806833358 * S_Kidhome + 
-0.01518037416881 * S_MntFishProducts + 0.10484256743602 * S_MntFruits + 0.18738600021461 * 
S_MntGoldProds + 0.12927048058846 * S_MntSweetProducts + -0.27670454990341 * 
S_MonthsAsCustomer + -0.57117018330921 * S_NumDealsPurchases + -0.36419456228524 * 
S_NumWebVisitsMonth + -0.07695281325888 * S_RFMstat + 0.26913561397665 * S_RMntFrq + 
0.69534731451792 * S_Recency + 0.12556011393839 * S_Teenhome ;
2140685   +   H12  =    -0.18355037756752 * S_AcceptedCmpTotal  +     0.50880964309834 *
2140686   +        S_Age  +     0.98855915357544 * S_Frq  +     0.36315803091135 *
2140687   +        S_Income  +      0.0790487270089 * S_Kidhome
2140688   +          +    -0.20277009052533 * S_MntFishProducts
2140689   +          +     0.02639378411424 * S_MntFruits  +    -0.05188435065088 *
2140690   +        S_MntGoldProds  +    -0.37906951561993 * S_MntSweetProducts
2140691   +          +     0.29927988116433 * S_MonthsAsCustomer
2140692   +          +    -0.50520073910306 * S_NumDealsPurchases
2140693   +          +    -0.73222137406072 * S_NumWebVisitsMonth
2140694   +          +    -0.21742553055925 * S_RFMstat  +    -0.50891089702382 *
2140695   +        S_RMntFrq  +      1.0541732913714 * S_Recency
2140696   +          +    -0.19121741055236 * S_Teenhome ;
MPRINT(EM_DIAGRAM):   H12 = -0.18355037756752 * S_AcceptedCmpTotal + 0.50880964309834 * S_Age 
+ 0.98855915357544 * S_Frq + 0.36315803091135 * S_Income + 0.0790487270089 * S_Kidhome + 
-0.20277009052533 * S_MntFishProducts + 0.02639378411424 * S_MntFruits + -0.05188435065088 * 
S_MntGoldProds + -0.37906951561993 * S_MntSweetProducts + 0.29927988116433 * 
S_MonthsAsCustomer + -0.50520073910306 * S_NumDealsPurchases + -0.73222137406072 * 
S_NumWebVisitsMonth + -0.21742553055925 * S_RFMstat + -0.50891089702382 * S_RMntFrq + 
1.0541732913714 * S_Recency + -0.19121741055236 * S_Teenhome ;
2140697   +   H13  =    -0.47520371973992 * S_AcceptedCmpTotal  +    -0.17643530808934 *
2140698   +        S_Age  +    -0.02342355849303 * S_Frq  +    -0.76780370828396 *
2140699   +        S_Income  +    -0.64136231731673 * S_Kidhome
2140700   +          +     0.21288725603028 * S_MntFishProducts
2140701   +          +    -0.07945341031035 * S_MntFruits  +    -0.37983532218736 *
2140702   +        S_MntGoldProds  +      0.0246071335741 * S_MntSweetProducts
2140703   +          +     -0.0690174805795 * S_MonthsAsCustomer
2140704   +          +    -0.30254439479517 * S_NumDealsPurchases
2140705   +          +    -0.57976591777746 * S_NumWebVisitsMonth
2140706   +          +    -0.08986007311299 * S_RFMstat  +    -0.21859201021696 *
2140707   +        S_RMntFrq  +     0.80196185579181 * S_Recency
2140708   +          +     0.34243610231239 * S_Teenhome ;
MPRINT(EM_DIAGRAM):   H13 = -0.47520371973992 * S_AcceptedCmpTotal + -0.17643530808934 * S_Age 
+ -0.02342355849303 * S_Frq + -0.76780370828396 * S_Income + -0.64136231731673 * S_Kidhome + 
0.21288725603028 * S_MntFishProducts + -0.07945341031035 * S_MntFruits + -0.37983532218736 * 
S_MntGoldProds + 0.0246071335741 * S_MntSweetProducts + -0.0690174805795 * S_MonthsAsCustomer 
+ -0.30254439479517 * S_NumDealsPurchases + -0.57976591777746 * S_NumWebVisitsMonth + 
-0.08986007311299 * S_RFMstat + -0.21859201021696 * S_RMntFrq + 0.80196185579181 * S_Recency + 
0.34243610231239 * S_Teenhome ;
2140709   +   H14  =    -0.11942815753227 * S_AcceptedCmpTotal  +     0.09419423122981 *
2140710   +        S_Age  +    -0.58989090056574 * S_Frq  +    -0.97241848188885 *
2140711   +        S_Income  +     0.66642589823561 * S_Kidhome
2140712   +          +    -0.02898422978622 * S_MntFishProducts
2140713   +          +      0.2190266457824 * S_MntFruits  +     0.03869102340694 *
2140714   +        S_MntGoldProds  +     0.27016627270688 * S_MntSweetProducts
2140715   +          +     -0.1522807134985 * S_MonthsAsCustomer
2140716   +          +     0.23369239293049 * S_NumDealsPurchases
2140717   +          +     0.14730037601616 * S_NumWebVisitsMonth
2140718   +          +    -0.03493628078299 * S_RFMstat  +    -0.29981204072854 *
2140719   +        S_RMntFrq  +     0.72995078547996 * S_Recency
2140720   +          +     0.51545897916716 * S_Teenhome ;
MPRINT(EM_DIAGRAM):   H14 = -0.11942815753227 * S_AcceptedCmpTotal + 0.09419423122981 * S_Age 
+ -0.58989090056574 * S_Frq + -0.97241848188885 * S_Income + 0.66642589823561 * S_Kidhome + 
-0.02898422978622 * S_MntFishProducts + 0.2190266457824 * S_MntFruits + 0.03869102340694 * 
S_MntGoldProds + 0.27016627270688 * S_MntSweetProducts + -0.1522807134985 * S_MonthsAsCustomer 
+ 0.23369239293049 * S_NumDealsPurchases + 0.14730037601616 * S_NumWebVisitsMonth + 
-0.03493628078299 * S_RFMstat + -0.29981204072854 * S_RMntFrq + 0.72995078547996 * S_Recency + 
0.51545897916716 * S_Teenhome ;
2140721   +   H11  = H11  +     0.21532563526921 * AcceptedCmp10
2140722   +          +     0.04617627623677 * AcceptedCmp20  +     0.18097818457801 *
2140723   +        AcceptedCmp30  +     0.02250864169523 * AcceptedCmp40
2140724   +          +     0.57128562538825 * AcceptedCmp50  +    -0.13476267382061 *
2140725   +        Complain0  +     0.04848312577533 * HigherEducationBinary0 ;
MPRINT(EM_DIAGRAM):   H11 = H11 + 0.21532563526921 * AcceptedCmp10 + 0.04617627623677 * 
AcceptedCmp20 + 0.18097818457801 * AcceptedCmp30 + 0.02250864169523 * AcceptedCmp40 + 
0.57128562538825 * AcceptedCmp50 + -0.13476267382061 * Complain0 + 0.04848312577533 * 
HigherEducationBinary0 ;
2140726   +   H12  = H12  +     0.49790938305741 * AcceptedCmp10
2140727   +          +        0.28100162725 * AcceptedCmp20  +     0.53516835657705 *
2140728   +        AcceptedCmp30  +      0.2731055683853 * AcceptedCmp40
2140729   +          +     0.08872244973216 * AcceptedCmp50  +    -0.14524762871188 *
2140730   +        Complain0  +     0.13433570395362 * HigherEducationBinary0 ;
MPRINT(EM_DIAGRAM):   H12 = H12 + 0.49790938305741 * AcceptedCmp10 + 0.28100162725 * 
AcceptedCmp20 + 0.53516835657705 * AcceptedCmp30 + 0.2731055683853 * AcceptedCmp40 + 
0.08872244973216 * AcceptedCmp50 + -0.14524762871188 * Complain0 + 0.13433570395362 * 
HigherEducationBinary0 ;
2140731   +   H13  = H13  +     0.09295121106092 * AcceptedCmp10
2140732   +          +     0.03551087675679 * AcceptedCmp20  +     0.48068530009647 *
2140733   +        AcceptedCmp30  +     -0.7573607772958 * AcceptedCmp40
2140734   +          +     0.44431160694171 * AcceptedCmp50  +    -0.28053968379046 *
2140735   +        Complain0  +     0.08868233512421 * HigherEducationBinary0 ;
MPRINT(EM_DIAGRAM):   H13 = H13 + 0.09295121106092 * AcceptedCmp10 + 0.03551087675679 * 
AcceptedCmp20 + 0.48068530009647 * AcceptedCmp30 + -0.7573607772958 * AcceptedCmp40 + 
0.44431160694171 * AcceptedCmp50 + -0.28053968379046 * Complain0 + 0.08868233512421 * 
HigherEducationBinary0 ;
2140736   +   H14  = H14  +     0.19910269634608 * AcceptedCmp10
2140737   +          +     0.11664271215883 * AcceptedCmp20  +     0.29519310368658 *
2140738   +        AcceptedCmp30  +     0.50294025882261 * AcceptedCmp40
2140739   +          +    -0.13765389029233 * AcceptedCmp50  +     0.25128367938074 *
2140740   +        Complain0  +    -0.46697322419144 * HigherEducationBinary0 ;
MPRINT(EM_DIAGRAM):   H14 = H14 + 0.19910269634608 * AcceptedCmp10 + 0.11664271215883 * 
AcceptedCmp20 + 0.29519310368658 * AcceptedCmp30 + 0.50294025882261 * AcceptedCmp40 + 
-0.13765389029233 * AcceptedCmp50 + 0.25128367938074 * Complain0 + -0.46697322419144 * 
HigherEducationBinary0 ;
2140741   +   H11  = H11  +     -0.1475625455323 * Education2n_Cycle
2140742   +          +     0.01119870242835 * EducationBasic  +    -0.05699503612035 *
2140743   +        EducationGraduation  +    -0.03551408731462 * EducationMaster
2140744   +          +     0.05796662179857 * Marital_StatusDivorced
2140745   +          +    -0.08181120425686 * Marital_StatusMarried
2140746   +          +      0.4284636120807 * Marital_StatusSingle
2140747   +          +     0.39673224936003 * Marital_StatusTogether ;
MPRINT(EM_DIAGRAM):   H11 = H11 + -0.1475625455323 * Education2n_Cycle + 0.01119870242835 * 
EducationBasic + -0.05699503612035 * EducationGraduation + -0.03551408731462 * EducationMaster 
+ 0.05796662179857 * Marital_StatusDivorced + -0.08181120425686 * Marital_StatusMarried + 
0.4284636120807 * Marital_StatusSingle + 0.39673224936003 * Marital_StatusTogether ;
2140748   +   H12  = H12  +     0.29455368575629 * Education2n_Cycle
2140749   +          +    -0.01641080294584 * EducationBasic  +    -0.10263336811703 *
2140750   +        EducationGraduation  +    -0.14981964719806 * EducationMaster
2140751   +          +    -0.13203345238763 * Marital_StatusDivorced
2140752   +          +     0.10923067927942 * Marital_StatusMarried
2140753   +          +     0.02213145916128 * Marital_StatusSingle
2140754   +          +     0.13743874933445 * Marital_StatusTogether ;
MPRINT(EM_DIAGRAM):   H12 = H12 + 0.29455368575629 * Education2n_Cycle + -0.01641080294584 * 
EducationBasic + -0.10263336811703 * EducationGraduation + -0.14981964719806 * EducationMaster 
+ -0.13203345238763 * Marital_StatusDivorced + 0.10923067927942 * Marital_StatusMarried + 
0.02213145916128 * Marital_StatusSingle + 0.13743874933445 * Marital_StatusTogether ;
2140755   +   H13  = H13  +     0.01805834793656 * Education2n_Cycle
2140756   +          +     0.42785728964985 * EducationBasic  +    -0.32070493640323 *
2140757   +        EducationGraduation  +     0.06311193021026 * EducationMaster
2140758   +          +    -0.22903332135187 * Marital_StatusDivorced
2140759   +          +     0.12718454820375 * Marital_StatusMarried
2140760   +          +    -0.33610403764223 * Marital_StatusSingle
2140761   +          +     -0.1600429716422 * Marital_StatusTogether ;
MPRINT(EM_DIAGRAM):   H13 = H13 + 0.01805834793656 * Education2n_Cycle + 0.42785728964985 * 
EducationBasic + -0.32070493640323 * EducationGraduation + 0.06311193021026 * EducationMaster 
+ -0.22903332135187 * Marital_StatusDivorced + 0.12718454820375 * Marital_StatusMarried + 
-0.33610403764223 * Marital_StatusSingle + -0.1600429716422 * Marital_StatusTogether ;
2140762   +   H14  = H14  +    -0.14389790536326 * Education2n_Cycle
2140763   +          +      0.1160422333785 * EducationBasic  +    -0.22913940929096 *
2140764   +        EducationGraduation  +     0.25383554942249 * EducationMaster
2140765   +          +    -0.20380298917683 * Marital_StatusDivorced
2140766   +          +     1.08032097869696 * Marital_StatusMarried
2140767   +          +    -0.79644537171645 * Marital_StatusSingle
2140768   +          +     0.87920058104376 * Marital_StatusTogether ;
MPRINT(EM_DIAGRAM):   H14 = H14 + -0.14389790536326 * Education2n_Cycle + 0.1160422333785 * 
EducationBasic + -0.22913940929096 * EducationGraduation + 0.25383554942249 * EducationMaster 
+ -0.20380298917683 * Marital_StatusDivorced + 1.08032097869696 * Marital_StatusMarried + 
-0.79644537171645 * Marital_StatusSingle + 0.87920058104376 * Marital_StatusTogether ;
2140769   +   H11  =     0.69018111185452 + H11 ;
MPRINT(EM_DIAGRAM):   H11 = 0.69018111185452 + H11 ;
2140770   +   H12  =     0.88319279467723 + H12 ;
MPRINT(EM_DIAGRAM):   H12 = 0.88319279467723 + H12 ;
2140771   +   H13  =    -0.22379946661781 + H13 ;
MPRINT(EM_DIAGRAM):   H13 = -0.22379946661781 + H13 ;
2140772   +   H14  =      1.5443460617033 + H14 ;
MPRINT(EM_DIAGRAM):   H14 = 1.5443460617033 + H14 ;
2140773   +   H11  = TANH(H11 );
MPRINT(EM_DIAGRAM):   H11 = TANH(H11 );
2140774   +   H12  = TANH(H12 );
MPRINT(EM_DIAGRAM):   H12 = TANH(H12 );
2140775   +   H13  = TANH(H13 );
MPRINT(EM_DIAGRAM):   H13 = TANH(H13 );
2140776   +   H14  = TANH(H14 );
MPRINT(EM_DIAGRAM):   H14 = TANH(H14 );
2140777   +END;
MPRINT(EM_DIAGRAM):   END;
2140778   +ELSE DO;
MPRINT(EM_DIAGRAM):   ELSE DO;
2140779   +   H11  = .;
MPRINT(EM_DIAGRAM):   H11 = .;
2140780   +   H12  = .;
MPRINT(EM_DIAGRAM):   H12 = .;
2140781   +   H13  = .;
MPRINT(EM_DIAGRAM):   H13 = .;
2140782   +   H14  = .;
MPRINT(EM_DIAGRAM):   H14 = .;
2140783   +END;
MPRINT(EM_DIAGRAM):   END;
2140784   +*** *************************;
MPRINT(EM_DIAGRAM):   *** *************************;
2140785   +*** Writing the Node DepVar ;
MPRINT(EM_DIAGRAM):   *** Writing the Node DepVar ;
2140786   +*** *************************;
MPRINT(EM_DIAGRAM):   *** *************************;
2140787   +
2140788   +*** Generate dummy variables for DepVar ;
MPRINT(EM_DIAGRAM):   *** Generate dummy variables for DepVar ;
2140789   +drop DepVar1 DepVar0 ;
MPRINT(EM_DIAGRAM):   drop DepVar1 DepVar0 ;
2140790   +label F_DepVar = 'From: DepVar' ;
MPRINT(EM_DIAGRAM):   label F_DepVar = 'From: DepVar' ;
2140791   +length F_DepVar $ 12;
MPRINT(EM_DIAGRAM):   length F_DepVar $ 12;
2140792   +F_DepVar = put( DepVar , BEST. );
MPRINT(EM_DIAGRAM):   F_DepVar = put( DepVar , BEST. );
2140793   +%DMNORMIP( F_DepVar )
MPRINT(DMNORMIP):   call dmnorm(F_DepVar,
MPRINT(DMNORLEN):  32
MPRINT(DMNORMIP):  );
2140794   +if missing( DepVar ) then do;
MPRINT(EM_DIAGRAM):   if missing( DepVar ) then do;
2140795   +   DepVar1 = .;
MPRINT(EM_DIAGRAM):   DepVar1 = .;
2140796   +   DepVar0 = .;
MPRINT(EM_DIAGRAM):   DepVar0 = .;
2140797   +end;
MPRINT(EM_DIAGRAM):   end;
2140798   +else do;
MPRINT(EM_DIAGRAM):   else do;
2140799   +   if F_DepVar = '0'  then do;
MPRINT(EM_DIAGRAM):   if F_DepVar = '0' then do;
2140800   +      DepVar1 = 0;
MPRINT(EM_DIAGRAM):   DepVar1 = 0;
2140801   +      DepVar0 = 1;
MPRINT(EM_DIAGRAM):   DepVar0 = 1;
2140802   +   end;
MPRINT(EM_DIAGRAM):   end;
2140803   +   else if F_DepVar = '1'  then do;
MPRINT(EM_DIAGRAM):   else if F_DepVar = '1' then do;
2140804   +      DepVar1 = 1;
MPRINT(EM_DIAGRAM):   DepVar1 = 1;
2140805   +      DepVar0 = 0;
MPRINT(EM_DIAGRAM):   DepVar0 = 0;
2140806   +   end;
MPRINT(EM_DIAGRAM):   end;
2140807   +   else do;
MPRINT(EM_DIAGRAM):   else do;
2140808   +      DepVar1 = .;
MPRINT(EM_DIAGRAM):   DepVar1 = .;
2140809   +      DepVar0 = .;
MPRINT(EM_DIAGRAM):   DepVar0 = .;
2140810   +   end;
MPRINT(EM_DIAGRAM):   end;
2140811   +end;
MPRINT(EM_DIAGRAM):   end;
2140812   +IF _DM_BAD EQ 0 THEN DO;
MPRINT(EM_DIAGRAM):   IF _DM_BAD EQ 0 THEN DO;
2140813   +   P_DepVar1  =      -1.051307515754 * H11  +    -1.81265117956856 * H12
2140814   +          +    -2.69912557985855 * H13  +    -2.43296856252593 * H14 ;
MPRINT(EM_DIAGRAM):   P_DepVar1 = -1.051307515754 * H11 + -1.81265117956856 * H12 + 
-2.69912557985855 * H13 + -2.43296856252593 * H14 ;
2140815   +   P_DepVar1  =    -0.88296375077361 + P_DepVar1 ;
MPRINT(EM_DIAGRAM):   P_DepVar1 = -0.88296375077361 + P_DepVar1 ;
2140816   +   P_DepVar0  = 0;
MPRINT(EM_DIAGRAM):   P_DepVar0 = 0;
2140817   +   _MAX_ = MAX (P_DepVar1 , P_DepVar0 );
MPRINT(EM_DIAGRAM):   _MAX_ = MAX (P_DepVar1 , P_DepVar0 );
2140818   +   _SUM_ = 0.;
MPRINT(EM_DIAGRAM):   _SUM_ = 0.;
2140819   +   P_DepVar1  = EXP(P_DepVar1  - _MAX_);
MPRINT(EM_DIAGRAM):   P_DepVar1 = EXP(P_DepVar1 - _MAX_);
2140820   +   _SUM_ = _SUM_ + P_DepVar1 ;
MPRINT(EM_DIAGRAM):   _SUM_ = _SUM_ + P_DepVar1 ;
2140821   +   P_DepVar0  = EXP(P_DepVar0  - _MAX_);
MPRINT(EM_DIAGRAM):   P_DepVar0 = EXP(P_DepVar0 - _MAX_);
2140822   +   _SUM_ = _SUM_ + P_DepVar0 ;
MPRINT(EM_DIAGRAM):   _SUM_ = _SUM_ + P_DepVar0 ;
2140823   +   P_DepVar1  = P_DepVar1  / _SUM_;
MPRINT(EM_DIAGRAM):   P_DepVar1 = P_DepVar1 / _SUM_;
2140824   +   P_DepVar0  = P_DepVar0  / _SUM_;
MPRINT(EM_DIAGRAM):   P_DepVar0 = P_DepVar0 / _SUM_;
2140825   +END;
MPRINT(EM_DIAGRAM):   END;
2140826   +ELSE DO;
MPRINT(EM_DIAGRAM):   ELSE DO;
2140827   +   P_DepVar1  = .;
MPRINT(EM_DIAGRAM):   P_DepVar1 = .;
2140828   +   P_DepVar0  = .;
MPRINT(EM_DIAGRAM):   P_DepVar0 = .;
2140829   +END;
MPRINT(EM_DIAGRAM):   END;
2140830   +IF _DM_BAD EQ 1 THEN DO;
MPRINT(EM_DIAGRAM):   IF _DM_BAD EQ 1 THEN DO;
2140831   +   P_DepVar1  =     0.15122156697556;
MPRINT(EM_DIAGRAM):   P_DepVar1 = 0.15122156697556;
2140832   +   P_DepVar0  =     0.84877843302443;
MPRINT(EM_DIAGRAM):   P_DepVar0 = 0.84877843302443;
2140833   +END;
MPRINT(EM_DIAGRAM):   END;
2140834   +*** *****************************;
MPRINT(EM_DIAGRAM):   *** *****************************;
2140835   +*** Writing the Residuals  of the Node DepVar ;
MPRINT(EM_DIAGRAM):   *** Writing the Residuals of the Node DepVar ;
2140836   +*** ******************************;
MPRINT(EM_DIAGRAM):   *** ******************************;
2140837   +IF MISSING( DepVar1 ) THEN R_DepVar1  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( DepVar1 ) THEN R_DepVar1 = . ;
2140838   +ELSE R_DepVar1  = DepVar1  - P_DepVar1 ;
MPRINT(EM_DIAGRAM):   ELSE R_DepVar1 = DepVar1 - P_DepVar1 ;
2140839   +IF MISSING( DepVar0 ) THEN R_DepVar0  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( DepVar0 ) THEN R_DepVar0 = . ;
2140840   +ELSE R_DepVar0  = DepVar0  - P_DepVar0 ;
MPRINT(EM_DIAGRAM):   ELSE R_DepVar0 = DepVar0 - P_DepVar0 ;
2140841   +*** *************************;
MPRINT(EM_DIAGRAM):   *** *************************;
2140842   +*** Writing the I_DepVar  AND U_DepVar ;
MPRINT(EM_DIAGRAM):   *** Writing the I_DepVar AND U_DepVar ;
2140843   +*** *************************;
MPRINT(EM_DIAGRAM):   *** *************************;
2140844   +_MAXP_ = P_DepVar1 ;
MPRINT(EM_DIAGRAM):   _MAXP_ = P_DepVar1 ;
2140845   +I_DepVar  = "1           " ;
MPRINT(EM_DIAGRAM):   I_DepVar = "1           " ;
2140846   +U_DepVar  =                    1;
MPRINT(EM_DIAGRAM):   U_DepVar = 1;
2140847   +IF( _MAXP_ LT P_DepVar0  ) THEN DO;
MPRINT(EM_DIAGRAM):   IF( _MAXP_ LT P_DepVar0 ) THEN DO;
2140848   +   _MAXP_ = P_DepVar0 ;
MPRINT(EM_DIAGRAM):   _MAXP_ = P_DepVar0 ;
2140849   +   I_DepVar  = "0           " ;
MPRINT(EM_DIAGRAM):   I_DepVar = "0           " ;
2140850   +   U_DepVar  =                    0;
MPRINT(EM_DIAGRAM):   U_DepVar = 0;
2140851   +END;
MPRINT(EM_DIAGRAM):   END;
2140852   +********************************;
MPRINT(EM_DIAGRAM):   ********************************;
2140853   +*** End Scoring Code for Neural;
MPRINT(EM_DIAGRAM):   *** End Scoring Code for Neural;
2140854   +********************************;
MPRINT(EM_DIAGRAM):   ********************************;
2140855   +drop
2140856   +H11
2140857   +H12
2140858   +H13
2140859   +H14
2140860   +;
MPRINT(EM_DIAGRAM):   drop H11 H12 H13 H14 ;
2140861   +drop S_:;
MPRINT(EM_DIAGRAM):   drop S_:;
2140862   +* Renaming variables for Neural39;
MPRINT(EM_DIAGRAM):   * Renaming variables for Neural39;
2140863   +*------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
2140864   +* Renaming Posterior variables for Neural39;
MPRINT(EM_DIAGRAM):   * Renaming Posterior variables for Neural39;
2140865   +*------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
2140866   +drop Neural39_P_DepVar1;
MPRINT(EM_DIAGRAM):   drop Neural39_P_DepVar1;
2140867   +Neural39_P_DepVar1 = P_DepVar1;
MPRINT(EM_DIAGRAM):   Neural39_P_DepVar1 = P_DepVar1;
2140868   +drop Neural39_P_DepVar0;
MPRINT(EM_DIAGRAM):   drop Neural39_P_DepVar0;
2140869   +Neural39_P_DepVar0 = P_DepVar0;
MPRINT(EM_DIAGRAM):   Neural39_P_DepVar0 = P_DepVar0;
2140870   +*------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
2140871   +* Renaming _WARN_ variable for Neural39;
MPRINT(EM_DIAGRAM):   * Renaming _WARN_ variable for Neural39;
2140872   +*------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
2140873   +length Neural39_WARN_ $4;
MPRINT(EM_DIAGRAM):   length Neural39_WARN_ $4;
2140874   +drop Neural39_WARN_;
MPRINT(EM_DIAGRAM):   drop Neural39_WARN_;
2140875   +Neural39_WARN_ = _WARN_;
MPRINT(EM_DIAGRAM):   Neural39_WARN_ = _WARN_;
2140876   +*------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
2140877   +* Ensmbl23: Scoring Code of model 4 of 5;
MPRINT(EM_DIAGRAM):   * Ensmbl23: Scoring Code of model 4 of 5;
2140878   +*------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
2140879   +*------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
2140880   +* TOOL: Neural;
MPRINT(EM_DIAGRAM):   * TOOL: Neural;
2140881   +* TYPE: MODEL;
MPRINT(EM_DIAGRAM):   * TYPE: MODEL;
2140882   +* NODE: Neural38;
MPRINT(EM_DIAGRAM):   * NODE: Neural38;
2140883   +*------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
2140884   +***********************************;
MPRINT(EM_DIAGRAM):   ***********************************;
2140885   +*** Begin Scoring Code for Neural;
MPRINT(EM_DIAGRAM):   *** Begin Scoring Code for Neural;
2140886   +***********************************;
MPRINT(EM_DIAGRAM):   ***********************************;
2140887   +DROP _DM_BAD _EPS _NOCL_ _MAX_ _MAXP_ _SUM_ _NTRIALS;
MPRINT(EM_DIAGRAM):   DROP _DM_BAD _EPS _NOCL_ _MAX_ _MAXP_ _SUM_ _NTRIALS;
2140888   + _DM_BAD = 0;
MPRINT(EM_DIAGRAM):   _DM_BAD = 0;
2140889   + _NOCL_ = .;
MPRINT(EM_DIAGRAM):   _NOCL_ = .;
2140890   + _MAX_ = .;
MPRINT(EM_DIAGRAM):   _MAX_ = .;
2140891   + _MAXP_ = .;
MPRINT(EM_DIAGRAM):   _MAXP_ = .;
2140892   + _SUM_ = .;
MPRINT(EM_DIAGRAM):   _SUM_ = .;
2140893   + _NTRIALS = .;
MPRINT(EM_DIAGRAM):   _NTRIALS = .;
2140894   + _EPS =                1E-10;
MPRINT(EM_DIAGRAM):   _EPS = 1E-10;
2140895   +LENGTH _WARN_ $4
2140896   +      F_DepVar  $ 12
2140897   +;
MPRINT(EM_DIAGRAM):   LENGTH _WARN_ $4 F_DepVar $ 12 ;
2140898   +      label S_AcceptedCmpTotal = 'Standard: AcceptedCmpTotal' ;
MPRINT(EM_DIAGRAM):   label S_AcceptedCmpTotal = 'Standard: AcceptedCmpTotal' ;
2140899   +
2140900   +      label S_Age = 'Standard: Age' ;
MPRINT(EM_DIAGRAM):   label S_Age = 'Standard: Age' ;
2140901   +
2140902   +      label S_Frq = 'Standard: Frq' ;
MPRINT(EM_DIAGRAM):   label S_Frq = 'Standard: Frq' ;
2140903   +
2140904   +      label S_Income = 'Standard: Income' ;
MPRINT(EM_DIAGRAM):   label S_Income = 'Standard: Income' ;
2140905   +
2140906   +      label S_Kidhome = 'Standard: Kidhome' ;
MPRINT(EM_DIAGRAM):   label S_Kidhome = 'Standard: Kidhome' ;
2140907   +
2140908   +      label S_MntFishProducts = 'Standard: MntFishProducts' ;
MPRINT(EM_DIAGRAM):   label S_MntFishProducts = 'Standard: MntFishProducts' ;
2140909   +
2140910   +      label S_MntFruits = 'Standard: MntFruits' ;
MPRINT(EM_DIAGRAM):   label S_MntFruits = 'Standard: MntFruits' ;
2140911   +
2140912   +      label S_MntGoldProds = 'Standard: MntGoldProds' ;
MPRINT(EM_DIAGRAM):   label S_MntGoldProds = 'Standard: MntGoldProds' ;
2140913   +
2140914   +      label S_MntSweetProducts = 'Standard: MntSweetProducts' ;
MPRINT(EM_DIAGRAM):   label S_MntSweetProducts = 'Standard: MntSweetProducts' ;
2140915   +
2140916   +      label S_MonthsAsCustomer = 'Standard: MonthsAsCustomer' ;
MPRINT(EM_DIAGRAM):   label S_MonthsAsCustomer = 'Standard: MonthsAsCustomer' ;
2140917   +
2140918   +      label S_NumDealsPurchases = 'Standard: NumDealsPurchases' ;
MPRINT(EM_DIAGRAM):   label S_NumDealsPurchases = 'Standard: NumDealsPurchases' ;
2140919   +
2140920   +      label S_NumWebVisitsMonth = 'Standard: NumWebVisitsMonth' ;
MPRINT(EM_DIAGRAM):   label S_NumWebVisitsMonth = 'Standard: NumWebVisitsMonth' ;
2140921   +
2140922   +      label S_RFMstat = 'Standard: RFMstat' ;
MPRINT(EM_DIAGRAM):   label S_RFMstat = 'Standard: RFMstat' ;
2140923   +
2140924   +      label S_RMntFrq = 'Standard: RMntFrq' ;
MPRINT(EM_DIAGRAM):   label S_RMntFrq = 'Standard: RMntFrq' ;
2140925   +
2140926   +      label S_Recency = 'Standard: Recency' ;
MPRINT(EM_DIAGRAM):   label S_Recency = 'Standard: Recency' ;
2140927   +
2140928   +      label S_Teenhome = 'Standard: Teenhome' ;
MPRINT(EM_DIAGRAM):   label S_Teenhome = 'Standard: Teenhome' ;
2140929   +
2140930   +      label AcceptedCmp10 = 'Dummy: AcceptedCmp1=0' ;
MPRINT(EM_DIAGRAM):   label AcceptedCmp10 = 'Dummy: AcceptedCmp1=0' ;
2140931   +
2140932   +      label AcceptedCmp20 = 'Dummy: AcceptedCmp2=0' ;
MPRINT(EM_DIAGRAM):   label AcceptedCmp20 = 'Dummy: AcceptedCmp2=0' ;
2140933   +
2140934   +      label AcceptedCmp30 = 'Dummy: AcceptedCmp3=0' ;
MPRINT(EM_DIAGRAM):   label AcceptedCmp30 = 'Dummy: AcceptedCmp3=0' ;
2140935   +
2140936   +      label AcceptedCmp40 = 'Dummy: AcceptedCmp4=0' ;
MPRINT(EM_DIAGRAM):   label AcceptedCmp40 = 'Dummy: AcceptedCmp4=0' ;
2140937   +
2140938   +      label AcceptedCmp50 = 'Dummy: AcceptedCmp5=0' ;
MPRINT(EM_DIAGRAM):   label AcceptedCmp50 = 'Dummy: AcceptedCmp5=0' ;
2140939   +
2140940   +      label Complain0 = 'Dummy: Complain=0' ;
MPRINT(EM_DIAGRAM):   label Complain0 = 'Dummy: Complain=0' ;
2140941   +
2140942   +      label HigherEducationBinary0 = 'Dummy: HigherEducationBinary=0' ;
MPRINT(EM_DIAGRAM):   label HigherEducationBinary0 = 'Dummy: HigherEducationBinary=0' ;
2140943   +
2140944   +      label Education2n_Cycle = 'Dummy: Education=2n Cycle' ;
MPRINT(EM_DIAGRAM):   label Education2n_Cycle = 'Dummy: Education=2n Cycle' ;
2140945   +
2140946   +      label EducationBasic = 'Dummy: Education=Basic' ;
MPRINT(EM_DIAGRAM):   label EducationBasic = 'Dummy: Education=Basic' ;
2140947   +
2140948   +      label EducationGraduation = 'Dummy: Education=Graduation' ;
MPRINT(EM_DIAGRAM):   label EducationGraduation = 'Dummy: Education=Graduation' ;
2140949   +
2140950   +      label EducationMaster = 'Dummy: Education=Master' ;
MPRINT(EM_DIAGRAM):   label EducationMaster = 'Dummy: Education=Master' ;
2140951   +
2140952   +      label Marital_StatusDivorced = 'Dummy: Marital_Status=Divorced' ;
MPRINT(EM_DIAGRAM):   label Marital_StatusDivorced = 'Dummy: Marital_Status=Divorced' ;
2140953   +
2140954   +      label Marital_StatusMarried = 'Dummy: Marital_Status=Married' ;
MPRINT(EM_DIAGRAM):   label Marital_StatusMarried = 'Dummy: Marital_Status=Married' ;
2140955   +
2140956   +      label Marital_StatusSingle = 'Dummy: Marital_Status=Single' ;
MPRINT(EM_DIAGRAM):   label Marital_StatusSingle = 'Dummy: Marital_Status=Single' ;
2140957   +
2140958   +      label Marital_StatusTogether = 'Dummy: Marital_Status=Together' ;
MPRINT(EM_DIAGRAM):   label Marital_StatusTogether = 'Dummy: Marital_Status=Together' ;
2140959   +
2140960   +      label H11 = 'Hidden: H1=1' ;
MPRINT(EM_DIAGRAM):   label H11 = 'Hidden: H1=1' ;
2140961   +
2140962   +      label H12 = 'Hidden: H1=2' ;
MPRINT(EM_DIAGRAM):   label H12 = 'Hidden: H1=2' ;
2140963   +
2140964   +      label H13 = 'Hidden: H1=3' ;
MPRINT(EM_DIAGRAM):   label H13 = 'Hidden: H1=3' ;
2140965   +
2140966   +      label I_DepVar = 'Into: DepVar' ;
MPRINT(EM_DIAGRAM):   label I_DepVar = 'Into: DepVar' ;
2140967   +
2140968   +      label F_DepVar = 'From: DepVar' ;
MPRINT(EM_DIAGRAM):   label F_DepVar = 'From: DepVar' ;
2140969   +
2140970   +      label U_DepVar = 'Unnormalized Into: DepVar' ;
MPRINT(EM_DIAGRAM):   label U_DepVar = 'Unnormalized Into: DepVar' ;
2140971   +
2140972   +      label P_DepVar1 = 'Predicted: DepVar=1' ;
MPRINT(EM_DIAGRAM):   label P_DepVar1 = 'Predicted: DepVar=1' ;
2140973   +
2140974   +      label R_DepVar1 = 'Residual: DepVar=1' ;
MPRINT(EM_DIAGRAM):   label R_DepVar1 = 'Residual: DepVar=1' ;
2140975   +
2140976   +      label P_DepVar0 = 'Predicted: DepVar=0' ;
MPRINT(EM_DIAGRAM):   label P_DepVar0 = 'Predicted: DepVar=0' ;
2140977   +
2140978   +      label R_DepVar0 = 'Residual: DepVar=0' ;
MPRINT(EM_DIAGRAM):   label R_DepVar0 = 'Residual: DepVar=0' ;
2140979   +
2140980   +      label  _WARN_ = "Warnings";
MPRINT(EM_DIAGRAM):   label _WARN_ = "Warnings";
2140981   +
2140982   +*** Generate dummy variables for AcceptedCmp1 ;
MPRINT(EM_DIAGRAM):   *** Generate dummy variables for AcceptedCmp1 ;
2140983   +drop AcceptedCmp10 ;
MPRINT(EM_DIAGRAM):   drop AcceptedCmp10 ;
2140984   +if missing( AcceptedCmp1 ) then do;
MPRINT(EM_DIAGRAM):   if missing( AcceptedCmp1 ) then do;
2140985   +   AcceptedCmp10 = .;
MPRINT(EM_DIAGRAM):   AcceptedCmp10 = .;
2140986   +   substr(_warn_,1,1) = 'M';
MPRINT(EM_DIAGRAM):   substr(_warn_,1,1) = 'M';
2140987   +   _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2140988   +end;
MPRINT(EM_DIAGRAM):   end;
2140989   +else do;
MPRINT(EM_DIAGRAM):   else do;
2140990   +   length _dm12 $ 12; drop _dm12 ;
MPRINT(EM_DIAGRAM):   length _dm12 $ 12;
MPRINT(EM_DIAGRAM):   drop _dm12 ;
2140991   +   _dm12 = put( AcceptedCmp1 , BEST. );
MPRINT(EM_DIAGRAM):   _dm12 = put( AcceptedCmp1 , BEST. );
2140992   +   %DMNORMIP( _dm12 )
MPRINT(DMNORMIP):   call dmnorm(_dm12,
MPRINT(DMNORLEN):  32
MPRINT(DMNORMIP):  );
2140993   +   if _dm12 = '0'  then do;
MPRINT(EM_DIAGRAM):   if _dm12 = '0' then do;
2140994   +      AcceptedCmp10 = 1;
MPRINT(EM_DIAGRAM):   AcceptedCmp10 = 1;
2140995   +   end;
MPRINT(EM_DIAGRAM):   end;
2140996   +   else if _dm12 = '1'  then do;
MPRINT(EM_DIAGRAM):   else if _dm12 = '1' then do;
2140997   +      AcceptedCmp10 = -1;
MPRINT(EM_DIAGRAM):   AcceptedCmp10 = -1;
2140998   +   end;
MPRINT(EM_DIAGRAM):   end;
2140999   +   else do;
MPRINT(EM_DIAGRAM):   else do;
2141000   +      AcceptedCmp10 = .;
MPRINT(EM_DIAGRAM):   AcceptedCmp10 = .;
2141001   +      substr(_warn_,2,1) = 'U';
MPRINT(EM_DIAGRAM):   substr(_warn_,2,1) = 'U';
2141002   +      _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2141003   +   end;
MPRINT(EM_DIAGRAM):   end;
2141004   +end;
MPRINT(EM_DIAGRAM):   end;
2141005   +
2141006   +*** Generate dummy variables for AcceptedCmp2 ;
MPRINT(EM_DIAGRAM):   *** Generate dummy variables for AcceptedCmp2 ;
2141007   +drop AcceptedCmp20 ;
MPRINT(EM_DIAGRAM):   drop AcceptedCmp20 ;
2141008   +if missing( AcceptedCmp2 ) then do;
MPRINT(EM_DIAGRAM):   if missing( AcceptedCmp2 ) then do;
2141009   +   AcceptedCmp20 = .;
MPRINT(EM_DIAGRAM):   AcceptedCmp20 = .;
2141010   +   substr(_warn_,1,1) = 'M';
MPRINT(EM_DIAGRAM):   substr(_warn_,1,1) = 'M';
2141011   +   _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2141012   +end;
MPRINT(EM_DIAGRAM):   end;
2141013   +else do;
MPRINT(EM_DIAGRAM):   else do;
2141014   +   length _dm12 $ 12; drop _dm12 ;
MPRINT(EM_DIAGRAM):   length _dm12 $ 12;
MPRINT(EM_DIAGRAM):   drop _dm12 ;
2141015   +   _dm12 = put( AcceptedCmp2 , BEST. );
MPRINT(EM_DIAGRAM):   _dm12 = put( AcceptedCmp2 , BEST. );
2141016   +   %DMNORMIP( _dm12 )
MPRINT(DMNORMIP):   call dmnorm(_dm12,
MPRINT(DMNORLEN):  32
MPRINT(DMNORMIP):  );
2141017   +   if _dm12 = '0'  then do;
MPRINT(EM_DIAGRAM):   if _dm12 = '0' then do;
2141018   +      AcceptedCmp20 = 1;
MPRINT(EM_DIAGRAM):   AcceptedCmp20 = 1;
2141019   +   end;
MPRINT(EM_DIAGRAM):   end;
2141020   +   else if _dm12 = '1'  then do;
MPRINT(EM_DIAGRAM):   else if _dm12 = '1' then do;
2141021   +      AcceptedCmp20 = -1;
MPRINT(EM_DIAGRAM):   AcceptedCmp20 = -1;
2141022   +   end;
MPRINT(EM_DIAGRAM):   end;
2141023   +   else do;
MPRINT(EM_DIAGRAM):   else do;
2141024   +      AcceptedCmp20 = .;
MPRINT(EM_DIAGRAM):   AcceptedCmp20 = .;
2141025   +      substr(_warn_,2,1) = 'U';
MPRINT(EM_DIAGRAM):   substr(_warn_,2,1) = 'U';
2141026   +      _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2141027   +   end;
MPRINT(EM_DIAGRAM):   end;
2141028   +end;
MPRINT(EM_DIAGRAM):   end;
2141029   +
2141030   +*** Generate dummy variables for AcceptedCmp3 ;
MPRINT(EM_DIAGRAM):   *** Generate dummy variables for AcceptedCmp3 ;
2141031   +drop AcceptedCmp30 ;
MPRINT(EM_DIAGRAM):   drop AcceptedCmp30 ;
2141032   +if missing( AcceptedCmp3 ) then do;
MPRINT(EM_DIAGRAM):   if missing( AcceptedCmp3 ) then do;
2141033   +   AcceptedCmp30 = .;
MPRINT(EM_DIAGRAM):   AcceptedCmp30 = .;
2141034   +   substr(_warn_,1,1) = 'M';
MPRINT(EM_DIAGRAM):   substr(_warn_,1,1) = 'M';
2141035   +   _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2141036   +end;
MPRINT(EM_DIAGRAM):   end;
2141037   +else do;
MPRINT(EM_DIAGRAM):   else do;
2141038   +   length _dm12 $ 12; drop _dm12 ;
MPRINT(EM_DIAGRAM):   length _dm12 $ 12;
MPRINT(EM_DIAGRAM):   drop _dm12 ;
2141039   +   _dm12 = put( AcceptedCmp3 , BEST. );
MPRINT(EM_DIAGRAM):   _dm12 = put( AcceptedCmp3 , BEST. );
2141040   +   %DMNORMIP( _dm12 )
MPRINT(DMNORMIP):   call dmnorm(_dm12,
MPRINT(DMNORLEN):  32
MPRINT(DMNORMIP):  );
2141041   +   if _dm12 = '0'  then do;
MPRINT(EM_DIAGRAM):   if _dm12 = '0' then do;
2141042   +      AcceptedCmp30 = 1;
MPRINT(EM_DIAGRAM):   AcceptedCmp30 = 1;
2141043   +   end;
MPRINT(EM_DIAGRAM):   end;
2141044   +   else if _dm12 = '1'  then do;
MPRINT(EM_DIAGRAM):   else if _dm12 = '1' then do;
2141045   +      AcceptedCmp30 = -1;
MPRINT(EM_DIAGRAM):   AcceptedCmp30 = -1;
2141046   +   end;
MPRINT(EM_DIAGRAM):   end;
2141047   +   else do;
MPRINT(EM_DIAGRAM):   else do;
2141048   +      AcceptedCmp30 = .;
MPRINT(EM_DIAGRAM):   AcceptedCmp30 = .;
2141049   +      substr(_warn_,2,1) = 'U';
MPRINT(EM_DIAGRAM):   substr(_warn_,2,1) = 'U';
2141050   +      _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2141051   +   end;
MPRINT(EM_DIAGRAM):   end;
2141052   +end;
MPRINT(EM_DIAGRAM):   end;
2141053   +
2141054   +*** Generate dummy variables for AcceptedCmp4 ;
MPRINT(EM_DIAGRAM):   *** Generate dummy variables for AcceptedCmp4 ;
2141055   +drop AcceptedCmp40 ;
MPRINT(EM_DIAGRAM):   drop AcceptedCmp40 ;
2141056   +if missing( AcceptedCmp4 ) then do;
MPRINT(EM_DIAGRAM):   if missing( AcceptedCmp4 ) then do;
2141057   +   AcceptedCmp40 = .;
MPRINT(EM_DIAGRAM):   AcceptedCmp40 = .;
2141058   +   substr(_warn_,1,1) = 'M';
MPRINT(EM_DIAGRAM):   substr(_warn_,1,1) = 'M';
2141059   +   _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2141060   +end;
MPRINT(EM_DIAGRAM):   end;
2141061   +else do;
MPRINT(EM_DIAGRAM):   else do;
2141062   +   length _dm12 $ 12; drop _dm12 ;
MPRINT(EM_DIAGRAM):   length _dm12 $ 12;
MPRINT(EM_DIAGRAM):   drop _dm12 ;
2141063   +   _dm12 = put( AcceptedCmp4 , BEST. );
MPRINT(EM_DIAGRAM):   _dm12 = put( AcceptedCmp4 , BEST. );
2141064   +   %DMNORMIP( _dm12 )
MPRINT(DMNORMIP):   call dmnorm(_dm12,
MPRINT(DMNORLEN):  32
MPRINT(DMNORMIP):  );
2141065   +   if _dm12 = '0'  then do;
MPRINT(EM_DIAGRAM):   if _dm12 = '0' then do;
2141066   +      AcceptedCmp40 = 1;
MPRINT(EM_DIAGRAM):   AcceptedCmp40 = 1;
2141067   +   end;
MPRINT(EM_DIAGRAM):   end;
2141068   +   else if _dm12 = '1'  then do;
MPRINT(EM_DIAGRAM):   else if _dm12 = '1' then do;
2141069   +      AcceptedCmp40 = -1;
MPRINT(EM_DIAGRAM):   AcceptedCmp40 = -1;
2141070   +   end;
MPRINT(EM_DIAGRAM):   end;
2141071   +   else do;
MPRINT(EM_DIAGRAM):   else do;
2141072   +      AcceptedCmp40 = .;
MPRINT(EM_DIAGRAM):   AcceptedCmp40 = .;
2141073   +      substr(_warn_,2,1) = 'U';
MPRINT(EM_DIAGRAM):   substr(_warn_,2,1) = 'U';
2141074   +      _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2141075   +   end;
MPRINT(EM_DIAGRAM):   end;
2141076   +end;
MPRINT(EM_DIAGRAM):   end;
2141077   +
2141078   +*** Generate dummy variables for AcceptedCmp5 ;
MPRINT(EM_DIAGRAM):   *** Generate dummy variables for AcceptedCmp5 ;
2141079   +drop AcceptedCmp50 ;
MPRINT(EM_DIAGRAM):   drop AcceptedCmp50 ;
2141080   +if missing( AcceptedCmp5 ) then do;
MPRINT(EM_DIAGRAM):   if missing( AcceptedCmp5 ) then do;
2141081   +   AcceptedCmp50 = .;
MPRINT(EM_DIAGRAM):   AcceptedCmp50 = .;
2141082   +   substr(_warn_,1,1) = 'M';
MPRINT(EM_DIAGRAM):   substr(_warn_,1,1) = 'M';
2141083   +   _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2141084   +end;
MPRINT(EM_DIAGRAM):   end;
2141085   +else do;
MPRINT(EM_DIAGRAM):   else do;
2141086   +   length _dm12 $ 12; drop _dm12 ;
MPRINT(EM_DIAGRAM):   length _dm12 $ 12;
MPRINT(EM_DIAGRAM):   drop _dm12 ;
2141087   +   _dm12 = put( AcceptedCmp5 , BEST. );
MPRINT(EM_DIAGRAM):   _dm12 = put( AcceptedCmp5 , BEST. );
2141088   +   %DMNORMIP( _dm12 )
MPRINT(DMNORMIP):   call dmnorm(_dm12,
MPRINT(DMNORLEN):  32
MPRINT(DMNORMIP):  );
2141089   +   if _dm12 = '0'  then do;
MPRINT(EM_DIAGRAM):   if _dm12 = '0' then do;
2141090   +      AcceptedCmp50 = 1;
MPRINT(EM_DIAGRAM):   AcceptedCmp50 = 1;
2141091   +   end;
MPRINT(EM_DIAGRAM):   end;
2141092   +   else if _dm12 = '1'  then do;
MPRINT(EM_DIAGRAM):   else if _dm12 = '1' then do;
2141093   +      AcceptedCmp50 = -1;
MPRINT(EM_DIAGRAM):   AcceptedCmp50 = -1;
2141094   +   end;
MPRINT(EM_DIAGRAM):   end;
2141095   +   else do;
MPRINT(EM_DIAGRAM):   else do;
2141096   +      AcceptedCmp50 = .;
MPRINT(EM_DIAGRAM):   AcceptedCmp50 = .;
2141097   +      substr(_warn_,2,1) = 'U';
MPRINT(EM_DIAGRAM):   substr(_warn_,2,1) = 'U';
2141098   +      _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2141099   +   end;
MPRINT(EM_DIAGRAM):   end;
2141100   +end;
MPRINT(EM_DIAGRAM):   end;
2141101   +
2141102   +*** Generate dummy variables for Complain ;
MPRINT(EM_DIAGRAM):   *** Generate dummy variables for Complain ;
2141103   +drop Complain0 ;
MPRINT(EM_DIAGRAM):   drop Complain0 ;
2141104   +if missing( Complain ) then do;
MPRINT(EM_DIAGRAM):   if missing( Complain ) then do;
2141105   +   Complain0 = .;
MPRINT(EM_DIAGRAM):   Complain0 = .;
2141106   +   substr(_warn_,1,1) = 'M';
MPRINT(EM_DIAGRAM):   substr(_warn_,1,1) = 'M';
2141107   +   _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2141108   +end;
MPRINT(EM_DIAGRAM):   end;
2141109   +else do;
MPRINT(EM_DIAGRAM):   else do;
2141110   +   length _dm12 $ 12; drop _dm12 ;
MPRINT(EM_DIAGRAM):   length _dm12 $ 12;
MPRINT(EM_DIAGRAM):   drop _dm12 ;
2141111   +   _dm12 = put( Complain , BEST. );
MPRINT(EM_DIAGRAM):   _dm12 = put( Complain , BEST. );
2141112   +   %DMNORMIP( _dm12 )
MPRINT(DMNORMIP):   call dmnorm(_dm12,
MPRINT(DMNORLEN):  32
MPRINT(DMNORMIP):  );
2141113   +   if _dm12 = '0'  then do;
MPRINT(EM_DIAGRAM):   if _dm12 = '0' then do;
2141114   +      Complain0 = 1;
MPRINT(EM_DIAGRAM):   Complain0 = 1;
2141115   +   end;
MPRINT(EM_DIAGRAM):   end;
2141116   +   else if _dm12 = '1'  then do;
MPRINT(EM_DIAGRAM):   else if _dm12 = '1' then do;
2141117   +      Complain0 = -1;
MPRINT(EM_DIAGRAM):   Complain0 = -1;
2141118   +   end;
MPRINT(EM_DIAGRAM):   end;
2141119   +   else do;
MPRINT(EM_DIAGRAM):   else do;
2141120   +      Complain0 = .;
MPRINT(EM_DIAGRAM):   Complain0 = .;
2141121   +      substr(_warn_,2,1) = 'U';
MPRINT(EM_DIAGRAM):   substr(_warn_,2,1) = 'U';
2141122   +      _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2141123   +   end;
MPRINT(EM_DIAGRAM):   end;
2141124   +end;
MPRINT(EM_DIAGRAM):   end;
2141125   +
2141126   +*** Generate dummy variables for HigherEducationBinary ;
MPRINT(EM_DIAGRAM):   *** Generate dummy variables for HigherEducationBinary ;
2141127   +drop HigherEducationBinary0 ;
MPRINT(EM_DIAGRAM):   drop HigherEducationBinary0 ;
2141128   +if missing( HigherEducationBinary ) then do;
MPRINT(EM_DIAGRAM):   if missing( HigherEducationBinary ) then do;
2141129   +   HigherEducationBinary0 = .;
MPRINT(EM_DIAGRAM):   HigherEducationBinary0 = .;
2141130   +   substr(_warn_,1,1) = 'M';
MPRINT(EM_DIAGRAM):   substr(_warn_,1,1) = 'M';
2141131   +   _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2141132   +end;
MPRINT(EM_DIAGRAM):   end;
2141133   +else do;
MPRINT(EM_DIAGRAM):   else do;
2141134   +   length _dm12 $ 12; drop _dm12 ;
MPRINT(EM_DIAGRAM):   length _dm12 $ 12;
MPRINT(EM_DIAGRAM):   drop _dm12 ;
2141135   +   _dm12 = put( HigherEducationBinary , BEST12. );
MPRINT(EM_DIAGRAM):   _dm12 = put( HigherEducationBinary , BEST12. );
2141136   +   %DMNORMIP( _dm12 )
MPRINT(DMNORMIP):   call dmnorm(_dm12,
MPRINT(DMNORLEN):  32
MPRINT(DMNORMIP):  );
2141137   +   if _dm12 = '1'  then do;
MPRINT(EM_DIAGRAM):   if _dm12 = '1' then do;
2141138   +      HigherEducationBinary0 = -1;
MPRINT(EM_DIAGRAM):   HigherEducationBinary0 = -1;
2141139   +   end;
MPRINT(EM_DIAGRAM):   end;
2141140   +   else if _dm12 = '0'  then do;
MPRINT(EM_DIAGRAM):   else if _dm12 = '0' then do;
2141141   +      HigherEducationBinary0 = 1;
MPRINT(EM_DIAGRAM):   HigherEducationBinary0 = 1;
2141142   +   end;
MPRINT(EM_DIAGRAM):   end;
2141143   +   else do;
MPRINT(EM_DIAGRAM):   else do;
2141144   +      HigherEducationBinary0 = .;
MPRINT(EM_DIAGRAM):   HigherEducationBinary0 = .;
2141145   +      substr(_warn_,2,1) = 'U';
MPRINT(EM_DIAGRAM):   substr(_warn_,2,1) = 'U';
2141146   +      _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2141147   +   end;
MPRINT(EM_DIAGRAM):   end;
2141148   +end;
MPRINT(EM_DIAGRAM):   end;
2141149   +
2141150   +*** Generate dummy variables for Education ;
MPRINT(EM_DIAGRAM):   *** Generate dummy variables for Education ;
2141151   +drop Education2n_Cycle EducationBasic EducationGraduation EducationMaster ;
MPRINT(EM_DIAGRAM):   drop Education2n_Cycle EducationBasic EducationGraduation 
EducationMaster ;
2141152   +*** encoding is sparse, initialize to zero;
MPRINT(EM_DIAGRAM):   *** encoding is sparse, initialize to zero;
2141153   +Education2n_Cycle = 0;
MPRINT(EM_DIAGRAM):   Education2n_Cycle = 0;
2141154   +EducationBasic = 0;
MPRINT(EM_DIAGRAM):   EducationBasic = 0;
2141155   +EducationGraduation = 0;
MPRINT(EM_DIAGRAM):   EducationGraduation = 0;
2141156   +EducationMaster = 0;
MPRINT(EM_DIAGRAM):   EducationMaster = 0;
2141157   +if missing( Education ) then do;
MPRINT(EM_DIAGRAM):   if missing( Education ) then do;
2141158   +   Education2n_Cycle = .;
MPRINT(EM_DIAGRAM):   Education2n_Cycle = .;
2141159   +   EducationBasic = .;
MPRINT(EM_DIAGRAM):   EducationBasic = .;
2141160   +   EducationGraduation = .;
MPRINT(EM_DIAGRAM):   EducationGraduation = .;
2141161   +   EducationMaster = .;
MPRINT(EM_DIAGRAM):   EducationMaster = .;
2141162   +   substr(_warn_,1,1) = 'M';
MPRINT(EM_DIAGRAM):   substr(_warn_,1,1) = 'M';
2141163   +   _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2141164   +end;
MPRINT(EM_DIAGRAM):   end;
2141165   +else do;
MPRINT(EM_DIAGRAM):   else do;
2141166   +   length _dm10 $ 10; drop _dm10 ;
MPRINT(EM_DIAGRAM):   length _dm10 $ 10;
MPRINT(EM_DIAGRAM):   drop _dm10 ;
2141167   +   _dm10 = put( Education , $10. );
MPRINT(EM_DIAGRAM):   _dm10 = put( Education , $10. );
2141168   +   %DMNORMIP( _dm10 )
MPRINT(DMNORMIP):   call dmnorm(_dm10,
MPRINT(DMNORLEN):  32
MPRINT(DMNORMIP):  );
2141169   +   if _dm10 = 'GRADUATION'  then do;
MPRINT(EM_DIAGRAM):   if _dm10 = 'GRADUATION' then do;
2141170   +      EducationGraduation = 1;
MPRINT(EM_DIAGRAM):   EducationGraduation = 1;
2141171   +   end;
MPRINT(EM_DIAGRAM):   end;
2141172   +   else if _dm10 = 'PHD'  then do;
MPRINT(EM_DIAGRAM):   else if _dm10 = 'PHD' then do;
2141173   +      Education2n_Cycle = -1;
MPRINT(EM_DIAGRAM):   Education2n_Cycle = -1;
2141174   +      EducationBasic = -1;
MPRINT(EM_DIAGRAM):   EducationBasic = -1;
2141175   +      EducationGraduation = -1;
MPRINT(EM_DIAGRAM):   EducationGraduation = -1;
2141176   +      EducationMaster = -1;
MPRINT(EM_DIAGRAM):   EducationMaster = -1;
2141177   +   end;
MPRINT(EM_DIAGRAM):   end;
2141178   +   else if _dm10 = 'MASTER'  then do;
MPRINT(EM_DIAGRAM):   else if _dm10 = 'MASTER' then do;
2141179   +      EducationMaster = 1;
MPRINT(EM_DIAGRAM):   EducationMaster = 1;
2141180   +   end;
MPRINT(EM_DIAGRAM):   end;
2141181   +   else if _dm10 = '2N CYCLE'  then do;
MPRINT(EM_DIAGRAM):   else if _dm10 = '2N CYCLE' then do;
2141182   +      Education2n_Cycle = 1;
MPRINT(EM_DIAGRAM):   Education2n_Cycle = 1;
2141183   +   end;
MPRINT(EM_DIAGRAM):   end;
2141184   +   else if _dm10 = 'BASIC'  then do;
MPRINT(EM_DIAGRAM):   else if _dm10 = 'BASIC' then do;
2141185   +      EducationBasic = 1;
MPRINT(EM_DIAGRAM):   EducationBasic = 1;
2141186   +   end;
MPRINT(EM_DIAGRAM):   end;
2141187   +   else do;
MPRINT(EM_DIAGRAM):   else do;
2141188   +      Education2n_Cycle = .;
MPRINT(EM_DIAGRAM):   Education2n_Cycle = .;
2141189   +      EducationBasic = .;
MPRINT(EM_DIAGRAM):   EducationBasic = .;
2141190   +      EducationGraduation = .;
MPRINT(EM_DIAGRAM):   EducationGraduation = .;
2141191   +      EducationMaster = .;
MPRINT(EM_DIAGRAM):   EducationMaster = .;
2141192   +      substr(_warn_,2,1) = 'U';
MPRINT(EM_DIAGRAM):   substr(_warn_,2,1) = 'U';
2141193   +      _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2141194   +   end;
MPRINT(EM_DIAGRAM):   end;
2141195   +end;
MPRINT(EM_DIAGRAM):   end;
2141196   +
2141197   +*** Generate dummy variables for Marital_Status ;
MPRINT(EM_DIAGRAM):   *** Generate dummy variables for Marital_Status ;
2141198   +drop Marital_StatusDivorced Marital_StatusMarried Marital_StatusSingle
2141199   +        Marital_StatusTogether ;
MPRINT(EM_DIAGRAM):   drop Marital_StatusDivorced Marital_StatusMarried Marital_StatusSingle 
Marital_StatusTogether ;
2141200   +*** encoding is sparse, initialize to zero;
MPRINT(EM_DIAGRAM):   *** encoding is sparse, initialize to zero;
2141201   +Marital_StatusDivorced = 0;
MPRINT(EM_DIAGRAM):   Marital_StatusDivorced = 0;
2141202   +Marital_StatusMarried = 0;
MPRINT(EM_DIAGRAM):   Marital_StatusMarried = 0;
2141203   +Marital_StatusSingle = 0;
MPRINT(EM_DIAGRAM):   Marital_StatusSingle = 0;
2141204   +Marital_StatusTogether = 0;
MPRINT(EM_DIAGRAM):   Marital_StatusTogether = 0;
2141205   +if missing( Marital_Status ) then do;
MPRINT(EM_DIAGRAM):   if missing( Marital_Status ) then do;
2141206   +   Marital_StatusDivorced = .;
MPRINT(EM_DIAGRAM):   Marital_StatusDivorced = .;
2141207   +   Marital_StatusMarried = .;
MPRINT(EM_DIAGRAM):   Marital_StatusMarried = .;
2141208   +   Marital_StatusSingle = .;
MPRINT(EM_DIAGRAM):   Marital_StatusSingle = .;
2141209   +   Marital_StatusTogether = .;
MPRINT(EM_DIAGRAM):   Marital_StatusTogether = .;
2141210   +   substr(_warn_,1,1) = 'M';
MPRINT(EM_DIAGRAM):   substr(_warn_,1,1) = 'M';
2141211   +   _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2141212   +end;
MPRINT(EM_DIAGRAM):   end;
2141213   +else do;
MPRINT(EM_DIAGRAM):   else do;
2141214   +   length _dm8 $ 8; drop _dm8 ;
MPRINT(EM_DIAGRAM):   length _dm8 $ 8;
MPRINT(EM_DIAGRAM):   drop _dm8 ;
2141215   +   _dm8 = put( Marital_Status , $8. );
MPRINT(EM_DIAGRAM):   _dm8 = put( Marital_Status , $8. );
2141216   +   %DMNORMIP( _dm8 )
MPRINT(DMNORMIP):   call dmnorm(_dm8,
MPRINT(DMNORLEN):  32
MPRINT(DMNORMIP):  );
2141217   +   _dm_find = 0; drop _dm_find;
MPRINT(EM_DIAGRAM):   _dm_find = 0;
MPRINT(EM_DIAGRAM):   drop _dm_find;
2141218   +   if _dm8 <= 'SINGLE'  then do;
MPRINT(EM_DIAGRAM):   if _dm8 <= 'SINGLE' then do;
2141219   +      if _dm8 <= 'MARRIED'  then do;
MPRINT(EM_DIAGRAM):   if _dm8 <= 'MARRIED' then do;
2141220   +         if _dm8 = 'DIVORCED'  then do;
MPRINT(EM_DIAGRAM):   if _dm8 = 'DIVORCED' then do;
2141221   +            Marital_StatusDivorced = 1;
MPRINT(EM_DIAGRAM):   Marital_StatusDivorced = 1;
2141222   +            _dm_find = 1;
MPRINT(EM_DIAGRAM):   _dm_find = 1;
2141223   +         end;
MPRINT(EM_DIAGRAM):   end;
2141224   +         else do;
MPRINT(EM_DIAGRAM):   else do;
2141225   +            if _dm8 = 'MARRIED'  then do;
MPRINT(EM_DIAGRAM):   if _dm8 = 'MARRIED' then do;
2141226   +               Marital_StatusMarried = 1;
MPRINT(EM_DIAGRAM):   Marital_StatusMarried = 1;
2141227   +               _dm_find = 1;
MPRINT(EM_DIAGRAM):   _dm_find = 1;
2141228   +            end;
MPRINT(EM_DIAGRAM):   end;
2141229   +         end;
MPRINT(EM_DIAGRAM):   end;
2141230   +      end;
MPRINT(EM_DIAGRAM):   end;
2141231   +      else do;
MPRINT(EM_DIAGRAM):   else do;
2141232   +         if _dm8 = 'SINGLE'  then do;
MPRINT(EM_DIAGRAM):   if _dm8 = 'SINGLE' then do;
2141233   +            Marital_StatusSingle = 1;
MPRINT(EM_DIAGRAM):   Marital_StatusSingle = 1;
2141234   +            _dm_find = 1;
MPRINT(EM_DIAGRAM):   _dm_find = 1;
2141235   +         end;
MPRINT(EM_DIAGRAM):   end;
2141236   +      end;
MPRINT(EM_DIAGRAM):   end;
2141237   +   end;
MPRINT(EM_DIAGRAM):   end;
2141238   +   else do;
MPRINT(EM_DIAGRAM):   else do;
2141239   +      if _dm8 = 'TOGETHER'  then do;
MPRINT(EM_DIAGRAM):   if _dm8 = 'TOGETHER' then do;
2141240   +         Marital_StatusTogether = 1;
MPRINT(EM_DIAGRAM):   Marital_StatusTogether = 1;
2141241   +         _dm_find = 1;
MPRINT(EM_DIAGRAM):   _dm_find = 1;
2141242   +      end;
MPRINT(EM_DIAGRAM):   end;
2141243   +      else do;
MPRINT(EM_DIAGRAM):   else do;
2141244   +         if _dm8 = 'WIDOW'  then do;
MPRINT(EM_DIAGRAM):   if _dm8 = 'WIDOW' then do;
2141245   +            Marital_StatusDivorced = -1;
MPRINT(EM_DIAGRAM):   Marital_StatusDivorced = -1;
2141246   +            Marital_StatusMarried = -1;
MPRINT(EM_DIAGRAM):   Marital_StatusMarried = -1;
2141247   +            Marital_StatusSingle = -1;
MPRINT(EM_DIAGRAM):   Marital_StatusSingle = -1;
2141248   +            Marital_StatusTogether = -1;
MPRINT(EM_DIAGRAM):   Marital_StatusTogether = -1;
2141249   +            _dm_find = 1;
MPRINT(EM_DIAGRAM):   _dm_find = 1;
2141250   +         end;
MPRINT(EM_DIAGRAM):   end;
2141251   +      end;
MPRINT(EM_DIAGRAM):   end;
2141252   +   end;
MPRINT(EM_DIAGRAM):   end;
2141253   +   if not _dm_find then do;
MPRINT(EM_DIAGRAM):   if not _dm_find then do;
2141254   +      Marital_StatusDivorced = .;
MPRINT(EM_DIAGRAM):   Marital_StatusDivorced = .;
2141255   +      Marital_StatusMarried = .;
MPRINT(EM_DIAGRAM):   Marital_StatusMarried = .;
2141256   +      Marital_StatusSingle = .;
MPRINT(EM_DIAGRAM):   Marital_StatusSingle = .;
2141257   +      Marital_StatusTogether = .;
MPRINT(EM_DIAGRAM):   Marital_StatusTogether = .;
2141258   +      substr(_warn_,2,1) = 'U';
MPRINT(EM_DIAGRAM):   substr(_warn_,2,1) = 'U';
2141259   +      _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2141260   +   end;
MPRINT(EM_DIAGRAM):   end;
2141261   +end;
MPRINT(EM_DIAGRAM):   end;
2141262   +
2141263   +*** *************************;
MPRINT(EM_DIAGRAM):   *** *************************;
2141264   +*** Checking missing input Interval
2141265   +*** *************************;
MPRINT(EM_DIAGRAM):   *** Checking missing input Interval *** *************************;
2141266   +
2141267   +IF NMISS(
2141268   +   AcceptedCmpTotal ,
2141269   +   Age ,
2141270   +   Frq ,
2141271   +   Income ,
2141272   +   Kidhome ,
2141273   +   MntFishProducts ,
2141274   +   MntFruits ,
2141275   +   MntGoldProds ,
2141276   +   MntSweetProducts ,
2141277   +   MonthsAsCustomer ,
2141278   +   NumDealsPurchases ,
2141279   +   NumWebVisitsMonth ,
2141280   +   RFMstat ,
2141281   +   RMntFrq ,
2141282   +   Recency ,
2141283   +   Teenhome   ) THEN DO;
MPRINT(EM_DIAGRAM):   IF NMISS( AcceptedCmpTotal , Age , Frq , Income , Kidhome , 
MntFishProducts , MntFruits , MntGoldProds , MntSweetProducts , MonthsAsCustomer , 
NumDealsPurchases , NumWebVisitsMonth , RFMstat , RMntFrq , Recency , Teenhome ) THEN DO;
2141284   +   SUBSTR(_WARN_, 1, 1) = 'M';
MPRINT(EM_DIAGRAM):   SUBSTR(_WARN_, 1, 1) = 'M';
2141285   +
2141286   +   _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2141287   +END;
MPRINT(EM_DIAGRAM):   END;
2141288   +*** *************************;
MPRINT(EM_DIAGRAM):   *** *************************;
2141289   +*** Writing the Node intvl ;
MPRINT(EM_DIAGRAM):   *** Writing the Node intvl ;
2141290   +*** *************************;
MPRINT(EM_DIAGRAM):   *** *************************;
2141291   +IF _DM_BAD EQ 0 THEN DO;
MPRINT(EM_DIAGRAM):   IF _DM_BAD EQ 0 THEN DO;
2141292   +   S_AcceptedCmpTotal  =    -0.46762909508827 +      1.4961610131261 *
2141293   +        AcceptedCmpTotal ;
MPRINT(EM_DIAGRAM):   S_AcceptedCmpTotal = -0.46762909508827 + 1.4961610131261 * 
AcceptedCmpTotal ;
2141294   +   S_Age  =    -3.91319138389466 +     0.08289609202857 * Age ;
MPRINT(EM_DIAGRAM):   S_Age = -3.91319138389466 + 0.08289609202857 * Age ;
2141295   +   S_Frq  =     -1.7674482809159 +     0.13966853800993 * Frq ;
MPRINT(EM_DIAGRAM):   S_Frq = -1.7674482809159 + 0.13966853800993 * Frq ;
2141296   +   S_Income  =    -2.48883438787018 +     0.00004789669836 * Income ;
MPRINT(EM_DIAGRAM):   S_Income = -2.48883438787018 + 0.00004789669836 * Income ;
2141297   +   S_Kidhome  =    -0.81505958668041 +     1.87132636245581 * Kidhome ;
MPRINT(EM_DIAGRAM):   S_Kidhome = -0.81505958668041 + 1.87132636245581 * Kidhome ;
2141298   +   S_MntFishProducts  =    -0.69884925989448 +     0.01914942799914 *
2141299   +        MntFishProducts ;
MPRINT(EM_DIAGRAM):   S_MntFishProducts = -0.69884925989448 + 0.01914942799914 * 
MntFishProducts ;
2141300   +   S_MntFruits  =    -0.68347542544545 +     0.02517057319714 * MntFruits ;
MPRINT(EM_DIAGRAM):   S_MntFruits = -0.68347542544545 + 0.02517057319714 * MntFruits ;
2141301   +   S_MntGoldProds  =     -0.8611213764608 +     0.01954474499711 *
2141302   +        MntGoldProds ;
MPRINT(EM_DIAGRAM):   S_MntGoldProds = -0.8611213764608 + 0.01954474499711 * MntGoldProds ;
2141303   +   S_MntSweetProducts  =    -0.69020047720885 +     0.02548703406327 *
2141304   +        MntSweetProducts ;
MPRINT(EM_DIAGRAM):   S_MntSweetProducts = -0.69020047720885 + 0.02548703406327 * 
MntSweetProducts ;
2141305   +   S_MonthsAsCustomer  =    -4.93133031507839 +     0.05900664899872 *
2141306   +        MonthsAsCustomer ;
MPRINT(EM_DIAGRAM):   S_MonthsAsCustomer = -4.93133031507839 + 0.05900664899872 * 
MonthsAsCustomer ;
2141307   +   S_NumDealsPurchases  =    -1.34788949552081 +     0.59766336614987 *
2141308   +        NumDealsPurchases ;
MPRINT(EM_DIAGRAM):   S_NumDealsPurchases = -1.34788949552081 + 0.59766336614987 * 
NumDealsPurchases ;
2141309   +   S_NumWebVisitsMonth  =    -2.24769875596018 +     0.42876953368015 *
2141310   +        NumWebVisitsMonth ;
MPRINT(EM_DIAGRAM):   S_NumWebVisitsMonth = -2.24769875596018 + 0.42876953368015 * 
NumWebVisitsMonth ;
2141311   +   S_RFMstat  =    -0.33944380186973 +     0.00063877635032 * RFMstat ;
MPRINT(EM_DIAGRAM):   S_RFMstat = -0.33944380186973 + 0.00063877635032 * RFMstat ;
2141312   +   S_RMntFrq  =    -1.25743573075922 +     0.03326204244626 * RMntFrq ;
MPRINT(EM_DIAGRAM):   S_RMntFrq = -1.25743573075922 + 0.03326204244626 * RMntFrq ;
2141313   +   S_Recency  =    -1.69222845719633 +     0.03469514083585 * Recency ;
MPRINT(EM_DIAGRAM):   S_Recency = -1.69222845719633 + 0.03469514083585 * Recency ;
2141314   +   S_Teenhome  =    -0.88382230606631 +     1.81661831567223 * Teenhome ;
MPRINT(EM_DIAGRAM):   S_Teenhome = -0.88382230606631 + 1.81661831567223 * Teenhome ;
2141315   +END;
MPRINT(EM_DIAGRAM):   END;
2141316   +ELSE DO;
MPRINT(EM_DIAGRAM):   ELSE DO;
2141317   +   IF MISSING( AcceptedCmpTotal ) THEN S_AcceptedCmpTotal  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( AcceptedCmpTotal ) THEN S_AcceptedCmpTotal = . ;
2141318   +   ELSE S_AcceptedCmpTotal  =    -0.46762909508827 +      1.4961610131261 *
2141319   +        AcceptedCmpTotal ;
MPRINT(EM_DIAGRAM):   ELSE S_AcceptedCmpTotal = -0.46762909508827 + 1.4961610131261 * 
AcceptedCmpTotal ;
2141320   +   IF MISSING( Age ) THEN S_Age  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( Age ) THEN S_Age = . ;
2141321   +   ELSE S_Age  =    -3.91319138389466 +     0.08289609202857 * Age ;
MPRINT(EM_DIAGRAM):   ELSE S_Age = -3.91319138389466 + 0.08289609202857 * Age ;
2141322   +   IF MISSING( Frq ) THEN S_Frq  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( Frq ) THEN S_Frq = . ;
2141323   +   ELSE S_Frq  =     -1.7674482809159 +     0.13966853800993 * Frq ;
MPRINT(EM_DIAGRAM):   ELSE S_Frq = -1.7674482809159 + 0.13966853800993 * Frq ;
2141324   +   IF MISSING( Income ) THEN S_Income  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( Income ) THEN S_Income = . ;
2141325   +   ELSE S_Income  =    -2.48883438787018 +     0.00004789669836 * Income ;
MPRINT(EM_DIAGRAM):   ELSE S_Income = -2.48883438787018 + 0.00004789669836 * Income ;
2141326   +   IF MISSING( Kidhome ) THEN S_Kidhome  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( Kidhome ) THEN S_Kidhome = . ;
2141327   +   ELSE S_Kidhome  =    -0.81505958668041 +     1.87132636245581 * Kidhome ;
MPRINT(EM_DIAGRAM):   ELSE S_Kidhome = -0.81505958668041 + 1.87132636245581 * Kidhome ;
2141328   +   IF MISSING( MntFishProducts ) THEN S_MntFishProducts  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( MntFishProducts ) THEN S_MntFishProducts = . ;
2141329   +   ELSE S_MntFishProducts  =    -0.69884925989448 +     0.01914942799914 *
2141330   +        MntFishProducts ;
MPRINT(EM_DIAGRAM):   ELSE S_MntFishProducts = -0.69884925989448 + 0.01914942799914 * 
MntFishProducts ;
2141331   +   IF MISSING( MntFruits ) THEN S_MntFruits  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( MntFruits ) THEN S_MntFruits = . ;
2141332   +   ELSE S_MntFruits  =    -0.68347542544545 +     0.02517057319714 * MntFruits
2141333   +         ;
MPRINT(EM_DIAGRAM):   ELSE S_MntFruits = -0.68347542544545 + 0.02517057319714 * MntFruits ;
2141334   +   IF MISSING( MntGoldProds ) THEN S_MntGoldProds  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( MntGoldProds ) THEN S_MntGoldProds = . ;
2141335   +   ELSE S_MntGoldProds  =     -0.8611213764608 +     0.01954474499711 *
2141336   +        MntGoldProds ;
MPRINT(EM_DIAGRAM):   ELSE S_MntGoldProds = -0.8611213764608 + 0.01954474499711 * MntGoldProds 
;
2141337   +   IF MISSING( MntSweetProducts ) THEN S_MntSweetProducts  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( MntSweetProducts ) THEN S_MntSweetProducts = . ;
2141338   +   ELSE S_MntSweetProducts  =    -0.69020047720885 +     0.02548703406327 *
2141339   +        MntSweetProducts ;
MPRINT(EM_DIAGRAM):   ELSE S_MntSweetProducts = -0.69020047720885 + 0.02548703406327 * 
MntSweetProducts ;
2141340   +   IF MISSING( MonthsAsCustomer ) THEN S_MonthsAsCustomer  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( MonthsAsCustomer ) THEN S_MonthsAsCustomer = . ;
2141341   +   ELSE S_MonthsAsCustomer  =    -4.93133031507839 +     0.05900664899872 *
2141342   +        MonthsAsCustomer ;
MPRINT(EM_DIAGRAM):   ELSE S_MonthsAsCustomer = -4.93133031507839 + 0.05900664899872 * 
MonthsAsCustomer ;
2141343   +   IF MISSING( NumDealsPurchases ) THEN S_NumDealsPurchases  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( NumDealsPurchases ) THEN S_NumDealsPurchases = . ;
2141344   +   ELSE S_NumDealsPurchases  =    -1.34788949552081 +     0.59766336614987 *
2141345   +        NumDealsPurchases ;
MPRINT(EM_DIAGRAM):   ELSE S_NumDealsPurchases = -1.34788949552081 + 0.59766336614987 * 
NumDealsPurchases ;
2141346   +   IF MISSING( NumWebVisitsMonth ) THEN S_NumWebVisitsMonth  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( NumWebVisitsMonth ) THEN S_NumWebVisitsMonth = . ;
2141347   +   ELSE S_NumWebVisitsMonth  =    -2.24769875596018 +     0.42876953368015 *
2141348   +        NumWebVisitsMonth ;
MPRINT(EM_DIAGRAM):   ELSE S_NumWebVisitsMonth = -2.24769875596018 + 0.42876953368015 * 
NumWebVisitsMonth ;
2141349   +   IF MISSING( RFMstat ) THEN S_RFMstat  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( RFMstat ) THEN S_RFMstat = . ;
2141350   +   ELSE S_RFMstat  =    -0.33944380186973 +     0.00063877635032 * RFMstat ;
MPRINT(EM_DIAGRAM):   ELSE S_RFMstat = -0.33944380186973 + 0.00063877635032 * RFMstat ;
2141351   +   IF MISSING( RMntFrq ) THEN S_RMntFrq  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( RMntFrq ) THEN S_RMntFrq = . ;
2141352   +   ELSE S_RMntFrq  =    -1.25743573075922 +     0.03326204244626 * RMntFrq ;
MPRINT(EM_DIAGRAM):   ELSE S_RMntFrq = -1.25743573075922 + 0.03326204244626 * RMntFrq ;
2141353   +   IF MISSING( Recency ) THEN S_Recency  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( Recency ) THEN S_Recency = . ;
2141354   +   ELSE S_Recency  =    -1.69222845719633 +     0.03469514083585 * Recency ;
MPRINT(EM_DIAGRAM):   ELSE S_Recency = -1.69222845719633 + 0.03469514083585 * Recency ;
2141355   +   IF MISSING( Teenhome ) THEN S_Teenhome  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( Teenhome ) THEN S_Teenhome = . ;
2141356   +   ELSE S_Teenhome  =    -0.88382230606631 +     1.81661831567223 * Teenhome ;
MPRINT(EM_DIAGRAM):   ELSE S_Teenhome = -0.88382230606631 + 1.81661831567223 * Teenhome ;
2141357   +END;
MPRINT(EM_DIAGRAM):   END;
2141358   +*** *************************;
MPRINT(EM_DIAGRAM):   *** *************************;
2141359   +*** Writing the Node bin ;
MPRINT(EM_DIAGRAM):   *** Writing the Node bin ;
2141360   +*** *************************;
MPRINT(EM_DIAGRAM):   *** *************************;
2141361   +*** *************************;
MPRINT(EM_DIAGRAM):   *** *************************;
2141362   +*** Writing the Node nom ;
MPRINT(EM_DIAGRAM):   *** Writing the Node nom ;
2141363   +*** *************************;
MPRINT(EM_DIAGRAM):   *** *************************;
2141364   +*** *************************;
MPRINT(EM_DIAGRAM):   *** *************************;
2141365   +*** Writing the Node H1 ;
MPRINT(EM_DIAGRAM):   *** Writing the Node H1 ;
2141366   +*** *************************;
MPRINT(EM_DIAGRAM):   *** *************************;
2141367   +IF _DM_BAD EQ 0 THEN DO;
MPRINT(EM_DIAGRAM):   IF _DM_BAD EQ 0 THEN DO;
2141368   +   H11  =    -0.07939278387837 * S_AcceptedCmpTotal  +    -0.02790902024984 *
2141369   +        S_Age  +     0.40100840853714 * S_Frq  +     0.04432219183455 *
2141370   +        S_Income  +    -0.30219239382398 * S_Kidhome
2141371   +          +    -0.19432749686172 * S_MntFishProducts
2141372   +          +    -0.22103205349698 * S_MntFruits  +    -0.17971639907174 *
2141373   +        S_MntGoldProds  +     0.06706063176219 * S_MntSweetProducts
2141374   +          +    -0.06461990802389 * S_MonthsAsCustomer
2141375   +          +     -0.3783005817403 * S_NumDealsPurchases
2141376   +          +    -0.16339485784748 * S_NumWebVisitsMonth
2141377   +          +    -0.14712191436986 * S_RFMstat  +    -0.19045100842469 *
2141378   +        S_RMntFrq  +     0.18339671113489 * S_Recency
2141379   +          +     -0.0926217862823 * S_Teenhome ;
MPRINT(EM_DIAGRAM):   H11 = -0.07939278387837 * S_AcceptedCmpTotal + -0.02790902024984 * S_Age 
+ 0.40100840853714 * S_Frq + 0.04432219183455 * S_Income + -0.30219239382398 * S_Kidhome + 
-0.19432749686172 * S_MntFishProducts + -0.22103205349698 * S_MntFruits + -0.17971639907174 * 
S_MntGoldProds + 0.06706063176219 * S_MntSweetProducts + -0.06461990802389 * 
S_MonthsAsCustomer + -0.3783005817403 * S_NumDealsPurchases + -0.16339485784748 * 
S_NumWebVisitsMonth + -0.14712191436986 * S_RFMstat + -0.19045100842469 * S_RMntFrq + 
0.18339671113489 * S_Recency + -0.0926217862823 * S_Teenhome ;
2141380   +   H12  =    -1.08824651645594 * S_AcceptedCmpTotal  +     0.17686645093121 *
2141381   +        S_Age  +     1.35317207989883 * S_Frq  +     0.88138422987418 *
2141382   +        S_Income  +    -0.84990904276539 * S_Kidhome
2141383   +          +    -0.10200829265034 * S_MntFishProducts
2141384   +          +    -0.31753011084752 * S_MntFruits  +    -0.18249877124557 *
2141385   +        S_MntGoldProds  +     0.06150349061089 * S_MntSweetProducts
2141386   +          +      0.3716090242476 * S_MonthsAsCustomer
2141387   +          +    -0.14174807996351 * S_NumDealsPurchases
2141388   +          +    -0.42393482037755 * S_NumWebVisitsMonth
2141389   +          +     -0.2268215763235 * S_RFMstat  +     0.30128162296924 *
2141390   +        S_RMntFrq  +    -0.15766803203419 * S_Recency
2141391   +          +      -0.876771580659 * S_Teenhome ;
MPRINT(EM_DIAGRAM):   H12 = -1.08824651645594 * S_AcceptedCmpTotal + 0.17686645093121 * S_Age 
+ 1.35317207989883 * S_Frq + 0.88138422987418 * S_Income + -0.84990904276539 * S_Kidhome + 
-0.10200829265034 * S_MntFishProducts + -0.31753011084752 * S_MntFruits + -0.18249877124557 * 
S_MntGoldProds + 0.06150349061089 * S_MntSweetProducts + 0.3716090242476 * S_MonthsAsCustomer 
+ -0.14174807996351 * S_NumDealsPurchases + -0.42393482037755 * S_NumWebVisitsMonth + 
-0.2268215763235 * S_RFMstat + 0.30128162296924 * S_RMntFrq + -0.15766803203419 * S_Recency + 
-0.876771580659 * S_Teenhome ;
2141392   +   H13  =    -0.19745247224429 * S_AcceptedCmpTotal  +     0.12296649801431 *
2141393   +        S_Age  +     0.30380054301284 * S_Frq  +    -0.20561851411928 *
2141394   +        S_Income  +     0.26862281584112 * S_Kidhome
2141395   +          +     0.04085557903506 * S_MntFishProducts
2141396   +          +     0.04667626132377 * S_MntFruits  +     0.00814736574913 *
2141397   +        S_MntGoldProds  +     0.03678719281756 * S_MntSweetProducts
2141398   +          +     0.12149827716086 * S_MonthsAsCustomer
2141399   +          +    -0.07579622934099 * S_NumDealsPurchases
2141400   +          +    -0.32766887199758 * S_NumWebVisitsMonth
2141401   +          +    -0.03884372682505 * S_RFMstat  +     0.12404964867543 *
2141402   +        S_RMntFrq  +     0.41695593982518 * S_Recency
2141403   +          +     0.13451509125058 * S_Teenhome ;
MPRINT(EM_DIAGRAM):   H13 = -0.19745247224429 * S_AcceptedCmpTotal + 0.12296649801431 * S_Age 
+ 0.30380054301284 * S_Frq + -0.20561851411928 * S_Income + 0.26862281584112 * S_Kidhome + 
0.04085557903506 * S_MntFishProducts + 0.04667626132377 * S_MntFruits + 0.00814736574913 * 
S_MntGoldProds + 0.03678719281756 * S_MntSweetProducts + 0.12149827716086 * S_MonthsAsCustomer 
+ -0.07579622934099 * S_NumDealsPurchases + -0.32766887199758 * S_NumWebVisitsMonth + 
-0.03884372682505 * S_RFMstat + 0.12404964867543 * S_RMntFrq + 0.41695593982518 * S_Recency + 
0.13451509125058 * S_Teenhome ;
2141404   +   H11  = H11  +     1.35675382808415 * AcceptedCmp10
2141405   +          +    -0.11002433103629 * AcceptedCmp20  +     0.16502607393478 *
2141406   +        AcceptedCmp30  +    -0.05600642331364 * AcceptedCmp40
2141407   +          +     0.26058548958497 * AcceptedCmp50  +     0.13475990783818 *
2141408   +        Complain0  +     0.15296527049289 * HigherEducationBinary0 ;
MPRINT(EM_DIAGRAM):   H11 = H11 + 1.35675382808415 * AcceptedCmp10 + -0.11002433103629 * 
AcceptedCmp20 + 0.16502607393478 * AcceptedCmp30 + -0.05600642331364 * AcceptedCmp40 + 
0.26058548958497 * AcceptedCmp50 + 0.13475990783818 * Complain0 + 0.15296527049289 * 
HigherEducationBinary0 ;
2141409   +   H12  = H12  +     0.42439916481327 * AcceptedCmp10
2141410   +          +    -0.47117316697286 * AcceptedCmp20  +    -1.01563221321538 *
2141411   +        AcceptedCmp30  +    -1.22683651578342 * AcceptedCmp40
2141412   +          +    -0.01409161983154 * AcceptedCmp50  +    -0.17319143351034 *
2141413   +        Complain0  +     0.28531428296946 * HigherEducationBinary0 ;
MPRINT(EM_DIAGRAM):   H12 = H12 + 0.42439916481327 * AcceptedCmp10 + -0.47117316697286 * 
AcceptedCmp20 + -1.01563221321538 * AcceptedCmp30 + -1.22683651578342 * AcceptedCmp40 + 
-0.01409161983154 * AcceptedCmp50 + -0.17319143351034 * Complain0 + 0.28531428296946 * 
HigherEducationBinary0 ;
2141414   +   H13  = H13  +    -0.11940443900972 * AcceptedCmp10
2141415   +          +      0.2224729234506 * AcceptedCmp20  +     0.03960779259064 *
2141416   +        AcceptedCmp30  +    -0.04759970138444 * AcceptedCmp40
2141417   +          +     0.16012787279007 * AcceptedCmp50  +    -0.13128086861277 *
2141418   +        Complain0  +    -0.02106084686016 * HigherEducationBinary0 ;
MPRINT(EM_DIAGRAM):   H13 = H13 + -0.11940443900972 * AcceptedCmp10 + 0.2224729234506 * 
AcceptedCmp20 + 0.03960779259064 * AcceptedCmp30 + -0.04759970138444 * AcceptedCmp40 + 
0.16012787279007 * AcceptedCmp50 + -0.13128086861277 * Complain0 + -0.02106084686016 * 
HigherEducationBinary0 ;
2141419   +   H11  = H11  +     0.15724732214889 * Education2n_Cycle
2141420   +          +    -0.28073637806204 * EducationBasic  +     0.02543245889885 *
2141421   +        EducationGraduation  +    -0.21977763409467 * EducationMaster
2141422   +          +     0.18154308480365 * Marital_StatusDivorced
2141423   +          +    -0.11784929451382 * Marital_StatusMarried
2141424   +          +    -0.03444604215162 * Marital_StatusSingle
2141425   +          +    -0.09935331889933 * Marital_StatusTogether ;
MPRINT(EM_DIAGRAM):   H11 = H11 + 0.15724732214889 * Education2n_Cycle + -0.28073637806204 * 
EducationBasic + 0.02543245889885 * EducationGraduation + -0.21977763409467 * EducationMaster 
+ 0.18154308480365 * Marital_StatusDivorced + -0.11784929451382 * Marital_StatusMarried + 
-0.03444604215162 * Marital_StatusSingle + -0.09935331889933 * Marital_StatusTogether ;
2141426   +   H12  = H12  +    -0.09625341975755 * Education2n_Cycle
2141427   +          +     0.22223800760549 * EducationBasic  +     0.08854547546091 *
2141428   +        EducationGraduation  +    -0.24475078378526 * EducationMaster
2141429   +          +      -0.287562557272 * Marital_StatusDivorced
2141430   +          +    -0.76767006991581 * Marital_StatusMarried
2141431   +          +     0.77400843024053 * Marital_StatusSingle
2141432   +          +    -0.82922593841016 * Marital_StatusTogether ;
MPRINT(EM_DIAGRAM):   H12 = H12 + -0.09625341975755 * Education2n_Cycle + 0.22223800760549 * 
EducationBasic + 0.08854547546091 * EducationGraduation + -0.24475078378526 * EducationMaster 
+ -0.287562557272 * Marital_StatusDivorced + -0.76767006991581 * Marital_StatusMarried + 
0.77400843024053 * Marital_StatusSingle + -0.82922593841016 * Marital_StatusTogether ;
2141433   +   H13  = H13  +    -0.26037905844091 * Education2n_Cycle
2141434   +          +     0.28758815759567 * EducationBasic  +    -0.08361705669925 *
2141435   +        EducationGraduation  +     0.21183311472173 * EducationMaster
2141436   +          +    -0.34952991031177 * Marital_StatusDivorced
2141437   +          +     0.12643424122152 * Marital_StatusMarried
2141438   +          +     0.01053756602964 * Marital_StatusSingle
2141439   +          +     0.09967720854979 * Marital_StatusTogether ;
MPRINT(EM_DIAGRAM):   H13 = H13 + -0.26037905844091 * Education2n_Cycle + 0.28758815759567 * 
EducationBasic + -0.08361705669925 * EducationGraduation + 0.21183311472173 * EducationMaster 
+ -0.34952991031177 * Marital_StatusDivorced + 0.12643424122152 * Marital_StatusMarried + 
0.01053756602964 * Marital_StatusSingle + 0.09967720854979 * Marital_StatusTogether ;
2141440   +   H11  =    -1.18043244750249 + H11 ;
MPRINT(EM_DIAGRAM):   H11 = -1.18043244750249 + H11 ;
2141441   +   H12  =    -0.93677267255394 + H12 ;
MPRINT(EM_DIAGRAM):   H12 = -0.93677267255394 + H12 ;
2141442   +   H13  =    -0.12554919906064 + H13 ;
MPRINT(EM_DIAGRAM):   H13 = -0.12554919906064 + H13 ;
2141443   +   H11  = TANH(H11 );
MPRINT(EM_DIAGRAM):   H11 = TANH(H11 );
2141444   +   H12  = TANH(H12 );
MPRINT(EM_DIAGRAM):   H12 = TANH(H12 );
2141445   +   H13  = TANH(H13 );
MPRINT(EM_DIAGRAM):   H13 = TANH(H13 );
2141446   +END;
MPRINT(EM_DIAGRAM):   END;
2141447   +ELSE DO;
MPRINT(EM_DIAGRAM):   ELSE DO;
2141448   +   H11  = .;
MPRINT(EM_DIAGRAM):   H11 = .;
2141449   +   H12  = .;
MPRINT(EM_DIAGRAM):   H12 = .;
2141450   +   H13  = .;
MPRINT(EM_DIAGRAM):   H13 = .;
2141451   +END;
MPRINT(EM_DIAGRAM):   END;
2141452   +*** *************************;
MPRINT(EM_DIAGRAM):   *** *************************;
2141453   +*** Writing the Node DepVar ;
MPRINT(EM_DIAGRAM):   *** Writing the Node DepVar ;
2141454   +*** *************************;
MPRINT(EM_DIAGRAM):   *** *************************;
2141455   +
2141456   +*** Generate dummy variables for DepVar ;
MPRINT(EM_DIAGRAM):   *** Generate dummy variables for DepVar ;
2141457   +drop DepVar1 DepVar0 ;
MPRINT(EM_DIAGRAM):   drop DepVar1 DepVar0 ;
2141458   +label F_DepVar = 'From: DepVar' ;
MPRINT(EM_DIAGRAM):   label F_DepVar = 'From: DepVar' ;
2141459   +length F_DepVar $ 12;
MPRINT(EM_DIAGRAM):   length F_DepVar $ 12;
2141460   +F_DepVar = put( DepVar , BEST. );
MPRINT(EM_DIAGRAM):   F_DepVar = put( DepVar , BEST. );
2141461   +%DMNORMIP( F_DepVar )
MPRINT(DMNORMIP):   call dmnorm(F_DepVar,
MPRINT(DMNORLEN):  32
MPRINT(DMNORMIP):  );
2141462   +if missing( DepVar ) then do;
MPRINT(EM_DIAGRAM):   if missing( DepVar ) then do;
2141463   +   DepVar1 = .;
MPRINT(EM_DIAGRAM):   DepVar1 = .;
2141464   +   DepVar0 = .;
MPRINT(EM_DIAGRAM):   DepVar0 = .;
2141465   +end;
MPRINT(EM_DIAGRAM):   end;
2141466   +else do;
MPRINT(EM_DIAGRAM):   else do;
2141467   +   if F_DepVar = '0'  then do;
MPRINT(EM_DIAGRAM):   if F_DepVar = '0' then do;
2141468   +      DepVar1 = 0;
MPRINT(EM_DIAGRAM):   DepVar1 = 0;
2141469   +      DepVar0 = 1;
MPRINT(EM_DIAGRAM):   DepVar0 = 1;
2141470   +   end;
MPRINT(EM_DIAGRAM):   end;
2141471   +   else if F_DepVar = '1'  then do;
MPRINT(EM_DIAGRAM):   else if F_DepVar = '1' then do;
2141472   +      DepVar1 = 1;
MPRINT(EM_DIAGRAM):   DepVar1 = 1;
2141473   +      DepVar0 = 0;
MPRINT(EM_DIAGRAM):   DepVar0 = 0;
2141474   +   end;
MPRINT(EM_DIAGRAM):   end;
2141475   +   else do;
MPRINT(EM_DIAGRAM):   else do;
2141476   +      DepVar1 = .;
MPRINT(EM_DIAGRAM):   DepVar1 = .;
2141477   +      DepVar0 = .;
MPRINT(EM_DIAGRAM):   DepVar0 = .;
2141478   +   end;
MPRINT(EM_DIAGRAM):   end;
2141479   +end;
MPRINT(EM_DIAGRAM):   end;
2141480   +IF _DM_BAD EQ 0 THEN DO;
MPRINT(EM_DIAGRAM):   IF _DM_BAD EQ 0 THEN DO;
2141481   +   P_DepVar1  =    -5.01943942685766 * H11  +      5.1452509354081 * H12
2141482   +          +     -6.1441433712978 * H13 ;
MPRINT(EM_DIAGRAM):   P_DepVar1 = -5.01943942685766 * H11 + 5.1452509354081 * H12 + 
-6.1441433712978 * H13 ;
2141483   +   P_DepVar1  =    -0.23070454336851 + P_DepVar1 ;
MPRINT(EM_DIAGRAM):   P_DepVar1 = -0.23070454336851 + P_DepVar1 ;
2141484   +   P_DepVar0  = 0;
MPRINT(EM_DIAGRAM):   P_DepVar0 = 0;
2141485   +   _MAX_ = MAX (P_DepVar1 , P_DepVar0 );
MPRINT(EM_DIAGRAM):   _MAX_ = MAX (P_DepVar1 , P_DepVar0 );
2141486   +   _SUM_ = 0.;
MPRINT(EM_DIAGRAM):   _SUM_ = 0.;
2141487   +   P_DepVar1  = EXP(P_DepVar1  - _MAX_);
MPRINT(EM_DIAGRAM):   P_DepVar1 = EXP(P_DepVar1 - _MAX_);
2141488   +   _SUM_ = _SUM_ + P_DepVar1 ;
MPRINT(EM_DIAGRAM):   _SUM_ = _SUM_ + P_DepVar1 ;
2141489   +   P_DepVar0  = EXP(P_DepVar0  - _MAX_);
MPRINT(EM_DIAGRAM):   P_DepVar0 = EXP(P_DepVar0 - _MAX_);
2141490   +   _SUM_ = _SUM_ + P_DepVar0 ;
MPRINT(EM_DIAGRAM):   _SUM_ = _SUM_ + P_DepVar0 ;
2141491   +   P_DepVar1  = P_DepVar1  / _SUM_;
MPRINT(EM_DIAGRAM):   P_DepVar1 = P_DepVar1 / _SUM_;
2141492   +   P_DepVar0  = P_DepVar0  / _SUM_;
MPRINT(EM_DIAGRAM):   P_DepVar0 = P_DepVar0 / _SUM_;
2141493   +END;
MPRINT(EM_DIAGRAM):   END;
2141494   +ELSE DO;
MPRINT(EM_DIAGRAM):   ELSE DO;
2141495   +   P_DepVar1  = .;
MPRINT(EM_DIAGRAM):   P_DepVar1 = .;
2141496   +   P_DepVar0  = .;
MPRINT(EM_DIAGRAM):   P_DepVar0 = .;
2141497   +END;
MPRINT(EM_DIAGRAM):   END;
2141498   +IF _DM_BAD EQ 1 THEN DO;
MPRINT(EM_DIAGRAM):   IF _DM_BAD EQ 1 THEN DO;
2141499   +   P_DepVar1  =     0.15122156697556;
MPRINT(EM_DIAGRAM):   P_DepVar1 = 0.15122156697556;
2141500   +   P_DepVar0  =     0.84877843302443;
MPRINT(EM_DIAGRAM):   P_DepVar0 = 0.84877843302443;
2141501   +END;
MPRINT(EM_DIAGRAM):   END;
2141502   +*** *****************************;
MPRINT(EM_DIAGRAM):   *** *****************************;
2141503   +*** Writing the Residuals  of the Node DepVar ;
MPRINT(EM_DIAGRAM):   *** Writing the Residuals of the Node DepVar ;
2141504   +*** ******************************;
MPRINT(EM_DIAGRAM):   *** ******************************;
2141505   +IF MISSING( DepVar1 ) THEN R_DepVar1  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( DepVar1 ) THEN R_DepVar1 = . ;
2141506   +ELSE R_DepVar1  = DepVar1  - P_DepVar1 ;
MPRINT(EM_DIAGRAM):   ELSE R_DepVar1 = DepVar1 - P_DepVar1 ;
2141507   +IF MISSING( DepVar0 ) THEN R_DepVar0  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( DepVar0 ) THEN R_DepVar0 = . ;
2141508   +ELSE R_DepVar0  = DepVar0  - P_DepVar0 ;
MPRINT(EM_DIAGRAM):   ELSE R_DepVar0 = DepVar0 - P_DepVar0 ;
2141509   +*** *************************;
MPRINT(EM_DIAGRAM):   *** *************************;
2141510   +*** Writing the I_DepVar  AND U_DepVar ;
MPRINT(EM_DIAGRAM):   *** Writing the I_DepVar AND U_DepVar ;
2141511   +*** *************************;
MPRINT(EM_DIAGRAM):   *** *************************;
2141512   +_MAXP_ = P_DepVar1 ;
MPRINT(EM_DIAGRAM):   _MAXP_ = P_DepVar1 ;
2141513   +I_DepVar  = "1           " ;
MPRINT(EM_DIAGRAM):   I_DepVar = "1           " ;
2141514   +U_DepVar  =                    1;
MPRINT(EM_DIAGRAM):   U_DepVar = 1;
2141515   +IF( _MAXP_ LT P_DepVar0  ) THEN DO;
MPRINT(EM_DIAGRAM):   IF( _MAXP_ LT P_DepVar0 ) THEN DO;
2141516   +   _MAXP_ = P_DepVar0 ;
MPRINT(EM_DIAGRAM):   _MAXP_ = P_DepVar0 ;
2141517   +   I_DepVar  = "0           " ;
MPRINT(EM_DIAGRAM):   I_DepVar = "0           " ;
2141518   +   U_DepVar  =                    0;
MPRINT(EM_DIAGRAM):   U_DepVar = 0;
2141519   +END;
MPRINT(EM_DIAGRAM):   END;
2141520   +********************************;
MPRINT(EM_DIAGRAM):   ********************************;
2141521   +*** End Scoring Code for Neural;
MPRINT(EM_DIAGRAM):   *** End Scoring Code for Neural;
2141522   +********************************;
MPRINT(EM_DIAGRAM):   ********************************;
2141523   +drop
2141524   +H11
2141525   +H12
2141526   +H13
2141527   +;
MPRINT(EM_DIAGRAM):   drop H11 H12 H13 ;
2141528   +drop S_:;
MPRINT(EM_DIAGRAM):   drop S_:;
2141529   +* Renaming variables for Neural38;
MPRINT(EM_DIAGRAM):   * Renaming variables for Neural38;
2141530   +*------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
2141531   +* Renaming Posterior variables for Neural38;
MPRINT(EM_DIAGRAM):   * Renaming Posterior variables for Neural38;
2141532   +*------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
2141533   +drop Neural38_P_DepVar1;
MPRINT(EM_DIAGRAM):   drop Neural38_P_DepVar1;
2141534   +Neural38_P_DepVar1 = P_DepVar1;
MPRINT(EM_DIAGRAM):   Neural38_P_DepVar1 = P_DepVar1;
2141535   +drop Neural38_P_DepVar0;
MPRINT(EM_DIAGRAM):   drop Neural38_P_DepVar0;
2141536   +Neural38_P_DepVar0 = P_DepVar0;
MPRINT(EM_DIAGRAM):   Neural38_P_DepVar0 = P_DepVar0;
2141537   +*------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
2141538   +* Renaming _WARN_ variable for Neural38;
MPRINT(EM_DIAGRAM):   * Renaming _WARN_ variable for Neural38;
2141539   +*------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
2141540   +length Neural38_WARN_ $4;
MPRINT(EM_DIAGRAM):   length Neural38_WARN_ $4;
2141541   +drop Neural38_WARN_;
MPRINT(EM_DIAGRAM):   drop Neural38_WARN_;
2141542   +Neural38_WARN_ = _WARN_;
MPRINT(EM_DIAGRAM):   Neural38_WARN_ = _WARN_;
2141543   +*------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
2141544   +* Ensmbl23: Scoring Code of model 5 of 5;
MPRINT(EM_DIAGRAM):   * Ensmbl23: Scoring Code of model 5 of 5;
2141545   +*------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
2141546   +*------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
2141547   +* TOOL: Neural;
MPRINT(EM_DIAGRAM):   * TOOL: Neural;
2141548   +* TYPE: MODEL;
MPRINT(EM_DIAGRAM):   * TYPE: MODEL;
2141549   +* NODE: Neural37;
MPRINT(EM_DIAGRAM):   * NODE: Neural37;
2141550   +*------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
2141551   +***********************************;
MPRINT(EM_DIAGRAM):   ***********************************;
2141552   +*** Begin Scoring Code for Neural;
MPRINT(EM_DIAGRAM):   *** Begin Scoring Code for Neural;
2141553   +***********************************;
MPRINT(EM_DIAGRAM):   ***********************************;
2141554   +DROP _DM_BAD _EPS _NOCL_ _MAX_ _MAXP_ _SUM_ _NTRIALS;
MPRINT(EM_DIAGRAM):   DROP _DM_BAD _EPS _NOCL_ _MAX_ _MAXP_ _SUM_ _NTRIALS;
2141555   + _DM_BAD = 0;
MPRINT(EM_DIAGRAM):   _DM_BAD = 0;
2141556   + _NOCL_ = .;
MPRINT(EM_DIAGRAM):   _NOCL_ = .;
2141557   + _MAX_ = .;
MPRINT(EM_DIAGRAM):   _MAX_ = .;
2141558   + _MAXP_ = .;
MPRINT(EM_DIAGRAM):   _MAXP_ = .;
2141559   + _SUM_ = .;
MPRINT(EM_DIAGRAM):   _SUM_ = .;
2141560   + _NTRIALS = .;
MPRINT(EM_DIAGRAM):   _NTRIALS = .;
2141561   + _EPS =                1E-10;
MPRINT(EM_DIAGRAM):   _EPS = 1E-10;
2141562   +LENGTH _WARN_ $4
2141563   +      F_DepVar  $ 12
2141564   +;
MPRINT(EM_DIAGRAM):   LENGTH _WARN_ $4 F_DepVar $ 12 ;
2141565   +      label S_AcceptedCmpTotal = 'Standard: AcceptedCmpTotal' ;
MPRINT(EM_DIAGRAM):   label S_AcceptedCmpTotal = 'Standard: AcceptedCmpTotal' ;
2141566   +
2141567   +      label S_Age = 'Standard: Age' ;
MPRINT(EM_DIAGRAM):   label S_Age = 'Standard: Age' ;
2141568   +
2141569   +      label S_Frq = 'Standard: Frq' ;
MPRINT(EM_DIAGRAM):   label S_Frq = 'Standard: Frq' ;
2141570   +
2141571   +      label S_Income = 'Standard: Income' ;
MPRINT(EM_DIAGRAM):   label S_Income = 'Standard: Income' ;
2141572   +
2141573   +      label S_Kidhome = 'Standard: Kidhome' ;
MPRINT(EM_DIAGRAM):   label S_Kidhome = 'Standard: Kidhome' ;
2141574   +
2141575   +      label S_MntFishProducts = 'Standard: MntFishProducts' ;
MPRINT(EM_DIAGRAM):   label S_MntFishProducts = 'Standard: MntFishProducts' ;
2141576   +
2141577   +      label S_MntFruits = 'Standard: MntFruits' ;
MPRINT(EM_DIAGRAM):   label S_MntFruits = 'Standard: MntFruits' ;
2141578   +
2141579   +      label S_MntGoldProds = 'Standard: MntGoldProds' ;
MPRINT(EM_DIAGRAM):   label S_MntGoldProds = 'Standard: MntGoldProds' ;
2141580   +
2141581   +      label S_MntSweetProducts = 'Standard: MntSweetProducts' ;
MPRINT(EM_DIAGRAM):   label S_MntSweetProducts = 'Standard: MntSweetProducts' ;
2141582   +
2141583   +      label S_MonthsAsCustomer = 'Standard: MonthsAsCustomer' ;
MPRINT(EM_DIAGRAM):   label S_MonthsAsCustomer = 'Standard: MonthsAsCustomer' ;
2141584   +
2141585   +      label S_NumDealsPurchases = 'Standard: NumDealsPurchases' ;
MPRINT(EM_DIAGRAM):   label S_NumDealsPurchases = 'Standard: NumDealsPurchases' ;
2141586   +
2141587   +      label S_NumWebVisitsMonth = 'Standard: NumWebVisitsMonth' ;
MPRINT(EM_DIAGRAM):   label S_NumWebVisitsMonth = 'Standard: NumWebVisitsMonth' ;
2141588   +
2141589   +      label S_RFMstat = 'Standard: RFMstat' ;
MPRINT(EM_DIAGRAM):   label S_RFMstat = 'Standard: RFMstat' ;
2141590   +
2141591   +      label S_RMntFrq = 'Standard: RMntFrq' ;
MPRINT(EM_DIAGRAM):   label S_RMntFrq = 'Standard: RMntFrq' ;
2141592   +
2141593   +      label S_Recency = 'Standard: Recency' ;
MPRINT(EM_DIAGRAM):   label S_Recency = 'Standard: Recency' ;
2141594   +
2141595   +      label S_Teenhome = 'Standard: Teenhome' ;
MPRINT(EM_DIAGRAM):   label S_Teenhome = 'Standard: Teenhome' ;
2141596   +
2141597   +      label AcceptedCmp10 = 'Dummy: AcceptedCmp1=0' ;
MPRINT(EM_DIAGRAM):   label AcceptedCmp10 = 'Dummy: AcceptedCmp1=0' ;
2141598   +
2141599   +      label AcceptedCmp20 = 'Dummy: AcceptedCmp2=0' ;
MPRINT(EM_DIAGRAM):   label AcceptedCmp20 = 'Dummy: AcceptedCmp2=0' ;
2141600   +
2141601   +      label AcceptedCmp30 = 'Dummy: AcceptedCmp3=0' ;
MPRINT(EM_DIAGRAM):   label AcceptedCmp30 = 'Dummy: AcceptedCmp3=0' ;
2141602   +
2141603   +      label AcceptedCmp40 = 'Dummy: AcceptedCmp4=0' ;
MPRINT(EM_DIAGRAM):   label AcceptedCmp40 = 'Dummy: AcceptedCmp4=0' ;
2141604   +
2141605   +      label AcceptedCmp50 = 'Dummy: AcceptedCmp5=0' ;
MPRINT(EM_DIAGRAM):   label AcceptedCmp50 = 'Dummy: AcceptedCmp5=0' ;
2141606   +
2141607   +      label Complain0 = 'Dummy: Complain=0' ;
MPRINT(EM_DIAGRAM):   label Complain0 = 'Dummy: Complain=0' ;
2141608   +
2141609   +      label HigherEducationBinary0 = 'Dummy: HigherEducationBinary=0' ;
MPRINT(EM_DIAGRAM):   label HigherEducationBinary0 = 'Dummy: HigherEducationBinary=0' ;
2141610   +
2141611   +      label Education2n_Cycle = 'Dummy: Education=2n Cycle' ;
MPRINT(EM_DIAGRAM):   label Education2n_Cycle = 'Dummy: Education=2n Cycle' ;
2141612   +
2141613   +      label EducationBasic = 'Dummy: Education=Basic' ;
MPRINT(EM_DIAGRAM):   label EducationBasic = 'Dummy: Education=Basic' ;
2141614   +
2141615   +      label EducationGraduation = 'Dummy: Education=Graduation' ;
MPRINT(EM_DIAGRAM):   label EducationGraduation = 'Dummy: Education=Graduation' ;
2141616   +
2141617   +      label EducationMaster = 'Dummy: Education=Master' ;
MPRINT(EM_DIAGRAM):   label EducationMaster = 'Dummy: Education=Master' ;
2141618   +
2141619   +      label Marital_StatusDivorced = 'Dummy: Marital_Status=Divorced' ;
MPRINT(EM_DIAGRAM):   label Marital_StatusDivorced = 'Dummy: Marital_Status=Divorced' ;
2141620   +
2141621   +      label Marital_StatusMarried = 'Dummy: Marital_Status=Married' ;
MPRINT(EM_DIAGRAM):   label Marital_StatusMarried = 'Dummy: Marital_Status=Married' ;
2141622   +
2141623   +      label Marital_StatusSingle = 'Dummy: Marital_Status=Single' ;
MPRINT(EM_DIAGRAM):   label Marital_StatusSingle = 'Dummy: Marital_Status=Single' ;
2141624   +
2141625   +      label Marital_StatusTogether = 'Dummy: Marital_Status=Together' ;
MPRINT(EM_DIAGRAM):   label Marital_StatusTogether = 'Dummy: Marital_Status=Together' ;
2141626   +
2141627   +      label H11 = 'Hidden: H1=1' ;
MPRINT(EM_DIAGRAM):   label H11 = 'Hidden: H1=1' ;
2141628   +
2141629   +      label H12 = 'Hidden: H1=2' ;
MPRINT(EM_DIAGRAM):   label H12 = 'Hidden: H1=2' ;
2141630   +
2141631   +      label I_DepVar = 'Into: DepVar' ;
MPRINT(EM_DIAGRAM):   label I_DepVar = 'Into: DepVar' ;
2141632   +
2141633   +      label F_DepVar = 'From: DepVar' ;
MPRINT(EM_DIAGRAM):   label F_DepVar = 'From: DepVar' ;
2141634   +
2141635   +      label U_DepVar = 'Unnormalized Into: DepVar' ;
MPRINT(EM_DIAGRAM):   label U_DepVar = 'Unnormalized Into: DepVar' ;
2141636   +
2141637   +      label P_DepVar1 = 'Predicted: DepVar=1' ;
MPRINT(EM_DIAGRAM):   label P_DepVar1 = 'Predicted: DepVar=1' ;
2141638   +
2141639   +      label R_DepVar1 = 'Residual: DepVar=1' ;
MPRINT(EM_DIAGRAM):   label R_DepVar1 = 'Residual: DepVar=1' ;
2141640   +
2141641   +      label P_DepVar0 = 'Predicted: DepVar=0' ;
MPRINT(EM_DIAGRAM):   label P_DepVar0 = 'Predicted: DepVar=0' ;
2141642   +
2141643   +      label R_DepVar0 = 'Residual: DepVar=0' ;
MPRINT(EM_DIAGRAM):   label R_DepVar0 = 'Residual: DepVar=0' ;
2141644   +
2141645   +      label  _WARN_ = "Warnings";
MPRINT(EM_DIAGRAM):   label _WARN_ = "Warnings";
2141646   +
2141647   +*** Generate dummy variables for AcceptedCmp1 ;
MPRINT(EM_DIAGRAM):   *** Generate dummy variables for AcceptedCmp1 ;
2141648   +drop AcceptedCmp10 ;
MPRINT(EM_DIAGRAM):   drop AcceptedCmp10 ;
2141649   +if missing( AcceptedCmp1 ) then do;
MPRINT(EM_DIAGRAM):   if missing( AcceptedCmp1 ) then do;
2141650   +   AcceptedCmp10 = .;
MPRINT(EM_DIAGRAM):   AcceptedCmp10 = .;
2141651   +   substr(_warn_,1,1) = 'M';
MPRINT(EM_DIAGRAM):   substr(_warn_,1,1) = 'M';
2141652   +   _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2141653   +end;
MPRINT(EM_DIAGRAM):   end;
2141654   +else do;
MPRINT(EM_DIAGRAM):   else do;
2141655   +   length _dm12 $ 12; drop _dm12 ;
MPRINT(EM_DIAGRAM):   length _dm12 $ 12;
MPRINT(EM_DIAGRAM):   drop _dm12 ;
2141656   +   _dm12 = put( AcceptedCmp1 , BEST. );
MPRINT(EM_DIAGRAM):   _dm12 = put( AcceptedCmp1 , BEST. );
2141657   +   %DMNORMIP( _dm12 )
MPRINT(DMNORMIP):   call dmnorm(_dm12,
MPRINT(DMNORLEN):  32
MPRINT(DMNORMIP):  );
2141658   +   if _dm12 = '0'  then do;
MPRINT(EM_DIAGRAM):   if _dm12 = '0' then do;
2141659   +      AcceptedCmp10 = 1;
MPRINT(EM_DIAGRAM):   AcceptedCmp10 = 1;
2141660   +   end;
MPRINT(EM_DIAGRAM):   end;
2141661   +   else if _dm12 = '1'  then do;
MPRINT(EM_DIAGRAM):   else if _dm12 = '1' then do;
2141662   +      AcceptedCmp10 = -1;
MPRINT(EM_DIAGRAM):   AcceptedCmp10 = -1;
2141663   +   end;
MPRINT(EM_DIAGRAM):   end;
2141664   +   else do;
MPRINT(EM_DIAGRAM):   else do;
2141665   +      AcceptedCmp10 = .;
MPRINT(EM_DIAGRAM):   AcceptedCmp10 = .;
2141666   +      substr(_warn_,2,1) = 'U';
MPRINT(EM_DIAGRAM):   substr(_warn_,2,1) = 'U';
2141667   +      _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2141668   +   end;
MPRINT(EM_DIAGRAM):   end;
2141669   +end;
MPRINT(EM_DIAGRAM):   end;
2141670   +
2141671   +*** Generate dummy variables for AcceptedCmp2 ;
MPRINT(EM_DIAGRAM):   *** Generate dummy variables for AcceptedCmp2 ;
2141672   +drop AcceptedCmp20 ;
MPRINT(EM_DIAGRAM):   drop AcceptedCmp20 ;
2141673   +if missing( AcceptedCmp2 ) then do;
MPRINT(EM_DIAGRAM):   if missing( AcceptedCmp2 ) then do;
2141674   +   AcceptedCmp20 = .;
MPRINT(EM_DIAGRAM):   AcceptedCmp20 = .;
2141675   +   substr(_warn_,1,1) = 'M';
MPRINT(EM_DIAGRAM):   substr(_warn_,1,1) = 'M';
2141676   +   _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2141677   +end;
MPRINT(EM_DIAGRAM):   end;
2141678   +else do;
MPRINT(EM_DIAGRAM):   else do;
2141679   +   length _dm12 $ 12; drop _dm12 ;
MPRINT(EM_DIAGRAM):   length _dm12 $ 12;
MPRINT(EM_DIAGRAM):   drop _dm12 ;
2141680   +   _dm12 = put( AcceptedCmp2 , BEST. );
MPRINT(EM_DIAGRAM):   _dm12 = put( AcceptedCmp2 , BEST. );
2141681   +   %DMNORMIP( _dm12 )
MPRINT(DMNORMIP):   call dmnorm(_dm12,
MPRINT(DMNORLEN):  32
MPRINT(DMNORMIP):  );
2141682   +   if _dm12 = '0'  then do;
MPRINT(EM_DIAGRAM):   if _dm12 = '0' then do;
2141683   +      AcceptedCmp20 = 1;
MPRINT(EM_DIAGRAM):   AcceptedCmp20 = 1;
2141684   +   end;
MPRINT(EM_DIAGRAM):   end;
2141685   +   else if _dm12 = '1'  then do;
MPRINT(EM_DIAGRAM):   else if _dm12 = '1' then do;
2141686   +      AcceptedCmp20 = -1;
MPRINT(EM_DIAGRAM):   AcceptedCmp20 = -1;
2141687   +   end;
MPRINT(EM_DIAGRAM):   end;
2141688   +   else do;
MPRINT(EM_DIAGRAM):   else do;
2141689   +      AcceptedCmp20 = .;
MPRINT(EM_DIAGRAM):   AcceptedCmp20 = .;
2141690   +      substr(_warn_,2,1) = 'U';
MPRINT(EM_DIAGRAM):   substr(_warn_,2,1) = 'U';
2141691   +      _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2141692   +   end;
MPRINT(EM_DIAGRAM):   end;
2141693   +end;
MPRINT(EM_DIAGRAM):   end;
2141694   +
2141695   +*** Generate dummy variables for AcceptedCmp3 ;
MPRINT(EM_DIAGRAM):   *** Generate dummy variables for AcceptedCmp3 ;
2141696   +drop AcceptedCmp30 ;
MPRINT(EM_DIAGRAM):   drop AcceptedCmp30 ;
2141697   +if missing( AcceptedCmp3 ) then do;
MPRINT(EM_DIAGRAM):   if missing( AcceptedCmp3 ) then do;
2141698   +   AcceptedCmp30 = .;
MPRINT(EM_DIAGRAM):   AcceptedCmp30 = .;
2141699   +   substr(_warn_,1,1) = 'M';
MPRINT(EM_DIAGRAM):   substr(_warn_,1,1) = 'M';
2141700   +   _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2141701   +end;
MPRINT(EM_DIAGRAM):   end;
2141702   +else do;
MPRINT(EM_DIAGRAM):   else do;
2141703   +   length _dm12 $ 12; drop _dm12 ;
MPRINT(EM_DIAGRAM):   length _dm12 $ 12;
MPRINT(EM_DIAGRAM):   drop _dm12 ;
2141704   +   _dm12 = put( AcceptedCmp3 , BEST. );
MPRINT(EM_DIAGRAM):   _dm12 = put( AcceptedCmp3 , BEST. );
2141705   +   %DMNORMIP( _dm12 )
MPRINT(DMNORMIP):   call dmnorm(_dm12,
MPRINT(DMNORLEN):  32
MPRINT(DMNORMIP):  );
2141706   +   if _dm12 = '0'  then do;
MPRINT(EM_DIAGRAM):   if _dm12 = '0' then do;
2141707   +      AcceptedCmp30 = 1;
MPRINT(EM_DIAGRAM):   AcceptedCmp30 = 1;
2141708   +   end;
MPRINT(EM_DIAGRAM):   end;
2141709   +   else if _dm12 = '1'  then do;
MPRINT(EM_DIAGRAM):   else if _dm12 = '1' then do;
2141710   +      AcceptedCmp30 = -1;
MPRINT(EM_DIAGRAM):   AcceptedCmp30 = -1;
2141711   +   end;
MPRINT(EM_DIAGRAM):   end;
2141712   +   else do;
MPRINT(EM_DIAGRAM):   else do;
2141713   +      AcceptedCmp30 = .;
MPRINT(EM_DIAGRAM):   AcceptedCmp30 = .;
2141714   +      substr(_warn_,2,1) = 'U';
MPRINT(EM_DIAGRAM):   substr(_warn_,2,1) = 'U';
2141715   +      _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2141716   +   end;
MPRINT(EM_DIAGRAM):   end;
2141717   +end;
MPRINT(EM_DIAGRAM):   end;
2141718   +
2141719   +*** Generate dummy variables for AcceptedCmp4 ;
MPRINT(EM_DIAGRAM):   *** Generate dummy variables for AcceptedCmp4 ;
2141720   +drop AcceptedCmp40 ;
MPRINT(EM_DIAGRAM):   drop AcceptedCmp40 ;
2141721   +if missing( AcceptedCmp4 ) then do;
MPRINT(EM_DIAGRAM):   if missing( AcceptedCmp4 ) then do;
2141722   +   AcceptedCmp40 = .;
MPRINT(EM_DIAGRAM):   AcceptedCmp40 = .;
2141723   +   substr(_warn_,1,1) = 'M';
MPRINT(EM_DIAGRAM):   substr(_warn_,1,1) = 'M';
2141724   +   _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2141725   +end;
MPRINT(EM_DIAGRAM):   end;
2141726   +else do;
MPRINT(EM_DIAGRAM):   else do;
2141727   +   length _dm12 $ 12; drop _dm12 ;
MPRINT(EM_DIAGRAM):   length _dm12 $ 12;
MPRINT(EM_DIAGRAM):   drop _dm12 ;
2141728   +   _dm12 = put( AcceptedCmp4 , BEST. );
MPRINT(EM_DIAGRAM):   _dm12 = put( AcceptedCmp4 , BEST. );
2141729   +   %DMNORMIP( _dm12 )
MPRINT(DMNORMIP):   call dmnorm(_dm12,
MPRINT(DMNORLEN):  32
MPRINT(DMNORMIP):  );
2141730   +   if _dm12 = '0'  then do;
MPRINT(EM_DIAGRAM):   if _dm12 = '0' then do;
2141731   +      AcceptedCmp40 = 1;
MPRINT(EM_DIAGRAM):   AcceptedCmp40 = 1;
2141732   +   end;
MPRINT(EM_DIAGRAM):   end;
2141733   +   else if _dm12 = '1'  then do;
MPRINT(EM_DIAGRAM):   else if _dm12 = '1' then do;
2141734   +      AcceptedCmp40 = -1;
MPRINT(EM_DIAGRAM):   AcceptedCmp40 = -1;
2141735   +   end;
MPRINT(EM_DIAGRAM):   end;
2141736   +   else do;
MPRINT(EM_DIAGRAM):   else do;
2141737   +      AcceptedCmp40 = .;
MPRINT(EM_DIAGRAM):   AcceptedCmp40 = .;
2141738   +      substr(_warn_,2,1) = 'U';
MPRINT(EM_DIAGRAM):   substr(_warn_,2,1) = 'U';
2141739   +      _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2141740   +   end;
MPRINT(EM_DIAGRAM):   end;
2141741   +end;
MPRINT(EM_DIAGRAM):   end;
2141742   +
2141743   +*** Generate dummy variables for AcceptedCmp5 ;
MPRINT(EM_DIAGRAM):   *** Generate dummy variables for AcceptedCmp5 ;
2141744   +drop AcceptedCmp50 ;
MPRINT(EM_DIAGRAM):   drop AcceptedCmp50 ;
2141745   +if missing( AcceptedCmp5 ) then do;
MPRINT(EM_DIAGRAM):   if missing( AcceptedCmp5 ) then do;
2141746   +   AcceptedCmp50 = .;
MPRINT(EM_DIAGRAM):   AcceptedCmp50 = .;
2141747   +   substr(_warn_,1,1) = 'M';
MPRINT(EM_DIAGRAM):   substr(_warn_,1,1) = 'M';
2141748   +   _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2141749   +end;
MPRINT(EM_DIAGRAM):   end;
2141750   +else do;
MPRINT(EM_DIAGRAM):   else do;
2141751   +   length _dm12 $ 12; drop _dm12 ;
MPRINT(EM_DIAGRAM):   length _dm12 $ 12;
MPRINT(EM_DIAGRAM):   drop _dm12 ;
2141752   +   _dm12 = put( AcceptedCmp5 , BEST. );
MPRINT(EM_DIAGRAM):   _dm12 = put( AcceptedCmp5 , BEST. );
2141753   +   %DMNORMIP( _dm12 )
MPRINT(DMNORMIP):   call dmnorm(_dm12,
MPRINT(DMNORLEN):  32
MPRINT(DMNORMIP):  );
2141754   +   if _dm12 = '0'  then do;
MPRINT(EM_DIAGRAM):   if _dm12 = '0' then do;
2141755   +      AcceptedCmp50 = 1;
MPRINT(EM_DIAGRAM):   AcceptedCmp50 = 1;
2141756   +   end;
MPRINT(EM_DIAGRAM):   end;
2141757   +   else if _dm12 = '1'  then do;
MPRINT(EM_DIAGRAM):   else if _dm12 = '1' then do;
2141758   +      AcceptedCmp50 = -1;
MPRINT(EM_DIAGRAM):   AcceptedCmp50 = -1;
2141759   +   end;
MPRINT(EM_DIAGRAM):   end;
2141760   +   else do;
MPRINT(EM_DIAGRAM):   else do;
2141761   +      AcceptedCmp50 = .;
MPRINT(EM_DIAGRAM):   AcceptedCmp50 = .;
2141762   +      substr(_warn_,2,1) = 'U';
MPRINT(EM_DIAGRAM):   substr(_warn_,2,1) = 'U';
2141763   +      _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2141764   +   end;
MPRINT(EM_DIAGRAM):   end;
2141765   +end;
MPRINT(EM_DIAGRAM):   end;
2141766   +
2141767   +*** Generate dummy variables for Complain ;
MPRINT(EM_DIAGRAM):   *** Generate dummy variables for Complain ;
2141768   +drop Complain0 ;
MPRINT(EM_DIAGRAM):   drop Complain0 ;
2141769   +if missing( Complain ) then do;
MPRINT(EM_DIAGRAM):   if missing( Complain ) then do;
2141770   +   Complain0 = .;
MPRINT(EM_DIAGRAM):   Complain0 = .;
2141771   +   substr(_warn_,1,1) = 'M';
MPRINT(EM_DIAGRAM):   substr(_warn_,1,1) = 'M';
2141772   +   _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2141773   +end;
MPRINT(EM_DIAGRAM):   end;
2141774   +else do;
MPRINT(EM_DIAGRAM):   else do;
2141775   +   length _dm12 $ 12; drop _dm12 ;
MPRINT(EM_DIAGRAM):   length _dm12 $ 12;
MPRINT(EM_DIAGRAM):   drop _dm12 ;
2141776   +   _dm12 = put( Complain , BEST. );
MPRINT(EM_DIAGRAM):   _dm12 = put( Complain , BEST. );
2141777   +   %DMNORMIP( _dm12 )
MPRINT(DMNORMIP):   call dmnorm(_dm12,
MPRINT(DMNORLEN):  32
MPRINT(DMNORMIP):  );
2141778   +   if _dm12 = '0'  then do;
MPRINT(EM_DIAGRAM):   if _dm12 = '0' then do;
2141779   +      Complain0 = 1;
MPRINT(EM_DIAGRAM):   Complain0 = 1;
2141780   +   end;
MPRINT(EM_DIAGRAM):   end;
2141781   +   else if _dm12 = '1'  then do;
MPRINT(EM_DIAGRAM):   else if _dm12 = '1' then do;
2141782   +      Complain0 = -1;
MPRINT(EM_DIAGRAM):   Complain0 = -1;
2141783   +   end;
MPRINT(EM_DIAGRAM):   end;
2141784   +   else do;
MPRINT(EM_DIAGRAM):   else do;
2141785   +      Complain0 = .;
MPRINT(EM_DIAGRAM):   Complain0 = .;
2141786   +      substr(_warn_,2,1) = 'U';
MPRINT(EM_DIAGRAM):   substr(_warn_,2,1) = 'U';
2141787   +      _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2141788   +   end;
MPRINT(EM_DIAGRAM):   end;
2141789   +end;
MPRINT(EM_DIAGRAM):   end;
2141790   +
2141791   +*** Generate dummy variables for HigherEducationBinary ;
MPRINT(EM_DIAGRAM):   *** Generate dummy variables for HigherEducationBinary ;
2141792   +drop HigherEducationBinary0 ;
MPRINT(EM_DIAGRAM):   drop HigherEducationBinary0 ;
2141793   +if missing( HigherEducationBinary ) then do;
MPRINT(EM_DIAGRAM):   if missing( HigherEducationBinary ) then do;
2141794   +   HigherEducationBinary0 = .;
MPRINT(EM_DIAGRAM):   HigherEducationBinary0 = .;
2141795   +   substr(_warn_,1,1) = 'M';
MPRINT(EM_DIAGRAM):   substr(_warn_,1,1) = 'M';
2141796   +   _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2141797   +end;
MPRINT(EM_DIAGRAM):   end;
2141798   +else do;
MPRINT(EM_DIAGRAM):   else do;
2141799   +   length _dm12 $ 12; drop _dm12 ;
MPRINT(EM_DIAGRAM):   length _dm12 $ 12;
MPRINT(EM_DIAGRAM):   drop _dm12 ;
2141800   +   _dm12 = put( HigherEducationBinary , BEST12. );
MPRINT(EM_DIAGRAM):   _dm12 = put( HigherEducationBinary , BEST12. );
2141801   +   %DMNORMIP( _dm12 )
MPRINT(DMNORMIP):   call dmnorm(_dm12,
MPRINT(DMNORLEN):  32
MPRINT(DMNORMIP):  );
2141802   +   if _dm12 = '1'  then do;
MPRINT(EM_DIAGRAM):   if _dm12 = '1' then do;
2141803   +      HigherEducationBinary0 = -1;
MPRINT(EM_DIAGRAM):   HigherEducationBinary0 = -1;
2141804   +   end;
MPRINT(EM_DIAGRAM):   end;
2141805   +   else if _dm12 = '0'  then do;
MPRINT(EM_DIAGRAM):   else if _dm12 = '0' then do;
2141806   +      HigherEducationBinary0 = 1;
MPRINT(EM_DIAGRAM):   HigherEducationBinary0 = 1;
2141807   +   end;
MPRINT(EM_DIAGRAM):   end;
2141808   +   else do;
MPRINT(EM_DIAGRAM):   else do;
2141809   +      HigherEducationBinary0 = .;
MPRINT(EM_DIAGRAM):   HigherEducationBinary0 = .;
2141810   +      substr(_warn_,2,1) = 'U';
MPRINT(EM_DIAGRAM):   substr(_warn_,2,1) = 'U';
2141811   +      _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2141812   +   end;
MPRINT(EM_DIAGRAM):   end;
2141813   +end;
MPRINT(EM_DIAGRAM):   end;
2141814   +
2141815   +*** Generate dummy variables for Education ;
MPRINT(EM_DIAGRAM):   *** Generate dummy variables for Education ;
2141816   +drop Education2n_Cycle EducationBasic EducationGraduation EducationMaster ;
MPRINT(EM_DIAGRAM):   drop Education2n_Cycle EducationBasic EducationGraduation 
EducationMaster ;
2141817   +*** encoding is sparse, initialize to zero;
MPRINT(EM_DIAGRAM):   *** encoding is sparse, initialize to zero;
2141818   +Education2n_Cycle = 0;
MPRINT(EM_DIAGRAM):   Education2n_Cycle = 0;
2141819   +EducationBasic = 0;
MPRINT(EM_DIAGRAM):   EducationBasic = 0;
2141820   +EducationGraduation = 0;
MPRINT(EM_DIAGRAM):   EducationGraduation = 0;
2141821   +EducationMaster = 0;
MPRINT(EM_DIAGRAM):   EducationMaster = 0;
2141822   +if missing( Education ) then do;
MPRINT(EM_DIAGRAM):   if missing( Education ) then do;
2141823   +   Education2n_Cycle = .;
MPRINT(EM_DIAGRAM):   Education2n_Cycle = .;
2141824   +   EducationBasic = .;
MPRINT(EM_DIAGRAM):   EducationBasic = .;
2141825   +   EducationGraduation = .;
MPRINT(EM_DIAGRAM):   EducationGraduation = .;
2141826   +   EducationMaster = .;
MPRINT(EM_DIAGRAM):   EducationMaster = .;
2141827   +   substr(_warn_,1,1) = 'M';
MPRINT(EM_DIAGRAM):   substr(_warn_,1,1) = 'M';
2141828   +   _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2141829   +end;
MPRINT(EM_DIAGRAM):   end;
2141830   +else do;
MPRINT(EM_DIAGRAM):   else do;
2141831   +   length _dm10 $ 10; drop _dm10 ;
MPRINT(EM_DIAGRAM):   length _dm10 $ 10;
MPRINT(EM_DIAGRAM):   drop _dm10 ;
2141832   +   _dm10 = put( Education , $10. );
MPRINT(EM_DIAGRAM):   _dm10 = put( Education , $10. );
2141833   +   %DMNORMIP( _dm10 )
MPRINT(DMNORMIP):   call dmnorm(_dm10,
MPRINT(DMNORLEN):  32
MPRINT(DMNORMIP):  );
2141834   +   if _dm10 = 'GRADUATION'  then do;
MPRINT(EM_DIAGRAM):   if _dm10 = 'GRADUATION' then do;
2141835   +      EducationGraduation = 1;
MPRINT(EM_DIAGRAM):   EducationGraduation = 1;
2141836   +   end;
MPRINT(EM_DIAGRAM):   end;
2141837   +   else if _dm10 = 'PHD'  then do;
MPRINT(EM_DIAGRAM):   else if _dm10 = 'PHD' then do;
2141838   +      Education2n_Cycle = -1;
MPRINT(EM_DIAGRAM):   Education2n_Cycle = -1;
2141839   +      EducationBasic = -1;
MPRINT(EM_DIAGRAM):   EducationBasic = -1;
2141840   +      EducationGraduation = -1;
MPRINT(EM_DIAGRAM):   EducationGraduation = -1;
2141841   +      EducationMaster = -1;
MPRINT(EM_DIAGRAM):   EducationMaster = -1;
2141842   +   end;
MPRINT(EM_DIAGRAM):   end;
2141843   +   else if _dm10 = 'MASTER'  then do;
MPRINT(EM_DIAGRAM):   else if _dm10 = 'MASTER' then do;
2141844   +      EducationMaster = 1;
MPRINT(EM_DIAGRAM):   EducationMaster = 1;
2141845   +   end;
MPRINT(EM_DIAGRAM):   end;
2141846   +   else if _dm10 = '2N CYCLE'  then do;
MPRINT(EM_DIAGRAM):   else if _dm10 = '2N CYCLE' then do;
2141847   +      Education2n_Cycle = 1;
MPRINT(EM_DIAGRAM):   Education2n_Cycle = 1;
2141848   +   end;
MPRINT(EM_DIAGRAM):   end;
2141849   +   else if _dm10 = 'BASIC'  then do;
MPRINT(EM_DIAGRAM):   else if _dm10 = 'BASIC' then do;
2141850   +      EducationBasic = 1;
MPRINT(EM_DIAGRAM):   EducationBasic = 1;
2141851   +   end;
MPRINT(EM_DIAGRAM):   end;
2141852   +   else do;
MPRINT(EM_DIAGRAM):   else do;
2141853   +      Education2n_Cycle = .;
MPRINT(EM_DIAGRAM):   Education2n_Cycle = .;
2141854   +      EducationBasic = .;
MPRINT(EM_DIAGRAM):   EducationBasic = .;
2141855   +      EducationGraduation = .;
MPRINT(EM_DIAGRAM):   EducationGraduation = .;
2141856   +      EducationMaster = .;
MPRINT(EM_DIAGRAM):   EducationMaster = .;
2141857   +      substr(_warn_,2,1) = 'U';
MPRINT(EM_DIAGRAM):   substr(_warn_,2,1) = 'U';
2141858   +      _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2141859   +   end;
MPRINT(EM_DIAGRAM):   end;
2141860   +end;
MPRINT(EM_DIAGRAM):   end;
2141861   +
2141862   +*** Generate dummy variables for Marital_Status ;
MPRINT(EM_DIAGRAM):   *** Generate dummy variables for Marital_Status ;
2141863   +drop Marital_StatusDivorced Marital_StatusMarried Marital_StatusSingle
2141864   +        Marital_StatusTogether ;
MPRINT(EM_DIAGRAM):   drop Marital_StatusDivorced Marital_StatusMarried Marital_StatusSingle 
Marital_StatusTogether ;
2141865   +*** encoding is sparse, initialize to zero;
MPRINT(EM_DIAGRAM):   *** encoding is sparse, initialize to zero;
2141866   +Marital_StatusDivorced = 0;
MPRINT(EM_DIAGRAM):   Marital_StatusDivorced = 0;
2141867   +Marital_StatusMarried = 0;
MPRINT(EM_DIAGRAM):   Marital_StatusMarried = 0;
2141868   +Marital_StatusSingle = 0;
MPRINT(EM_DIAGRAM):   Marital_StatusSingle = 0;
2141869   +Marital_StatusTogether = 0;
MPRINT(EM_DIAGRAM):   Marital_StatusTogether = 0;
2141870   +if missing( Marital_Status ) then do;
MPRINT(EM_DIAGRAM):   if missing( Marital_Status ) then do;
2141871   +   Marital_StatusDivorced = .;
MPRINT(EM_DIAGRAM):   Marital_StatusDivorced = .;
2141872   +   Marital_StatusMarried = .;
MPRINT(EM_DIAGRAM):   Marital_StatusMarried = .;
2141873   +   Marital_StatusSingle = .;
MPRINT(EM_DIAGRAM):   Marital_StatusSingle = .;
2141874   +   Marital_StatusTogether = .;
MPRINT(EM_DIAGRAM):   Marital_StatusTogether = .;
2141875   +   substr(_warn_,1,1) = 'M';
MPRINT(EM_DIAGRAM):   substr(_warn_,1,1) = 'M';
2141876   +   _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2141877   +end;
MPRINT(EM_DIAGRAM):   end;
2141878   +else do;
MPRINT(EM_DIAGRAM):   else do;
2141879   +   length _dm8 $ 8; drop _dm8 ;
MPRINT(EM_DIAGRAM):   length _dm8 $ 8;
MPRINT(EM_DIAGRAM):   drop _dm8 ;
2141880   +   _dm8 = put( Marital_Status , $8. );
MPRINT(EM_DIAGRAM):   _dm8 = put( Marital_Status , $8. );
2141881   +   %DMNORMIP( _dm8 )
MPRINT(DMNORMIP):   call dmnorm(_dm8,
MPRINT(DMNORLEN):  32
MPRINT(DMNORMIP):  );
2141882   +   _dm_find = 0; drop _dm_find;
MPRINT(EM_DIAGRAM):   _dm_find = 0;
MPRINT(EM_DIAGRAM):   drop _dm_find;
2141883   +   if _dm8 <= 'SINGLE'  then do;
MPRINT(EM_DIAGRAM):   if _dm8 <= 'SINGLE' then do;
2141884   +      if _dm8 <= 'MARRIED'  then do;
MPRINT(EM_DIAGRAM):   if _dm8 <= 'MARRIED' then do;
2141885   +         if _dm8 = 'DIVORCED'  then do;
MPRINT(EM_DIAGRAM):   if _dm8 = 'DIVORCED' then do;
2141886   +            Marital_StatusDivorced = 1;
MPRINT(EM_DIAGRAM):   Marital_StatusDivorced = 1;
2141887   +            _dm_find = 1;
MPRINT(EM_DIAGRAM):   _dm_find = 1;
2141888   +         end;
MPRINT(EM_DIAGRAM):   end;
2141889   +         else do;
MPRINT(EM_DIAGRAM):   else do;
2141890   +            if _dm8 = 'MARRIED'  then do;
MPRINT(EM_DIAGRAM):   if _dm8 = 'MARRIED' then do;
2141891   +               Marital_StatusMarried = 1;
MPRINT(EM_DIAGRAM):   Marital_StatusMarried = 1;
2141892   +               _dm_find = 1;
MPRINT(EM_DIAGRAM):   _dm_find = 1;
2141893   +            end;
MPRINT(EM_DIAGRAM):   end;
2141894   +         end;
MPRINT(EM_DIAGRAM):   end;
2141895   +      end;
MPRINT(EM_DIAGRAM):   end;
2141896   +      else do;
MPRINT(EM_DIAGRAM):   else do;
2141897   +         if _dm8 = 'SINGLE'  then do;
MPRINT(EM_DIAGRAM):   if _dm8 = 'SINGLE' then do;
2141898   +            Marital_StatusSingle = 1;
MPRINT(EM_DIAGRAM):   Marital_StatusSingle = 1;
2141899   +            _dm_find = 1;
MPRINT(EM_DIAGRAM):   _dm_find = 1;
2141900   +         end;
MPRINT(EM_DIAGRAM):   end;
2141901   +      end;
MPRINT(EM_DIAGRAM):   end;
2141902   +   end;
MPRINT(EM_DIAGRAM):   end;
2141903   +   else do;
MPRINT(EM_DIAGRAM):   else do;
2141904   +      if _dm8 = 'TOGETHER'  then do;
MPRINT(EM_DIAGRAM):   if _dm8 = 'TOGETHER' then do;
2141905   +         Marital_StatusTogether = 1;
MPRINT(EM_DIAGRAM):   Marital_StatusTogether = 1;
2141906   +         _dm_find = 1;
MPRINT(EM_DIAGRAM):   _dm_find = 1;
2141907   +      end;
MPRINT(EM_DIAGRAM):   end;
2141908   +      else do;
MPRINT(EM_DIAGRAM):   else do;
2141909   +         if _dm8 = 'WIDOW'  then do;
MPRINT(EM_DIAGRAM):   if _dm8 = 'WIDOW' then do;
2141910   +            Marital_StatusDivorced = -1;
MPRINT(EM_DIAGRAM):   Marital_StatusDivorced = -1;
2141911   +            Marital_StatusMarried = -1;
MPRINT(EM_DIAGRAM):   Marital_StatusMarried = -1;
2141912   +            Marital_StatusSingle = -1;
MPRINT(EM_DIAGRAM):   Marital_StatusSingle = -1;
2141913   +            Marital_StatusTogether = -1;
MPRINT(EM_DIAGRAM):   Marital_StatusTogether = -1;
2141914   +            _dm_find = 1;
MPRINT(EM_DIAGRAM):   _dm_find = 1;
2141915   +         end;
MPRINT(EM_DIAGRAM):   end;
2141916   +      end;
MPRINT(EM_DIAGRAM):   end;
2141917   +   end;
MPRINT(EM_DIAGRAM):   end;
2141918   +   if not _dm_find then do;
MPRINT(EM_DIAGRAM):   if not _dm_find then do;
2141919   +      Marital_StatusDivorced = .;
MPRINT(EM_DIAGRAM):   Marital_StatusDivorced = .;
2141920   +      Marital_StatusMarried = .;
MPRINT(EM_DIAGRAM):   Marital_StatusMarried = .;
2141921   +      Marital_StatusSingle = .;
MPRINT(EM_DIAGRAM):   Marital_StatusSingle = .;
2141922   +      Marital_StatusTogether = .;
MPRINT(EM_DIAGRAM):   Marital_StatusTogether = .;
2141923   +      substr(_warn_,2,1) = 'U';
MPRINT(EM_DIAGRAM):   substr(_warn_,2,1) = 'U';
2141924   +      _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2141925   +   end;
MPRINT(EM_DIAGRAM):   end;
2141926   +end;
MPRINT(EM_DIAGRAM):   end;
2141927   +
2141928   +*** *************************;
MPRINT(EM_DIAGRAM):   *** *************************;
2141929   +*** Checking missing input Interval
2141930   +*** *************************;
MPRINT(EM_DIAGRAM):   *** Checking missing input Interval *** *************************;
2141931   +
2141932   +IF NMISS(
2141933   +   AcceptedCmpTotal ,
2141934   +   Age ,
2141935   +   Frq ,
2141936   +   Income ,
2141937   +   Kidhome ,
2141938   +   MntFishProducts ,
2141939   +   MntFruits ,
2141940   +   MntGoldProds ,
2141941   +   MntSweetProducts ,
2141942   +   MonthsAsCustomer ,
2141943   +   NumDealsPurchases ,
2141944   +   NumWebVisitsMonth ,
2141945   +   RFMstat ,
2141946   +   RMntFrq ,
2141947   +   Recency ,
2141948   +   Teenhome   ) THEN DO;
MPRINT(EM_DIAGRAM):   IF NMISS( AcceptedCmpTotal , Age , Frq , Income , Kidhome , 
MntFishProducts , MntFruits , MntGoldProds , MntSweetProducts , MonthsAsCustomer , 
NumDealsPurchases , NumWebVisitsMonth , RFMstat , RMntFrq , Recency , Teenhome ) THEN DO;
2141949   +   SUBSTR(_WARN_, 1, 1) = 'M';
MPRINT(EM_DIAGRAM):   SUBSTR(_WARN_, 1, 1) = 'M';
2141950   +
2141951   +   _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2141952   +END;
MPRINT(EM_DIAGRAM):   END;
2141953   +*** *************************;
MPRINT(EM_DIAGRAM):   *** *************************;
2141954   +*** Writing the Node intvl ;
MPRINT(EM_DIAGRAM):   *** Writing the Node intvl ;
2141955   +*** *************************;
MPRINT(EM_DIAGRAM):   *** *************************;
2141956   +IF _DM_BAD EQ 0 THEN DO;
MPRINT(EM_DIAGRAM):   IF _DM_BAD EQ 0 THEN DO;
2141957   +   S_AcceptedCmpTotal  =    -0.46762909508827 +      1.4961610131261 *
2141958   +        AcceptedCmpTotal ;
MPRINT(EM_DIAGRAM):   S_AcceptedCmpTotal = -0.46762909508827 + 1.4961610131261 * 
AcceptedCmpTotal ;
2141959   +   S_Age  =    -3.91319138389466 +     0.08289609202857 * Age ;
MPRINT(EM_DIAGRAM):   S_Age = -3.91319138389466 + 0.08289609202857 * Age ;
2141960   +   S_Frq  =     -1.7674482809159 +     0.13966853800993 * Frq ;
MPRINT(EM_DIAGRAM):   S_Frq = -1.7674482809159 + 0.13966853800993 * Frq ;
2141961   +   S_Income  =    -2.48883438787018 +     0.00004789669836 * Income ;
MPRINT(EM_DIAGRAM):   S_Income = -2.48883438787018 + 0.00004789669836 * Income ;
2141962   +   S_Kidhome  =    -0.81505958668041 +     1.87132636245581 * Kidhome ;
MPRINT(EM_DIAGRAM):   S_Kidhome = -0.81505958668041 + 1.87132636245581 * Kidhome ;
2141963   +   S_MntFishProducts  =    -0.69884925989448 +     0.01914942799914 *
2141964   +        MntFishProducts ;
MPRINT(EM_DIAGRAM):   S_MntFishProducts = -0.69884925989448 + 0.01914942799914 * 
MntFishProducts ;
2141965   +   S_MntFruits  =    -0.68347542544545 +     0.02517057319714 * MntFruits ;
MPRINT(EM_DIAGRAM):   S_MntFruits = -0.68347542544545 + 0.02517057319714 * MntFruits ;
2141966   +   S_MntGoldProds  =     -0.8611213764608 +     0.01954474499711 *
2141967   +        MntGoldProds ;
MPRINT(EM_DIAGRAM):   S_MntGoldProds = -0.8611213764608 + 0.01954474499711 * MntGoldProds ;
2141968   +   S_MntSweetProducts  =    -0.69020047720885 +     0.02548703406327 *
2141969   +        MntSweetProducts ;
MPRINT(EM_DIAGRAM):   S_MntSweetProducts = -0.69020047720885 + 0.02548703406327 * 
MntSweetProducts ;
2141970   +   S_MonthsAsCustomer  =    -4.93133031507839 +     0.05900664899872 *
2141971   +        MonthsAsCustomer ;
MPRINT(EM_DIAGRAM):   S_MonthsAsCustomer = -4.93133031507839 + 0.05900664899872 * 
MonthsAsCustomer ;
2141972   +   S_NumDealsPurchases  =    -1.34788949552081 +     0.59766336614987 *
2141973   +        NumDealsPurchases ;
MPRINT(EM_DIAGRAM):   S_NumDealsPurchases = -1.34788949552081 + 0.59766336614987 * 
NumDealsPurchases ;
2141974   +   S_NumWebVisitsMonth  =    -2.24769875596018 +     0.42876953368015 *
2141975   +        NumWebVisitsMonth ;
MPRINT(EM_DIAGRAM):   S_NumWebVisitsMonth = -2.24769875596018 + 0.42876953368015 * 
NumWebVisitsMonth ;
2141976   +   S_RFMstat  =    -0.33944380186973 +     0.00063877635032 * RFMstat ;
MPRINT(EM_DIAGRAM):   S_RFMstat = -0.33944380186973 + 0.00063877635032 * RFMstat ;
2141977   +   S_RMntFrq  =    -1.25743573075922 +     0.03326204244626 * RMntFrq ;
MPRINT(EM_DIAGRAM):   S_RMntFrq = -1.25743573075922 + 0.03326204244626 * RMntFrq ;
2141978   +   S_Recency  =    -1.69222845719633 +     0.03469514083585 * Recency ;
MPRINT(EM_DIAGRAM):   S_Recency = -1.69222845719633 + 0.03469514083585 * Recency ;
2141979   +   S_Teenhome  =    -0.88382230606631 +     1.81661831567223 * Teenhome ;
MPRINT(EM_DIAGRAM):   S_Teenhome = -0.88382230606631 + 1.81661831567223 * Teenhome ;
2141980   +END;
MPRINT(EM_DIAGRAM):   END;
2141981   +ELSE DO;
MPRINT(EM_DIAGRAM):   ELSE DO;
2141982   +   IF MISSING( AcceptedCmpTotal ) THEN S_AcceptedCmpTotal  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( AcceptedCmpTotal ) THEN S_AcceptedCmpTotal = . ;
2141983   +   ELSE S_AcceptedCmpTotal  =    -0.46762909508827 +      1.4961610131261 *
2141984   +        AcceptedCmpTotal ;
MPRINT(EM_DIAGRAM):   ELSE S_AcceptedCmpTotal = -0.46762909508827 + 1.4961610131261 * 
AcceptedCmpTotal ;
2141985   +   IF MISSING( Age ) THEN S_Age  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( Age ) THEN S_Age = . ;
2141986   +   ELSE S_Age  =    -3.91319138389466 +     0.08289609202857 * Age ;
MPRINT(EM_DIAGRAM):   ELSE S_Age = -3.91319138389466 + 0.08289609202857 * Age ;
2141987   +   IF MISSING( Frq ) THEN S_Frq  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( Frq ) THEN S_Frq = . ;
2141988   +   ELSE S_Frq  =     -1.7674482809159 +     0.13966853800993 * Frq ;
MPRINT(EM_DIAGRAM):   ELSE S_Frq = -1.7674482809159 + 0.13966853800993 * Frq ;
2141989   +   IF MISSING( Income ) THEN S_Income  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( Income ) THEN S_Income = . ;
2141990   +   ELSE S_Income  =    -2.48883438787018 +     0.00004789669836 * Income ;
MPRINT(EM_DIAGRAM):   ELSE S_Income = -2.48883438787018 + 0.00004789669836 * Income ;
2141991   +   IF MISSING( Kidhome ) THEN S_Kidhome  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( Kidhome ) THEN S_Kidhome = . ;
2141992   +   ELSE S_Kidhome  =    -0.81505958668041 +     1.87132636245581 * Kidhome ;
MPRINT(EM_DIAGRAM):   ELSE S_Kidhome = -0.81505958668041 + 1.87132636245581 * Kidhome ;
2141993   +   IF MISSING( MntFishProducts ) THEN S_MntFishProducts  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( MntFishProducts ) THEN S_MntFishProducts = . ;
2141994   +   ELSE S_MntFishProducts  =    -0.69884925989448 +     0.01914942799914 *
2141995   +        MntFishProducts ;
MPRINT(EM_DIAGRAM):   ELSE S_MntFishProducts = -0.69884925989448 + 0.01914942799914 * 
MntFishProducts ;
2141996   +   IF MISSING( MntFruits ) THEN S_MntFruits  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( MntFruits ) THEN S_MntFruits = . ;
2141997   +   ELSE S_MntFruits  =    -0.68347542544545 +     0.02517057319714 * MntFruits
2141998   +         ;
MPRINT(EM_DIAGRAM):   ELSE S_MntFruits = -0.68347542544545 + 0.02517057319714 * MntFruits ;
2141999   +   IF MISSING( MntGoldProds ) THEN S_MntGoldProds  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( MntGoldProds ) THEN S_MntGoldProds = . ;
2142000   +   ELSE S_MntGoldProds  =     -0.8611213764608 +     0.01954474499711 *
2142001   +        MntGoldProds ;
MPRINT(EM_DIAGRAM):   ELSE S_MntGoldProds = -0.8611213764608 + 0.01954474499711 * MntGoldProds 
;
2142002   +   IF MISSING( MntSweetProducts ) THEN S_MntSweetProducts  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( MntSweetProducts ) THEN S_MntSweetProducts = . ;
2142003   +   ELSE S_MntSweetProducts  =    -0.69020047720885 +     0.02548703406327 *
2142004   +        MntSweetProducts ;
MPRINT(EM_DIAGRAM):   ELSE S_MntSweetProducts = -0.69020047720885 + 0.02548703406327 * 
MntSweetProducts ;
2142005   +   IF MISSING( MonthsAsCustomer ) THEN S_MonthsAsCustomer  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( MonthsAsCustomer ) THEN S_MonthsAsCustomer = . ;
2142006   +   ELSE S_MonthsAsCustomer  =    -4.93133031507839 +     0.05900664899872 *
2142007   +        MonthsAsCustomer ;
MPRINT(EM_DIAGRAM):   ELSE S_MonthsAsCustomer = -4.93133031507839 + 0.05900664899872 * 
MonthsAsCustomer ;
2142008   +   IF MISSING( NumDealsPurchases ) THEN S_NumDealsPurchases  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( NumDealsPurchases ) THEN S_NumDealsPurchases = . ;
2142009   +   ELSE S_NumDealsPurchases  =    -1.34788949552081 +     0.59766336614987 *
2142010   +        NumDealsPurchases ;
MPRINT(EM_DIAGRAM):   ELSE S_NumDealsPurchases = -1.34788949552081 + 0.59766336614987 * 
NumDealsPurchases ;
2142011   +   IF MISSING( NumWebVisitsMonth ) THEN S_NumWebVisitsMonth  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( NumWebVisitsMonth ) THEN S_NumWebVisitsMonth = . ;
2142012   +   ELSE S_NumWebVisitsMonth  =    -2.24769875596018 +     0.42876953368015 *
2142013   +        NumWebVisitsMonth ;
MPRINT(EM_DIAGRAM):   ELSE S_NumWebVisitsMonth = -2.24769875596018 + 0.42876953368015 * 
NumWebVisitsMonth ;
2142014   +   IF MISSING( RFMstat ) THEN S_RFMstat  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( RFMstat ) THEN S_RFMstat = . ;
2142015   +   ELSE S_RFMstat  =    -0.33944380186973 +     0.00063877635032 * RFMstat ;
MPRINT(EM_DIAGRAM):   ELSE S_RFMstat = -0.33944380186973 + 0.00063877635032 * RFMstat ;
2142016   +   IF MISSING( RMntFrq ) THEN S_RMntFrq  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( RMntFrq ) THEN S_RMntFrq = . ;
2142017   +   ELSE S_RMntFrq  =    -1.25743573075922 +     0.03326204244626 * RMntFrq ;
MPRINT(EM_DIAGRAM):   ELSE S_RMntFrq = -1.25743573075922 + 0.03326204244626 * RMntFrq ;
2142018   +   IF MISSING( Recency ) THEN S_Recency  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( Recency ) THEN S_Recency = . ;
2142019   +   ELSE S_Recency  =    -1.69222845719633 +     0.03469514083585 * Recency ;
MPRINT(EM_DIAGRAM):   ELSE S_Recency = -1.69222845719633 + 0.03469514083585 * Recency ;
2142020   +   IF MISSING( Teenhome ) THEN S_Teenhome  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( Teenhome ) THEN S_Teenhome = . ;
2142021   +   ELSE S_Teenhome  =    -0.88382230606631 +     1.81661831567223 * Teenhome ;
MPRINT(EM_DIAGRAM):   ELSE S_Teenhome = -0.88382230606631 + 1.81661831567223 * Teenhome ;
2142022   +END;
MPRINT(EM_DIAGRAM):   END;
2142023   +*** *************************;
MPRINT(EM_DIAGRAM):   *** *************************;
2142024   +*** Writing the Node bin ;
MPRINT(EM_DIAGRAM):   *** Writing the Node bin ;
2142025   +*** *************************;
MPRINT(EM_DIAGRAM):   *** *************************;
2142026   +*** *************************;
MPRINT(EM_DIAGRAM):   *** *************************;
2142027   +*** Writing the Node nom ;
MPRINT(EM_DIAGRAM):   *** Writing the Node nom ;
2142028   +*** *************************;
MPRINT(EM_DIAGRAM):   *** *************************;
2142029   +*** *************************;
MPRINT(EM_DIAGRAM):   *** *************************;
2142030   +*** Writing the Node H1 ;
MPRINT(EM_DIAGRAM):   *** Writing the Node H1 ;
2142031   +*** *************************;
MPRINT(EM_DIAGRAM):   *** *************************;
2142032   +IF _DM_BAD EQ 0 THEN DO;
MPRINT(EM_DIAGRAM):   IF _DM_BAD EQ 0 THEN DO;
2142033   +   H11  =     0.02261339399069 * S_AcceptedCmpTotal  +     0.03186549902314 *
2142034   +        S_Age  +    -0.05804162317917 * S_Frq  +    -0.43761913801791 *
2142035   +        S_Income  +     0.20393856454107 * S_Kidhome
2142036   +          +    -0.00032759903219 * S_MntFishProducts
2142037   +          +     0.04902268570479 * S_MntFruits  +     0.00634390567032 *
2142038   +        S_MntGoldProds  +     0.05500468374296 * S_MntSweetProducts
2142039   +          +    -0.04015276399544 * S_MonthsAsCustomer
2142040   +          +     -0.0951069571765 * S_NumDealsPurchases
2142041   +          +    -0.14678852097139 * S_NumWebVisitsMonth
2142042   +          +    -0.01894186338724 * S_RFMstat  +    -0.07457519268665 *
2142043   +        S_RMntFrq  +     0.42628576603933 * S_Recency
2142044   +          +     0.30856724112819 * S_Teenhome ;
MPRINT(EM_DIAGRAM):   H11 = 0.02261339399069 * S_AcceptedCmpTotal + 0.03186549902314 * S_Age + 
-0.05804162317917 * S_Frq + -0.43761913801791 * S_Income + 0.20393856454107 * S_Kidhome + 
-0.00032759903219 * S_MntFishProducts + 0.04902268570479 * S_MntFruits + 0.00634390567032 * 
S_MntGoldProds + 0.05500468374296 * S_MntSweetProducts + -0.04015276399544 * 
S_MonthsAsCustomer + -0.0951069571765 * S_NumDealsPurchases + -0.14678852097139 * 
S_NumWebVisitsMonth + -0.01894186338724 * S_RFMstat + -0.07457519268665 * S_RMntFrq + 
0.42628576603933 * S_Recency + 0.30856724112819 * S_Teenhome ;
2142045   +   H12  =    -0.16555869359198 * S_AcceptedCmpTotal  +     0.11411959291313 *
2142046   +        S_Age  +     1.43744532392094 * S_Frq  +       0.577641001604 *
2142047   +        S_Income  +    -0.30829238187054 * S_Kidhome
2142048   +          +     -0.2355444654527 * S_MntFishProducts
2142049   +          +     0.04031406081899 * S_MntFruits  +    -0.19943160459571 *
2142050   +        S_MntGoldProds  +    -0.08217819696537 * S_MntSweetProducts
2142051   +          +     0.09996574741139 * S_MonthsAsCustomer
2142052   +          +    -0.68812499253266 * S_NumDealsPurchases
2142053   +          +     -0.5730096217964 * S_NumWebVisitsMonth
2142054   +          +    -0.22996193814967 * S_RFMstat  +    -0.28291148887201 *
2142055   +        S_RMntFrq  +     0.66451982595521 * S_Recency
2142056   +          +    -0.26095225857643 * S_Teenhome ;
MPRINT(EM_DIAGRAM):   H12 = -0.16555869359198 * S_AcceptedCmpTotal + 0.11411959291313 * S_Age 
+ 1.43744532392094 * S_Frq + 0.577641001604 * S_Income + -0.30829238187054 * S_Kidhome + 
-0.2355444654527 * S_MntFishProducts + 0.04031406081899 * S_MntFruits + -0.19943160459571 * 
S_MntGoldProds + -0.08217819696537 * S_MntSweetProducts + 0.09996574741139 * 
S_MonthsAsCustomer + -0.68812499253266 * S_NumDealsPurchases + -0.5730096217964 * 
S_NumWebVisitsMonth + -0.22996193814967 * S_RFMstat + -0.28291148887201 * S_RMntFrq + 
0.66451982595521 * S_Recency + -0.26095225857643 * S_Teenhome ;
2142057   +   H11  = H11  +     0.19600780890638 * AcceptedCmp10
2142058   +          +     0.18451163813605 * AcceptedCmp20  +     0.23931744315092 *
2142059   +        AcceptedCmp30  +     0.16900886522062 * AcceptedCmp40
2142060   +          +     0.15799420378967 * AcceptedCmp50  +     -0.0633279609551 *
2142061   +        Complain0  +    -0.01950431346341 * HigherEducationBinary0 ;
MPRINT(EM_DIAGRAM):   H11 = H11 + 0.19600780890638 * AcceptedCmp10 + 0.18451163813605 * 
AcceptedCmp20 + 0.23931744315092 * AcceptedCmp30 + 0.16900886522062 * AcceptedCmp40 + 
0.15799420378967 * AcceptedCmp50 + -0.0633279609551 * Complain0 + -0.01950431346341 * 
HigherEducationBinary0 ;
2142062   +   H12  = H12  +     0.45490519791012 * AcceptedCmp10
2142063   +          +     0.36062830380202 * AcceptedCmp20  +     0.53186742505951 *
2142064   +        AcceptedCmp30  +    -0.03871449291458 * AcceptedCmp40
2142065   +          +     0.16590307431257 * AcceptedCmp50  +     -0.2629729400837 *
2142066   +        Complain0  +     0.36737823761565 * HigherEducationBinary0 ;
MPRINT(EM_DIAGRAM):   H12 = H12 + 0.45490519791012 * AcceptedCmp10 + 0.36062830380202 * 
AcceptedCmp20 + 0.53186742505951 * AcceptedCmp30 + -0.03871449291458 * AcceptedCmp40 + 
0.16590307431257 * AcceptedCmp50 + -0.2629729400837 * Complain0 + 0.36737823761565 * 
HigherEducationBinary0 ;
2142067   +   H11  = H11  +    -0.05532067616337 * Education2n_Cycle
2142068   +          +     -0.1426249770348 * EducationBasic  +     -0.0144259119049 *
2142069   +        EducationGraduation  +     0.16577178002709 * EducationMaster
2142070   +          +     -0.1021790439873 * Marital_StatusDivorced
2142071   +          +     0.28711854746077 * Marital_StatusMarried
2142072   +          +    -0.22559580642457 * Marital_StatusSingle
2142073   +          +     0.24664814856098 * Marital_StatusTogether ;
MPRINT(EM_DIAGRAM):   H11 = H11 + -0.05532067616337 * Education2n_Cycle + -0.1426249770348 * 
EducationBasic + -0.0144259119049 * EducationGraduation + 0.16577178002709 * EducationMaster + 
-0.1021790439873 * Marital_StatusDivorced + 0.28711854746077 * Marital_StatusMarried + 
-0.22559580642457 * Marital_StatusSingle + 0.24664814856098 * Marital_StatusTogether ;
2142074   +   H12  = H12  +    -0.16343956499534 * Education2n_Cycle
2142075   +          +     0.09288342001131 * EducationBasic  +     0.01404728552212 *
2142076   +        EducationGraduation  +    -0.18160653360243 * EducationMaster
2142077   +          +    -0.14836623629414 * Marital_StatusDivorced
2142078   +          +    -0.31854796239399 * Marital_StatusMarried
2142079   +          +     0.41995919995517 * Marital_StatusSingle
2142080   +          +    -0.26131281894481 * Marital_StatusTogether ;
MPRINT(EM_DIAGRAM):   H12 = H12 + -0.16343956499534 * Education2n_Cycle + 0.09288342001131 * 
EducationBasic + 0.01404728552212 * EducationGraduation + -0.18160653360243 * EducationMaster 
+ -0.14836623629414 * Marital_StatusDivorced + -0.31854796239399 * Marital_StatusMarried + 
0.41995919995517 * Marital_StatusSingle + -0.26131281894481 * Marital_StatusTogether ;
2142081   +   H11  =    -0.01774261565349 + H11 ;
MPRINT(EM_DIAGRAM):   H11 = -0.01774261565349 + H11 ;
2142082   +   H12  =     1.49329601776343 + H12 ;
MPRINT(EM_DIAGRAM):   H12 = 1.49329601776343 + H12 ;
2142083   +   H11  = TANH(H11 );
MPRINT(EM_DIAGRAM):   H11 = TANH(H11 );
2142084   +   H12  = TANH(H12 );
MPRINT(EM_DIAGRAM):   H12 = TANH(H12 );
2142085   +END;
MPRINT(EM_DIAGRAM):   END;
2142086   +ELSE DO;
MPRINT(EM_DIAGRAM):   ELSE DO;
2142087   +   H11  = .;
MPRINT(EM_DIAGRAM):   H11 = .;
2142088   +   H12  = .;
MPRINT(EM_DIAGRAM):   H12 = .;
2142089   +END;
MPRINT(EM_DIAGRAM):   END;
2142090   +*** *************************;
MPRINT(EM_DIAGRAM):   *** *************************;
2142091   +*** Writing the Node DepVar ;
MPRINT(EM_DIAGRAM):   *** Writing the Node DepVar ;
2142092   +*** *************************;
MPRINT(EM_DIAGRAM):   *** *************************;
2142093   +
2142094   +*** Generate dummy variables for DepVar ;
MPRINT(EM_DIAGRAM):   *** Generate dummy variables for DepVar ;
2142095   +drop DepVar1 DepVar0 ;
MPRINT(EM_DIAGRAM):   drop DepVar1 DepVar0 ;
2142096   +label F_DepVar = 'From: DepVar' ;
MPRINT(EM_DIAGRAM):   label F_DepVar = 'From: DepVar' ;
2142097   +length F_DepVar $ 12;
MPRINT(EM_DIAGRAM):   length F_DepVar $ 12;
2142098   +F_DepVar = put( DepVar , BEST. );
MPRINT(EM_DIAGRAM):   F_DepVar = put( DepVar , BEST. );
2142099   +%DMNORMIP( F_DepVar )
MPRINT(DMNORMIP):   call dmnorm(F_DepVar,
MPRINT(DMNORLEN):  32
MPRINT(DMNORMIP):  );
2142100   +if missing( DepVar ) then do;
MPRINT(EM_DIAGRAM):   if missing( DepVar ) then do;
2142101   +   DepVar1 = .;
MPRINT(EM_DIAGRAM):   DepVar1 = .;
2142102   +   DepVar0 = .;
MPRINT(EM_DIAGRAM):   DepVar0 = .;
2142103   +end;
MPRINT(EM_DIAGRAM):   end;
2142104   +else do;
MPRINT(EM_DIAGRAM):   else do;
2142105   +   if F_DepVar = '0'  then do;
MPRINT(EM_DIAGRAM):   if F_DepVar = '0' then do;
2142106   +      DepVar1 = 0;
MPRINT(EM_DIAGRAM):   DepVar1 = 0;
2142107   +      DepVar0 = 1;
MPRINT(EM_DIAGRAM):   DepVar0 = 1;
2142108   +   end;
MPRINT(EM_DIAGRAM):   end;
2142109   +   else if F_DepVar = '1'  then do;
MPRINT(EM_DIAGRAM):   else if F_DepVar = '1' then do;
2142110   +      DepVar1 = 1;
MPRINT(EM_DIAGRAM):   DepVar1 = 1;
2142111   +      DepVar0 = 0;
MPRINT(EM_DIAGRAM):   DepVar0 = 0;
2142112   +   end;
MPRINT(EM_DIAGRAM):   end;
2142113   +   else do;
MPRINT(EM_DIAGRAM):   else do;
2142114   +      DepVar1 = .;
MPRINT(EM_DIAGRAM):   DepVar1 = .;
2142115   +      DepVar0 = .;
MPRINT(EM_DIAGRAM):   DepVar0 = .;
2142116   +   end;
MPRINT(EM_DIAGRAM):   end;
2142117   +end;
MPRINT(EM_DIAGRAM):   end;
2142118   +IF _DM_BAD EQ 0 THEN DO;
MPRINT(EM_DIAGRAM):   IF _DM_BAD EQ 0 THEN DO;
2142119   +   P_DepVar1  =    -5.42994812440062 * H11  +    -3.10472514460831 * H12 ;
MPRINT(EM_DIAGRAM):   P_DepVar1 = -5.42994812440062 * H11 + -3.10472514460831 * H12 ;
2142120   +   P_DepVar1  =     1.12764046071215 + P_DepVar1 ;
MPRINT(EM_DIAGRAM):   P_DepVar1 = 1.12764046071215 + P_DepVar1 ;
2142121   +   P_DepVar0  = 0;
MPRINT(EM_DIAGRAM):   P_DepVar0 = 0;
2142122   +   _MAX_ = MAX (P_DepVar1 , P_DepVar0 );
MPRINT(EM_DIAGRAM):   _MAX_ = MAX (P_DepVar1 , P_DepVar0 );
2142123   +   _SUM_ = 0.;
MPRINT(EM_DIAGRAM):   _SUM_ = 0.;
2142124   +   P_DepVar1  = EXP(P_DepVar1  - _MAX_);
MPRINT(EM_DIAGRAM):   P_DepVar1 = EXP(P_DepVar1 - _MAX_);
2142125   +   _SUM_ = _SUM_ + P_DepVar1 ;
MPRINT(EM_DIAGRAM):   _SUM_ = _SUM_ + P_DepVar1 ;
2142126   +   P_DepVar0  = EXP(P_DepVar0  - _MAX_);
MPRINT(EM_DIAGRAM):   P_DepVar0 = EXP(P_DepVar0 - _MAX_);
2142127   +   _SUM_ = _SUM_ + P_DepVar0 ;
MPRINT(EM_DIAGRAM):   _SUM_ = _SUM_ + P_DepVar0 ;
2142128   +   P_DepVar1  = P_DepVar1  / _SUM_;
MPRINT(EM_DIAGRAM):   P_DepVar1 = P_DepVar1 / _SUM_;
2142129   +   P_DepVar0  = P_DepVar0  / _SUM_;
MPRINT(EM_DIAGRAM):   P_DepVar0 = P_DepVar0 / _SUM_;
2142130   +END;
MPRINT(EM_DIAGRAM):   END;
2142131   +ELSE DO;
MPRINT(EM_DIAGRAM):   ELSE DO;
2142132   +   P_DepVar1  = .;
MPRINT(EM_DIAGRAM):   P_DepVar1 = .;
2142133   +   P_DepVar0  = .;
MPRINT(EM_DIAGRAM):   P_DepVar0 = .;
2142134   +END;
MPRINT(EM_DIAGRAM):   END;
2142135   +IF _DM_BAD EQ 1 THEN DO;
MPRINT(EM_DIAGRAM):   IF _DM_BAD EQ 1 THEN DO;
2142136   +   P_DepVar1  =     0.15122156697556;
MPRINT(EM_DIAGRAM):   P_DepVar1 = 0.15122156697556;
2142137   +   P_DepVar0  =     0.84877843302443;
MPRINT(EM_DIAGRAM):   P_DepVar0 = 0.84877843302443;
2142138   +END;
MPRINT(EM_DIAGRAM):   END;
2142139   +*** *****************************;
MPRINT(EM_DIAGRAM):   *** *****************************;
2142140   +*** Writing the Residuals  of the Node DepVar ;
MPRINT(EM_DIAGRAM):   *** Writing the Residuals of the Node DepVar ;
2142141   +*** ******************************;
MPRINT(EM_DIAGRAM):   *** ******************************;
2142142   +IF MISSING( DepVar1 ) THEN R_DepVar1  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( DepVar1 ) THEN R_DepVar1 = . ;
2142143   +ELSE R_DepVar1  = DepVar1  - P_DepVar1 ;
MPRINT(EM_DIAGRAM):   ELSE R_DepVar1 = DepVar1 - P_DepVar1 ;
2142144   +IF MISSING( DepVar0 ) THEN R_DepVar0  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( DepVar0 ) THEN R_DepVar0 = . ;
2142145   +ELSE R_DepVar0  = DepVar0  - P_DepVar0 ;
MPRINT(EM_DIAGRAM):   ELSE R_DepVar0 = DepVar0 - P_DepVar0 ;
2142146   +*** *************************;
MPRINT(EM_DIAGRAM):   *** *************************;
2142147   +*** Writing the I_DepVar  AND U_DepVar ;
MPRINT(EM_DIAGRAM):   *** Writing the I_DepVar AND U_DepVar ;
2142148   +*** *************************;
MPRINT(EM_DIAGRAM):   *** *************************;
2142149   +_MAXP_ = P_DepVar1 ;
MPRINT(EM_DIAGRAM):   _MAXP_ = P_DepVar1 ;
2142150   +I_DepVar  = "1           " ;
MPRINT(EM_DIAGRAM):   I_DepVar = "1           " ;
2142151   +U_DepVar  =                    1;
MPRINT(EM_DIAGRAM):   U_DepVar = 1;
2142152   +IF( _MAXP_ LT P_DepVar0  ) THEN DO;
MPRINT(EM_DIAGRAM):   IF( _MAXP_ LT P_DepVar0 ) THEN DO;
2142153   +   _MAXP_ = P_DepVar0 ;
MPRINT(EM_DIAGRAM):   _MAXP_ = P_DepVar0 ;
2142154   +   I_DepVar  = "0           " ;
MPRINT(EM_DIAGRAM):   I_DepVar = "0           " ;
2142155   +   U_DepVar  =                    0;
MPRINT(EM_DIAGRAM):   U_DepVar = 0;
2142156   +END;
MPRINT(EM_DIAGRAM):   END;
2142157   +********************************;
MPRINT(EM_DIAGRAM):   ********************************;
2142158   +*** End Scoring Code for Neural;
MPRINT(EM_DIAGRAM):   *** End Scoring Code for Neural;
2142159   +********************************;
MPRINT(EM_DIAGRAM):   ********************************;
2142160   +drop
2142161   +H11
2142162   +H12
2142163   +;
MPRINT(EM_DIAGRAM):   drop H11 H12 ;
2142164   +drop S_:;
MPRINT(EM_DIAGRAM):   drop S_:;
2142165   +* Renaming variables for Neural37;
MPRINT(EM_DIAGRAM):   * Renaming variables for Neural37;
2142166   +*------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
2142167   +* Renaming Posterior variables for Neural37;
MPRINT(EM_DIAGRAM):   * Renaming Posterior variables for Neural37;
2142168   +*------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
2142169   +drop Neural37_P_DepVar1;
MPRINT(EM_DIAGRAM):   drop Neural37_P_DepVar1;
2142170   +Neural37_P_DepVar1 = P_DepVar1;
MPRINT(EM_DIAGRAM):   Neural37_P_DepVar1 = P_DepVar1;
2142171   +drop Neural37_P_DepVar0;
MPRINT(EM_DIAGRAM):   drop Neural37_P_DepVar0;
2142172   +Neural37_P_DepVar0 = P_DepVar0;
MPRINT(EM_DIAGRAM):   Neural37_P_DepVar0 = P_DepVar0;
2142173   +*------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
2142174   +* Renaming _WARN_ variable for Neural37;
MPRINT(EM_DIAGRAM):   * Renaming _WARN_ variable for Neural37;
2142175   +*------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
2142176   +length Neural37_WARN_ $4;
MPRINT(EM_DIAGRAM):   length Neural37_WARN_ $4;
2142177   +drop Neural37_WARN_;
MPRINT(EM_DIAGRAM):   drop Neural37_WARN_;
2142178   +Neural37_WARN_ = _WARN_;
MPRINT(EM_DIAGRAM):   Neural37_WARN_ = _WARN_;
2142179   +*------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
2142180   +* Ensmbl23: Average Posteriors of 5 models;
MPRINT(EM_DIAGRAM):   * Ensmbl23: Average Posteriors of 5 models;
2142181   +*------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
2142182   +P_DepVar1 = (
2142183   +Neural41_P_DepVar1 +
2142184   +Neural40_P_DepVar1 +
2142185   +Neural39_P_DepVar1 +
2142186   +Neural38_P_DepVar1 +
2142187   +Neural37_P_DepVar1
2142188   +)/5;
MPRINT(EM_DIAGRAM):   P_DepVar1 = ( Neural41_P_DepVar1 + Neural40_P_DepVar1 + 
Neural39_P_DepVar1 + Neural38_P_DepVar1 + Neural37_P_DepVar1 )/5;
2142189   +P_DepVar0 = (
2142190   +Neural41_P_DepVar0 +
2142191   +Neural40_P_DepVar0 +
2142192   +Neural39_P_DepVar0 +
2142193   +Neural38_P_DepVar0 +
2142194   +Neural37_P_DepVar0
2142195   +)/5;
MPRINT(EM_DIAGRAM):   P_DepVar0 = ( Neural41_P_DepVar0 + Neural40_P_DepVar0 + 
Neural39_P_DepVar0 + Neural38_P_DepVar0 + Neural37_P_DepVar0 )/5;
2142196   +*------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
2142197   +* Ensmbl23: Computing Classification Vars;
MPRINT(EM_DIAGRAM):   * Ensmbl23: Computing Classification Vars;
2142198   +*------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
2142199   +length I_DepVar $32;
MPRINT(EM_DIAGRAM):   length I_DepVar $32;
WARNING: Length of character variable I_DepVar has already been set. 
         Use the LENGTH statement as the very first statement in the DATA STEP to declare the 
         length of a character variable.
2142200   +label I_DepVar = 'Into: DepVar';
MPRINT(EM_DIAGRAM):   label I_DepVar = 'Into: DepVar';
2142201   +length _format $200;
MPRINT(EM_DIAGRAM):   length _format $200;
2142202   +drop _format;
MPRINT(EM_DIAGRAM):   drop _format;
2142203   +_format= ' ';
MPRINT(EM_DIAGRAM):   _format= ' ';
2142204   +_p_= 0;
MPRINT(EM_DIAGRAM):   _p_= 0;
2142205   +drop _p_;
MPRINT(EM_DIAGRAM):   drop _p_;
2142206   +if P_DepVar1 > _p_ then do;
MPRINT(EM_DIAGRAM):   if P_DepVar1 > _p_ then do;
2142207   +_p_= P_DepVar1;
MPRINT(EM_DIAGRAM):   _p_= P_DepVar1;
2142208   +_format= '1';
MPRINT(EM_DIAGRAM):   _format= '1';
2142209   +end;
MPRINT(EM_DIAGRAM):   end;
2142210   +if P_DepVar0 > _p_ then do;
MPRINT(EM_DIAGRAM):   if P_DepVar0 > _p_ then do;
2142211   +_p_= P_DepVar0;
MPRINT(EM_DIAGRAM):   _p_= P_DepVar0;
2142212   +_format= '0';
MPRINT(EM_DIAGRAM):   _format= '0';
2142213   +end;
MPRINT(EM_DIAGRAM):   end;
2142214   +%DMNORMCP(_format,I_DepVar);
MPRINT(DMNORMCP):   I_DepVar=dmnorm(_format,
MPRINT(DMNORLEN):  32
MPRINT(DMNORMCP):  );
MPRINT(EM_DIAGRAM):  ;
2142215   +*------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
2142216   +* Ensmbl23: Producing Unformatted variable;
MPRINT(EM_DIAGRAM):   * Ensmbl23: Producing Unformatted variable;
2142217   +*------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
2142218   +label U_DepVar = "Unnormalized Into: DepVar";
MPRINT(EM_DIAGRAM):   label U_DepVar = "Unnormalized Into: DepVar";
2142219   +if I_DepVar = '1' then U_DepVar = 1;
MPRINT(EM_DIAGRAM):   if I_DepVar = '1' then U_DepVar = 1;
2142220   +else
2142221   +if I_DepVar = '0' then U_DepVar = 0;
MPRINT(EM_DIAGRAM):   else if I_DepVar = '0' then U_DepVar = 0;
2142222   +*------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
2142223   +* Ensmbl23: Computing _WARN_ Variable;
MPRINT(EM_DIAGRAM):   * Ensmbl23: Computing _WARN_ Variable;
2142224   +*------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
2142225   +length _WARN_ $4;
MPRINT(EM_DIAGRAM):   length _WARN_ $4;
2142226   +label _WARN_ = 'Warnings';
MPRINT(EM_DIAGRAM):   label _WARN_ = 'Warnings';
2142227   +_WARN_ = '';
MPRINT(EM_DIAGRAM):   _WARN_ = '';
2142228   +if index(NEURAL41_WARN_, 'M') and ^index(_WARN_, 'M') then substr(_WARN_, 1, 1) ='M'
2142228  !+;
MPRINT(EM_DIAGRAM):   if index(NEURAL41_WARN_, 'M') and ^index(_WARN_, 'M') then 
substr(_WARN_, 1, 1) ='M';
2142229   +if index(NEURAL41_WARN_, 'U') and ^index(_WARN_, 'U') then substr(_WARN_, 2, 1) ='U'
2142229  !+;
MPRINT(EM_DIAGRAM):   if index(NEURAL41_WARN_, 'U') and ^index(_WARN_, 'U') then 
substr(_WARN_, 2, 1) ='U';
2142230   +if index(NEURAL41_WARN_, 'P') and ^index(_WARN_, 'P') then substr(_WARN_, 3, 1) ='P'
2142230  !+;
MPRINT(EM_DIAGRAM):   if index(NEURAL41_WARN_, 'P') and ^index(_WARN_, 'P') then 
substr(_WARN_, 3, 1) ='P';
2142231   +if index(NEURAL41_WARN_, 'C') and ^index(_WARN_, 'C') then substr(_WARN_, 4, 1) ='C'
2142231  !+;
MPRINT(EM_DIAGRAM):   if index(NEURAL41_WARN_, 'C') and ^index(_WARN_, 'C') then 
substr(_WARN_, 4, 1) ='C';
2142232   +if index(NEURAL40_WARN_, 'M') and ^index(_WARN_, 'M') then substr(_WARN_, 1, 1) ='M'
2142232  !+;
MPRINT(EM_DIAGRAM):   if index(NEURAL40_WARN_, 'M') and ^index(_WARN_, 'M') then 
substr(_WARN_, 1, 1) ='M';
2142233   +if index(NEURAL40_WARN_, 'U') and ^index(_WARN_, 'U') then substr(_WARN_, 2, 1) ='U'
2142233  !+;
MPRINT(EM_DIAGRAM):   if index(NEURAL40_WARN_, 'U') and ^index(_WARN_, 'U') then 
substr(_WARN_, 2, 1) ='U';
2142234   +if index(NEURAL40_WARN_, 'P') and ^index(_WARN_, 'P') then substr(_WARN_, 3, 1) ='P'
2142234  !+;
MPRINT(EM_DIAGRAM):   if index(NEURAL40_WARN_, 'P') and ^index(_WARN_, 'P') then 
substr(_WARN_, 3, 1) ='P';
2142235   +if index(NEURAL40_WARN_, 'C') and ^index(_WARN_, 'C') then substr(_WARN_, 4, 1) ='C'
2142235  !+;
MPRINT(EM_DIAGRAM):   if index(NEURAL40_WARN_, 'C') and ^index(_WARN_, 'C') then 
substr(_WARN_, 4, 1) ='C';
2142236   +if index(NEURAL39_WARN_, 'M') and ^index(_WARN_, 'M') then substr(_WARN_, 1, 1) ='M'
2142236  !+;
MPRINT(EM_DIAGRAM):   if index(NEURAL39_WARN_, 'M') and ^index(_WARN_, 'M') then 
substr(_WARN_, 1, 1) ='M';
2142237   +if index(NEURAL39_WARN_, 'U') and ^index(_WARN_, 'U') then substr(_WARN_, 2, 1) ='U'
2142237  !+;
MPRINT(EM_DIAGRAM):   if index(NEURAL39_WARN_, 'U') and ^index(_WARN_, 'U') then 
substr(_WARN_, 2, 1) ='U';
2142238   +if index(NEURAL39_WARN_, 'P') and ^index(_WARN_, 'P') then substr(_WARN_, 3, 1) ='P'
2142238  !+;
MPRINT(EM_DIAGRAM):   if index(NEURAL39_WARN_, 'P') and ^index(_WARN_, 'P') then 
substr(_WARN_, 3, 1) ='P';
2142239   +if index(NEURAL39_WARN_, 'C') and ^index(_WARN_, 'C') then substr(_WARN_, 4, 1) ='C'
2142239  !+;
MPRINT(EM_DIAGRAM):   if index(NEURAL39_WARN_, 'C') and ^index(_WARN_, 'C') then 
substr(_WARN_, 4, 1) ='C';
2142240   +if index(NEURAL38_WARN_, 'M') and ^index(_WARN_, 'M') then substr(_WARN_, 1, 1) ='M'
2142240  !+;
MPRINT(EM_DIAGRAM):   if index(NEURAL38_WARN_, 'M') and ^index(_WARN_, 'M') then 
substr(_WARN_, 1, 1) ='M';
2142241   +if index(NEURAL38_WARN_, 'U') and ^index(_WARN_, 'U') then substr(_WARN_, 2, 1) ='U'
2142241  !+;
MPRINT(EM_DIAGRAM):   if index(NEURAL38_WARN_, 'U') and ^index(_WARN_, 'U') then 
substr(_WARN_, 2, 1) ='U';
2142242   +if index(NEURAL38_WARN_, 'P') and ^index(_WARN_, 'P') then substr(_WARN_, 3, 1) ='P'
2142242  !+;
MPRINT(EM_DIAGRAM):   if index(NEURAL38_WARN_, 'P') and ^index(_WARN_, 'P') then 
substr(_WARN_, 3, 1) ='P';
2142243   +if index(NEURAL38_WARN_, 'C') and ^index(_WARN_, 'C') then substr(_WARN_, 4, 1) ='C'
2142243  !+;
MPRINT(EM_DIAGRAM):   if index(NEURAL38_WARN_, 'C') and ^index(_WARN_, 'C') then 
substr(_WARN_, 4, 1) ='C';
2142244   +if index(NEURAL37_WARN_, 'M') and ^index(_WARN_, 'M') then substr(_WARN_, 1, 1) ='M'
2142244  !+;
MPRINT(EM_DIAGRAM):   if index(NEURAL37_WARN_, 'M') and ^index(_WARN_, 'M') then 
substr(_WARN_, 1, 1) ='M';
2142245   +if index(NEURAL37_WARN_, 'U') and ^index(_WARN_, 'U') then substr(_WARN_, 2, 1) ='U'
2142245  !+;
MPRINT(EM_DIAGRAM):   if index(NEURAL37_WARN_, 'U') and ^index(_WARN_, 'U') then 
substr(_WARN_, 2, 1) ='U';
2142246   +if index(NEURAL37_WARN_, 'P') and ^index(_WARN_, 'P') then substr(_WARN_, 3, 1) ='P'
2142246  !+;
MPRINT(EM_DIAGRAM):   if index(NEURAL37_WARN_, 'P') and ^index(_WARN_, 'P') then 
substr(_WARN_, 3, 1) ='P';
2142247   +if index(NEURAL37_WARN_, 'C') and ^index(_WARN_, 'C') then substr(_WARN_, 4, 1) ='C'
2142247  !+;
MPRINT(EM_DIAGRAM):   if index(NEURAL37_WARN_, 'C') and ^index(_WARN_, 'C') then 
substr(_WARN_, 4, 1) ='C';
2142248   +*------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
2142249   +* Ensmbl23: Computing Residual Vars;
MPRINT(EM_DIAGRAM):   * Ensmbl23: Computing Residual Vars;
2142250   +*------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
2142251   +if
2142252   +F_DepVar NE '1'
2142253   +AND F_DepVar NE '0'
2142254   +then do;
MPRINT(EM_DIAGRAM):   if F_DepVar NE '1' AND F_DepVar NE '0' then do;
2142255   +R_DepVar1 = .;
MPRINT(EM_DIAGRAM):   R_DepVar1 = .;
2142256   +R_DepVar0 = .;
MPRINT(EM_DIAGRAM):   R_DepVar0 = .;
2142257   +end;
MPRINT(EM_DIAGRAM):   end;
2142258   +else do;
MPRINT(EM_DIAGRAM):   else do;
2142259   +R_DepVar1 = -P_DepVar1;
MPRINT(EM_DIAGRAM):   R_DepVar1 = -P_DepVar1;
2142260   +R_DepVar0 = -P_DepVar0;
MPRINT(EM_DIAGRAM):   R_DepVar0 = -P_DepVar0;
2142261   +SELECT(F_DepVar);
MPRINT(EM_DIAGRAM):   SELECT(F_DepVar);
2142262   +WHEN('1') R_DepVar1 = R_DepVar1 +1;
MPRINT(EM_DIAGRAM):   WHEN('1') R_DepVar1 = R_DepVar1 +1;
2142263   +WHEN('0') R_DepVar0 = R_DepVar0 +1;
MPRINT(EM_DIAGRAM):   WHEN('0') R_DepVar0 = R_DepVar0 +1;
2142264   +OTHERWISE;
MPRINT(EM_DIAGRAM):   OTHERWISE;
2142265   +END;
MPRINT(EM_DIAGRAM):   END;
2142266   +END;
MPRINT(EM_DIAGRAM):   END;
NOTE: %INCLUDE (level 1) ending.
MPRINT(EM_DIAGRAM):   run;
2142267    run;

NOTE: DATA STEP view saved on file EMWS8.ENSMBL23_TRAIN.
NOTE: A stored DATA STEP view cannot run under a different operating system.
NOTE: View EMWS8.NEURAL41_TRAIN.VIEW used (Total process time):
      real time           0.13 seconds
      cpu time            0.14 seconds
      
NOTE: DATA statement used (Total process time):
      real time           0.14 seconds
      cpu time            0.15 seconds
      

MPRINT(EM_DIAGRAM):   quit;
2142268    quit;
2142269    filename emflow;
MPRINT(EM_DIAGRAM):   filename emflow;
NOTE: Fileref EMFLOW has been deassigned.
2142270    filename emflow
2142270  ! "C:\\predictive-models-project\Workspaces\EMWS8\Ensmbl23\EMFLOWSCORE.sas";
MPRINT(EM_DIAGRAM):    filename emflow 
"C:\\predictive-models-project\Workspaces\EMWS8\Ensmbl23\EMFLOWSCORE.sas";
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   * Ensmbl23: Scoring NEURAL41_VALIDATE data;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
2142271    *------------------------------------------------------------*;
2142272    * Ensmbl23: Scoring NEURAL41_VALIDATE data;
2142273    *------------------------------------------------------------*;
2142274    data EMWS8.Ensmbl23_VALIDATE
2142275    / view=EMWS8.Ensmbl23_VALIDATE
2142276    ;
MPRINT(EM_DIAGRAM):   data EMWS8.Ensmbl23_VALIDATE / view=EMWS8.Ensmbl23_VALIDATE ;
2142277    set EMWS8.Neural41_VALIDATE
2142278    ;
MPRINT(EM_DIAGRAM):   set EMWS8.Neural41_VALIDATE ;
2142279    %inc emflow;
NOTE: %INCLUDE (level 1) file EMFLOW is file 
      C:\\predictive-models-project\Workspaces\EMWS8\Ensmbl23\EMFLOWSCORE.sas.
2142280   +*------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
2142281   +* Ensmbl23: Combine model for DepVar;
MPRINT(EM_DIAGRAM):   * Ensmbl23: Combine model for DepVar;
2142282   +*------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
2142283   +* Ensmbl23: Scoring Code of model 1 of 5;
MPRINT(EM_DIAGRAM):   * Ensmbl23: Scoring Code of model 1 of 5;
2142284   +*------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
2142285   +*------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
2142286   +* TOOL: Extension Class;
MPRINT(EM_DIAGRAM):   * TOOL: Extension Class;
2142287   +* TYPE: SAMPLE;
MPRINT(EM_DIAGRAM):   * TYPE: SAMPLE;
2142288   +* NODE: FIMPORT;
MPRINT(EM_DIAGRAM):   * NODE: FIMPORT;
2142289   +*------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
2142290   +*------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
2142291   +* TOOL: Statistics Exploration;
MPRINT(EM_DIAGRAM):   * TOOL: Statistics Exploration;
2142292   +* TYPE: EXPLORE;
MPRINT(EM_DIAGRAM):   * TYPE: EXPLORE;
2142293   +* NODE: Stat;
MPRINT(EM_DIAGRAM):   * NODE: Stat;
2142294   +*------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
2142295   +*------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
2142296   +* TOOL: Filtering;
MPRINT(EM_DIAGRAM):   * TOOL: Filtering;
2142297   +* TYPE: MODIFY;
MPRINT(EM_DIAGRAM):   * TYPE: MODIFY;
2142298   +* NODE: Filter;
MPRINT(EM_DIAGRAM):   * NODE: Filter;
2142299   +*------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
2142300   +*------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
2142301   +* TOOL: SASHELP.EMCORE.EMCODETOOL.CLASS;
MPRINT(EM_DIAGRAM):   * TOOL: SASHELP.EMCORE.EMCODETOOL.CLASS;
2142302   +* TYPE: UTILITY;
MPRINT(EM_DIAGRAM):   * TYPE: UTILITY;
2142303   +* NODE: EMCODE4;
MPRINT(EM_DIAGRAM):   * NODE: EMCODE4;
2142304   +*------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
2142305   +
2142306   +  Frq=NumStorePurchases+NumWebPurchases+NumCatalogPurchases;
MPRINT(EM_DIAGRAM):   Frq=NumStorePurchases+NumWebPurchases+NumCatalogPurchases;
2142307   +  Mnt=MntFishProducts+MntFruits+MntGoldProds+MntMeatProducts+MntSweetProducts+MntWin
2142307  !+es;
MPRINT(EM_DIAGRAM):   
Mnt=MntFishProducts+MntFruits+MntGoldProds+MntMeatProducts+MntSweetProducts+MntWines;
2142308   +  RMntFrq=Mnt/Frq;
MPRINT(EM_DIAGRAM):   RMntFrq=Mnt/Frq;
2142309   +  RFMstat=(Mnt*Frq)/(Recency+1);
MPRINT(EM_DIAGRAM):   RFMstat=(Mnt*Frq)/(Recency+1);
2142310   +  HigherEducation=1*(upcase(Education) in ("GRADUATION","MASTER","PHD"));
MPRINT(EM_DIAGRAM):   HigherEducation=1*(upcase(Education) in ("GRADUATION","MASTER","PHD"));
2142311   +  Age = year(today())-Year_Birth;
MPRINT(EM_DIAGRAM):   Age = year(today())-Year_Birth;
2142312   +  AcceptedCmpTotal=AcceptedCmp1+AcceptedCmp2+AcceptedCmp3+AcceptedCmp4+AcceptedCmp5;
MPRINT(EM_DIAGRAM):   
AcceptedCmpTotal=AcceptedCmp1+AcceptedCmp2+AcceptedCmp3+AcceptedCmp4+AcceptedCmp5;
2142313   +*------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
2142314   +* TOOL: Transform;
MPRINT(EM_DIAGRAM):   * TOOL: Transform;
2142315   +* TYPE: MODIFY;
MPRINT(EM_DIAGRAM):   * TYPE: MODIFY;
2142316   +* NODE: Trans;
MPRINT(EM_DIAGRAM):   * NODE: Trans;
2142317   +*------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
2142318   +*------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
2142319   +* Formula Code;
MPRINT(EM_DIAGRAM):   * Formula Code;
2142320   +*------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
2142321   +MonthsAsCustomer =int((today()-Dt_Customer)/12) ;
MPRINT(EM_DIAGRAM):   MonthsAsCustomer =int((today()-Dt_Customer)/12) ;
2142322   +HigherEducationBinary =HigherEducation ;
MPRINT(EM_DIAGRAM):   HigherEducationBinary =HigherEducation ;
2142323   +NumDistPurchases =NumCatalogPurchases + NumWebPurchases ;
MPRINT(EM_DIAGRAM):   NumDistPurchases =NumCatalogPurchases + NumWebPurchases ;
2142324   +*------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
2142325   +* TOOL: Partition Class;
MPRINT(EM_DIAGRAM):   * TOOL: Partition Class;
2142326   +* TYPE: SAMPLE;
MPRINT(EM_DIAGRAM):   * TYPE: SAMPLE;
2142327   +* NODE: Part;
MPRINT(EM_DIAGRAM):   * NODE: Part;
2142328   +*------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
2142329   +*------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
2142330   +* TOOL: Metadata Node;
MPRINT(EM_DIAGRAM):   * TOOL: Metadata Node;
2142331   +* TYPE: UTILITY;
MPRINT(EM_DIAGRAM):   * TYPE: UTILITY;
2142332   +* NODE: Meta3;
MPRINT(EM_DIAGRAM):   * NODE: Meta3;
2142333   +*------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
2142334   +*------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
2142335   +* TOOL: Neural;
MPRINT(EM_DIAGRAM):   * TOOL: Neural;
2142336   +* TYPE: MODEL;
MPRINT(EM_DIAGRAM):   * TYPE: MODEL;
2142337   +* NODE: Neural41;
MPRINT(EM_DIAGRAM):   * NODE: Neural41;
2142338   +*------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
2142339   +***********************************;
MPRINT(EM_DIAGRAM):   ***********************************;
2142340   +*** Begin Scoring Code for Neural;
MPRINT(EM_DIAGRAM):   *** Begin Scoring Code for Neural;
2142341   +***********************************;
MPRINT(EM_DIAGRAM):   ***********************************;
2142342   +DROP _DM_BAD _EPS _NOCL_ _MAX_ _MAXP_ _SUM_ _NTRIALS;
MPRINT(EM_DIAGRAM):   DROP _DM_BAD _EPS _NOCL_ _MAX_ _MAXP_ _SUM_ _NTRIALS;
2142343   + _DM_BAD = 0;
MPRINT(EM_DIAGRAM):   _DM_BAD = 0;
2142344   + _NOCL_ = .;
MPRINT(EM_DIAGRAM):   _NOCL_ = .;
2142345   + _MAX_ = .;
MPRINT(EM_DIAGRAM):   _MAX_ = .;
2142346   + _MAXP_ = .;
MPRINT(EM_DIAGRAM):   _MAXP_ = .;
2142347   + _SUM_ = .;
MPRINT(EM_DIAGRAM):   _SUM_ = .;
2142348   + _NTRIALS = .;
MPRINT(EM_DIAGRAM):   _NTRIALS = .;
2142349   + _EPS =                1E-10;
MPRINT(EM_DIAGRAM):   _EPS = 1E-10;
2142350   +LENGTH _WARN_ $4
2142351   +      F_DepVar  $ 12
2142352   +;
MPRINT(EM_DIAGRAM):   LENGTH _WARN_ $4 F_DepVar $ 12 ;
2142353   +      label S_AcceptedCmpTotal = 'Standard: AcceptedCmpTotal' ;
MPRINT(EM_DIAGRAM):   label S_AcceptedCmpTotal = 'Standard: AcceptedCmpTotal' ;
2142354   +
2142355   +      label S_Age = 'Standard: Age' ;
MPRINT(EM_DIAGRAM):   label S_Age = 'Standard: Age' ;
2142356   +
2142357   +      label S_Frq = 'Standard: Frq' ;
MPRINT(EM_DIAGRAM):   label S_Frq = 'Standard: Frq' ;
2142358   +
2142359   +      label S_Income = 'Standard: Income' ;
MPRINT(EM_DIAGRAM):   label S_Income = 'Standard: Income' ;
2142360   +
2142361   +      label S_Kidhome = 'Standard: Kidhome' ;
MPRINT(EM_DIAGRAM):   label S_Kidhome = 'Standard: Kidhome' ;
2142362   +
2142363   +      label S_MntFishProducts = 'Standard: MntFishProducts' ;
MPRINT(EM_DIAGRAM):   label S_MntFishProducts = 'Standard: MntFishProducts' ;
2142364   +
2142365   +      label S_MntFruits = 'Standard: MntFruits' ;
MPRINT(EM_DIAGRAM):   label S_MntFruits = 'Standard: MntFruits' ;
2142366   +
2142367   +      label S_MntGoldProds = 'Standard: MntGoldProds' ;
MPRINT(EM_DIAGRAM):   label S_MntGoldProds = 'Standard: MntGoldProds' ;
2142368   +
2142369   +      label S_MntSweetProducts = 'Standard: MntSweetProducts' ;
MPRINT(EM_DIAGRAM):   label S_MntSweetProducts = 'Standard: MntSweetProducts' ;
2142370   +
2142371   +      label S_MonthsAsCustomer = 'Standard: MonthsAsCustomer' ;
MPRINT(EM_DIAGRAM):   label S_MonthsAsCustomer = 'Standard: MonthsAsCustomer' ;
2142372   +
2142373   +      label S_NumDealsPurchases = 'Standard: NumDealsPurchases' ;
MPRINT(EM_DIAGRAM):   label S_NumDealsPurchases = 'Standard: NumDealsPurchases' ;
2142374   +
2142375   +      label S_NumWebVisitsMonth = 'Standard: NumWebVisitsMonth' ;
MPRINT(EM_DIAGRAM):   label S_NumWebVisitsMonth = 'Standard: NumWebVisitsMonth' ;
2142376   +
2142377   +      label S_RFMstat = 'Standard: RFMstat' ;
MPRINT(EM_DIAGRAM):   label S_RFMstat = 'Standard: RFMstat' ;
2142378   +
2142379   +      label S_RMntFrq = 'Standard: RMntFrq' ;
MPRINT(EM_DIAGRAM):   label S_RMntFrq = 'Standard: RMntFrq' ;
2142380   +
2142381   +      label S_Recency = 'Standard: Recency' ;
MPRINT(EM_DIAGRAM):   label S_Recency = 'Standard: Recency' ;
2142382   +
2142383   +      label S_Teenhome = 'Standard: Teenhome' ;
MPRINT(EM_DIAGRAM):   label S_Teenhome = 'Standard: Teenhome' ;
2142384   +
2142385   +      label AcceptedCmp10 = 'Dummy: AcceptedCmp1=0' ;
MPRINT(EM_DIAGRAM):   label AcceptedCmp10 = 'Dummy: AcceptedCmp1=0' ;
2142386   +
2142387   +      label AcceptedCmp20 = 'Dummy: AcceptedCmp2=0' ;
MPRINT(EM_DIAGRAM):   label AcceptedCmp20 = 'Dummy: AcceptedCmp2=0' ;
2142388   +
2142389   +      label AcceptedCmp30 = 'Dummy: AcceptedCmp3=0' ;
MPRINT(EM_DIAGRAM):   label AcceptedCmp30 = 'Dummy: AcceptedCmp3=0' ;
2142390   +
2142391   +      label AcceptedCmp40 = 'Dummy: AcceptedCmp4=0' ;
MPRINT(EM_DIAGRAM):   label AcceptedCmp40 = 'Dummy: AcceptedCmp4=0' ;
2142392   +
2142393   +      label AcceptedCmp50 = 'Dummy: AcceptedCmp5=0' ;
MPRINT(EM_DIAGRAM):   label AcceptedCmp50 = 'Dummy: AcceptedCmp5=0' ;
2142394   +
2142395   +      label Complain0 = 'Dummy: Complain=0' ;
MPRINT(EM_DIAGRAM):   label Complain0 = 'Dummy: Complain=0' ;
2142396   +
2142397   +      label HigherEducationBinary0 = 'Dummy: HigherEducationBinary=0' ;
MPRINT(EM_DIAGRAM):   label HigherEducationBinary0 = 'Dummy: HigherEducationBinary=0' ;
2142398   +
2142399   +      label Education2n_Cycle = 'Dummy: Education=2n Cycle' ;
MPRINT(EM_DIAGRAM):   label Education2n_Cycle = 'Dummy: Education=2n Cycle' ;
2142400   +
2142401   +      label EducationBasic = 'Dummy: Education=Basic' ;
MPRINT(EM_DIAGRAM):   label EducationBasic = 'Dummy: Education=Basic' ;
2142402   +
2142403   +      label EducationGraduation = 'Dummy: Education=Graduation' ;
MPRINT(EM_DIAGRAM):   label EducationGraduation = 'Dummy: Education=Graduation' ;
2142404   +
2142405   +      label EducationMaster = 'Dummy: Education=Master' ;
MPRINT(EM_DIAGRAM):   label EducationMaster = 'Dummy: Education=Master' ;
2142406   +
2142407   +      label Marital_StatusDivorced = 'Dummy: Marital_Status=Divorced' ;
MPRINT(EM_DIAGRAM):   label Marital_StatusDivorced = 'Dummy: Marital_Status=Divorced' ;
2142408   +
2142409   +      label Marital_StatusMarried = 'Dummy: Marital_Status=Married' ;
MPRINT(EM_DIAGRAM):   label Marital_StatusMarried = 'Dummy: Marital_Status=Married' ;
2142410   +
2142411   +      label Marital_StatusSingle = 'Dummy: Marital_Status=Single' ;
MPRINT(EM_DIAGRAM):   label Marital_StatusSingle = 'Dummy: Marital_Status=Single' ;
2142412   +
2142413   +      label Marital_StatusTogether = 'Dummy: Marital_Status=Together' ;
MPRINT(EM_DIAGRAM):   label Marital_StatusTogether = 'Dummy: Marital_Status=Together' ;
2142414   +
2142415   +      label H11 = 'Hidden: H1=1' ;
MPRINT(EM_DIAGRAM):   label H11 = 'Hidden: H1=1' ;
2142416   +
2142417   +      label H12 = 'Hidden: H1=2' ;
MPRINT(EM_DIAGRAM):   label H12 = 'Hidden: H1=2' ;
2142418   +
2142419   +      label H13 = 'Hidden: H1=3' ;
MPRINT(EM_DIAGRAM):   label H13 = 'Hidden: H1=3' ;
2142420   +
2142421   +      label H14 = 'Hidden: H1=4' ;
MPRINT(EM_DIAGRAM):   label H14 = 'Hidden: H1=4' ;
2142422   +
2142423   +      label H15 = 'Hidden: H1=5' ;
MPRINT(EM_DIAGRAM):   label H15 = 'Hidden: H1=5' ;
2142424   +
2142425   +      label H16 = 'Hidden: H1=6' ;
MPRINT(EM_DIAGRAM):   label H16 = 'Hidden: H1=6' ;
2142426   +
2142427   +      label I_DepVar = 'Into: DepVar' ;
MPRINT(EM_DIAGRAM):   label I_DepVar = 'Into: DepVar' ;
2142428   +
2142429   +      label F_DepVar = 'From: DepVar' ;
MPRINT(EM_DIAGRAM):   label F_DepVar = 'From: DepVar' ;
2142430   +
2142431   +      label U_DepVar = 'Unnormalized Into: DepVar' ;
MPRINT(EM_DIAGRAM):   label U_DepVar = 'Unnormalized Into: DepVar' ;
2142432   +
2142433   +      label P_DepVar1 = 'Predicted: DepVar=1' ;
MPRINT(EM_DIAGRAM):   label P_DepVar1 = 'Predicted: DepVar=1' ;
2142434   +
2142435   +      label R_DepVar1 = 'Residual: DepVar=1' ;
MPRINT(EM_DIAGRAM):   label R_DepVar1 = 'Residual: DepVar=1' ;
2142436   +
2142437   +      label P_DepVar0 = 'Predicted: DepVar=0' ;
MPRINT(EM_DIAGRAM):   label P_DepVar0 = 'Predicted: DepVar=0' ;
2142438   +
2142439   +      label R_DepVar0 = 'Residual: DepVar=0' ;
MPRINT(EM_DIAGRAM):   label R_DepVar0 = 'Residual: DepVar=0' ;
2142440   +
2142441   +      label  _WARN_ = "Warnings";
MPRINT(EM_DIAGRAM):   label _WARN_ = "Warnings";
2142442   +
2142443   +*** Generate dummy variables for AcceptedCmp1 ;
MPRINT(EM_DIAGRAM):   *** Generate dummy variables for AcceptedCmp1 ;
2142444   +drop AcceptedCmp10 ;
MPRINT(EM_DIAGRAM):   drop AcceptedCmp10 ;
2142445   +if missing( AcceptedCmp1 ) then do;
MPRINT(EM_DIAGRAM):   if missing( AcceptedCmp1 ) then do;
2142446   +   AcceptedCmp10 = .;
MPRINT(EM_DIAGRAM):   AcceptedCmp10 = .;
2142447   +   substr(_warn_,1,1) = 'M';
MPRINT(EM_DIAGRAM):   substr(_warn_,1,1) = 'M';
2142448   +   _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2142449   +end;
MPRINT(EM_DIAGRAM):   end;
2142450   +else do;
MPRINT(EM_DIAGRAM):   else do;
2142451   +   length _dm12 $ 12; drop _dm12 ;
MPRINT(EM_DIAGRAM):   length _dm12 $ 12;
MPRINT(EM_DIAGRAM):   drop _dm12 ;
2142452   +   _dm12 = put( AcceptedCmp1 , BEST. );
MPRINT(EM_DIAGRAM):   _dm12 = put( AcceptedCmp1 , BEST. );
2142453   +   %DMNORMIP( _dm12 )
MPRINT(DMNORMIP):   call dmnorm(_dm12,
MPRINT(DMNORLEN):  32
MPRINT(DMNORMIP):  );
2142454   +   if _dm12 = '0'  then do;
MPRINT(EM_DIAGRAM):   if _dm12 = '0' then do;
2142455   +      AcceptedCmp10 = 1;
MPRINT(EM_DIAGRAM):   AcceptedCmp10 = 1;
2142456   +   end;
MPRINT(EM_DIAGRAM):   end;
2142457   +   else if _dm12 = '1'  then do;
MPRINT(EM_DIAGRAM):   else if _dm12 = '1' then do;
2142458   +      AcceptedCmp10 = -1;
MPRINT(EM_DIAGRAM):   AcceptedCmp10 = -1;
2142459   +   end;
MPRINT(EM_DIAGRAM):   end;
2142460   +   else do;
MPRINT(EM_DIAGRAM):   else do;
2142461   +      AcceptedCmp10 = .;
MPRINT(EM_DIAGRAM):   AcceptedCmp10 = .;
2142462   +      substr(_warn_,2,1) = 'U';
MPRINT(EM_DIAGRAM):   substr(_warn_,2,1) = 'U';
2142463   +      _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2142464   +   end;
MPRINT(EM_DIAGRAM):   end;
2142465   +end;
MPRINT(EM_DIAGRAM):   end;
2142466   +
2142467   +*** Generate dummy variables for AcceptedCmp2 ;
MPRINT(EM_DIAGRAM):   *** Generate dummy variables for AcceptedCmp2 ;
2142468   +drop AcceptedCmp20 ;
MPRINT(EM_DIAGRAM):   drop AcceptedCmp20 ;
2142469   +if missing( AcceptedCmp2 ) then do;
MPRINT(EM_DIAGRAM):   if missing( AcceptedCmp2 ) then do;
2142470   +   AcceptedCmp20 = .;
MPRINT(EM_DIAGRAM):   AcceptedCmp20 = .;
2142471   +   substr(_warn_,1,1) = 'M';
MPRINT(EM_DIAGRAM):   substr(_warn_,1,1) = 'M';
2142472   +   _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2142473   +end;
MPRINT(EM_DIAGRAM):   end;
2142474   +else do;
MPRINT(EM_DIAGRAM):   else do;
2142475   +   length _dm12 $ 12; drop _dm12 ;
MPRINT(EM_DIAGRAM):   length _dm12 $ 12;
MPRINT(EM_DIAGRAM):   drop _dm12 ;
2142476   +   _dm12 = put( AcceptedCmp2 , BEST. );
MPRINT(EM_DIAGRAM):   _dm12 = put( AcceptedCmp2 , BEST. );
2142477   +   %DMNORMIP( _dm12 )
MPRINT(DMNORMIP):   call dmnorm(_dm12,
MPRINT(DMNORLEN):  32
MPRINT(DMNORMIP):  );
2142478   +   if _dm12 = '0'  then do;
MPRINT(EM_DIAGRAM):   if _dm12 = '0' then do;
2142479   +      AcceptedCmp20 = 1;
MPRINT(EM_DIAGRAM):   AcceptedCmp20 = 1;
2142480   +   end;
MPRINT(EM_DIAGRAM):   end;
2142481   +   else if _dm12 = '1'  then do;
MPRINT(EM_DIAGRAM):   else if _dm12 = '1' then do;
2142482   +      AcceptedCmp20 = -1;
MPRINT(EM_DIAGRAM):   AcceptedCmp20 = -1;
2142483   +   end;
MPRINT(EM_DIAGRAM):   end;
2142484   +   else do;
MPRINT(EM_DIAGRAM):   else do;
2142485   +      AcceptedCmp20 = .;
MPRINT(EM_DIAGRAM):   AcceptedCmp20 = .;
2142486   +      substr(_warn_,2,1) = 'U';
MPRINT(EM_DIAGRAM):   substr(_warn_,2,1) = 'U';
2142487   +      _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2142488   +   end;
MPRINT(EM_DIAGRAM):   end;
2142489   +end;
MPRINT(EM_DIAGRAM):   end;
2142490   +
2142491   +*** Generate dummy variables for AcceptedCmp3 ;
MPRINT(EM_DIAGRAM):   *** Generate dummy variables for AcceptedCmp3 ;
2142492   +drop AcceptedCmp30 ;
MPRINT(EM_DIAGRAM):   drop AcceptedCmp30 ;
2142493   +if missing( AcceptedCmp3 ) then do;
MPRINT(EM_DIAGRAM):   if missing( AcceptedCmp3 ) then do;
2142494   +   AcceptedCmp30 = .;
MPRINT(EM_DIAGRAM):   AcceptedCmp30 = .;
2142495   +   substr(_warn_,1,1) = 'M';
MPRINT(EM_DIAGRAM):   substr(_warn_,1,1) = 'M';
2142496   +   _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2142497   +end;
MPRINT(EM_DIAGRAM):   end;
2142498   +else do;
MPRINT(EM_DIAGRAM):   else do;
2142499   +   length _dm12 $ 12; drop _dm12 ;
MPRINT(EM_DIAGRAM):   length _dm12 $ 12;
MPRINT(EM_DIAGRAM):   drop _dm12 ;
2142500   +   _dm12 = put( AcceptedCmp3 , BEST. );
MPRINT(EM_DIAGRAM):   _dm12 = put( AcceptedCmp3 , BEST. );
2142501   +   %DMNORMIP( _dm12 )
MPRINT(DMNORMIP):   call dmnorm(_dm12,
MPRINT(DMNORLEN):  32
MPRINT(DMNORMIP):  );
2142502   +   if _dm12 = '0'  then do;
MPRINT(EM_DIAGRAM):   if _dm12 = '0' then do;
2142503   +      AcceptedCmp30 = 1;
MPRINT(EM_DIAGRAM):   AcceptedCmp30 = 1;
2142504   +   end;
MPRINT(EM_DIAGRAM):   end;
2142505   +   else if _dm12 = '1'  then do;
MPRINT(EM_DIAGRAM):   else if _dm12 = '1' then do;
2142506   +      AcceptedCmp30 = -1;
MPRINT(EM_DIAGRAM):   AcceptedCmp30 = -1;
2142507   +   end;
MPRINT(EM_DIAGRAM):   end;
2142508   +   else do;
MPRINT(EM_DIAGRAM):   else do;
2142509   +      AcceptedCmp30 = .;
MPRINT(EM_DIAGRAM):   AcceptedCmp30 = .;
2142510   +      substr(_warn_,2,1) = 'U';
MPRINT(EM_DIAGRAM):   substr(_warn_,2,1) = 'U';
2142511   +      _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2142512   +   end;
MPRINT(EM_DIAGRAM):   end;
2142513   +end;
MPRINT(EM_DIAGRAM):   end;
2142514   +
2142515   +*** Generate dummy variables for AcceptedCmp4 ;
MPRINT(EM_DIAGRAM):   *** Generate dummy variables for AcceptedCmp4 ;
2142516   +drop AcceptedCmp40 ;
MPRINT(EM_DIAGRAM):   drop AcceptedCmp40 ;
2142517   +if missing( AcceptedCmp4 ) then do;
MPRINT(EM_DIAGRAM):   if missing( AcceptedCmp4 ) then do;
2142518   +   AcceptedCmp40 = .;
MPRINT(EM_DIAGRAM):   AcceptedCmp40 = .;
2142519   +   substr(_warn_,1,1) = 'M';
MPRINT(EM_DIAGRAM):   substr(_warn_,1,1) = 'M';
2142520   +   _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2142521   +end;
MPRINT(EM_DIAGRAM):   end;
2142522   +else do;
MPRINT(EM_DIAGRAM):   else do;
2142523   +   length _dm12 $ 12; drop _dm12 ;
MPRINT(EM_DIAGRAM):   length _dm12 $ 12;
MPRINT(EM_DIAGRAM):   drop _dm12 ;
2142524   +   _dm12 = put( AcceptedCmp4 , BEST. );
MPRINT(EM_DIAGRAM):   _dm12 = put( AcceptedCmp4 , BEST. );
2142525   +   %DMNORMIP( _dm12 )
MPRINT(DMNORMIP):   call dmnorm(_dm12,
MPRINT(DMNORLEN):  32
MPRINT(DMNORMIP):  );
2142526   +   if _dm12 = '0'  then do;
MPRINT(EM_DIAGRAM):   if _dm12 = '0' then do;
2142527   +      AcceptedCmp40 = 1;
MPRINT(EM_DIAGRAM):   AcceptedCmp40 = 1;
2142528   +   end;
MPRINT(EM_DIAGRAM):   end;
2142529   +   else if _dm12 = '1'  then do;
MPRINT(EM_DIAGRAM):   else if _dm12 = '1' then do;
2142530   +      AcceptedCmp40 = -1;
MPRINT(EM_DIAGRAM):   AcceptedCmp40 = -1;
2142531   +   end;
MPRINT(EM_DIAGRAM):   end;
2142532   +   else do;
MPRINT(EM_DIAGRAM):   else do;
2142533   +      AcceptedCmp40 = .;
MPRINT(EM_DIAGRAM):   AcceptedCmp40 = .;
2142534   +      substr(_warn_,2,1) = 'U';
MPRINT(EM_DIAGRAM):   substr(_warn_,2,1) = 'U';
2142535   +      _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2142536   +   end;
MPRINT(EM_DIAGRAM):   end;
2142537   +end;
MPRINT(EM_DIAGRAM):   end;
2142538   +
2142539   +*** Generate dummy variables for AcceptedCmp5 ;
MPRINT(EM_DIAGRAM):   *** Generate dummy variables for AcceptedCmp5 ;
2142540   +drop AcceptedCmp50 ;
MPRINT(EM_DIAGRAM):   drop AcceptedCmp50 ;
2142541   +if missing( AcceptedCmp5 ) then do;
MPRINT(EM_DIAGRAM):   if missing( AcceptedCmp5 ) then do;
2142542   +   AcceptedCmp50 = .;
MPRINT(EM_DIAGRAM):   AcceptedCmp50 = .;
2142543   +   substr(_warn_,1,1) = 'M';
MPRINT(EM_DIAGRAM):   substr(_warn_,1,1) = 'M';
2142544   +   _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2142545   +end;
MPRINT(EM_DIAGRAM):   end;
2142546   +else do;
MPRINT(EM_DIAGRAM):   else do;
2142547   +   length _dm12 $ 12; drop _dm12 ;
MPRINT(EM_DIAGRAM):   length _dm12 $ 12;
MPRINT(EM_DIAGRAM):   drop _dm12 ;
2142548   +   _dm12 = put( AcceptedCmp5 , BEST. );
MPRINT(EM_DIAGRAM):   _dm12 = put( AcceptedCmp5 , BEST. );
2142549   +   %DMNORMIP( _dm12 )
MPRINT(DMNORMIP):   call dmnorm(_dm12,
MPRINT(DMNORLEN):  32
MPRINT(DMNORMIP):  );
2142550   +   if _dm12 = '0'  then do;
MPRINT(EM_DIAGRAM):   if _dm12 = '0' then do;
2142551   +      AcceptedCmp50 = 1;
MPRINT(EM_DIAGRAM):   AcceptedCmp50 = 1;
2142552   +   end;
MPRINT(EM_DIAGRAM):   end;
2142553   +   else if _dm12 = '1'  then do;
MPRINT(EM_DIAGRAM):   else if _dm12 = '1' then do;
2142554   +      AcceptedCmp50 = -1;
MPRINT(EM_DIAGRAM):   AcceptedCmp50 = -1;
2142555   +   end;
MPRINT(EM_DIAGRAM):   end;
2142556   +   else do;
MPRINT(EM_DIAGRAM):   else do;
2142557   +      AcceptedCmp50 = .;
MPRINT(EM_DIAGRAM):   AcceptedCmp50 = .;
2142558   +      substr(_warn_,2,1) = 'U';
MPRINT(EM_DIAGRAM):   substr(_warn_,2,1) = 'U';
2142559   +      _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2142560   +   end;
MPRINT(EM_DIAGRAM):   end;
2142561   +end;
MPRINT(EM_DIAGRAM):   end;
2142562   +
2142563   +*** Generate dummy variables for Complain ;
MPRINT(EM_DIAGRAM):   *** Generate dummy variables for Complain ;
2142564   +drop Complain0 ;
MPRINT(EM_DIAGRAM):   drop Complain0 ;
2142565   +if missing( Complain ) then do;
MPRINT(EM_DIAGRAM):   if missing( Complain ) then do;
2142566   +   Complain0 = .;
MPRINT(EM_DIAGRAM):   Complain0 = .;
2142567   +   substr(_warn_,1,1) = 'M';
MPRINT(EM_DIAGRAM):   substr(_warn_,1,1) = 'M';
2142568   +   _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2142569   +end;
MPRINT(EM_DIAGRAM):   end;
2142570   +else do;
MPRINT(EM_DIAGRAM):   else do;
2142571   +   length _dm12 $ 12; drop _dm12 ;
MPRINT(EM_DIAGRAM):   length _dm12 $ 12;
MPRINT(EM_DIAGRAM):   drop _dm12 ;
2142572   +   _dm12 = put( Complain , BEST. );
MPRINT(EM_DIAGRAM):   _dm12 = put( Complain , BEST. );
2142573   +   %DMNORMIP( _dm12 )
MPRINT(DMNORMIP):   call dmnorm(_dm12,
MPRINT(DMNORLEN):  32
MPRINT(DMNORMIP):  );
2142574   +   if _dm12 = '0'  then do;
MPRINT(EM_DIAGRAM):   if _dm12 = '0' then do;
2142575   +      Complain0 = 1;
MPRINT(EM_DIAGRAM):   Complain0 = 1;
2142576   +   end;
MPRINT(EM_DIAGRAM):   end;
2142577   +   else if _dm12 = '1'  then do;
MPRINT(EM_DIAGRAM):   else if _dm12 = '1' then do;
2142578   +      Complain0 = -1;
MPRINT(EM_DIAGRAM):   Complain0 = -1;
2142579   +   end;
MPRINT(EM_DIAGRAM):   end;
2142580   +   else do;
MPRINT(EM_DIAGRAM):   else do;
2142581   +      Complain0 = .;
MPRINT(EM_DIAGRAM):   Complain0 = .;
2142582   +      substr(_warn_,2,1) = 'U';
MPRINT(EM_DIAGRAM):   substr(_warn_,2,1) = 'U';
2142583   +      _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2142584   +   end;
MPRINT(EM_DIAGRAM):   end;
2142585   +end;
MPRINT(EM_DIAGRAM):   end;
2142586   +
2142587   +*** Generate dummy variables for HigherEducationBinary ;
MPRINT(EM_DIAGRAM):   *** Generate dummy variables for HigherEducationBinary ;
2142588   +drop HigherEducationBinary0 ;
MPRINT(EM_DIAGRAM):   drop HigherEducationBinary0 ;
2142589   +if missing( HigherEducationBinary ) then do;
MPRINT(EM_DIAGRAM):   if missing( HigherEducationBinary ) then do;
2142590   +   HigherEducationBinary0 = .;
MPRINT(EM_DIAGRAM):   HigherEducationBinary0 = .;
2142591   +   substr(_warn_,1,1) = 'M';
MPRINT(EM_DIAGRAM):   substr(_warn_,1,1) = 'M';
2142592   +   _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2142593   +end;
MPRINT(EM_DIAGRAM):   end;
2142594   +else do;
MPRINT(EM_DIAGRAM):   else do;
2142595   +   length _dm12 $ 12; drop _dm12 ;
MPRINT(EM_DIAGRAM):   length _dm12 $ 12;
MPRINT(EM_DIAGRAM):   drop _dm12 ;
2142596   +   _dm12 = put( HigherEducationBinary , BEST12. );
MPRINT(EM_DIAGRAM):   _dm12 = put( HigherEducationBinary , BEST12. );
2142597   +   %DMNORMIP( _dm12 )
MPRINT(DMNORMIP):   call dmnorm(_dm12,
MPRINT(DMNORLEN):  32
MPRINT(DMNORMIP):  );
2142598   +   if _dm12 = '1'  then do;
MPRINT(EM_DIAGRAM):   if _dm12 = '1' then do;
2142599   +      HigherEducationBinary0 = -1;
MPRINT(EM_DIAGRAM):   HigherEducationBinary0 = -1;
2142600   +   end;
MPRINT(EM_DIAGRAM):   end;
2142601   +   else if _dm12 = '0'  then do;
MPRINT(EM_DIAGRAM):   else if _dm12 = '0' then do;
2142602   +      HigherEducationBinary0 = 1;
MPRINT(EM_DIAGRAM):   HigherEducationBinary0 = 1;
2142603   +   end;
MPRINT(EM_DIAGRAM):   end;
2142604   +   else do;
MPRINT(EM_DIAGRAM):   else do;
2142605   +      HigherEducationBinary0 = .;
MPRINT(EM_DIAGRAM):   HigherEducationBinary0 = .;
2142606   +      substr(_warn_,2,1) = 'U';
MPRINT(EM_DIAGRAM):   substr(_warn_,2,1) = 'U';
2142607   +      _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2142608   +   end;
MPRINT(EM_DIAGRAM):   end;
2142609   +end;
MPRINT(EM_DIAGRAM):   end;
2142610   +
2142611   +*** Generate dummy variables for Education ;
MPRINT(EM_DIAGRAM):   *** Generate dummy variables for Education ;
2142612   +drop Education2n_Cycle EducationBasic EducationGraduation EducationMaster ;
MPRINT(EM_DIAGRAM):   drop Education2n_Cycle EducationBasic EducationGraduation 
EducationMaster ;
2142613   +*** encoding is sparse, initialize to zero;
MPRINT(EM_DIAGRAM):   *** encoding is sparse, initialize to zero;
2142614   +Education2n_Cycle = 0;
MPRINT(EM_DIAGRAM):   Education2n_Cycle = 0;
2142615   +EducationBasic = 0;
MPRINT(EM_DIAGRAM):   EducationBasic = 0;
2142616   +EducationGraduation = 0;
MPRINT(EM_DIAGRAM):   EducationGraduation = 0;
2142617   +EducationMaster = 0;
MPRINT(EM_DIAGRAM):   EducationMaster = 0;
2142618   +if missing( Education ) then do;
The SAS System

MPRINT(EM_DIAGRAM):   if missing( Education ) then do;
2142619   +   Education2n_Cycle = .;
MPRINT(EM_DIAGRAM):   Education2n_Cycle = .;
2142620   +   EducationBasic = .;
MPRINT(EM_DIAGRAM):   EducationBasic = .;
2142621   +   EducationGraduation = .;
MPRINT(EM_DIAGRAM):   EducationGraduation = .;
2142622   +   EducationMaster = .;
MPRINT(EM_DIAGRAM):   EducationMaster = .;
2142623   +   substr(_warn_,1,1) = 'M';
MPRINT(EM_DIAGRAM):   substr(_warn_,1,1) = 'M';
2142624   +   _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2142625   +end;
MPRINT(EM_DIAGRAM):   end;
2142626   +else do;
MPRINT(EM_DIAGRAM):   else do;
2142627   +   length _dm10 $ 10; drop _dm10 ;
MPRINT(EM_DIAGRAM):   length _dm10 $ 10;
MPRINT(EM_DIAGRAM):   drop _dm10 ;
2142628   +   _dm10 = put( Education , $10. );
MPRINT(EM_DIAGRAM):   _dm10 = put( Education , $10. );
2142629   +   %DMNORMIP( _dm10 )
MPRINT(DMNORMIP):   call dmnorm(_dm10,
MPRINT(DMNORLEN):  32
MPRINT(DMNORMIP):  );
2142630   +   if _dm10 = 'GRADUATION'  then do;
MPRINT(EM_DIAGRAM):   if _dm10 = 'GRADUATION' then do;
2142631   +      EducationGraduation = 1;
MPRINT(EM_DIAGRAM):   EducationGraduation = 1;
2142632   +   end;
MPRINT(EM_DIAGRAM):   end;
2142633   +   else if _dm10 = 'PHD'  then do;
MPRINT(EM_DIAGRAM):   else if _dm10 = 'PHD' then do;
2142634   +      Education2n_Cycle = -1;
MPRINT(EM_DIAGRAM):   Education2n_Cycle = -1;
2142635   +      EducationBasic = -1;
MPRINT(EM_DIAGRAM):   EducationBasic = -1;
2142636   +      EducationGraduation = -1;
MPRINT(EM_DIAGRAM):   EducationGraduation = -1;
2142637   +      EducationMaster = -1;
MPRINT(EM_DIAGRAM):   EducationMaster = -1;
2142638   +   end;
MPRINT(EM_DIAGRAM):   end;
2142639   +   else if _dm10 = 'MASTER'  then do;
MPRINT(EM_DIAGRAM):   else if _dm10 = 'MASTER' then do;
2142640   +      EducationMaster = 1;
MPRINT(EM_DIAGRAM):   EducationMaster = 1;
2142641   +   end;
MPRINT(EM_DIAGRAM):   end;
2142642   +   else if _dm10 = '2N CYCLE'  then do;
MPRINT(EM_DIAGRAM):   else if _dm10 = '2N CYCLE' then do;
2142643   +      Education2n_Cycle = 1;
MPRINT(EM_DIAGRAM):   Education2n_Cycle = 1;
2142644   +   end;
MPRINT(EM_DIAGRAM):   end;
2142645   +   else if _dm10 = 'BASIC'  then do;
MPRINT(EM_DIAGRAM):   else if _dm10 = 'BASIC' then do;
2142646   +      EducationBasic = 1;
MPRINT(EM_DIAGRAM):   EducationBasic = 1;
2142647   +   end;
MPRINT(EM_DIAGRAM):   end;
2142648   +   else do;
MPRINT(EM_DIAGRAM):   else do;
2142649   +      Education2n_Cycle = .;
MPRINT(EM_DIAGRAM):   Education2n_Cycle = .;
2142650   +      EducationBasic = .;
MPRINT(EM_DIAGRAM):   EducationBasic = .;
2142651   +      EducationGraduation = .;
MPRINT(EM_DIAGRAM):   EducationGraduation = .;
2142652   +      EducationMaster = .;
MPRINT(EM_DIAGRAM):   EducationMaster = .;
2142653   +      substr(_warn_,2,1) = 'U';
MPRINT(EM_DIAGRAM):   substr(_warn_,2,1) = 'U';
2142654   +      _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2142655   +   end;
MPRINT(EM_DIAGRAM):   end;
2142656   +end;
MPRINT(EM_DIAGRAM):   end;
2142657   +
2142658   +*** Generate dummy variables for Marital_Status ;
MPRINT(EM_DIAGRAM):   *** Generate dummy variables for Marital_Status ;
2142659   +drop Marital_StatusDivorced Marital_StatusMarried Marital_StatusSingle
2142660   +        Marital_StatusTogether ;
MPRINT(EM_DIAGRAM):   drop Marital_StatusDivorced Marital_StatusMarried Marital_StatusSingle 
Marital_StatusTogether ;
2142661   +*** encoding is sparse, initialize to zero;
MPRINT(EM_DIAGRAM):   *** encoding is sparse, initialize to zero;
2142662   +Marital_StatusDivorced = 0;
MPRINT(EM_DIAGRAM):   Marital_StatusDivorced = 0;
2142663   +Marital_StatusMarried = 0;
MPRINT(EM_DIAGRAM):   Marital_StatusMarried = 0;
2142664   +Marital_StatusSingle = 0;
MPRINT(EM_DIAGRAM):   Marital_StatusSingle = 0;
2142665   +Marital_StatusTogether = 0;
MPRINT(EM_DIAGRAM):   Marital_StatusTogether = 0;
2142666   +if missing( Marital_Status ) then do;
MPRINT(EM_DIAGRAM):   if missing( Marital_Status ) then do;
2142667   +   Marital_StatusDivorced = .;
MPRINT(EM_DIAGRAM):   Marital_StatusDivorced = .;
2142668   +   Marital_StatusMarried = .;
MPRINT(EM_DIAGRAM):   Marital_StatusMarried = .;
2142669   +   Marital_StatusSingle = .;
MPRINT(EM_DIAGRAM):   Marital_StatusSingle = .;
2142670   +   Marital_StatusTogether = .;
MPRINT(EM_DIAGRAM):   Marital_StatusTogether = .;
2142671   +   substr(_warn_,1,1) = 'M';
MPRINT(EM_DIAGRAM):   substr(_warn_,1,1) = 'M';
2142672   +   _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2142673   +end;
MPRINT(EM_DIAGRAM):   end;
2142674   +else do;
MPRINT(EM_DIAGRAM):   else do;
2142675   +   length _dm8 $ 8; drop _dm8 ;
MPRINT(EM_DIAGRAM):   length _dm8 $ 8;
MPRINT(EM_DIAGRAM):   drop _dm8 ;
2142676   +   _dm8 = put( Marital_Status , $8. );
MPRINT(EM_DIAGRAM):   _dm8 = put( Marital_Status , $8. );
2142677   +   %DMNORMIP( _dm8 )
MPRINT(DMNORMIP):   call dmnorm(_dm8,
MPRINT(DMNORLEN):  32
MPRINT(DMNORMIP):  );
2142678   +   _dm_find = 0; drop _dm_find;
MPRINT(EM_DIAGRAM):   _dm_find = 0;
MPRINT(EM_DIAGRAM):   drop _dm_find;
2142679   +   if _dm8 <= 'SINGLE'  then do;
MPRINT(EM_DIAGRAM):   if _dm8 <= 'SINGLE' then do;
2142680   +      if _dm8 <= 'MARRIED'  then do;
MPRINT(EM_DIAGRAM):   if _dm8 <= 'MARRIED' then do;
2142681   +         if _dm8 = 'DIVORCED'  then do;
MPRINT(EM_DIAGRAM):   if _dm8 = 'DIVORCED' then do;
2142682   +            Marital_StatusDivorced = 1;
MPRINT(EM_DIAGRAM):   Marital_StatusDivorced = 1;
2142683   +            _dm_find = 1;
MPRINT(EM_DIAGRAM):   _dm_find = 1;
2142684   +         end;
MPRINT(EM_DIAGRAM):   end;
2142685   +         else do;
MPRINT(EM_DIAGRAM):   else do;
2142686   +            if _dm8 = 'MARRIED'  then do;
MPRINT(EM_DIAGRAM):   if _dm8 = 'MARRIED' then do;
2142687   +               Marital_StatusMarried = 1;
MPRINT(EM_DIAGRAM):   Marital_StatusMarried = 1;
2142688   +               _dm_find = 1;
MPRINT(EM_DIAGRAM):   _dm_find = 1;
2142689   +            end;
MPRINT(EM_DIAGRAM):   end;
2142690   +         end;
MPRINT(EM_DIAGRAM):   end;
2142691   +      end;
MPRINT(EM_DIAGRAM):   end;
2142692   +      else do;
MPRINT(EM_DIAGRAM):   else do;
2142693   +         if _dm8 = 'SINGLE'  then do;
MPRINT(EM_DIAGRAM):   if _dm8 = 'SINGLE' then do;
2142694   +            Marital_StatusSingle = 1;
MPRINT(EM_DIAGRAM):   Marital_StatusSingle = 1;
2142695   +            _dm_find = 1;
MPRINT(EM_DIAGRAM):   _dm_find = 1;
2142696   +         end;
MPRINT(EM_DIAGRAM):   end;
2142697   +      end;
MPRINT(EM_DIAGRAM):   end;
2142698   +   end;
MPRINT(EM_DIAGRAM):   end;
2142699   +   else do;
MPRINT(EM_DIAGRAM):   else do;
2142700   +      if _dm8 = 'TOGETHER'  then do;
MPRINT(EM_DIAGRAM):   if _dm8 = 'TOGETHER' then do;
2142701   +         Marital_StatusTogether = 1;
MPRINT(EM_DIAGRAM):   Marital_StatusTogether = 1;
2142702   +         _dm_find = 1;
MPRINT(EM_DIAGRAM):   _dm_find = 1;
2142703   +      end;
MPRINT(EM_DIAGRAM):   end;
2142704   +      else do;
MPRINT(EM_DIAGRAM):   else do;
2142705   +         if _dm8 = 'WIDOW'  then do;
MPRINT(EM_DIAGRAM):   if _dm8 = 'WIDOW' then do;
2142706   +            Marital_StatusDivorced = -1;
MPRINT(EM_DIAGRAM):   Marital_StatusDivorced = -1;
2142707   +            Marital_StatusMarried = -1;
MPRINT(EM_DIAGRAM):   Marital_StatusMarried = -1;
2142708   +            Marital_StatusSingle = -1;
MPRINT(EM_DIAGRAM):   Marital_StatusSingle = -1;
2142709   +            Marital_StatusTogether = -1;
MPRINT(EM_DIAGRAM):   Marital_StatusTogether = -1;
2142710   +            _dm_find = 1;
MPRINT(EM_DIAGRAM):   _dm_find = 1;
2142711   +         end;
MPRINT(EM_DIAGRAM):   end;
2142712   +      end;
MPRINT(EM_DIAGRAM):   end;
2142713   +   end;
MPRINT(EM_DIAGRAM):   end;
2142714   +   if not _dm_find then do;
MPRINT(EM_DIAGRAM):   if not _dm_find then do;
2142715   +      Marital_StatusDivorced = .;
MPRINT(EM_DIAGRAM):   Marital_StatusDivorced = .;
2142716   +      Marital_StatusMarried = .;
MPRINT(EM_DIAGRAM):   Marital_StatusMarried = .;
2142717   +      Marital_StatusSingle = .;
MPRINT(EM_DIAGRAM):   Marital_StatusSingle = .;
2142718   +      Marital_StatusTogether = .;
MPRINT(EM_DIAGRAM):   Marital_StatusTogether = .;
2142719   +      substr(_warn_,2,1) = 'U';
MPRINT(EM_DIAGRAM):   substr(_warn_,2,1) = 'U';
2142720   +      _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2142721   +   end;
MPRINT(EM_DIAGRAM):   end;
2142722   +end;
MPRINT(EM_DIAGRAM):   end;
2142723   +
2142724   +*** *************************;
MPRINT(EM_DIAGRAM):   *** *************************;
2142725   +*** Checking missing input Interval
2142726   +*** *************************;
MPRINT(EM_DIAGRAM):   *** Checking missing input Interval *** *************************;
2142727   +
2142728   +IF NMISS(
2142729   +   AcceptedCmpTotal ,
2142730   +   Age ,
2142731   +   Frq ,
2142732   +   Income ,
2142733   +   Kidhome ,
2142734   +   MntFishProducts ,
2142735   +   MntFruits ,
2142736   +   MntGoldProds ,
2142737   +   MntSweetProducts ,
2142738   +   MonthsAsCustomer ,
2142739   +   NumDealsPurchases ,
2142740   +   NumWebVisitsMonth ,
2142741   +   RFMstat ,
2142742   +   RMntFrq ,
2142743   +   Recency ,
2142744   +   Teenhome   ) THEN DO;
MPRINT(EM_DIAGRAM):   IF NMISS( AcceptedCmpTotal , Age , Frq , Income , Kidhome , 
MntFishProducts , MntFruits , MntGoldProds , MntSweetProducts , MonthsAsCustomer , 
NumDealsPurchases , NumWebVisitsMonth , RFMstat , RMntFrq , Recency , Teenhome ) THEN DO;
2142745   +   SUBSTR(_WARN_, 1, 1) = 'M';
MPRINT(EM_DIAGRAM):   SUBSTR(_WARN_, 1, 1) = 'M';
2142746   +
2142747   +   _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2142748   +END;
MPRINT(EM_DIAGRAM):   END;
2142749   +*** *************************;
MPRINT(EM_DIAGRAM):   *** *************************;
2142750   +*** Writing the Node intvl ;
MPRINT(EM_DIAGRAM):   *** Writing the Node intvl ;
2142751   +*** *************************;
MPRINT(EM_DIAGRAM):   *** *************************;
2142752   +IF _DM_BAD EQ 0 THEN DO;
MPRINT(EM_DIAGRAM):   IF _DM_BAD EQ 0 THEN DO;
2142753   +   S_AcceptedCmpTotal  =    -0.46762909508827 +      1.4961610131261 *
2142754   +        AcceptedCmpTotal ;
MPRINT(EM_DIAGRAM):   S_AcceptedCmpTotal = -0.46762909508827 + 1.4961610131261 * 
AcceptedCmpTotal ;
2142755   +   S_Age  =    -3.91319138389466 +     0.08289609202857 * Age ;
MPRINT(EM_DIAGRAM):   S_Age = -3.91319138389466 + 0.08289609202857 * Age ;
2142756   +   S_Frq  =     -1.7674482809159 +     0.13966853800993 * Frq ;
MPRINT(EM_DIAGRAM):   S_Frq = -1.7674482809159 + 0.13966853800993 * Frq ;
2142757   +   S_Income  =    -2.48883438787018 +     0.00004789669836 * Income ;
MPRINT(EM_DIAGRAM):   S_Income = -2.48883438787018 + 0.00004789669836 * Income ;
2142758   +   S_Kidhome  =    -0.81505958668041 +     1.87132636245581 * Kidhome ;
MPRINT(EM_DIAGRAM):   S_Kidhome = -0.81505958668041 + 1.87132636245581 * Kidhome ;
2142759   +   S_MntFishProducts  =    -0.69884925989448 +     0.01914942799914 *
2142760   +        MntFishProducts ;
MPRINT(EM_DIAGRAM):   S_MntFishProducts = -0.69884925989448 + 0.01914942799914 * 
MntFishProducts ;
2142761   +   S_MntFruits  =    -0.68347542544545 +     0.02517057319714 * MntFruits ;
MPRINT(EM_DIAGRAM):   S_MntFruits = -0.68347542544545 + 0.02517057319714 * MntFruits ;
2142762   +   S_MntGoldProds  =     -0.8611213764608 +     0.01954474499711 *
2142763   +        MntGoldProds ;
MPRINT(EM_DIAGRAM):   S_MntGoldProds = -0.8611213764608 + 0.01954474499711 * MntGoldProds ;
2142764   +   S_MntSweetProducts  =    -0.69020047720885 +     0.02548703406327 *
2142765   +        MntSweetProducts ;
MPRINT(EM_DIAGRAM):   S_MntSweetProducts = -0.69020047720885 + 0.02548703406327 * 
MntSweetProducts ;
2142766   +   S_MonthsAsCustomer  =    -4.93133031507839 +     0.05900664899872 *
2142767   +        MonthsAsCustomer ;
MPRINT(EM_DIAGRAM):   S_MonthsAsCustomer = -4.93133031507839 + 0.05900664899872 * 
MonthsAsCustomer ;
2142768   +   S_NumDealsPurchases  =    -1.34788949552081 +     0.59766336614987 *
2142769   +        NumDealsPurchases ;
MPRINT(EM_DIAGRAM):   S_NumDealsPurchases = -1.34788949552081 + 0.59766336614987 * 
NumDealsPurchases ;
2142770   +   S_NumWebVisitsMonth  =    -2.24769875596018 +     0.42876953368015 *
2142771   +        NumWebVisitsMonth ;
MPRINT(EM_DIAGRAM):   S_NumWebVisitsMonth = -2.24769875596018 + 0.42876953368015 * 
NumWebVisitsMonth ;
2142772   +   S_RFMstat  =    -0.33944380186973 +     0.00063877635032 * RFMstat ;
MPRINT(EM_DIAGRAM):   S_RFMstat = -0.33944380186973 + 0.00063877635032 * RFMstat ;
2142773   +   S_RMntFrq  =    -1.25743573075922 +     0.03326204244626 * RMntFrq ;
MPRINT(EM_DIAGRAM):   S_RMntFrq = -1.25743573075922 + 0.03326204244626 * RMntFrq ;
2142774   +   S_Recency  =    -1.69222845719633 +     0.03469514083585 * Recency ;
MPRINT(EM_DIAGRAM):   S_Recency = -1.69222845719633 + 0.03469514083585 * Recency ;
2142775   +   S_Teenhome  =    -0.88382230606631 +     1.81661831567223 * Teenhome ;
MPRINT(EM_DIAGRAM):   S_Teenhome = -0.88382230606631 + 1.81661831567223 * Teenhome ;
2142776   +END;
MPRINT(EM_DIAGRAM):   END;
2142777   +ELSE DO;
MPRINT(EM_DIAGRAM):   ELSE DO;
2142778   +   IF MISSING( AcceptedCmpTotal ) THEN S_AcceptedCmpTotal  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( AcceptedCmpTotal ) THEN S_AcceptedCmpTotal = . ;
2142779   +   ELSE S_AcceptedCmpTotal  =    -0.46762909508827 +      1.4961610131261 *
2142780   +        AcceptedCmpTotal ;
MPRINT(EM_DIAGRAM):   ELSE S_AcceptedCmpTotal = -0.46762909508827 + 1.4961610131261 * 
AcceptedCmpTotal ;
2142781   +   IF MISSING( Age ) THEN S_Age  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( Age ) THEN S_Age = . ;
2142782   +   ELSE S_Age  =    -3.91319138389466 +     0.08289609202857 * Age ;
MPRINT(EM_DIAGRAM):   ELSE S_Age = -3.91319138389466 + 0.08289609202857 * Age ;
2142783   +   IF MISSING( Frq ) THEN S_Frq  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( Frq ) THEN S_Frq = . ;
2142784   +   ELSE S_Frq  =     -1.7674482809159 +     0.13966853800993 * Frq ;
MPRINT(EM_DIAGRAM):   ELSE S_Frq = -1.7674482809159 + 0.13966853800993 * Frq ;
2142785   +   IF MISSING( Income ) THEN S_Income  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( Income ) THEN S_Income = . ;
2142786   +   ELSE S_Income  =    -2.48883438787018 +     0.00004789669836 * Income ;
MPRINT(EM_DIAGRAM):   ELSE S_Income = -2.48883438787018 + 0.00004789669836 * Income ;
2142787   +   IF MISSING( Kidhome ) THEN S_Kidhome  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( Kidhome ) THEN S_Kidhome = . ;
2142788   +   ELSE S_Kidhome  =    -0.81505958668041 +     1.87132636245581 * Kidhome ;
MPRINT(EM_DIAGRAM):   ELSE S_Kidhome = -0.81505958668041 + 1.87132636245581 * Kidhome ;
2142789   +   IF MISSING( MntFishProducts ) THEN S_MntFishProducts  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( MntFishProducts ) THEN S_MntFishProducts = . ;
2142790   +   ELSE S_MntFishProducts  =    -0.69884925989448 +     0.01914942799914 *
2142791   +        MntFishProducts ;
MPRINT(EM_DIAGRAM):   ELSE S_MntFishProducts = -0.69884925989448 + 0.01914942799914 * 
MntFishProducts ;
2142792   +   IF MISSING( MntFruits ) THEN S_MntFruits  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( MntFruits ) THEN S_MntFruits = . ;
2142793   +   ELSE S_MntFruits  =    -0.68347542544545 +     0.02517057319714 * MntFruits
2142794   +         ;
MPRINT(EM_DIAGRAM):   ELSE S_MntFruits = -0.68347542544545 + 0.02517057319714 * MntFruits ;
2142795   +   IF MISSING( MntGoldProds ) THEN S_MntGoldProds  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( MntGoldProds ) THEN S_MntGoldProds = . ;
2142796   +   ELSE S_MntGoldProds  =     -0.8611213764608 +     0.01954474499711 *
2142797   +        MntGoldProds ;
MPRINT(EM_DIAGRAM):   ELSE S_MntGoldProds = -0.8611213764608 + 0.01954474499711 * MntGoldProds 
;
2142798   +   IF MISSING( MntSweetProducts ) THEN S_MntSweetProducts  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( MntSweetProducts ) THEN S_MntSweetProducts = . ;
2142799   +   ELSE S_MntSweetProducts  =    -0.69020047720885 +     0.02548703406327 *
2142800   +        MntSweetProducts ;
MPRINT(EM_DIAGRAM):   ELSE S_MntSweetProducts = -0.69020047720885 + 0.02548703406327 * 
MntSweetProducts ;
2142801   +   IF MISSING( MonthsAsCustomer ) THEN S_MonthsAsCustomer  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( MonthsAsCustomer ) THEN S_MonthsAsCustomer = . ;
2142802   +   ELSE S_MonthsAsCustomer  =    -4.93133031507839 +     0.05900664899872 *
2142803   +        MonthsAsCustomer ;
MPRINT(EM_DIAGRAM):   ELSE S_MonthsAsCustomer = -4.93133031507839 + 0.05900664899872 * 
MonthsAsCustomer ;
2142804   +   IF MISSING( NumDealsPurchases ) THEN S_NumDealsPurchases  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( NumDealsPurchases ) THEN S_NumDealsPurchases = . ;
2142805   +   ELSE S_NumDealsPurchases  =    -1.34788949552081 +     0.59766336614987 *
2142806   +        NumDealsPurchases ;
MPRINT(EM_DIAGRAM):   ELSE S_NumDealsPurchases = -1.34788949552081 + 0.59766336614987 * 
NumDealsPurchases ;
2142807   +   IF MISSING( NumWebVisitsMonth ) THEN S_NumWebVisitsMonth  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( NumWebVisitsMonth ) THEN S_NumWebVisitsMonth = . ;
2142808   +   ELSE S_NumWebVisitsMonth  =    -2.24769875596018 +     0.42876953368015 *
2142809   +        NumWebVisitsMonth ;
MPRINT(EM_DIAGRAM):   ELSE S_NumWebVisitsMonth = -2.24769875596018 + 0.42876953368015 * 
NumWebVisitsMonth ;
2142810   +   IF MISSING( RFMstat ) THEN S_RFMstat  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( RFMstat ) THEN S_RFMstat = . ;
2142811   +   ELSE S_RFMstat  =    -0.33944380186973 +     0.00063877635032 * RFMstat ;
MPRINT(EM_DIAGRAM):   ELSE S_RFMstat = -0.33944380186973 + 0.00063877635032 * RFMstat ;
2142812   +   IF MISSING( RMntFrq ) THEN S_RMntFrq  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( RMntFrq ) THEN S_RMntFrq = . ;
2142813   +   ELSE S_RMntFrq  =    -1.25743573075922 +     0.03326204244626 * RMntFrq ;
MPRINT(EM_DIAGRAM):   ELSE S_RMntFrq = -1.25743573075922 + 0.03326204244626 * RMntFrq ;
2142814   +   IF MISSING( Recency ) THEN S_Recency  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( Recency ) THEN S_Recency = . ;
2142815   +   ELSE S_Recency  =    -1.69222845719633 +     0.03469514083585 * Recency ;
MPRINT(EM_DIAGRAM):   ELSE S_Recency = -1.69222845719633 + 0.03469514083585 * Recency ;
2142816   +   IF MISSING( Teenhome ) THEN S_Teenhome  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( Teenhome ) THEN S_Teenhome = . ;
2142817   +   ELSE S_Teenhome  =    -0.88382230606631 +     1.81661831567223 * Teenhome ;
MPRINT(EM_DIAGRAM):   ELSE S_Teenhome = -0.88382230606631 + 1.81661831567223 * Teenhome ;
2142818   +END;
MPRINT(EM_DIAGRAM):   END;
2142819   +*** *************************;
MPRINT(EM_DIAGRAM):   *** *************************;
2142820   +*** Writing the Node bin ;
MPRINT(EM_DIAGRAM):   *** Writing the Node bin ;
2142821   +*** *************************;
MPRINT(EM_DIAGRAM):   *** *************************;
2142822   +*** *************************;
MPRINT(EM_DIAGRAM):   *** *************************;
2142823   +*** Writing the Node nom ;
MPRINT(EM_DIAGRAM):   *** Writing the Node nom ;
2142824   +*** *************************;
MPRINT(EM_DIAGRAM):   *** *************************;
2142825   +*** *************************;
MPRINT(EM_DIAGRAM):   *** *************************;
2142826   +*** Writing the Node H1 ;
MPRINT(EM_DIAGRAM):   *** Writing the Node H1 ;
2142827   +*** *************************;
MPRINT(EM_DIAGRAM):   *** *************************;
2142828   +IF _DM_BAD EQ 0 THEN DO;
MPRINT(EM_DIAGRAM):   IF _DM_BAD EQ 0 THEN DO;
2142829   +   H11  =      0.0008226807158 * S_AcceptedCmpTotal  +    -0.13079988413445 *
2142830   +        S_Age  +    -0.18186889239879 * S_Frq  +     0.00434831119231 *
2142831   +        S_Income  +    -0.53011815040389 * S_Kidhome
2142832   +          +     0.07798575279605 * S_MntFishProducts
2142833   +          +    -0.04638001961046 * S_MntFruits  +     0.05519829379656 *
2142834   +        S_MntGoldProds  +    -0.39625749892117 * S_MntSweetProducts
2142835   +          +    -0.43868326715852 * S_MonthsAsCustomer
2142836   +          +    -0.20150528265823 * S_NumDealsPurchases
2142837   +          +     0.06302113040532 * S_NumWebVisitsMonth
2142838   +          +      0.1350599599417 * S_RFMstat  +    -0.29383555338259 *
2142839   +        S_RMntFrq  +    -0.68766827249955 * S_Recency
2142840   +          +    -0.29183727562247 * S_Teenhome ;
MPRINT(EM_DIAGRAM):   H11 = 0.0008226807158 * S_AcceptedCmpTotal + -0.13079988413445 * S_Age + 
-0.18186889239879 * S_Frq + 0.00434831119231 * S_Income + -0.53011815040389 * S_Kidhome + 
0.07798575279605 * S_MntFishProducts + -0.04638001961046 * S_MntFruits + 0.05519829379656 * 
S_MntGoldProds + -0.39625749892117 * S_MntSweetProducts + -0.43868326715852 * 
S_MonthsAsCustomer + -0.20150528265823 * S_NumDealsPurchases + 0.06302113040532 * 
S_NumWebVisitsMonth + 0.1350599599417 * S_RFMstat + -0.29383555338259 * S_RMntFrq + 
-0.68766827249955 * S_Recency + -0.29183727562247 * S_Teenhome ;
2142841   +   H12  =     0.39055667226149 * S_AcceptedCmpTotal  +    -0.01370934848049 *
2142842   +        S_Age  +     0.24087739377669 * S_Frq  +      0.6385645265661 *
2142843   +        S_Income  +     0.91005509221929 * S_Kidhome
2142844   +          +     0.26314513971971 * S_MntFishProducts
2142845   +          +    -0.31269343103037 * S_MntFruits  +     0.14926981327092 *
2142846   +        S_MntGoldProds  +     0.23823473046762 * S_MntSweetProducts
2142847   +          +    -0.11762692239171 * S_MonthsAsCustomer
2142848   +          +     0.66369415921808 * S_NumDealsPurchases
2142849   +          +     0.34818395961585 * S_NumWebVisitsMonth
2142850   +          +     0.15957643046632 * S_RFMstat  +       0.043074454712 *
2142851   +        S_RMntFrq  +     -0.8279410878863 * S_Recency
2142852   +          +    -0.37857896695074 * S_Teenhome ;
MPRINT(EM_DIAGRAM):   H12 = 0.39055667226149 * S_AcceptedCmpTotal + -0.01370934848049 * S_Age 
+ 0.24087739377669 * S_Frq + 0.6385645265661 * S_Income + 0.91005509221929 * S_Kidhome + 
0.26314513971971 * S_MntFishProducts + -0.31269343103037 * S_MntFruits + 0.14926981327092 * 
S_MntGoldProds + 0.23823473046762 * S_MntSweetProducts + -0.11762692239171 * 
S_MonthsAsCustomer + 0.66369415921808 * S_NumDealsPurchases + 0.34818395961585 * 
S_NumWebVisitsMonth + 0.15957643046632 * S_RFMstat + 0.043074454712 * S_RMntFrq + 
-0.8279410878863 * S_Recency + -0.37857896695074 * S_Teenhome ;
2142853   +   H13  =     0.01761535715706 * S_AcceptedCmpTotal  +      -0.178245965481 *
2142854   +        S_Age  +    -0.38345114554341 * S_Frq  +    -0.85875480356991 *
2142855   +        S_Income  +     0.62650302214702 * S_Kidhome
2142856   +          +     0.15114878471783 * S_MntFishProducts
2142857   +          +    -0.04867026102421 * S_MntFruits  +    -0.02464340314012 *
2142858   +        S_MntGoldProds  +     0.25958757216658 * S_MntSweetProducts
2142859   +          +    -0.21247922433607 * S_MonthsAsCustomer
2142860   +          +     0.29870259291589 * S_NumDealsPurchases
2142861   +          +    -0.15551171574573 * S_NumWebVisitsMonth
2142862   +          +    -0.02668833787849 * S_RFMstat  +     -0.3938077247244 *
2142863   +        S_RMntFrq  +     0.37292679100385 * S_Recency
2142864   +          +     0.58536255154591 * S_Teenhome ;
MPRINT(EM_DIAGRAM):   H13 = 0.01761535715706 * S_AcceptedCmpTotal + -0.178245965481 * S_Age + 
-0.38345114554341 * S_Frq + -0.85875480356991 * S_Income + 0.62650302214702 * S_Kidhome + 
0.15114878471783 * S_MntFishProducts + -0.04867026102421 * S_MntFruits + -0.02464340314012 * 
S_MntGoldProds + 0.25958757216658 * S_MntSweetProducts + -0.21247922433607 * 
S_MonthsAsCustomer + 0.29870259291589 * S_NumDealsPurchases + -0.15551171574573 * 
S_NumWebVisitsMonth + -0.02668833787849 * S_RFMstat + -0.3938077247244 * S_RMntFrq + 
0.37292679100385 * S_Recency + 0.58536255154591 * S_Teenhome ;
2142865   +   H14  =    -0.23067808386271 * S_AcceptedCmpTotal  +      0.2795284747435 *
2142866   +        S_Age  +     0.88920181420929 * S_Frq  +     0.17396080204168 *
2142867   +        S_Income  +    -0.00823748207218 * S_Kidhome
2142868   +          +    -0.26914878127706 * S_MntFishProducts
2142869   +          +     0.32721028770496 * S_MntFruits  +     0.07070268272045 *
2142870   +        S_MntGoldProds  +    -0.35290123515707 * S_MntSweetProducts
2142871   +          +    -0.02974642168316 * S_MonthsAsCustomer
2142872   +          +    -0.63307764160477 * S_NumDealsPurchases
2142873   +          +    -0.86210034703857 * S_NumWebVisitsMonth
2142874   +          +    -0.16450375531942 * S_RFMstat  +     -0.0920077372506 *
2142875   +        S_RMntFrq  +     0.61882336952278 * S_Recency
2142876   +          +    -0.21217863284358 * S_Teenhome ;
MPRINT(EM_DIAGRAM):   H14 = -0.23067808386271 * S_AcceptedCmpTotal + 0.2795284747435 * S_Age + 
0.88920181420929 * S_Frq + 0.17396080204168 * S_Income + -0.00823748207218 * S_Kidhome + 
-0.26914878127706 * S_MntFishProducts + 0.32721028770496 * S_MntFruits + 0.07070268272045 * 
S_MntGoldProds + -0.35290123515707 * S_MntSweetProducts + -0.02974642168316 * 
S_MonthsAsCustomer + -0.63307764160477 * S_NumDealsPurchases + -0.86210034703857 * 
S_NumWebVisitsMonth + -0.16450375531942 * S_RFMstat + -0.0920077372506 * S_RMntFrq + 
0.61882336952278 * S_Recency + -0.21217863284358 * S_Teenhome ;
2142877   +   H15  =     0.08444141658062 * S_AcceptedCmpTotal  +    -0.03922634475077 *
2142878   +        S_Age  +     0.26114587238563 * S_Frq  +     0.30374331939028 *
2142879   +        S_Income  +     -0.2421178734201 * S_Kidhome
2142880   +          +    -0.19019330388039 * S_MntFishProducts
2142881   +          +    -0.22928418606812 * S_MntFruits  +    -0.34980290580426 *
2142882   +        S_MntGoldProds  +    -0.02640373527826 * S_MntSweetProducts
2142883   +          +     0.04217213390907 * S_MonthsAsCustomer
2142884   +          +    -0.43394541277085 * S_NumDealsPurchases
2142885   +          +    -0.27821724458462 * S_NumWebVisitsMonth
2142886   +          +     0.15130301601187 * S_RFMstat  +     0.24450838354469 *
2142887   +        S_RMntFrq  +     0.50442944125738 * S_Recency
2142888   +          +     -0.2256501036913 * S_Teenhome ;
MPRINT(EM_DIAGRAM):   H15 = 0.08444141658062 * S_AcceptedCmpTotal + -0.03922634475077 * S_Age 
+ 0.26114587238563 * S_Frq + 0.30374331939028 * S_Income + -0.2421178734201 * S_Kidhome + 
-0.19019330388039 * S_MntFishProducts + -0.22928418606812 * S_MntFruits + -0.34980290580426 * 
S_MntGoldProds + -0.02640373527826 * S_MntSweetProducts + 0.04217213390907 * 
S_MonthsAsCustomer + -0.43394541277085 * S_NumDealsPurchases + -0.27821724458462 * 
S_NumWebVisitsMonth + 0.15130301601187 * S_RFMstat + 0.24450838354469 * S_RMntFrq + 
0.50442944125738 * S_Recency + -0.2256501036913 * S_Teenhome ;
2142889   +   H16  =     0.04374591358456 * S_AcceptedCmpTotal  +     -0.2751915893845 *
2142890   +        S_Age  +    -0.17372079221228 * S_Frq  +     0.53295067221555 *
2142891   +        S_Income  +    -0.25554119630622 * S_Kidhome
2142892   +          +    -0.04166493246597 * S_MntFishProducts
2142893   +          +    -0.06487290273448 * S_MntFruits  +    -0.00905943807166 *
2142894   +        S_MntGoldProds  +    -0.02954875571593 * S_MntSweetProducts
2142895   +          +    -0.00047914053162 * S_MonthsAsCustomer
2142896   +          +     0.27113708386032 * S_NumDealsPurchases
2142897   +          +      0.2230890818172 * S_NumWebVisitsMonth
2142898   +          +     0.08637996401688 * S_RFMstat  +     0.10242942070091 *
2142899   +        S_RMntFrq  +    -0.89858232865076 * S_Recency
2142900   +          +    -0.26683150727678 * S_Teenhome ;
MPRINT(EM_DIAGRAM):   H16 = 0.04374591358456 * S_AcceptedCmpTotal + -0.2751915893845 * S_Age + 
-0.17372079221228 * S_Frq + 0.53295067221555 * S_Income + -0.25554119630622 * S_Kidhome + 
-0.04166493246597 * S_MntFishProducts + -0.06487290273448 * S_MntFruits + -0.00905943807166 * 
S_MntGoldProds + -0.02954875571593 * S_MntSweetProducts + -0.00047914053162 * 
S_MonthsAsCustomer + 0.27113708386032 * S_NumDealsPurchases + 0.2230890818172 * 
S_NumWebVisitsMonth + 0.08637996401688 * S_RFMstat + 0.10242942070091 * S_RMntFrq + 
-0.89858232865076 * S_Recency + -0.26683150727678 * S_Teenhome ;
2142901   +   H11  = H11  +      0.2420532776991 * AcceptedCmp10
2142902   +          +     0.02694604108098 * AcceptedCmp20  +     0.06010577635911 *
2142903   +        AcceptedCmp30  +    -0.43469683295349 * AcceptedCmp40
2142904   +          +    -0.00225551219247 * AcceptedCmp50  +     0.43197139863535 *
2142905   +        Complain0  +      0.2323752775589 * HigherEducationBinary0 ;
MPRINT(EM_DIAGRAM):   H11 = H11 + 0.2420532776991 * AcceptedCmp10 + 0.02694604108098 * 
AcceptedCmp20 + 0.06010577635911 * AcceptedCmp30 + -0.43469683295349 * AcceptedCmp40 + 
-0.00225551219247 * AcceptedCmp50 + 0.43197139863535 * Complain0 + 0.2323752775589 * 
HigherEducationBinary0 ;
2142906   +   H12  = H12  +      0.0418845409836 * AcceptedCmp10
2142907   +          +    -0.01079705732899 * AcceptedCmp20  +    -0.29526959542283 *
2142908   +        AcceptedCmp30  +     0.58938855079432 * AcceptedCmp40
2142909   +          +    -0.40652812652647 * AcceptedCmp50  +       0.594077548144 *
2142910   +        Complain0  +    -0.31255483011975 * HigherEducationBinary0 ;
MPRINT(EM_DIAGRAM):   H12 = H12 + 0.0418845409836 * AcceptedCmp10 + -0.01079705732899 * 
AcceptedCmp20 + -0.29526959542283 * AcceptedCmp30 + 0.58938855079432 * AcceptedCmp40 + 
-0.40652812652647 * AcceptedCmp50 + 0.594077548144 * Complain0 + -0.31255483011975 * 
HigherEducationBinary0 ;
2142911   +   H13  = H13  +     0.49883844557768 * AcceptedCmp10
2142912   +          +     0.42674404967605 * AcceptedCmp20  +     0.29339018006371 *
2142913   +        AcceptedCmp30  +     0.54178658137703 * AcceptedCmp40
2142914   +          +     0.11058374076127 * AcceptedCmp50  +     0.11090027293948 *
2142915   +        Complain0  +    -0.44686878118331 * HigherEducationBinary0 ;
MPRINT(EM_DIAGRAM):   H13 = H13 + 0.49883844557768 * AcceptedCmp10 + 0.42674404967605 * 
AcceptedCmp20 + 0.29339018006371 * AcceptedCmp30 + 0.54178658137703 * AcceptedCmp40 + 
0.11058374076127 * AcceptedCmp50 + 0.11090027293948 * Complain0 + -0.44686878118331 * 
HigherEducationBinary0 ;
2142916   +   H14  = H14  +     0.70177037762742 * AcceptedCmp10
2142917   +          +     0.03868361905724 * AcceptedCmp20  +      0.7582949125852 *
2142918   +        AcceptedCmp30  +     0.10306711606837 * AcceptedCmp40
2142919   +          +     0.40988843645402 * AcceptedCmp50  +     0.19161446313882 *
2142920   +        Complain0  +     0.09113445636937 * HigherEducationBinary0 ;
MPRINT(EM_DIAGRAM):   H14 = H14 + 0.70177037762742 * AcceptedCmp10 + 0.03868361905724 * 
AcceptedCmp20 + 0.7582949125852 * AcceptedCmp30 + 0.10306711606837 * AcceptedCmp40 + 
0.40988843645402 * AcceptedCmp50 + 0.19161446313882 * Complain0 + 0.09113445636937 * 
HigherEducationBinary0 ;
2142921   +   H15  = H15  +     0.30528471213622 * AcceptedCmp10
2142922   +          +    -0.01583520039877 * AcceptedCmp20  +     0.09319095124312 *
2142923   +        AcceptedCmp30  +     0.03503111555527 * AcceptedCmp40
2142924   +          +     0.19732231305873 * AcceptedCmp50  +    -0.32344950489145 *
2142925   +        Complain0  +    -0.20793136544812 * HigherEducationBinary0 ;
MPRINT(EM_DIAGRAM):   H15 = H15 + 0.30528471213622 * AcceptedCmp10 + -0.01583520039877 * 
AcceptedCmp20 + 0.09319095124312 * AcceptedCmp30 + 0.03503111555527 * AcceptedCmp40 + 
0.19732231305873 * AcceptedCmp50 + -0.32344950489145 * Complain0 + -0.20793136544812 * 
HigherEducationBinary0 ;
2142926   +   H16  = H16  +      -0.197363329461 * AcceptedCmp10
2142927   +          +     0.01373408247141 * AcceptedCmp20  +    -0.28302701132077 *
2142928   +        AcceptedCmp30  +    -0.13213187292914 * AcceptedCmp40
2142929   +          +    -0.04492941290682 * AcceptedCmp50  +     -0.1996561599765 *
2142930   +        Complain0  +     0.14532553420948 * HigherEducationBinary0 ;
MPRINT(EM_DIAGRAM):   H16 = H16 + -0.197363329461 * AcceptedCmp10 + 0.01373408247141 * 
AcceptedCmp20 + -0.28302701132077 * AcceptedCmp30 + -0.13213187292914 * AcceptedCmp40 + 
-0.04492941290682 * AcceptedCmp50 + -0.1996561599765 * Complain0 + 0.14532553420948 * 
HigherEducationBinary0 ;
2142931   +   H11  = H11  +     0.05185932264462 * Education2n_Cycle
2142932   +          +    -0.08049073469669 * EducationBasic  +    -0.01273883208394 *
2142933   +        EducationGraduation  +     0.01672434885938 * EducationMaster
2142934   +          +      0.1247897348584 * Marital_StatusDivorced
2142935   +          +    -0.02487802842095 * Marital_StatusMarried
2142936   +          +     0.04087485047811 * Marital_StatusSingle
2142937   +          +     0.02032230199979 * Marital_StatusTogether ;
MPRINT(EM_DIAGRAM):   H11 = H11 + 0.05185932264462 * Education2n_Cycle + -0.08049073469669 * 
EducationBasic + -0.01273883208394 * EducationGraduation + 0.01672434885938 * EducationMaster 
+ 0.1247897348584 * Marital_StatusDivorced + -0.02487802842095 * Marital_StatusMarried + 
0.04087485047811 * Marital_StatusSingle + 0.02032230199979 * Marital_StatusTogether ;
2142938   +   H12  = H12  +    -0.18957172593422 * Education2n_Cycle
2142939   +          +     0.13527696352941 * EducationBasic  +    -0.00239660031532 *
2142940   +        EducationGraduation  +     0.00550624186666 * EducationMaster
2142941   +          +     0.19258280536293 * Marital_StatusDivorced
2142942   +          +     -0.1513365484224 * Marital_StatusMarried
2142943   +          +     0.24428021275955 * Marital_StatusSingle
2142944   +          +     0.09103830773223 * Marital_StatusTogether ;
MPRINT(EM_DIAGRAM):   H12 = H12 + -0.18957172593422 * Education2n_Cycle + 0.13527696352941 * 
EducationBasic + -0.00239660031532 * EducationGraduation + 0.00550624186666 * EducationMaster 
+ 0.19258280536293 * Marital_StatusDivorced + -0.1513365484224 * Marital_StatusMarried + 
0.24428021275955 * Marital_StatusSingle + 0.09103830773223 * Marital_StatusTogether ;
2142945   +   H13  = H13  +     0.02098627668197 * Education2n_Cycle
2142946   +          +      0.0580330260954 * EducationBasic  +    -0.44505513897295 *
2142947   +        EducationGraduation  +     0.17237699716249 * EducationMaster
2142948   +          +    -0.19344679470577 * Marital_StatusDivorced
2142949   +          +     0.75587070758138 * Marital_StatusMarried
2142950   +          +    -0.65993136500147 * Marital_StatusSingle
2142951   +          +     0.58034892534704 * Marital_StatusTogether ;
MPRINT(EM_DIAGRAM):   H13 = H13 + 0.02098627668197 * Education2n_Cycle + 0.0580330260954 * 
EducationBasic + -0.44505513897295 * EducationGraduation + 0.17237699716249 * EducationMaster 
+ -0.19344679470577 * Marital_StatusDivorced + 0.75587070758138 * Marital_StatusMarried + 
-0.65993136500147 * Marital_StatusSingle + 0.58034892534704 * Marital_StatusTogether ;
2142952   +   H14  = H14  +      0.1859168336856 * Education2n_Cycle
2142953   +          +    -0.06308135212768 * EducationBasic  +    -0.27356179131381 *
2142954   +        EducationGraduation  +      -0.306174241941 * EducationMaster
2142955   +          +    -0.18717675910714 * Marital_StatusDivorced
2142956   +          +    -0.15181048866652 * Marital_StatusMarried
2142957   +          +     0.15597021159938 * Marital_StatusSingle
2142958   +          +    -0.03726120161813 * Marital_StatusTogether ;
MPRINT(EM_DIAGRAM):   H14 = H14 + 0.1859168336856 * Education2n_Cycle + -0.06308135212768 * 
EducationBasic + -0.27356179131381 * EducationGraduation + -0.306174241941 * EducationMaster + 
-0.18717675910714 * Marital_StatusDivorced + -0.15181048866652 * Marital_StatusMarried + 
0.15597021159938 * Marital_StatusSingle + -0.03726120161813 * Marital_StatusTogether ;
2142959   +   H15  = H15  +    -0.12193342286067 * Education2n_Cycle
2142960   +          +     0.20525778906074 * EducationBasic  +     0.04967185521727 *
2142961   +        EducationGraduation  +    -0.21821780206446 * EducationMaster
2142962   +          +    -0.10132599459296 * Marital_StatusDivorced
2142963   +          +     0.14113826410264 * Marital_StatusMarried
2142964   +          +    -0.18380525511118 * Marital_StatusSingle
2142965   +          +     0.23156188953493 * Marital_StatusTogether ;
MPRINT(EM_DIAGRAM):   H15 = H15 + -0.12193342286067 * Education2n_Cycle + 0.20525778906074 * 
EducationBasic + 0.04967185521727 * EducationGraduation + -0.21821780206446 * EducationMaster 
+ -0.10132599459296 * Marital_StatusDivorced + 0.14113826410264 * Marital_StatusMarried + 
-0.18380525511118 * Marital_StatusSingle + 0.23156188953493 * Marital_StatusTogether ;
2142966   +   H16  = H16  +     0.03162941262342 * Education2n_Cycle
2142967   +          +    -0.45867622010455 * EducationBasic  +    -0.08178251039016 *
2142968   +        EducationGraduation  +     -0.1990982641521 * EducationMaster
2142969   +          +     0.04797839463285 * Marital_StatusDivorced
2142970   +          +    -0.38756124755799 * Marital_StatusMarried
2142971   +          +      0.3042262890255 * Marital_StatusSingle
2142972   +          +    -0.28172576605756 * Marital_StatusTogether ;
MPRINT(EM_DIAGRAM):   H16 = H16 + 0.03162941262342 * Education2n_Cycle + -0.45867622010455 * 
EducationBasic + -0.08178251039016 * EducationGraduation + -0.1990982641521 * EducationMaster 
+ 0.04797839463285 * Marital_StatusDivorced + -0.38756124755799 * Marital_StatusMarried + 
0.3042262890255 * Marital_StatusSingle + -0.28172576605756 * Marital_StatusTogether ;
2142973   +   H11  =     1.39567717675367 + H11 ;
MPRINT(EM_DIAGRAM):   H11 = 1.39567717675367 + H11 ;
2142974   +   H12  =     0.19220435511693 + H12 ;
MPRINT(EM_DIAGRAM):   H12 = 0.19220435511693 + H12 ;
2142975   +   H13  =     0.55786873663699 + H13 ;
MPRINT(EM_DIAGRAM):   H13 = 0.55786873663699 + H13 ;
2142976   +   H14  =     0.28152400973799 + H14 ;
MPRINT(EM_DIAGRAM):   H14 = 0.28152400973799 + H14 ;
2142977   +   H15  =     1.08936778651476 + H15 ;
MPRINT(EM_DIAGRAM):   H15 = 1.08936778651476 + H15 ;
2142978   +   H16  =     -0.2268073967479 + H16 ;
MPRINT(EM_DIAGRAM):   H16 = -0.2268073967479 + H16 ;
2142979   +   H11  = TANH(H11 );
MPRINT(EM_DIAGRAM):   H11 = TANH(H11 );
2142980   +   H12  = TANH(H12 );
MPRINT(EM_DIAGRAM):   H12 = TANH(H12 );
2142981   +   H13  = TANH(H13 );
MPRINT(EM_DIAGRAM):   H13 = TANH(H13 );
2142982   +   H14  = TANH(H14 );
MPRINT(EM_DIAGRAM):   H14 = TANH(H14 );
2142983   +   H15  = TANH(H15 );
MPRINT(EM_DIAGRAM):   H15 = TANH(H15 );
2142984   +   H16  = TANH(H16 );
MPRINT(EM_DIAGRAM):   H16 = TANH(H16 );
2142985   +END;
MPRINT(EM_DIAGRAM):   END;
2142986   +ELSE DO;
MPRINT(EM_DIAGRAM):   ELSE DO;
2142987   +   H11  = .;
MPRINT(EM_DIAGRAM):   H11 = .;
2142988   +   H12  = .;
MPRINT(EM_DIAGRAM):   H12 = .;
2142989   +   H13  = .;
MPRINT(EM_DIAGRAM):   H13 = .;
2142990   +   H14  = .;
MPRINT(EM_DIAGRAM):   H14 = .;
2142991   +   H15  = .;
MPRINT(EM_DIAGRAM):   H15 = .;
2142992   +   H16  = .;
MPRINT(EM_DIAGRAM):   H16 = .;
2142993   +END;
MPRINT(EM_DIAGRAM):   END;
2142994   +*** *************************;
MPRINT(EM_DIAGRAM):   *** *************************;
2142995   +*** Writing the Node DepVar ;
MPRINT(EM_DIAGRAM):   *** Writing the Node DepVar ;
2142996   +*** *************************;
MPRINT(EM_DIAGRAM):   *** *************************;
2142997   +
2142998   +*** Generate dummy variables for DepVar ;
MPRINT(EM_DIAGRAM):   *** Generate dummy variables for DepVar ;
2142999   +drop DepVar1 DepVar0 ;
MPRINT(EM_DIAGRAM):   drop DepVar1 DepVar0 ;
2143000   +label F_DepVar = 'From: DepVar' ;
MPRINT(EM_DIAGRAM):   label F_DepVar = 'From: DepVar' ;
2143001   +length F_DepVar $ 12;
MPRINT(EM_DIAGRAM):   length F_DepVar $ 12;
2143002   +F_DepVar = put( DepVar , BEST. );
MPRINT(EM_DIAGRAM):   F_DepVar = put( DepVar , BEST. );
2143003   +%DMNORMIP( F_DepVar )
MPRINT(DMNORMIP):   call dmnorm(F_DepVar,
MPRINT(DMNORLEN):  32
MPRINT(DMNORMIP):  );
2143004   +if missing( DepVar ) then do;
MPRINT(EM_DIAGRAM):   if missing( DepVar ) then do;
2143005   +   DepVar1 = .;
MPRINT(EM_DIAGRAM):   DepVar1 = .;
2143006   +   DepVar0 = .;
MPRINT(EM_DIAGRAM):   DepVar0 = .;
2143007   +end;
MPRINT(EM_DIAGRAM):   end;
2143008   +else do;
MPRINT(EM_DIAGRAM):   else do;
2143009   +   if F_DepVar = '0'  then do;
MPRINT(EM_DIAGRAM):   if F_DepVar = '0' then do;
2143010   +      DepVar1 = 0;
MPRINT(EM_DIAGRAM):   DepVar1 = 0;
2143011   +      DepVar0 = 1;
MPRINT(EM_DIAGRAM):   DepVar0 = 1;
2143012   +   end;
MPRINT(EM_DIAGRAM):   end;
2143013   +   else if F_DepVar = '1'  then do;
MPRINT(EM_DIAGRAM):   else if F_DepVar = '1' then do;
2143014   +      DepVar1 = 1;
MPRINT(EM_DIAGRAM):   DepVar1 = 1;
2143015   +      DepVar0 = 0;
MPRINT(EM_DIAGRAM):   DepVar0 = 0;
2143016   +   end;
MPRINT(EM_DIAGRAM):   end;
2143017   +   else do;
MPRINT(EM_DIAGRAM):   else do;
2143018   +      DepVar1 = .;
MPRINT(EM_DIAGRAM):   DepVar1 = .;
2143019   +      DepVar0 = .;
MPRINT(EM_DIAGRAM):   DepVar0 = .;
2143020   +   end;
MPRINT(EM_DIAGRAM):   end;
2143021   +end;
MPRINT(EM_DIAGRAM):   end;
2143022   +IF _DM_BAD EQ 0 THEN DO;
MPRINT(EM_DIAGRAM):   IF _DM_BAD EQ 0 THEN DO;
2143023   +   P_DepVar1  =       1.190486795477 * H11  +     2.38320433896182 * H12
2143024   +          +    -2.42159759131581 * H13  +    -2.18917732939624 * H14
2143025   +          +    -0.38101990662686 * H15  +     1.17308047763791 * H16 ;
MPRINT(EM_DIAGRAM):   P_DepVar1 = 1.190486795477 * H11 + 2.38320433896182 * H12 + 
-2.42159759131581 * H13 + -2.18917732939624 * H14 + -0.38101990662686 * H15 + 1.17308047763791 
* H16 ;
2143026   +   P_DepVar1  =    -1.69959324221607 + P_DepVar1 ;
MPRINT(EM_DIAGRAM):   P_DepVar1 = -1.69959324221607 + P_DepVar1 ;
2143027   +   P_DepVar0  = 0;
MPRINT(EM_DIAGRAM):   P_DepVar0 = 0;
2143028   +   _MAX_ = MAX (P_DepVar1 , P_DepVar0 );
MPRINT(EM_DIAGRAM):   _MAX_ = MAX (P_DepVar1 , P_DepVar0 );
2143029   +   _SUM_ = 0.;
MPRINT(EM_DIAGRAM):   _SUM_ = 0.;
2143030   +   P_DepVar1  = EXP(P_DepVar1  - _MAX_);
MPRINT(EM_DIAGRAM):   P_DepVar1 = EXP(P_DepVar1 - _MAX_);
2143031   +   _SUM_ = _SUM_ + P_DepVar1 ;
MPRINT(EM_DIAGRAM):   _SUM_ = _SUM_ + P_DepVar1 ;
2143032   +   P_DepVar0  = EXP(P_DepVar0  - _MAX_);
MPRINT(EM_DIAGRAM):   P_DepVar0 = EXP(P_DepVar0 - _MAX_);
2143033   +   _SUM_ = _SUM_ + P_DepVar0 ;
MPRINT(EM_DIAGRAM):   _SUM_ = _SUM_ + P_DepVar0 ;
2143034   +   P_DepVar1  = P_DepVar1  / _SUM_;
MPRINT(EM_DIAGRAM):   P_DepVar1 = P_DepVar1 / _SUM_;
2143035   +   P_DepVar0  = P_DepVar0  / _SUM_;
MPRINT(EM_DIAGRAM):   P_DepVar0 = P_DepVar0 / _SUM_;
2143036   +END;
MPRINT(EM_DIAGRAM):   END;
2143037   +ELSE DO;
MPRINT(EM_DIAGRAM):   ELSE DO;
2143038   +   P_DepVar1  = .;
MPRINT(EM_DIAGRAM):   P_DepVar1 = .;
2143039   +   P_DepVar0  = .;
MPRINT(EM_DIAGRAM):   P_DepVar0 = .;
2143040   +END;
MPRINT(EM_DIAGRAM):   END;
2143041   +IF _DM_BAD EQ 1 THEN DO;
MPRINT(EM_DIAGRAM):   IF _DM_BAD EQ 1 THEN DO;
2143042   +   P_DepVar1  =     0.15122156697556;
MPRINT(EM_DIAGRAM):   P_DepVar1 = 0.15122156697556;
2143043   +   P_DepVar0  =     0.84877843302443;
MPRINT(EM_DIAGRAM):   P_DepVar0 = 0.84877843302443;
2143044   +END;
MPRINT(EM_DIAGRAM):   END;
2143045   +*** *****************************;
MPRINT(EM_DIAGRAM):   *** *****************************;
2143046   +*** Writing the Residuals  of the Node DepVar ;
MPRINT(EM_DIAGRAM):   *** Writing the Residuals of the Node DepVar ;
2143047   +*** ******************************;
MPRINT(EM_DIAGRAM):   *** ******************************;
2143048   +IF MISSING( DepVar1 ) THEN R_DepVar1  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( DepVar1 ) THEN R_DepVar1 = . ;
2143049   +ELSE R_DepVar1  = DepVar1  - P_DepVar1 ;
MPRINT(EM_DIAGRAM):   ELSE R_DepVar1 = DepVar1 - P_DepVar1 ;
2143050   +IF MISSING( DepVar0 ) THEN R_DepVar0  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( DepVar0 ) THEN R_DepVar0 = . ;
2143051   +ELSE R_DepVar0  = DepVar0  - P_DepVar0 ;
MPRINT(EM_DIAGRAM):   ELSE R_DepVar0 = DepVar0 - P_DepVar0 ;
2143052   +*** *************************;
MPRINT(EM_DIAGRAM):   *** *************************;
2143053   +*** Writing the I_DepVar  AND U_DepVar ;
MPRINT(EM_DIAGRAM):   *** Writing the I_DepVar AND U_DepVar ;
2143054   +*** *************************;
MPRINT(EM_DIAGRAM):   *** *************************;
2143055   +_MAXP_ = P_DepVar1 ;
MPRINT(EM_DIAGRAM):   _MAXP_ = P_DepVar1 ;
2143056   +I_DepVar  = "1           " ;
MPRINT(EM_DIAGRAM):   I_DepVar = "1           " ;
2143057   +U_DepVar  =                    1;
MPRINT(EM_DIAGRAM):   U_DepVar = 1;
2143058   +IF( _MAXP_ LT P_DepVar0  ) THEN DO;
MPRINT(EM_DIAGRAM):   IF( _MAXP_ LT P_DepVar0 ) THEN DO;
2143059   +   _MAXP_ = P_DepVar0 ;
MPRINT(EM_DIAGRAM):   _MAXP_ = P_DepVar0 ;
2143060   +   I_DepVar  = "0           " ;
MPRINT(EM_DIAGRAM):   I_DepVar = "0           " ;
2143061   +   U_DepVar  =                    0;
MPRINT(EM_DIAGRAM):   U_DepVar = 0;
2143062   +END;
MPRINT(EM_DIAGRAM):   END;
2143063   +********************************;
MPRINT(EM_DIAGRAM):   ********************************;
2143064   +*** End Scoring Code for Neural;
MPRINT(EM_DIAGRAM):   *** End Scoring Code for Neural;
2143065   +********************************;
MPRINT(EM_DIAGRAM):   ********************************;
2143066   +drop
2143067   +H11
2143068   +H12
2143069   +H13
2143070   +H14
2143071   +H15
2143072   +H16
2143073   +;
MPRINT(EM_DIAGRAM):   drop H11 H12 H13 H14 H15 H16 ;
2143074   +drop S_:;
MPRINT(EM_DIAGRAM):   drop S_:;
2143075   +* Renaming variables for Neural41;
MPRINT(EM_DIAGRAM):   * Renaming variables for Neural41;
2143076   +*------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
2143077   +* Renaming Posterior variables for Neural41;
MPRINT(EM_DIAGRAM):   * Renaming Posterior variables for Neural41;
2143078   +*------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
2143079   +drop Neural41_P_DepVar1;
MPRINT(EM_DIAGRAM):   drop Neural41_P_DepVar1;
2143080   +Neural41_P_DepVar1 = P_DepVar1;
MPRINT(EM_DIAGRAM):   Neural41_P_DepVar1 = P_DepVar1;
2143081   +drop Neural41_P_DepVar0;
MPRINT(EM_DIAGRAM):   drop Neural41_P_DepVar0;
2143082   +Neural41_P_DepVar0 = P_DepVar0;
MPRINT(EM_DIAGRAM):   Neural41_P_DepVar0 = P_DepVar0;
2143083   +*------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
2143084   +* Renaming _WARN_ variable for Neural41;
MPRINT(EM_DIAGRAM):   * Renaming _WARN_ variable for Neural41;
2143085   +*------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
2143086   +length Neural41_WARN_ $4;
MPRINT(EM_DIAGRAM):   length Neural41_WARN_ $4;
2143087   +drop Neural41_WARN_;
MPRINT(EM_DIAGRAM):   drop Neural41_WARN_;
2143088   +Neural41_WARN_ = _WARN_;
MPRINT(EM_DIAGRAM):   Neural41_WARN_ = _WARN_;
2143089   +*------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
2143090   +* Ensmbl23: Scoring Code of model 2 of 5;
MPRINT(EM_DIAGRAM):   * Ensmbl23: Scoring Code of model 2 of 5;
2143091   +*------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
2143092   +*------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
2143093   +* TOOL: Neural;
MPRINT(EM_DIAGRAM):   * TOOL: Neural;
2143094   +* TYPE: MODEL;
MPRINT(EM_DIAGRAM):   * TYPE: MODEL;
2143095   +* NODE: Neural40;
MPRINT(EM_DIAGRAM):   * NODE: Neural40;
2143096   +*------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
2143097   +***********************************;
MPRINT(EM_DIAGRAM):   ***********************************;
2143098   +*** Begin Scoring Code for Neural;
MPRINT(EM_DIAGRAM):   *** Begin Scoring Code for Neural;
2143099   +***********************************;
MPRINT(EM_DIAGRAM):   ***********************************;
2143100   +DROP _DM_BAD _EPS _NOCL_ _MAX_ _MAXP_ _SUM_ _NTRIALS;
MPRINT(EM_DIAGRAM):   DROP _DM_BAD _EPS _NOCL_ _MAX_ _MAXP_ _SUM_ _NTRIALS;
2143101   + _DM_BAD = 0;
MPRINT(EM_DIAGRAM):   _DM_BAD = 0;
2143102   + _NOCL_ = .;
MPRINT(EM_DIAGRAM):   _NOCL_ = .;
2143103   + _MAX_ = .;
MPRINT(EM_DIAGRAM):   _MAX_ = .;
2143104   + _MAXP_ = .;
MPRINT(EM_DIAGRAM):   _MAXP_ = .;
2143105   + _SUM_ = .;
MPRINT(EM_DIAGRAM):   _SUM_ = .;
2143106   + _NTRIALS = .;
MPRINT(EM_DIAGRAM):   _NTRIALS = .;
2143107   + _EPS =                1E-10;
MPRINT(EM_DIAGRAM):   _EPS = 1E-10;
2143108   +LENGTH _WARN_ $4
2143109   +      F_DepVar  $ 12
2143110   +;
MPRINT(EM_DIAGRAM):   LENGTH _WARN_ $4 F_DepVar $ 12 ;
2143111   +      label S_AcceptedCmpTotal = 'Standard: AcceptedCmpTotal' ;
MPRINT(EM_DIAGRAM):   label S_AcceptedCmpTotal = 'Standard: AcceptedCmpTotal' ;
2143112   +
2143113   +      label S_Age = 'Standard: Age' ;
MPRINT(EM_DIAGRAM):   label S_Age = 'Standard: Age' ;
2143114   +
2143115   +      label S_Frq = 'Standard: Frq' ;
MPRINT(EM_DIAGRAM):   label S_Frq = 'Standard: Frq' ;
2143116   +
2143117   +      label S_Income = 'Standard: Income' ;
MPRINT(EM_DIAGRAM):   label S_Income = 'Standard: Income' ;
2143118   +
2143119   +      label S_Kidhome = 'Standard: Kidhome' ;
MPRINT(EM_DIAGRAM):   label S_Kidhome = 'Standard: Kidhome' ;
2143120   +
2143121   +      label S_MntFishProducts = 'Standard: MntFishProducts' ;
MPRINT(EM_DIAGRAM):   label S_MntFishProducts = 'Standard: MntFishProducts' ;
2143122   +
2143123   +      label S_MntFruits = 'Standard: MntFruits' ;
MPRINT(EM_DIAGRAM):   label S_MntFruits = 'Standard: MntFruits' ;
2143124   +
2143125   +      label S_MntGoldProds = 'Standard: MntGoldProds' ;
MPRINT(EM_DIAGRAM):   label S_MntGoldProds = 'Standard: MntGoldProds' ;
2143126   +
2143127   +      label S_MntSweetProducts = 'Standard: MntSweetProducts' ;
MPRINT(EM_DIAGRAM):   label S_MntSweetProducts = 'Standard: MntSweetProducts' ;
2143128   +
2143129   +      label S_MonthsAsCustomer = 'Standard: MonthsAsCustomer' ;
MPRINT(EM_DIAGRAM):   label S_MonthsAsCustomer = 'Standard: MonthsAsCustomer' ;
2143130   +
2143131   +      label S_NumDealsPurchases = 'Standard: NumDealsPurchases' ;
MPRINT(EM_DIAGRAM):   label S_NumDealsPurchases = 'Standard: NumDealsPurchases' ;
2143132   +
2143133   +      label S_NumWebVisitsMonth = 'Standard: NumWebVisitsMonth' ;
MPRINT(EM_DIAGRAM):   label S_NumWebVisitsMonth = 'Standard: NumWebVisitsMonth' ;
2143134   +
2143135   +      label S_RFMstat = 'Standard: RFMstat' ;
MPRINT(EM_DIAGRAM):   label S_RFMstat = 'Standard: RFMstat' ;
2143136   +
2143137   +      label S_RMntFrq = 'Standard: RMntFrq' ;
MPRINT(EM_DIAGRAM):   label S_RMntFrq = 'Standard: RMntFrq' ;
2143138   +
2143139   +      label S_Recency = 'Standard: Recency' ;
MPRINT(EM_DIAGRAM):   label S_Recency = 'Standard: Recency' ;
2143140   +
2143141   +      label S_Teenhome = 'Standard: Teenhome' ;
MPRINT(EM_DIAGRAM):   label S_Teenhome = 'Standard: Teenhome' ;
2143142   +
2143143   +      label AcceptedCmp10 = 'Dummy: AcceptedCmp1=0' ;
MPRINT(EM_DIAGRAM):   label AcceptedCmp10 = 'Dummy: AcceptedCmp1=0' ;
2143144   +
2143145   +      label AcceptedCmp20 = 'Dummy: AcceptedCmp2=0' ;
MPRINT(EM_DIAGRAM):   label AcceptedCmp20 = 'Dummy: AcceptedCmp2=0' ;
2143146   +
2143147   +      label AcceptedCmp30 = 'Dummy: AcceptedCmp3=0' ;
MPRINT(EM_DIAGRAM):   label AcceptedCmp30 = 'Dummy: AcceptedCmp3=0' ;
2143148   +
2143149   +      label AcceptedCmp40 = 'Dummy: AcceptedCmp4=0' ;
MPRINT(EM_DIAGRAM):   label AcceptedCmp40 = 'Dummy: AcceptedCmp4=0' ;
2143150   +
2143151   +      label AcceptedCmp50 = 'Dummy: AcceptedCmp5=0' ;
MPRINT(EM_DIAGRAM):   label AcceptedCmp50 = 'Dummy: AcceptedCmp5=0' ;
2143152   +
2143153   +      label Complain0 = 'Dummy: Complain=0' ;
MPRINT(EM_DIAGRAM):   label Complain0 = 'Dummy: Complain=0' ;
2143154   +
2143155   +      label HigherEducationBinary0 = 'Dummy: HigherEducationBinary=0' ;
MPRINT(EM_DIAGRAM):   label HigherEducationBinary0 = 'Dummy: HigherEducationBinary=0' ;
2143156   +
2143157   +      label Education2n_Cycle = 'Dummy: Education=2n Cycle' ;
MPRINT(EM_DIAGRAM):   label Education2n_Cycle = 'Dummy: Education=2n Cycle' ;
2143158   +
2143159   +      label EducationBasic = 'Dummy: Education=Basic' ;
MPRINT(EM_DIAGRAM):   label EducationBasic = 'Dummy: Education=Basic' ;
2143160   +
2143161   +      label EducationGraduation = 'Dummy: Education=Graduation' ;
MPRINT(EM_DIAGRAM):   label EducationGraduation = 'Dummy: Education=Graduation' ;
2143162   +
2143163   +      label EducationMaster = 'Dummy: Education=Master' ;
MPRINT(EM_DIAGRAM):   label EducationMaster = 'Dummy: Education=Master' ;
2143164   +
2143165   +      label Marital_StatusDivorced = 'Dummy: Marital_Status=Divorced' ;
MPRINT(EM_DIAGRAM):   label Marital_StatusDivorced = 'Dummy: Marital_Status=Divorced' ;
2143166   +
2143167   +      label Marital_StatusMarried = 'Dummy: Marital_Status=Married' ;
MPRINT(EM_DIAGRAM):   label Marital_StatusMarried = 'Dummy: Marital_Status=Married' ;
2143168   +
2143169   +      label Marital_StatusSingle = 'Dummy: Marital_Status=Single' ;
MPRINT(EM_DIAGRAM):   label Marital_StatusSingle = 'Dummy: Marital_Status=Single' ;
2143170   +
2143171   +      label Marital_StatusTogether = 'Dummy: Marital_Status=Together' ;
MPRINT(EM_DIAGRAM):   label Marital_StatusTogether = 'Dummy: Marital_Status=Together' ;
2143172   +
2143173   +      label H11 = 'Hidden: H1=1' ;
MPRINT(EM_DIAGRAM):   label H11 = 'Hidden: H1=1' ;
2143174   +
2143175   +      label H12 = 'Hidden: H1=2' ;
MPRINT(EM_DIAGRAM):   label H12 = 'Hidden: H1=2' ;
2143176   +
2143177   +      label H13 = 'Hidden: H1=3' ;
MPRINT(EM_DIAGRAM):   label H13 = 'Hidden: H1=3' ;
2143178   +
2143179   +      label H14 = 'Hidden: H1=4' ;
MPRINT(EM_DIAGRAM):   label H14 = 'Hidden: H1=4' ;
2143180   +
2143181   +      label H15 = 'Hidden: H1=5' ;
MPRINT(EM_DIAGRAM):   label H15 = 'Hidden: H1=5' ;
2143182   +
2143183   +      label I_DepVar = 'Into: DepVar' ;
MPRINT(EM_DIAGRAM):   label I_DepVar = 'Into: DepVar' ;
2143184   +
2143185   +      label F_DepVar = 'From: DepVar' ;
MPRINT(EM_DIAGRAM):   label F_DepVar = 'From: DepVar' ;
2143186   +
2143187   +      label U_DepVar = 'Unnormalized Into: DepVar' ;
MPRINT(EM_DIAGRAM):   label U_DepVar = 'Unnormalized Into: DepVar' ;
2143188   +
2143189   +      label P_DepVar1 = 'Predicted: DepVar=1' ;
MPRINT(EM_DIAGRAM):   label P_DepVar1 = 'Predicted: DepVar=1' ;
2143190   +
2143191   +      label R_DepVar1 = 'Residual: DepVar=1' ;
MPRINT(EM_DIAGRAM):   label R_DepVar1 = 'Residual: DepVar=1' ;
2143192   +
2143193   +      label P_DepVar0 = 'Predicted: DepVar=0' ;
MPRINT(EM_DIAGRAM):   label P_DepVar0 = 'Predicted: DepVar=0' ;
2143194   +
2143195   +      label R_DepVar0 = 'Residual: DepVar=0' ;
MPRINT(EM_DIAGRAM):   label R_DepVar0 = 'Residual: DepVar=0' ;
2143196   +
2143197   +      label  _WARN_ = "Warnings";
MPRINT(EM_DIAGRAM):   label _WARN_ = "Warnings";
2143198   +
2143199   +*** Generate dummy variables for AcceptedCmp1 ;
MPRINT(EM_DIAGRAM):   *** Generate dummy variables for AcceptedCmp1 ;
2143200   +drop AcceptedCmp10 ;
MPRINT(EM_DIAGRAM):   drop AcceptedCmp10 ;
2143201   +if missing( AcceptedCmp1 ) then do;
MPRINT(EM_DIAGRAM):   if missing( AcceptedCmp1 ) then do;
2143202   +   AcceptedCmp10 = .;
MPRINT(EM_DIAGRAM):   AcceptedCmp10 = .;
2143203   +   substr(_warn_,1,1) = 'M';
MPRINT(EM_DIAGRAM):   substr(_warn_,1,1) = 'M';
2143204   +   _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2143205   +end;
MPRINT(EM_DIAGRAM):   end;
2143206   +else do;
MPRINT(EM_DIAGRAM):   else do;
2143207   +   length _dm12 $ 12; drop _dm12 ;
MPRINT(EM_DIAGRAM):   length _dm12 $ 12;
MPRINT(EM_DIAGRAM):   drop _dm12 ;
2143208   +   _dm12 = put( AcceptedCmp1 , BEST. );
MPRINT(EM_DIAGRAM):   _dm12 = put( AcceptedCmp1 , BEST. );
2143209   +   %DMNORMIP( _dm12 )
MPRINT(DMNORMIP):   call dmnorm(_dm12,
MPRINT(DMNORLEN):  32
MPRINT(DMNORMIP):  );
2143210   +   if _dm12 = '0'  then do;
MPRINT(EM_DIAGRAM):   if _dm12 = '0' then do;
2143211   +      AcceptedCmp10 = 1;
MPRINT(EM_DIAGRAM):   AcceptedCmp10 = 1;
2143212   +   end;
MPRINT(EM_DIAGRAM):   end;
2143213   +   else if _dm12 = '1'  then do;
MPRINT(EM_DIAGRAM):   else if _dm12 = '1' then do;
2143214   +      AcceptedCmp10 = -1;
MPRINT(EM_DIAGRAM):   AcceptedCmp10 = -1;
2143215   +   end;
MPRINT(EM_DIAGRAM):   end;
2143216   +   else do;
MPRINT(EM_DIAGRAM):   else do;
2143217   +      AcceptedCmp10 = .;
MPRINT(EM_DIAGRAM):   AcceptedCmp10 = .;
2143218   +      substr(_warn_,2,1) = 'U';
MPRINT(EM_DIAGRAM):   substr(_warn_,2,1) = 'U';
2143219   +      _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2143220   +   end;
MPRINT(EM_DIAGRAM):   end;
2143221   +end;
MPRINT(EM_DIAGRAM):   end;
2143222   +
2143223   +*** Generate dummy variables for AcceptedCmp2 ;
MPRINT(EM_DIAGRAM):   *** Generate dummy variables for AcceptedCmp2 ;
2143224   +drop AcceptedCmp20 ;
MPRINT(EM_DIAGRAM):   drop AcceptedCmp20 ;
2143225   +if missing( AcceptedCmp2 ) then do;
MPRINT(EM_DIAGRAM):   if missing( AcceptedCmp2 ) then do;
2143226   +   AcceptedCmp20 = .;
MPRINT(EM_DIAGRAM):   AcceptedCmp20 = .;
2143227   +   substr(_warn_,1,1) = 'M';
MPRINT(EM_DIAGRAM):   substr(_warn_,1,1) = 'M';
2143228   +   _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2143229   +end;
MPRINT(EM_DIAGRAM):   end;
2143230   +else do;
MPRINT(EM_DIAGRAM):   else do;
2143231   +   length _dm12 $ 12; drop _dm12 ;
MPRINT(EM_DIAGRAM):   length _dm12 $ 12;
MPRINT(EM_DIAGRAM):   drop _dm12 ;
2143232   +   _dm12 = put( AcceptedCmp2 , BEST. );
MPRINT(EM_DIAGRAM):   _dm12 = put( AcceptedCmp2 , BEST. );
2143233   +   %DMNORMIP( _dm12 )
MPRINT(DMNORMIP):   call dmnorm(_dm12,
MPRINT(DMNORLEN):  32
MPRINT(DMNORMIP):  );
2143234   +   if _dm12 = '0'  then do;
MPRINT(EM_DIAGRAM):   if _dm12 = '0' then do;
2143235   +      AcceptedCmp20 = 1;
MPRINT(EM_DIAGRAM):   AcceptedCmp20 = 1;
2143236   +   end;
MPRINT(EM_DIAGRAM):   end;
2143237   +   else if _dm12 = '1'  then do;
MPRINT(EM_DIAGRAM):   else if _dm12 = '1' then do;
2143238   +      AcceptedCmp20 = -1;
MPRINT(EM_DIAGRAM):   AcceptedCmp20 = -1;
2143239   +   end;
MPRINT(EM_DIAGRAM):   end;
2143240   +   else do;
MPRINT(EM_DIAGRAM):   else do;
2143241   +      AcceptedCmp20 = .;
MPRINT(EM_DIAGRAM):   AcceptedCmp20 = .;
2143242   +      substr(_warn_,2,1) = 'U';
MPRINT(EM_DIAGRAM):   substr(_warn_,2,1) = 'U';
2143243   +      _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2143244   +   end;
MPRINT(EM_DIAGRAM):   end;
2143245   +end;
MPRINT(EM_DIAGRAM):   end;
2143246   +
2143247   +*** Generate dummy variables for AcceptedCmp3 ;
MPRINT(EM_DIAGRAM):   *** Generate dummy variables for AcceptedCmp3 ;
2143248   +drop AcceptedCmp30 ;
MPRINT(EM_DIAGRAM):   drop AcceptedCmp30 ;
2143249   +if missing( AcceptedCmp3 ) then do;
MPRINT(EM_DIAGRAM):   if missing( AcceptedCmp3 ) then do;
2143250   +   AcceptedCmp30 = .;
MPRINT(EM_DIAGRAM):   AcceptedCmp30 = .;
2143251   +   substr(_warn_,1,1) = 'M';
MPRINT(EM_DIAGRAM):   substr(_warn_,1,1) = 'M';
2143252   +   _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2143253   +end;
MPRINT(EM_DIAGRAM):   end;
2143254   +else do;
MPRINT(EM_DIAGRAM):   else do;
2143255   +   length _dm12 $ 12; drop _dm12 ;
MPRINT(EM_DIAGRAM):   length _dm12 $ 12;
MPRINT(EM_DIAGRAM):   drop _dm12 ;
2143256   +   _dm12 = put( AcceptedCmp3 , BEST. );
MPRINT(EM_DIAGRAM):   _dm12 = put( AcceptedCmp3 , BEST. );
2143257   +   %DMNORMIP( _dm12 )
MPRINT(DMNORMIP):   call dmnorm(_dm12,
MPRINT(DMNORLEN):  32
MPRINT(DMNORMIP):  );
2143258   +   if _dm12 = '0'  then do;
MPRINT(EM_DIAGRAM):   if _dm12 = '0' then do;
2143259   +      AcceptedCmp30 = 1;
MPRINT(EM_DIAGRAM):   AcceptedCmp30 = 1;
2143260   +   end;
MPRINT(EM_DIAGRAM):   end;
2143261   +   else if _dm12 = '1'  then do;
MPRINT(EM_DIAGRAM):   else if _dm12 = '1' then do;
2143262   +      AcceptedCmp30 = -1;
MPRINT(EM_DIAGRAM):   AcceptedCmp30 = -1;
2143263   +   end;
MPRINT(EM_DIAGRAM):   end;
2143264   +   else do;
MPRINT(EM_DIAGRAM):   else do;
2143265   +      AcceptedCmp30 = .;
MPRINT(EM_DIAGRAM):   AcceptedCmp30 = .;
2143266   +      substr(_warn_,2,1) = 'U';
MPRINT(EM_DIAGRAM):   substr(_warn_,2,1) = 'U';
2143267   +      _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2143268   +   end;
MPRINT(EM_DIAGRAM):   end;
2143269   +end;
MPRINT(EM_DIAGRAM):   end;
2143270   +
2143271   +*** Generate dummy variables for AcceptedCmp4 ;
MPRINT(EM_DIAGRAM):   *** Generate dummy variables for AcceptedCmp4 ;
2143272   +drop AcceptedCmp40 ;
MPRINT(EM_DIAGRAM):   drop AcceptedCmp40 ;
2143273   +if missing( AcceptedCmp4 ) then do;
MPRINT(EM_DIAGRAM):   if missing( AcceptedCmp4 ) then do;
2143274   +   AcceptedCmp40 = .;
MPRINT(EM_DIAGRAM):   AcceptedCmp40 = .;
2143275   +   substr(_warn_,1,1) = 'M';
MPRINT(EM_DIAGRAM):   substr(_warn_,1,1) = 'M';
2143276   +   _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2143277   +end;
MPRINT(EM_DIAGRAM):   end;
2143278   +else do;
MPRINT(EM_DIAGRAM):   else do;
2143279   +   length _dm12 $ 12; drop _dm12 ;
MPRINT(EM_DIAGRAM):   length _dm12 $ 12;
MPRINT(EM_DIAGRAM):   drop _dm12 ;
2143280   +   _dm12 = put( AcceptedCmp4 , BEST. );
MPRINT(EM_DIAGRAM):   _dm12 = put( AcceptedCmp4 , BEST. );
2143281   +   %DMNORMIP( _dm12 )
MPRINT(DMNORMIP):   call dmnorm(_dm12,
MPRINT(DMNORLEN):  32
MPRINT(DMNORMIP):  );
2143282   +   if _dm12 = '0'  then do;
MPRINT(EM_DIAGRAM):   if _dm12 = '0' then do;
2143283   +      AcceptedCmp40 = 1;
MPRINT(EM_DIAGRAM):   AcceptedCmp40 = 1;
2143284   +   end;
MPRINT(EM_DIAGRAM):   end;
2143285   +   else if _dm12 = '1'  then do;
MPRINT(EM_DIAGRAM):   else if _dm12 = '1' then do;
2143286   +      AcceptedCmp40 = -1;
MPRINT(EM_DIAGRAM):   AcceptedCmp40 = -1;
2143287   +   end;
MPRINT(EM_DIAGRAM):   end;
2143288   +   else do;
MPRINT(EM_DIAGRAM):   else do;
2143289   +      AcceptedCmp40 = .;
MPRINT(EM_DIAGRAM):   AcceptedCmp40 = .;
2143290   +      substr(_warn_,2,1) = 'U';
MPRINT(EM_DIAGRAM):   substr(_warn_,2,1) = 'U';
2143291   +      _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2143292   +   end;
MPRINT(EM_DIAGRAM):   end;
2143293   +end;
MPRINT(EM_DIAGRAM):   end;
2143294   +
2143295   +*** Generate dummy variables for AcceptedCmp5 ;
MPRINT(EM_DIAGRAM):   *** Generate dummy variables for AcceptedCmp5 ;
2143296   +drop AcceptedCmp50 ;
MPRINT(EM_DIAGRAM):   drop AcceptedCmp50 ;
2143297   +if missing( AcceptedCmp5 ) then do;
MPRINT(EM_DIAGRAM):   if missing( AcceptedCmp5 ) then do;
2143298   +   AcceptedCmp50 = .;
MPRINT(EM_DIAGRAM):   AcceptedCmp50 = .;
2143299   +   substr(_warn_,1,1) = 'M';
MPRINT(EM_DIAGRAM):   substr(_warn_,1,1) = 'M';
2143300   +   _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2143301   +end;
MPRINT(EM_DIAGRAM):   end;
2143302   +else do;
MPRINT(EM_DIAGRAM):   else do;
2143303   +   length _dm12 $ 12; drop _dm12 ;
MPRINT(EM_DIAGRAM):   length _dm12 $ 12;
MPRINT(EM_DIAGRAM):   drop _dm12 ;
2143304   +   _dm12 = put( AcceptedCmp5 , BEST. );
MPRINT(EM_DIAGRAM):   _dm12 = put( AcceptedCmp5 , BEST. );
2143305   +   %DMNORMIP( _dm12 )
MPRINT(DMNORMIP):   call dmnorm(_dm12,
MPRINT(DMNORLEN):  32
MPRINT(DMNORMIP):  );
2143306   +   if _dm12 = '0'  then do;
MPRINT(EM_DIAGRAM):   if _dm12 = '0' then do;
2143307   +      AcceptedCmp50 = 1;
MPRINT(EM_DIAGRAM):   AcceptedCmp50 = 1;
2143308   +   end;
MPRINT(EM_DIAGRAM):   end;
2143309   +   else if _dm12 = '1'  then do;
MPRINT(EM_DIAGRAM):   else if _dm12 = '1' then do;
2143310   +      AcceptedCmp50 = -1;
MPRINT(EM_DIAGRAM):   AcceptedCmp50 = -1;
2143311   +   end;
MPRINT(EM_DIAGRAM):   end;
2143312   +   else do;
MPRINT(EM_DIAGRAM):   else do;
2143313   +      AcceptedCmp50 = .;
MPRINT(EM_DIAGRAM):   AcceptedCmp50 = .;
2143314   +      substr(_warn_,2,1) = 'U';
MPRINT(EM_DIAGRAM):   substr(_warn_,2,1) = 'U';
2143315   +      _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2143316   +   end;
MPRINT(EM_DIAGRAM):   end;
2143317   +end;
MPRINT(EM_DIAGRAM):   end;
2143318   +
2143319   +*** Generate dummy variables for Complain ;
MPRINT(EM_DIAGRAM):   *** Generate dummy variables for Complain ;
2143320   +drop Complain0 ;
MPRINT(EM_DIAGRAM):   drop Complain0 ;
2143321   +if missing( Complain ) then do;
MPRINT(EM_DIAGRAM):   if missing( Complain ) then do;
2143322   +   Complain0 = .;
MPRINT(EM_DIAGRAM):   Complain0 = .;
2143323   +   substr(_warn_,1,1) = 'M';
MPRINT(EM_DIAGRAM):   substr(_warn_,1,1) = 'M';
2143324   +   _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2143325   +end;
MPRINT(EM_DIAGRAM):   end;
2143326   +else do;
MPRINT(EM_DIAGRAM):   else do;
2143327   +   length _dm12 $ 12; drop _dm12 ;
MPRINT(EM_DIAGRAM):   length _dm12 $ 12;
MPRINT(EM_DIAGRAM):   drop _dm12 ;
2143328   +   _dm12 = put( Complain , BEST. );
MPRINT(EM_DIAGRAM):   _dm12 = put( Complain , BEST. );
2143329   +   %DMNORMIP( _dm12 )
MPRINT(DMNORMIP):   call dmnorm(_dm12,
MPRINT(DMNORLEN):  32
MPRINT(DMNORMIP):  );
2143330   +   if _dm12 = '0'  then do;
MPRINT(EM_DIAGRAM):   if _dm12 = '0' then do;
2143331   +      Complain0 = 1;
MPRINT(EM_DIAGRAM):   Complain0 = 1;
2143332   +   end;
MPRINT(EM_DIAGRAM):   end;
2143333   +   else if _dm12 = '1'  then do;
MPRINT(EM_DIAGRAM):   else if _dm12 = '1' then do;
2143334   +      Complain0 = -1;
MPRINT(EM_DIAGRAM):   Complain0 = -1;
2143335   +   end;
MPRINT(EM_DIAGRAM):   end;
2143336   +   else do;
MPRINT(EM_DIAGRAM):   else do;
2143337   +      Complain0 = .;
MPRINT(EM_DIAGRAM):   Complain0 = .;
2143338   +      substr(_warn_,2,1) = 'U';
MPRINT(EM_DIAGRAM):   substr(_warn_,2,1) = 'U';
2143339   +      _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2143340   +   end;
MPRINT(EM_DIAGRAM):   end;
2143341   +end;
MPRINT(EM_DIAGRAM):   end;
2143342   +
2143343   +*** Generate dummy variables for HigherEducationBinary ;
MPRINT(EM_DIAGRAM):   *** Generate dummy variables for HigherEducationBinary ;
2143344   +drop HigherEducationBinary0 ;
MPRINT(EM_DIAGRAM):   drop HigherEducationBinary0 ;
2143345   +if missing( HigherEducationBinary ) then do;
MPRINT(EM_DIAGRAM):   if missing( HigherEducationBinary ) then do;
2143346   +   HigherEducationBinary0 = .;
MPRINT(EM_DIAGRAM):   HigherEducationBinary0 = .;
2143347   +   substr(_warn_,1,1) = 'M';
MPRINT(EM_DIAGRAM):   substr(_warn_,1,1) = 'M';
2143348   +   _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2143349   +end;
MPRINT(EM_DIAGRAM):   end;
2143350   +else do;
MPRINT(EM_DIAGRAM):   else do;
2143351   +   length _dm12 $ 12; drop _dm12 ;
MPRINT(EM_DIAGRAM):   length _dm12 $ 12;
MPRINT(EM_DIAGRAM):   drop _dm12 ;
2143352   +   _dm12 = put( HigherEducationBinary , BEST12. );
MPRINT(EM_DIAGRAM):   _dm12 = put( HigherEducationBinary , BEST12. );
2143353   +   %DMNORMIP( _dm12 )
MPRINT(DMNORMIP):   call dmnorm(_dm12,
MPRINT(DMNORLEN):  32
MPRINT(DMNORMIP):  );
2143354   +   if _dm12 = '1'  then do;
MPRINT(EM_DIAGRAM):   if _dm12 = '1' then do;
2143355   +      HigherEducationBinary0 = -1;
MPRINT(EM_DIAGRAM):   HigherEducationBinary0 = -1;
2143356   +   end;
MPRINT(EM_DIAGRAM):   end;
2143357   +   else if _dm12 = '0'  then do;
MPRINT(EM_DIAGRAM):   else if _dm12 = '0' then do;
2143358   +      HigherEducationBinary0 = 1;
MPRINT(EM_DIAGRAM):   HigherEducationBinary0 = 1;
2143359   +   end;
MPRINT(EM_DIAGRAM):   end;
2143360   +   else do;
MPRINT(EM_DIAGRAM):   else do;
2143361   +      HigherEducationBinary0 = .;
MPRINT(EM_DIAGRAM):   HigherEducationBinary0 = .;
2143362   +      substr(_warn_,2,1) = 'U';
MPRINT(EM_DIAGRAM):   substr(_warn_,2,1) = 'U';
2143363   +      _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2143364   +   end;
MPRINT(EM_DIAGRAM):   end;
2143365   +end;
MPRINT(EM_DIAGRAM):   end;
2143366   +
2143367   +*** Generate dummy variables for Education ;
MPRINT(EM_DIAGRAM):   *** Generate dummy variables for Education ;
2143368   +drop Education2n_Cycle EducationBasic EducationGraduation EducationMaster ;
MPRINT(EM_DIAGRAM):   drop Education2n_Cycle EducationBasic EducationGraduation 
EducationMaster ;
2143369   +*** encoding is sparse, initialize to zero;
MPRINT(EM_DIAGRAM):   *** encoding is sparse, initialize to zero;
2143370   +Education2n_Cycle = 0;
MPRINT(EM_DIAGRAM):   Education2n_Cycle = 0;
2143371   +EducationBasic = 0;
MPRINT(EM_DIAGRAM):   EducationBasic = 0;
2143372   +EducationGraduation = 0;
MPRINT(EM_DIAGRAM):   EducationGraduation = 0;
2143373   +EducationMaster = 0;
MPRINT(EM_DIAGRAM):   EducationMaster = 0;
2143374   +if missing( Education ) then do;
MPRINT(EM_DIAGRAM):   if missing( Education ) then do;
2143375   +   Education2n_Cycle = .;
MPRINT(EM_DIAGRAM):   Education2n_Cycle = .;
2143376   +   EducationBasic = .;
MPRINT(EM_DIAGRAM):   EducationBasic = .;
2143377   +   EducationGraduation = .;
MPRINT(EM_DIAGRAM):   EducationGraduation = .;
2143378   +   EducationMaster = .;
MPRINT(EM_DIAGRAM):   EducationMaster = .;
2143379   +   substr(_warn_,1,1) = 'M';
MPRINT(EM_DIAGRAM):   substr(_warn_,1,1) = 'M';
2143380   +   _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2143381   +end;
MPRINT(EM_DIAGRAM):   end;
2143382   +else do;
MPRINT(EM_DIAGRAM):   else do;
2143383   +   length _dm10 $ 10; drop _dm10 ;
MPRINT(EM_DIAGRAM):   length _dm10 $ 10;
MPRINT(EM_DIAGRAM):   drop _dm10 ;
2143384   +   _dm10 = put( Education , $10. );
MPRINT(EM_DIAGRAM):   _dm10 = put( Education , $10. );
2143385   +   %DMNORMIP( _dm10 )
MPRINT(DMNORMIP):   call dmnorm(_dm10,
MPRINT(DMNORLEN):  32
MPRINT(DMNORMIP):  );
2143386   +   if _dm10 = 'GRADUATION'  then do;
MPRINT(EM_DIAGRAM):   if _dm10 = 'GRADUATION' then do;
2143387   +      EducationGraduation = 1;
MPRINT(EM_DIAGRAM):   EducationGraduation = 1;
2143388   +   end;
MPRINT(EM_DIAGRAM):   end;
2143389   +   else if _dm10 = 'PHD'  then do;
MPRINT(EM_DIAGRAM):   else if _dm10 = 'PHD' then do;
2143390   +      Education2n_Cycle = -1;
MPRINT(EM_DIAGRAM):   Education2n_Cycle = -1;
2143391   +      EducationBasic = -1;
MPRINT(EM_DIAGRAM):   EducationBasic = -1;
2143392   +      EducationGraduation = -1;
MPRINT(EM_DIAGRAM):   EducationGraduation = -1;
2143393   +      EducationMaster = -1;
MPRINT(EM_DIAGRAM):   EducationMaster = -1;
2143394   +   end;
MPRINT(EM_DIAGRAM):   end;
2143395   +   else if _dm10 = 'MASTER'  then do;
MPRINT(EM_DIAGRAM):   else if _dm10 = 'MASTER' then do;
2143396   +      EducationMaster = 1;
MPRINT(EM_DIAGRAM):   EducationMaster = 1;
2143397   +   end;
MPRINT(EM_DIAGRAM):   end;
2143398   +   else if _dm10 = '2N CYCLE'  then do;
MPRINT(EM_DIAGRAM):   else if _dm10 = '2N CYCLE' then do;
2143399   +      Education2n_Cycle = 1;
MPRINT(EM_DIAGRAM):   Education2n_Cycle = 1;
2143400   +   end;
MPRINT(EM_DIAGRAM):   end;
2143401   +   else if _dm10 = 'BASIC'  then do;
MPRINT(EM_DIAGRAM):   else if _dm10 = 'BASIC' then do;
2143402   +      EducationBasic = 1;
MPRINT(EM_DIAGRAM):   EducationBasic = 1;
2143403   +   end;
MPRINT(EM_DIAGRAM):   end;
2143404   +   else do;
MPRINT(EM_DIAGRAM):   else do;
2143405   +      Education2n_Cycle = .;
MPRINT(EM_DIAGRAM):   Education2n_Cycle = .;
2143406   +      EducationBasic = .;
MPRINT(EM_DIAGRAM):   EducationBasic = .;
2143407   +      EducationGraduation = .;
MPRINT(EM_DIAGRAM):   EducationGraduation = .;
2143408   +      EducationMaster = .;
MPRINT(EM_DIAGRAM):   EducationMaster = .;
2143409   +      substr(_warn_,2,1) = 'U';
MPRINT(EM_DIAGRAM):   substr(_warn_,2,1) = 'U';
2143410   +      _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2143411   +   end;
MPRINT(EM_DIAGRAM):   end;
2143412   +end;
MPRINT(EM_DIAGRAM):   end;
2143413   +
2143414   +*** Generate dummy variables for Marital_Status ;
MPRINT(EM_DIAGRAM):   *** Generate dummy variables for Marital_Status ;
2143415   +drop Marital_StatusDivorced Marital_StatusMarried Marital_StatusSingle
2143416   +        Marital_StatusTogether ;
MPRINT(EM_DIAGRAM):   drop Marital_StatusDivorced Marital_StatusMarried Marital_StatusSingle 
Marital_StatusTogether ;
2143417   +*** encoding is sparse, initialize to zero;
MPRINT(EM_DIAGRAM):   *** encoding is sparse, initialize to zero;
2143418   +Marital_StatusDivorced = 0;
MPRINT(EM_DIAGRAM):   Marital_StatusDivorced = 0;
2143419   +Marital_StatusMarried = 0;
MPRINT(EM_DIAGRAM):   Marital_StatusMarried = 0;
2143420   +Marital_StatusSingle = 0;
MPRINT(EM_DIAGRAM):   Marital_StatusSingle = 0;
2143421   +Marital_StatusTogether = 0;
MPRINT(EM_DIAGRAM):   Marital_StatusTogether = 0;
2143422   +if missing( Marital_Status ) then do;
MPRINT(EM_DIAGRAM):   if missing( Marital_Status ) then do;
2143423   +   Marital_StatusDivorced = .;
MPRINT(EM_DIAGRAM):   Marital_StatusDivorced = .;
2143424   +   Marital_StatusMarried = .;
MPRINT(EM_DIAGRAM):   Marital_StatusMarried = .;
2143425   +   Marital_StatusSingle = .;
MPRINT(EM_DIAGRAM):   Marital_StatusSingle = .;
2143426   +   Marital_StatusTogether = .;
MPRINT(EM_DIAGRAM):   Marital_StatusTogether = .;
2143427   +   substr(_warn_,1,1) = 'M';
MPRINT(EM_DIAGRAM):   substr(_warn_,1,1) = 'M';
2143428   +   _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2143429   +end;
MPRINT(EM_DIAGRAM):   end;
2143430   +else do;
MPRINT(EM_DIAGRAM):   else do;
2143431   +   length _dm8 $ 8; drop _dm8 ;
MPRINT(EM_DIAGRAM):   length _dm8 $ 8;
MPRINT(EM_DIAGRAM):   drop _dm8 ;
2143432   +   _dm8 = put( Marital_Status , $8. );
MPRINT(EM_DIAGRAM):   _dm8 = put( Marital_Status , $8. );
2143433   +   %DMNORMIP( _dm8 )
MPRINT(DMNORMIP):   call dmnorm(_dm8,
MPRINT(DMNORLEN):  32
MPRINT(DMNORMIP):  );
2143434   +   _dm_find = 0; drop _dm_find;
MPRINT(EM_DIAGRAM):   _dm_find = 0;
MPRINT(EM_DIAGRAM):   drop _dm_find;
2143435   +   if _dm8 <= 'SINGLE'  then do;
MPRINT(EM_DIAGRAM):   if _dm8 <= 'SINGLE' then do;
2143436   +      if _dm8 <= 'MARRIED'  then do;
MPRINT(EM_DIAGRAM):   if _dm8 <= 'MARRIED' then do;
2143437   +         if _dm8 = 'DIVORCED'  then do;
MPRINT(EM_DIAGRAM):   if _dm8 = 'DIVORCED' then do;
2143438   +            Marital_StatusDivorced = 1;
MPRINT(EM_DIAGRAM):   Marital_StatusDivorced = 1;
2143439   +            _dm_find = 1;
MPRINT(EM_DIAGRAM):   _dm_find = 1;
2143440   +         end;
MPRINT(EM_DIAGRAM):   end;
2143441   +         else do;
MPRINT(EM_DIAGRAM):   else do;
2143442   +            if _dm8 = 'MARRIED'  then do;
MPRINT(EM_DIAGRAM):   if _dm8 = 'MARRIED' then do;
2143443   +               Marital_StatusMarried = 1;
MPRINT(EM_DIAGRAM):   Marital_StatusMarried = 1;
2143444   +               _dm_find = 1;
MPRINT(EM_DIAGRAM):   _dm_find = 1;
2143445   +            end;
MPRINT(EM_DIAGRAM):   end;
2143446   +         end;
MPRINT(EM_DIAGRAM):   end;
2143447   +      end;
MPRINT(EM_DIAGRAM):   end;
2143448   +      else do;
MPRINT(EM_DIAGRAM):   else do;
2143449   +         if _dm8 = 'SINGLE'  then do;
MPRINT(EM_DIAGRAM):   if _dm8 = 'SINGLE' then do;
2143450   +            Marital_StatusSingle = 1;
MPRINT(EM_DIAGRAM):   Marital_StatusSingle = 1;
2143451   +            _dm_find = 1;
MPRINT(EM_DIAGRAM):   _dm_find = 1;
2143452   +         end;
MPRINT(EM_DIAGRAM):   end;
2143453   +      end;
MPRINT(EM_DIAGRAM):   end;
2143454   +   end;
MPRINT(EM_DIAGRAM):   end;
2143455   +   else do;
MPRINT(EM_DIAGRAM):   else do;
2143456   +      if _dm8 = 'TOGETHER'  then do;
MPRINT(EM_DIAGRAM):   if _dm8 = 'TOGETHER' then do;
2143457   +         Marital_StatusTogether = 1;
MPRINT(EM_DIAGRAM):   Marital_StatusTogether = 1;
2143458   +         _dm_find = 1;
MPRINT(EM_DIAGRAM):   _dm_find = 1;
2143459   +      end;
MPRINT(EM_DIAGRAM):   end;
2143460   +      else do;
MPRINT(EM_DIAGRAM):   else do;
2143461   +         if _dm8 = 'WIDOW'  then do;
MPRINT(EM_DIAGRAM):   if _dm8 = 'WIDOW' then do;
2143462   +            Marital_StatusDivorced = -1;
MPRINT(EM_DIAGRAM):   Marital_StatusDivorced = -1;
2143463   +            Marital_StatusMarried = -1;
MPRINT(EM_DIAGRAM):   Marital_StatusMarried = -1;
2143464   +            Marital_StatusSingle = -1;
MPRINT(EM_DIAGRAM):   Marital_StatusSingle = -1;
2143465   +            Marital_StatusTogether = -1;
MPRINT(EM_DIAGRAM):   Marital_StatusTogether = -1;
2143466   +            _dm_find = 1;
MPRINT(EM_DIAGRAM):   _dm_find = 1;
2143467   +         end;
MPRINT(EM_DIAGRAM):   end;
2143468   +      end;
MPRINT(EM_DIAGRAM):   end;
2143469   +   end;
MPRINT(EM_DIAGRAM):   end;
2143470   +   if not _dm_find then do;
MPRINT(EM_DIAGRAM):   if not _dm_find then do;
2143471   +      Marital_StatusDivorced = .;
MPRINT(EM_DIAGRAM):   Marital_StatusDivorced = .;
2143472   +      Marital_StatusMarried = .;
MPRINT(EM_DIAGRAM):   Marital_StatusMarried = .;
2143473   +      Marital_StatusSingle = .;
MPRINT(EM_DIAGRAM):   Marital_StatusSingle = .;
2143474   +      Marital_StatusTogether = .;
MPRINT(EM_DIAGRAM):   Marital_StatusTogether = .;
2143475   +      substr(_warn_,2,1) = 'U';
MPRINT(EM_DIAGRAM):   substr(_warn_,2,1) = 'U';
2143476   +      _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2143477   +   end;
MPRINT(EM_DIAGRAM):   end;
2143478   +end;
MPRINT(EM_DIAGRAM):   end;
2143479   +
2143480   +*** *************************;
MPRINT(EM_DIAGRAM):   *** *************************;
2143481   +*** Checking missing input Interval
2143482   +*** *************************;
MPRINT(EM_DIAGRAM):   *** Checking missing input Interval *** *************************;
2143483   +
2143484   +IF NMISS(
2143485   +   AcceptedCmpTotal ,
2143486   +   Age ,
2143487   +   Frq ,
2143488   +   Income ,
2143489   +   Kidhome ,
2143490   +   MntFishProducts ,
2143491   +   MntFruits ,
2143492   +   MntGoldProds ,
2143493   +   MntSweetProducts ,
2143494   +   MonthsAsCustomer ,
2143495   +   NumDealsPurchases ,
2143496   +   NumWebVisitsMonth ,
2143497   +   RFMstat ,
2143498   +   RMntFrq ,
2143499   +   Recency ,
2143500   +   Teenhome   ) THEN DO;
MPRINT(EM_DIAGRAM):   IF NMISS( AcceptedCmpTotal , Age , Frq , Income , Kidhome , 
MntFishProducts , MntFruits , MntGoldProds , MntSweetProducts , MonthsAsCustomer , 
NumDealsPurchases , NumWebVisitsMonth , RFMstat , RMntFrq , Recency , Teenhome ) THEN DO;
2143501   +   SUBSTR(_WARN_, 1, 1) = 'M';
MPRINT(EM_DIAGRAM):   SUBSTR(_WARN_, 1, 1) = 'M';
2143502   +
2143503   +   _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2143504   +END;
MPRINT(EM_DIAGRAM):   END;
2143505   +*** *************************;
MPRINT(EM_DIAGRAM):   *** *************************;
2143506   +*** Writing the Node intvl ;
MPRINT(EM_DIAGRAM):   *** Writing the Node intvl ;
2143507   +*** *************************;
MPRINT(EM_DIAGRAM):   *** *************************;
2143508   +IF _DM_BAD EQ 0 THEN DO;
MPRINT(EM_DIAGRAM):   IF _DM_BAD EQ 0 THEN DO;
2143509   +   S_AcceptedCmpTotal  =    -0.46762909508827 +      1.4961610131261 *
2143510   +        AcceptedCmpTotal ;
MPRINT(EM_DIAGRAM):   S_AcceptedCmpTotal = -0.46762909508827 + 1.4961610131261 * 
AcceptedCmpTotal ;
2143511   +   S_Age  =    -3.91319138389466 +     0.08289609202857 * Age ;
MPRINT(EM_DIAGRAM):   S_Age = -3.91319138389466 + 0.08289609202857 * Age ;
2143512   +   S_Frq  =     -1.7674482809159 +     0.13966853800993 * Frq ;
MPRINT(EM_DIAGRAM):   S_Frq = -1.7674482809159 + 0.13966853800993 * Frq ;
2143513   +   S_Income  =    -2.48883438787018 +     0.00004789669836 * Income ;
MPRINT(EM_DIAGRAM):   S_Income = -2.48883438787018 + 0.00004789669836 * Income ;
2143514   +   S_Kidhome  =    -0.81505958668041 +     1.87132636245581 * Kidhome ;
MPRINT(EM_DIAGRAM):   S_Kidhome = -0.81505958668041 + 1.87132636245581 * Kidhome ;
2143515   +   S_MntFishProducts  =    -0.69884925989448 +     0.01914942799914 *
2143516   +        MntFishProducts ;
MPRINT(EM_DIAGRAM):   S_MntFishProducts = -0.69884925989448 + 0.01914942799914 * 
MntFishProducts ;
2143517   +   S_MntFruits  =    -0.68347542544545 +     0.02517057319714 * MntFruits ;
MPRINT(EM_DIAGRAM):   S_MntFruits = -0.68347542544545 + 0.02517057319714 * MntFruits ;
2143518   +   S_MntGoldProds  =     -0.8611213764608 +     0.01954474499711 *
2143519   +        MntGoldProds ;
MPRINT(EM_DIAGRAM):   S_MntGoldProds = -0.8611213764608 + 0.01954474499711 * MntGoldProds ;
2143520   +   S_MntSweetProducts  =    -0.69020047720885 +     0.02548703406327 *
2143521   +        MntSweetProducts ;
MPRINT(EM_DIAGRAM):   S_MntSweetProducts = -0.69020047720885 + 0.02548703406327 * 
MntSweetProducts ;
2143522   +   S_MonthsAsCustomer  =    -4.93133031507839 +     0.05900664899872 *
2143523   +        MonthsAsCustomer ;
MPRINT(EM_DIAGRAM):   S_MonthsAsCustomer = -4.93133031507839 + 0.05900664899872 * 
MonthsAsCustomer ;
2143524   +   S_NumDealsPurchases  =    -1.34788949552081 +     0.59766336614987 *
2143525   +        NumDealsPurchases ;
MPRINT(EM_DIAGRAM):   S_NumDealsPurchases = -1.34788949552081 + 0.59766336614987 * 
NumDealsPurchases ;
2143526   +   S_NumWebVisitsMonth  =    -2.24769875596018 +     0.42876953368015 *
2143527   +        NumWebVisitsMonth ;
MPRINT(EM_DIAGRAM):   S_NumWebVisitsMonth = -2.24769875596018 + 0.42876953368015 * 
NumWebVisitsMonth ;
2143528   +   S_RFMstat  =    -0.33944380186973 +     0.00063877635032 * RFMstat ;
MPRINT(EM_DIAGRAM):   S_RFMstat = -0.33944380186973 + 0.00063877635032 * RFMstat ;
2143529   +   S_RMntFrq  =    -1.25743573075922 +     0.03326204244626 * RMntFrq ;
MPRINT(EM_DIAGRAM):   S_RMntFrq = -1.25743573075922 + 0.03326204244626 * RMntFrq ;
2143530   +   S_Recency  =    -1.69222845719633 +     0.03469514083585 * Recency ;
MPRINT(EM_DIAGRAM):   S_Recency = -1.69222845719633 + 0.03469514083585 * Recency ;
2143531   +   S_Teenhome  =    -0.88382230606631 +     1.81661831567223 * Teenhome ;
MPRINT(EM_DIAGRAM):   S_Teenhome = -0.88382230606631 + 1.81661831567223 * Teenhome ;
2143532   +END;
MPRINT(EM_DIAGRAM):   END;
2143533   +ELSE DO;
MPRINT(EM_DIAGRAM):   ELSE DO;
2143534   +   IF MISSING( AcceptedCmpTotal ) THEN S_AcceptedCmpTotal  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( AcceptedCmpTotal ) THEN S_AcceptedCmpTotal = . ;
2143535   +   ELSE S_AcceptedCmpTotal  =    -0.46762909508827 +      1.4961610131261 *
2143536   +        AcceptedCmpTotal ;
MPRINT(EM_DIAGRAM):   ELSE S_AcceptedCmpTotal = -0.46762909508827 + 1.4961610131261 * 
AcceptedCmpTotal ;
2143537   +   IF MISSING( Age ) THEN S_Age  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( Age ) THEN S_Age = . ;
2143538   +   ELSE S_Age  =    -3.91319138389466 +     0.08289609202857 * Age ;
MPRINT(EM_DIAGRAM):   ELSE S_Age = -3.91319138389466 + 0.08289609202857 * Age ;
2143539   +   IF MISSING( Frq ) THEN S_Frq  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( Frq ) THEN S_Frq = . ;
2143540   +   ELSE S_Frq  =     -1.7674482809159 +     0.13966853800993 * Frq ;
MPRINT(EM_DIAGRAM):   ELSE S_Frq = -1.7674482809159 + 0.13966853800993 * Frq ;
2143541   +   IF MISSING( Income ) THEN S_Income  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( Income ) THEN S_Income = . ;
2143542   +   ELSE S_Income  =    -2.48883438787018 +     0.00004789669836 * Income ;
MPRINT(EM_DIAGRAM):   ELSE S_Income = -2.48883438787018 + 0.00004789669836 * Income ;
2143543   +   IF MISSING( Kidhome ) THEN S_Kidhome  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( Kidhome ) THEN S_Kidhome = . ;
2143544   +   ELSE S_Kidhome  =    -0.81505958668041 +     1.87132636245581 * Kidhome ;
MPRINT(EM_DIAGRAM):   ELSE S_Kidhome = -0.81505958668041 + 1.87132636245581 * Kidhome ;
2143545   +   IF MISSING( MntFishProducts ) THEN S_MntFishProducts  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( MntFishProducts ) THEN S_MntFishProducts = . ;
2143546   +   ELSE S_MntFishProducts  =    -0.69884925989448 +     0.01914942799914 *
2143547   +        MntFishProducts ;
MPRINT(EM_DIAGRAM):   ELSE S_MntFishProducts = -0.69884925989448 + 0.01914942799914 * 
MntFishProducts ;
2143548   +   IF MISSING( MntFruits ) THEN S_MntFruits  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( MntFruits ) THEN S_MntFruits = . ;
2143549   +   ELSE S_MntFruits  =    -0.68347542544545 +     0.02517057319714 * MntFruits
2143550   +         ;
MPRINT(EM_DIAGRAM):   ELSE S_MntFruits = -0.68347542544545 + 0.02517057319714 * MntFruits ;
2143551   +   IF MISSING( MntGoldProds ) THEN S_MntGoldProds  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( MntGoldProds ) THEN S_MntGoldProds = . ;
2143552   +   ELSE S_MntGoldProds  =     -0.8611213764608 +     0.01954474499711 *
2143553   +        MntGoldProds ;
MPRINT(EM_DIAGRAM):   ELSE S_MntGoldProds = -0.8611213764608 + 0.01954474499711 * MntGoldProds 
;
2143554   +   IF MISSING( MntSweetProducts ) THEN S_MntSweetProducts  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( MntSweetProducts ) THEN S_MntSweetProducts = . ;
2143555   +   ELSE S_MntSweetProducts  =    -0.69020047720885 +     0.02548703406327 *
2143556   +        MntSweetProducts ;
MPRINT(EM_DIAGRAM):   ELSE S_MntSweetProducts = -0.69020047720885 + 0.02548703406327 * 
MntSweetProducts ;
2143557   +   IF MISSING( MonthsAsCustomer ) THEN S_MonthsAsCustomer  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( MonthsAsCustomer ) THEN S_MonthsAsCustomer = . ;
2143558   +   ELSE S_MonthsAsCustomer  =    -4.93133031507839 +     0.05900664899872 *
2143559   +        MonthsAsCustomer ;
MPRINT(EM_DIAGRAM):   ELSE S_MonthsAsCustomer = -4.93133031507839 + 0.05900664899872 * 
MonthsAsCustomer ;
2143560   +   IF MISSING( NumDealsPurchases ) THEN S_NumDealsPurchases  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( NumDealsPurchases ) THEN S_NumDealsPurchases = . ;
2143561   +   ELSE S_NumDealsPurchases  =    -1.34788949552081 +     0.59766336614987 *
2143562   +        NumDealsPurchases ;
MPRINT(EM_DIAGRAM):   ELSE S_NumDealsPurchases = -1.34788949552081 + 0.59766336614987 * 
NumDealsPurchases ;
2143563   +   IF MISSING( NumWebVisitsMonth ) THEN S_NumWebVisitsMonth  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( NumWebVisitsMonth ) THEN S_NumWebVisitsMonth = . ;
2143564   +   ELSE S_NumWebVisitsMonth  =    -2.24769875596018 +     0.42876953368015 *
2143565   +        NumWebVisitsMonth ;
MPRINT(EM_DIAGRAM):   ELSE S_NumWebVisitsMonth = -2.24769875596018 + 0.42876953368015 * 
NumWebVisitsMonth ;
2143566   +   IF MISSING( RFMstat ) THEN S_RFMstat  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( RFMstat ) THEN S_RFMstat = . ;
2143567   +   ELSE S_RFMstat  =    -0.33944380186973 +     0.00063877635032 * RFMstat ;
MPRINT(EM_DIAGRAM):   ELSE S_RFMstat = -0.33944380186973 + 0.00063877635032 * RFMstat ;
2143568   +   IF MISSING( RMntFrq ) THEN S_RMntFrq  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( RMntFrq ) THEN S_RMntFrq = . ;
2143569   +   ELSE S_RMntFrq  =    -1.25743573075922 +     0.03326204244626 * RMntFrq ;
MPRINT(EM_DIAGRAM):   ELSE S_RMntFrq = -1.25743573075922 + 0.03326204244626 * RMntFrq ;
2143570   +   IF MISSING( Recency ) THEN S_Recency  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( Recency ) THEN S_Recency = . ;
2143571   +   ELSE S_Recency  =    -1.69222845719633 +     0.03469514083585 * Recency ;
MPRINT(EM_DIAGRAM):   ELSE S_Recency = -1.69222845719633 + 0.03469514083585 * Recency ;
2143572   +   IF MISSING( Teenhome ) THEN S_Teenhome  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( Teenhome ) THEN S_Teenhome = . ;
2143573   +   ELSE S_Teenhome  =    -0.88382230606631 +     1.81661831567223 * Teenhome ;
MPRINT(EM_DIAGRAM):   ELSE S_Teenhome = -0.88382230606631 + 1.81661831567223 * Teenhome ;
2143574   +END;
MPRINT(EM_DIAGRAM):   END;
2143575   +*** *************************;
MPRINT(EM_DIAGRAM):   *** *************************;
2143576   +*** Writing the Node bin ;
MPRINT(EM_DIAGRAM):   *** Writing the Node bin ;
2143577   +*** *************************;
MPRINT(EM_DIAGRAM):   *** *************************;
2143578   +*** *************************;
MPRINT(EM_DIAGRAM):   *** *************************;
2143579   +*** Writing the Node nom ;
MPRINT(EM_DIAGRAM):   *** Writing the Node nom ;
2143580   +*** *************************;
MPRINT(EM_DIAGRAM):   *** *************************;
2143581   +*** *************************;
MPRINT(EM_DIAGRAM):   *** *************************;
2143582   +*** Writing the Node H1 ;
MPRINT(EM_DIAGRAM):   *** Writing the Node H1 ;
2143583   +*** *************************;
MPRINT(EM_DIAGRAM):   *** *************************;
2143584   +IF _DM_BAD EQ 0 THEN DO;
MPRINT(EM_DIAGRAM):   IF _DM_BAD EQ 0 THEN DO;
2143585   +   H11  =     0.02151728870806 * S_AcceptedCmpTotal  +     0.05254894554809 *
2143586   +        S_Age  +    -0.16973386556377 * S_Frq  +    -0.82728779491682 *
2143587   +        S_Income  +     0.39903592539043 * S_Kidhome
2143588   +          +    -0.04460924056526 * S_MntFishProducts
2143589   +          +     0.02733683231833 * S_MntFruits  +     0.05011896594494 *
2143590   +        S_MntGoldProds  +     0.19517504324129 * S_MntSweetProducts
2143591   +          +    -0.13600486461772 * S_MonthsAsCustomer
2143592   +          +    -0.00505319277464 * S_NumDealsPurchases
2143593   +          +    -0.02131770482252 * S_NumWebVisitsMonth
2143594   +          +     0.00524769837231 * S_RFMstat  +    -0.21746675829719 *
2143595   +        S_RMntFrq  +     0.54271297675327 * S_Recency
2143596   +          +      0.5568869219643 * S_Teenhome ;
MPRINT(EM_DIAGRAM):   H11 = 0.02151728870806 * S_AcceptedCmpTotal + 0.05254894554809 * S_Age + 
-0.16973386556377 * S_Frq + -0.82728779491682 * S_Income + 0.39903592539043 * S_Kidhome + 
-0.04460924056526 * S_MntFishProducts + 0.02733683231833 * S_MntFruits + 0.05011896594494 * 
S_MntGoldProds + 0.19517504324129 * S_MntSweetProducts + -0.13600486461772 * 
S_MonthsAsCustomer + -0.00505319277464 * S_NumDealsPurchases + -0.02131770482252 * 
S_NumWebVisitsMonth + 0.00524769837231 * S_RFMstat + -0.21746675829719 * S_RMntFrq + 
0.54271297675327 * S_Recency + 0.5568869219643 * S_Teenhome ;
2143597   +   H12  =    -0.31677356986514 * S_AcceptedCmpTotal  +    -0.13636654958991 *
2143598   +        S_Age  +    -0.12127604451874 * S_Frq  +    -0.03912727186842 *
2143599   +        S_Income  +     0.31541271020596 * S_Kidhome
2143600   +          +    -0.06070575535455 * S_MntFishProducts
2143601   +          +     0.04717351357982 * S_MntFruits  +     0.20035627551608 *
2143602   +        S_MntGoldProds  +     0.34661630810838 * S_MntSweetProducts
2143603   +          +    -0.49660266591157 * S_MonthsAsCustomer
2143604   +          +     0.31834511850835 * S_NumDealsPurchases
2143605   +          +     0.24781307795044 * S_NumWebVisitsMonth
2143606   +          +      0.2962065441422 * S_RFMstat  +    -0.00931536368325 *
2143607   +        S_RMntFrq  +     -0.4887066152184 * S_Recency
2143608   +          +    -0.31733549884932 * S_Teenhome ;
MPRINT(EM_DIAGRAM):   H12 = -0.31677356986514 * S_AcceptedCmpTotal + -0.13636654958991 * S_Age 
+ -0.12127604451874 * S_Frq + -0.03912727186842 * S_Income + 0.31541271020596 * S_Kidhome + 
-0.06070575535455 * S_MntFishProducts + 0.04717351357982 * S_MntFruits + 0.20035627551608 * 
S_MntGoldProds + 0.34661630810838 * S_MntSweetProducts + -0.49660266591157 * 
S_MonthsAsCustomer + 0.31834511850835 * S_NumDealsPurchases + 0.24781307795044 * 
S_NumWebVisitsMonth + 0.2962065441422 * S_RFMstat + -0.00931536368325 * S_RMntFrq + 
-0.4887066152184 * S_Recency + -0.31733549884932 * S_Teenhome ;
2143609   +   H13  =    -0.67923945541429 * S_AcceptedCmpTotal  +     -0.1600759141845 *
2143610   +        S_Age  +    -0.32206936571155 * S_Frq  +    -0.42231968918367 *
2143611   +        S_Income  +    -0.48980326576867 * S_Kidhome
2143612   +          +     0.16754214531813 * S_MntFishProducts
2143613   +          +     0.07042633274724 * S_MntFruits  +    -0.54860029741519 *
2143614   +        S_MntGoldProds  +    -0.02870819733746 * S_MntSweetProducts
2143615   +          +    -0.09017520473136 * S_MonthsAsCustomer
2143616   +          +    -0.45842921605242 * S_NumDealsPurchases
2143617   +          +    -0.51952177798857 * S_NumWebVisitsMonth
2143618   +          +    -0.31466002172051 * S_RFMstat  +    -0.48848348436254 *
2143619   +        S_RMntFrq  +     0.79178959337864 * S_Recency
2143620   +          +    -0.01573946454754 * S_Teenhome ;
MPRINT(EM_DIAGRAM):   H13 = -0.67923945541429 * S_AcceptedCmpTotal + -0.1600759141845 * S_Age 
+ -0.32206936571155 * S_Frq + -0.42231968918367 * S_Income + -0.48980326576867 * S_Kidhome + 
0.16754214531813 * S_MntFishProducts + 0.07042633274724 * S_MntFruits + -0.54860029741519 * 
S_MntGoldProds + -0.02870819733746 * S_MntSweetProducts + -0.09017520473136 * 
S_MonthsAsCustomer + -0.45842921605242 * S_NumDealsPurchases + -0.51952177798857 * 
S_NumWebVisitsMonth + -0.31466002172051 * S_RFMstat + -0.48848348436254 * S_RMntFrq + 
0.79178959337864 * S_Recency + -0.01573946454754 * S_Teenhome ;
2143621   +   H14  =     0.38562838138579 * S_AcceptedCmpTotal  +     0.07260700845897 *
2143622   +        S_Age  +     0.06970375186829 * S_Frq  +     0.14363271673316 *
2143623   +        S_Income  +    -0.63270966560605 * S_Kidhome
2143624   +          +    -0.08814987977037 * S_MntFishProducts
2143625   +          +    -0.16742996280424 * S_MntFruits  +     -0.0048241161297 *
2143626   +        S_MntGoldProds  +    -0.29868881598251 * S_MntSweetProducts
2143627   +          +    -0.04826032378728 * S_MonthsAsCustomer
2143628   +          +     0.01599853180114 * S_NumDealsPurchases
2143629   +          +     0.60119173038714 * S_NumWebVisitsMonth
2143630   +          +     0.24192512657122 * S_RFMstat  +    -0.16600268948701 *
2143631   +        S_RMntFrq  +    -0.74024886149073 * S_Recency
2143632   +          +    -0.33502330424595 * S_Teenhome ;
MPRINT(EM_DIAGRAM):   H14 = 0.38562838138579 * S_AcceptedCmpTotal + 0.07260700845897 * S_Age + 
0.06970375186829 * S_Frq + 0.14363271673316 * S_Income + -0.63270966560605 * S_Kidhome + 
-0.08814987977037 * S_MntFishProducts + -0.16742996280424 * S_MntFruits + -0.0048241161297 * 
S_MntGoldProds + -0.29868881598251 * S_MntSweetProducts + -0.04826032378728 * 
S_MonthsAsCustomer + 0.01599853180114 * S_NumDealsPurchases + 0.60119173038714 * 
S_NumWebVisitsMonth + 0.24192512657122 * S_RFMstat + -0.16600268948701 * S_RMntFrq + 
-0.74024886149073 * S_Recency + -0.33502330424595 * S_Teenhome ;
2143633   +   H15  =    -0.34311356733661 * S_AcceptedCmpTotal  +     0.16235616443826 *
2143634   +        S_Age  +     0.94382517748399 * S_Frq  +      0.2748531338861 *
2143635   +        S_Income  +    -0.02219671454546 * S_Kidhome
2143636   +          +    -0.15542333204257 * S_MntFishProducts
2143637   +          +     0.05860799445207 * S_MntFruits  +      0.0164088007412 *
2143638   +        S_MntGoldProds  +    -0.12449090470408 * S_MntSweetProducts
2143639   +          +     0.03737130526687 * S_MonthsAsCustomer
2143640   +          +    -0.55633092697691 * S_NumDealsPurchases
2143641   +          +     -0.5935978122359 * S_NumWebVisitsMonth
2143642   +          +    -0.06684824395733 * S_RFMstat  +    -0.17365329607203 *
2143643   +        S_RMntFrq  +      0.6764486616945 * S_Recency
2143644   +          +     -0.1892667221599 * S_Teenhome ;
MPRINT(EM_DIAGRAM):   H15 = -0.34311356733661 * S_AcceptedCmpTotal + 0.16235616443826 * S_Age 
+ 0.94382517748399 * S_Frq + 0.2748531338861 * S_Income + -0.02219671454546 * S_Kidhome + 
-0.15542333204257 * S_MntFishProducts + 0.05860799445207 * S_MntFruits + 0.0164088007412 * 
S_MntGoldProds + -0.12449090470408 * S_MntSweetProducts + 0.03737130526687 * 
S_MonthsAsCustomer + -0.55633092697691 * S_NumDealsPurchases + -0.5935978122359 * 
S_NumWebVisitsMonth + -0.06684824395733 * S_RFMstat + -0.17365329607203 * S_RMntFrq + 
0.6764486616945 * S_Recency + -0.1892667221599 * S_Teenhome ;
2143645   +   H11  = H11  +     0.32339671285779 * AcceptedCmp10
2143646   +          +     0.40704039360735 * AcceptedCmp20  +     0.30956684671901 *
2143647   +        AcceptedCmp30  +     0.31438728866768 * AcceptedCmp40
2143648   +          +     0.23235496545772 * AcceptedCmp50  +     0.16248155382451 *
2143649   +        Complain0  +    -0.30696195142475 * HigherEducationBinary0 ;
MPRINT(EM_DIAGRAM):   H11 = H11 + 0.32339671285779 * AcceptedCmp10 + 0.40704039360735 * 
AcceptedCmp20 + 0.30956684671901 * AcceptedCmp30 + 0.31438728866768 * AcceptedCmp40 + 
0.23235496545772 * AcceptedCmp50 + 0.16248155382451 * Complain0 + -0.30696195142475 * 
HigherEducationBinary0 ;
2143650   +   H12  = H12  +     0.15468195814719 * AcceptedCmp10
2143651   +          +    -0.01658463628305 * AcceptedCmp20  +    -0.18284432439766 *
2143652   +        AcceptedCmp30  +     0.10412487730599 * AcceptedCmp40
2143653   +          +      0.2784347604012 * AcceptedCmp50  +     0.21341015945758 *
2143654   +        Complain0  +     0.26769837741874 * HigherEducationBinary0 ;
MPRINT(EM_DIAGRAM):   H12 = H12 + 0.15468195814719 * AcceptedCmp10 + -0.01658463628305 * 
AcceptedCmp20 + -0.18284432439766 * AcceptedCmp30 + 0.10412487730599 * AcceptedCmp40 + 
0.2784347604012 * AcceptedCmp50 + 0.21341015945758 * Complain0 + 0.26769837741874 * 
HigherEducationBinary0 ;
2143655   +   H13  = H13  +    -0.11177158752481 * AcceptedCmp10
2143656   +          +    -0.13739486515218 * AcceptedCmp20  +     0.15972072685818 *
2143657   +        AcceptedCmp30  +    -0.09073450388158 * AcceptedCmp40
2143658   +          +     0.20479045598357 * AcceptedCmp50  +    -0.28874847014038 *
2143659   +        Complain0  +     0.12082289787754 * HigherEducationBinary0 ;
MPRINT(EM_DIAGRAM):   H13 = H13 + -0.11177158752481 * AcceptedCmp10 + -0.13739486515218 * 
AcceptedCmp20 + 0.15972072685818 * AcceptedCmp30 + -0.09073450388158 * AcceptedCmp40 + 
0.20479045598357 * AcceptedCmp50 + -0.28874847014038 * Complain0 + 0.12082289787754 * 
HigherEducationBinary0 ;
2143660   +   H14  = H14  +     0.22760562650379 * AcceptedCmp10
2143661   +          +    -0.01066432835565 * AcceptedCmp20  +    -0.32053666689899 *
2143662   +        AcceptedCmp30  +     0.01405337529301 * AcceptedCmp40
2143663   +          +     0.00690669937705 * AcceptedCmp50  +     0.18207401895977 *
2143664   +        Complain0  +     0.02728138057211 * HigherEducationBinary0 ;
MPRINT(EM_DIAGRAM):   H14 = H14 + 0.22760562650379 * AcceptedCmp10 + -0.01066432835565 * 
AcceptedCmp20 + -0.32053666689899 * AcceptedCmp30 + 0.01405337529301 * AcceptedCmp40 + 
0.00690669937705 * AcceptedCmp50 + 0.18207401895977 * Complain0 + 0.02728138057211 * 
HigherEducationBinary0 ;
2143665   +   H15  = H15  +     0.53146690040164 * AcceptedCmp10
2143666   +          +     0.02061647343682 * AcceptedCmp20  +     0.47331796914114 *
2143667   +        AcceptedCmp30  +    -0.05515580192077 * AcceptedCmp40
2143668   +          +     0.29161268499344 * AcceptedCmp50  +     0.05844301388229 *
2143669   +        Complain0  +      0.1779848505105 * HigherEducationBinary0 ;
MPRINT(EM_DIAGRAM):   H15 = H15 + 0.53146690040164 * AcceptedCmp10 + 0.02061647343682 * 
AcceptedCmp20 + 0.47331796914114 * AcceptedCmp30 + -0.05515580192077 * AcceptedCmp40 + 
0.29161268499344 * AcceptedCmp50 + 0.05844301388229 * Complain0 + 0.1779848505105 * 
HigherEducationBinary0 ;
2143670   +   H11  = H11  +     0.03097010145548 * Education2n_Cycle
2143671   +          +    -0.13406554569598 * EducationBasic  +    -0.09871242696608 *
2143672   +        EducationGraduation  +     0.23998958645262 * EducationMaster
2143673   +          +    -0.42082033749096 * Marital_StatusDivorced
2143674   +          +     0.66219400411029 * Marital_StatusMarried
2143675   +          +     -0.5319693170402 * Marital_StatusSingle
2143676   +          +     0.70748197229966 * Marital_StatusTogether ;
MPRINT(EM_DIAGRAM):   H11 = H11 + 0.03097010145548 * Education2n_Cycle + -0.13406554569598 * 
EducationBasic + -0.09871242696608 * EducationGraduation + 0.23998958645262 * EducationMaster 
+ -0.42082033749096 * Marital_StatusDivorced + 0.66219400411029 * Marital_StatusMarried + 
-0.5319693170402 * Marital_StatusSingle + 0.70748197229966 * Marital_StatusTogether ;
2143677   +   H12  = H12  +    -0.18240954892125 * Education2n_Cycle
2143678   +          +      -0.040279707928 * EducationBasic  +     0.26318151864922 *
2143679   +        EducationGraduation  +     0.04495546932118 * EducationMaster
2143680   +          +      -0.322040509013 * Marital_StatusDivorced
2143681   +          +     0.15587841196747 * Marital_StatusMarried
2143682   +          +     0.28814320146342 * Marital_StatusSingle
2143683   +          +    -0.31522150769005 * Marital_StatusTogether ;
MPRINT(EM_DIAGRAM):   H12 = H12 + -0.18240954892125 * Education2n_Cycle + -0.040279707928 * 
EducationBasic + 0.26318151864922 * EducationGraduation + 0.04495546932118 * EducationMaster + 
-0.322040509013 * Marital_StatusDivorced + 0.15587841196747 * Marital_StatusMarried + 
0.28814320146342 * Marital_StatusSingle + -0.31522150769005 * Marital_StatusTogether ;
2143684   +   H13  = H13  +     0.03294796280016 * Education2n_Cycle
2143685   +          +     0.16865870867242 * EducationBasic  +    -0.24783622415669 *
2143686   +        EducationGraduation  +    -0.16728377319058 * EducationMaster
2143687   +          +    -0.06468619863793 * Marital_StatusDivorced
2143688   +          +    -0.01423713588549 * Marital_StatusMarried
2143689   +          +    -0.04729389811247 * Marital_StatusSingle
2143690   +          +    -0.15198305020182 * Marital_StatusTogether ;
MPRINT(EM_DIAGRAM):   H13 = H13 + 0.03294796280016 * Education2n_Cycle + 0.16865870867242 * 
EducationBasic + -0.24783622415669 * EducationGraduation + -0.16728377319058 * EducationMaster 
+ -0.06468619863793 * Marital_StatusDivorced + -0.01423713588549 * Marital_StatusMarried + 
-0.04729389811247 * Marital_StatusSingle + -0.15198305020182 * Marital_StatusTogether ;
2143691   +   H14  = H14  +      0.0429131340472 * Education2n_Cycle
2143692   +          +     0.09798160258855 * EducationBasic  +     0.23808953197663 *
2143693   +        EducationGraduation  +    -0.18027397340106 * EducationMaster
2143694   +          +     0.20711724648422 * Marital_StatusDivorced
2143695   +          +    -0.52428656670194 * Marital_StatusMarried
2143696   +          +     0.50784243935214 * Marital_StatusSingle
2143697   +          +    -0.15093459229255 * Marital_StatusTogether ;
MPRINT(EM_DIAGRAM):   H14 = H14 + 0.0429131340472 * Education2n_Cycle + 0.09798160258855 * 
EducationBasic + 0.23808953197663 * EducationGraduation + -0.18027397340106 * EducationMaster 
+ 0.20711724648422 * Marital_StatusDivorced + -0.52428656670194 * Marital_StatusMarried + 
0.50784243935214 * Marital_StatusSingle + -0.15093459229255 * Marital_StatusTogether ;
2143698   +   H15  = H15  +    -0.07839732345604 * Education2n_Cycle
2143699   +          +     0.23809754868431 * EducationBasic  +     0.00672017411768 *
2143700   +        EducationGraduation  +     0.02815790747137 * EducationMaster
2143701   +          +    -0.13878251101316 * Marital_StatusDivorced
2143702   +          +     -0.1763810748285 * Marital_StatusMarried
2143703   +          +     0.09863670564728 * Marital_StatusSingle
2143704   +          +     0.03752805463412 * Marital_StatusTogether ;
MPRINT(EM_DIAGRAM):   H15 = H15 + -0.07839732345604 * Education2n_Cycle + 0.23809754868431 * 
EducationBasic + 0.00672017411768 * EducationGraduation + 0.02815790747137 * EducationMaster + 
-0.13878251101316 * Marital_StatusDivorced + -0.1763810748285 * Marital_StatusMarried + 
0.09863670564728 * Marital_StatusSingle + 0.03752805463412 * Marital_StatusTogether ;
2143705   +   H11  =     0.45564602198436 + H11 ;
MPRINT(EM_DIAGRAM):   H11 = 0.45564602198436 + H11 ;
2143706   +   H12  =    -0.95855185996396 + H12 ;
MPRINT(EM_DIAGRAM):   H12 = -0.95855185996396 + H12 ;
2143707   +   H13  =    -0.44150964212393 + H13 ;
MPRINT(EM_DIAGRAM):   H13 = -0.44150964212393 + H13 ;
2143708   +   H14  =     0.53989079832138 + H14 ;
MPRINT(EM_DIAGRAM):   H14 = 0.53989079832138 + H14 ;
2143709   +   H15  =     0.82844095622763 + H15 ;
MPRINT(EM_DIAGRAM):   H15 = 0.82844095622763 + H15 ;
2143710   +   H11  = TANH(H11 );
MPRINT(EM_DIAGRAM):   H11 = TANH(H11 );
2143711   +   H12  = TANH(H12 );
MPRINT(EM_DIAGRAM):   H12 = TANH(H12 );
2143712   +   H13  = TANH(H13 );
MPRINT(EM_DIAGRAM):   H13 = TANH(H13 );
2143713   +   H14  = TANH(H14 );
MPRINT(EM_DIAGRAM):   H14 = TANH(H14 );
2143714   +   H15  = TANH(H15 );
MPRINT(EM_DIAGRAM):   H15 = TANH(H15 );
2143715   +END;
MPRINT(EM_DIAGRAM):   END;
2143716   +ELSE DO;
MPRINT(EM_DIAGRAM):   ELSE DO;
2143717   +   H11  = .;
MPRINT(EM_DIAGRAM):   H11 = .;
2143718   +   H12  = .;
MPRINT(EM_DIAGRAM):   H12 = .;
2143719   +   H13  = .;
MPRINT(EM_DIAGRAM):   H13 = .;
2143720   +   H14  = .;
MPRINT(EM_DIAGRAM):   H14 = .;
2143721   +   H15  = .;
MPRINT(EM_DIAGRAM):   H15 = .;
2143722   +END;
MPRINT(EM_DIAGRAM):   END;
2143723   +*** *************************;
MPRINT(EM_DIAGRAM):   *** *************************;
2143724   +*** Writing the Node DepVar ;
MPRINT(EM_DIAGRAM):   *** Writing the Node DepVar ;
2143725   +*** *************************;
MPRINT(EM_DIAGRAM):   *** *************************;
2143726   +
2143727   +*** Generate dummy variables for DepVar ;
MPRINT(EM_DIAGRAM):   *** Generate dummy variables for DepVar ;
2143728   +drop DepVar1 DepVar0 ;
MPRINT(EM_DIAGRAM):   drop DepVar1 DepVar0 ;
2143729   +label F_DepVar = 'From: DepVar' ;
MPRINT(EM_DIAGRAM):   label F_DepVar = 'From: DepVar' ;
2143730   +length F_DepVar $ 12;
MPRINT(EM_DIAGRAM):   length F_DepVar $ 12;
2143731   +F_DepVar = put( DepVar , BEST. );
MPRINT(EM_DIAGRAM):   F_DepVar = put( DepVar , BEST. );
2143732   +%DMNORMIP( F_DepVar )
MPRINT(DMNORMIP):   call dmnorm(F_DepVar,
MPRINT(DMNORLEN):  32
MPRINT(DMNORMIP):  );
2143733   +if missing( DepVar ) then do;
MPRINT(EM_DIAGRAM):   if missing( DepVar ) then do;
2143734   +   DepVar1 = .;
MPRINT(EM_DIAGRAM):   DepVar1 = .;
2143735   +   DepVar0 = .;
MPRINT(EM_DIAGRAM):   DepVar0 = .;
2143736   +end;
MPRINT(EM_DIAGRAM):   end;
2143737   +else do;
MPRINT(EM_DIAGRAM):   else do;
2143738   +   if F_DepVar = '0'  then do;
MPRINT(EM_DIAGRAM):   if F_DepVar = '0' then do;
2143739   +      DepVar1 = 0;
MPRINT(EM_DIAGRAM):   DepVar1 = 0;
2143740   +      DepVar0 = 1;
MPRINT(EM_DIAGRAM):   DepVar0 = 1;
2143741   +   end;
MPRINT(EM_DIAGRAM):   end;
2143742   +   else if F_DepVar = '1'  then do;
MPRINT(EM_DIAGRAM):   else if F_DepVar = '1' then do;
2143743   +      DepVar1 = 1;
MPRINT(EM_DIAGRAM):   DepVar1 = 1;
2143744   +      DepVar0 = 0;
MPRINT(EM_DIAGRAM):   DepVar0 = 0;
2143745   +   end;
MPRINT(EM_DIAGRAM):   end;
2143746   +   else do;
MPRINT(EM_DIAGRAM):   else do;
2143747   +      DepVar1 = .;
MPRINT(EM_DIAGRAM):   DepVar1 = .;
2143748   +      DepVar0 = .;
MPRINT(EM_DIAGRAM):   DepVar0 = .;
2143749   +   end;
MPRINT(EM_DIAGRAM):   end;
2143750   +end;
MPRINT(EM_DIAGRAM):   end;
2143751   +IF _DM_BAD EQ 0 THEN DO;
MPRINT(EM_DIAGRAM):   IF _DM_BAD EQ 0 THEN DO;
2143752   +   P_DepVar1  =    -3.08524657689897 * H11  +     0.90135731546766 * H12
2143753   +          +    -2.65297083917138 * H13  +     1.47809334967539 * H14
2143754   +          +    -1.92897922289298 * H15 ;
MPRINT(EM_DIAGRAM):   P_DepVar1 = -3.08524657689897 * H11 + 0.90135731546766 * H12 + 
-2.65297083917138 * H13 + 1.47809334967539 * H14 + -1.92897922289298 * H15 ;
2143755   +   P_DepVar1  =    -1.84374798036079 + P_DepVar1 ;
MPRINT(EM_DIAGRAM):   P_DepVar1 = -1.84374798036079 + P_DepVar1 ;
2143756   +   P_DepVar0  = 0;
MPRINT(EM_DIAGRAM):   P_DepVar0 = 0;
2143757   +   _MAX_ = MAX (P_DepVar1 , P_DepVar0 );
MPRINT(EM_DIAGRAM):   _MAX_ = MAX (P_DepVar1 , P_DepVar0 );
2143758   +   _SUM_ = 0.;
MPRINT(EM_DIAGRAM):   _SUM_ = 0.;
2143759   +   P_DepVar1  = EXP(P_DepVar1  - _MAX_);
MPRINT(EM_DIAGRAM):   P_DepVar1 = EXP(P_DepVar1 - _MAX_);
2143760   +   _SUM_ = _SUM_ + P_DepVar1 ;
MPRINT(EM_DIAGRAM):   _SUM_ = _SUM_ + P_DepVar1 ;
2143761   +   P_DepVar0  = EXP(P_DepVar0  - _MAX_);
MPRINT(EM_DIAGRAM):   P_DepVar0 = EXP(P_DepVar0 - _MAX_);
2143762   +   _SUM_ = _SUM_ + P_DepVar0 ;
MPRINT(EM_DIAGRAM):   _SUM_ = _SUM_ + P_DepVar0 ;
2143763   +   P_DepVar1  = P_DepVar1  / _SUM_;
MPRINT(EM_DIAGRAM):   P_DepVar1 = P_DepVar1 / _SUM_;
2143764   +   P_DepVar0  = P_DepVar0  / _SUM_;
MPRINT(EM_DIAGRAM):   P_DepVar0 = P_DepVar0 / _SUM_;
2143765   +END;
MPRINT(EM_DIAGRAM):   END;
2143766   +ELSE DO;
MPRINT(EM_DIAGRAM):   ELSE DO;
2143767   +   P_DepVar1  = .;
MPRINT(EM_DIAGRAM):   P_DepVar1 = .;
2143768   +   P_DepVar0  = .;
MPRINT(EM_DIAGRAM):   P_DepVar0 = .;
2143769   +END;
MPRINT(EM_DIAGRAM):   END;
2143770   +IF _DM_BAD EQ 1 THEN DO;
MPRINT(EM_DIAGRAM):   IF _DM_BAD EQ 1 THEN DO;
2143771   +   P_DepVar1  =     0.15122156697556;
MPRINT(EM_DIAGRAM):   P_DepVar1 = 0.15122156697556;
2143772   +   P_DepVar0  =     0.84877843302443;
MPRINT(EM_DIAGRAM):   P_DepVar0 = 0.84877843302443;
2143773   +END;
MPRINT(EM_DIAGRAM):   END;
2143774   +*** *****************************;
MPRINT(EM_DIAGRAM):   *** *****************************;
2143775   +*** Writing the Residuals  of the Node DepVar ;
MPRINT(EM_DIAGRAM):   *** Writing the Residuals of the Node DepVar ;
2143776   +*** ******************************;
MPRINT(EM_DIAGRAM):   *** ******************************;
2143777   +IF MISSING( DepVar1 ) THEN R_DepVar1  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( DepVar1 ) THEN R_DepVar1 = . ;
2143778   +ELSE R_DepVar1  = DepVar1  - P_DepVar1 ;
MPRINT(EM_DIAGRAM):   ELSE R_DepVar1 = DepVar1 - P_DepVar1 ;
2143779   +IF MISSING( DepVar0 ) THEN R_DepVar0  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( DepVar0 ) THEN R_DepVar0 = . ;
2143780   +ELSE R_DepVar0  = DepVar0  - P_DepVar0 ;
MPRINT(EM_DIAGRAM):   ELSE R_DepVar0 = DepVar0 - P_DepVar0 ;
2143781   +*** *************************;
MPRINT(EM_DIAGRAM):   *** *************************;
2143782   +*** Writing the I_DepVar  AND U_DepVar ;
MPRINT(EM_DIAGRAM):   *** Writing the I_DepVar AND U_DepVar ;
2143783   +*** *************************;
MPRINT(EM_DIAGRAM):   *** *************************;
2143784   +_MAXP_ = P_DepVar1 ;
MPRINT(EM_DIAGRAM):   _MAXP_ = P_DepVar1 ;
2143785   +I_DepVar  = "1           " ;
MPRINT(EM_DIAGRAM):   I_DepVar = "1           " ;
2143786   +U_DepVar  =                    1;
MPRINT(EM_DIAGRAM):   U_DepVar = 1;
2143787   +IF( _MAXP_ LT P_DepVar0  ) THEN DO;
MPRINT(EM_DIAGRAM):   IF( _MAXP_ LT P_DepVar0 ) THEN DO;
2143788   +   _MAXP_ = P_DepVar0 ;
MPRINT(EM_DIAGRAM):   _MAXP_ = P_DepVar0 ;
2143789   +   I_DepVar  = "0           " ;
MPRINT(EM_DIAGRAM):   I_DepVar = "0           " ;
2143790   +   U_DepVar  =                    0;
MPRINT(EM_DIAGRAM):   U_DepVar = 0;
2143791   +END;
MPRINT(EM_DIAGRAM):   END;
2143792   +********************************;
MPRINT(EM_DIAGRAM):   ********************************;
2143793   +*** End Scoring Code for Neural;
MPRINT(EM_DIAGRAM):   *** End Scoring Code for Neural;
2143794   +********************************;
MPRINT(EM_DIAGRAM):   ********************************;
2143795   +drop
2143796   +H11
2143797   +H12
2143798   +H13
2143799   +H14
2143800   +H15
2143801   +;
MPRINT(EM_DIAGRAM):   drop H11 H12 H13 H14 H15 ;
2143802   +drop S_:;
MPRINT(EM_DIAGRAM):   drop S_:;
2143803   +* Renaming variables for Neural40;
MPRINT(EM_DIAGRAM):   * Renaming variables for Neural40;
2143804   +*------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
2143805   +* Renaming Posterior variables for Neural40;
MPRINT(EM_DIAGRAM):   * Renaming Posterior variables for Neural40;
2143806   +*------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
2143807   +drop Neural40_P_DepVar1;
MPRINT(EM_DIAGRAM):   drop Neural40_P_DepVar1;
2143808   +Neural40_P_DepVar1 = P_DepVar1;
MPRINT(EM_DIAGRAM):   Neural40_P_DepVar1 = P_DepVar1;
2143809   +drop Neural40_P_DepVar0;
MPRINT(EM_DIAGRAM):   drop Neural40_P_DepVar0;
2143810   +Neural40_P_DepVar0 = P_DepVar0;
MPRINT(EM_DIAGRAM):   Neural40_P_DepVar0 = P_DepVar0;
2143811   +*------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
2143812   +* Renaming _WARN_ variable for Neural40;
MPRINT(EM_DIAGRAM):   * Renaming _WARN_ variable for Neural40;
2143813   +*------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
2143814   +length Neural40_WARN_ $4;
MPRINT(EM_DIAGRAM):   length Neural40_WARN_ $4;
2143815   +drop Neural40_WARN_;
MPRINT(EM_DIAGRAM):   drop Neural40_WARN_;
2143816   +Neural40_WARN_ = _WARN_;
MPRINT(EM_DIAGRAM):   Neural40_WARN_ = _WARN_;
2143817   +*------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
2143818   +* Ensmbl23: Scoring Code of model 3 of 5;
MPRINT(EM_DIAGRAM):   * Ensmbl23: Scoring Code of model 3 of 5;
2143819   +*------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
2143820   +*------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
2143821   +* TOOL: Neural;
MPRINT(EM_DIAGRAM):   * TOOL: Neural;
2143822   +* TYPE: MODEL;
MPRINT(EM_DIAGRAM):   * TYPE: MODEL;
2143823   +* NODE: Neural39;
MPRINT(EM_DIAGRAM):   * NODE: Neural39;
2143824   +*------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
2143825   +***********************************;
MPRINT(EM_DIAGRAM):   ***********************************;
2143826   +*** Begin Scoring Code for Neural;
MPRINT(EM_DIAGRAM):   *** Begin Scoring Code for Neural;
2143827   +***********************************;
MPRINT(EM_DIAGRAM):   ***********************************;
2143828   +DROP _DM_BAD _EPS _NOCL_ _MAX_ _MAXP_ _SUM_ _NTRIALS;
MPRINT(EM_DIAGRAM):   DROP _DM_BAD _EPS _NOCL_ _MAX_ _MAXP_ _SUM_ _NTRIALS;
2143829   + _DM_BAD = 0;
MPRINT(EM_DIAGRAM):   _DM_BAD = 0;
2143830   + _NOCL_ = .;
MPRINT(EM_DIAGRAM):   _NOCL_ = .;
2143831   + _MAX_ = .;
MPRINT(EM_DIAGRAM):   _MAX_ = .;
2143832   + _MAXP_ = .;
MPRINT(EM_DIAGRAM):   _MAXP_ = .;
2143833   + _SUM_ = .;
MPRINT(EM_DIAGRAM):   _SUM_ = .;
2143834   + _NTRIALS = .;
MPRINT(EM_DIAGRAM):   _NTRIALS = .;
2143835   + _EPS =                1E-10;
MPRINT(EM_DIAGRAM):   _EPS = 1E-10;
2143836   +LENGTH _WARN_ $4
2143837   +      F_DepVar  $ 12
2143838   +;
MPRINT(EM_DIAGRAM):   LENGTH _WARN_ $4 F_DepVar $ 12 ;
2143839   +      label S_AcceptedCmpTotal = 'Standard: AcceptedCmpTotal' ;
MPRINT(EM_DIAGRAM):   label S_AcceptedCmpTotal = 'Standard: AcceptedCmpTotal' ;
2143840   +
2143841   +      label S_Age = 'Standard: Age' ;
MPRINT(EM_DIAGRAM):   label S_Age = 'Standard: Age' ;
2143842   +
2143843   +      label S_Frq = 'Standard: Frq' ;
MPRINT(EM_DIAGRAM):   label S_Frq = 'Standard: Frq' ;
2143844   +
2143845   +      label S_Income = 'Standard: Income' ;
MPRINT(EM_DIAGRAM):   label S_Income = 'Standard: Income' ;
2143846   +
2143847   +      label S_Kidhome = 'Standard: Kidhome' ;
MPRINT(EM_DIAGRAM):   label S_Kidhome = 'Standard: Kidhome' ;
2143848   +
2143849   +      label S_MntFishProducts = 'Standard: MntFishProducts' ;
MPRINT(EM_DIAGRAM):   label S_MntFishProducts = 'Standard: MntFishProducts' ;
2143850   +
2143851   +      label S_MntFruits = 'Standard: MntFruits' ;
MPRINT(EM_DIAGRAM):   label S_MntFruits = 'Standard: MntFruits' ;
2143852   +
2143853   +      label S_MntGoldProds = 'Standard: MntGoldProds' ;
MPRINT(EM_DIAGRAM):   label S_MntGoldProds = 'Standard: MntGoldProds' ;
2143854   +
2143855   +      label S_MntSweetProducts = 'Standard: MntSweetProducts' ;
MPRINT(EM_DIAGRAM):   label S_MntSweetProducts = 'Standard: MntSweetProducts' ;
2143856   +
2143857   +      label S_MonthsAsCustomer = 'Standard: MonthsAsCustomer' ;
MPRINT(EM_DIAGRAM):   label S_MonthsAsCustomer = 'Standard: MonthsAsCustomer' ;
2143858   +
2143859   +      label S_NumDealsPurchases = 'Standard: NumDealsPurchases' ;
MPRINT(EM_DIAGRAM):   label S_NumDealsPurchases = 'Standard: NumDealsPurchases' ;
2143860   +
2143861   +      label S_NumWebVisitsMonth = 'Standard: NumWebVisitsMonth' ;
MPRINT(EM_DIAGRAM):   label S_NumWebVisitsMonth = 'Standard: NumWebVisitsMonth' ;
2143862   +
2143863   +      label S_RFMstat = 'Standard: RFMstat' ;
MPRINT(EM_DIAGRAM):   label S_RFMstat = 'Standard: RFMstat' ;
2143864   +
2143865   +      label S_RMntFrq = 'Standard: RMntFrq' ;
MPRINT(EM_DIAGRAM):   label S_RMntFrq = 'Standard: RMntFrq' ;
2143866   +
2143867   +      label S_Recency = 'Standard: Recency' ;
MPRINT(EM_DIAGRAM):   label S_Recency = 'Standard: Recency' ;
2143868   +
2143869   +      label S_Teenhome = 'Standard: Teenhome' ;
MPRINT(EM_DIAGRAM):   label S_Teenhome = 'Standard: Teenhome' ;
2143870   +
2143871   +      label AcceptedCmp10 = 'Dummy: AcceptedCmp1=0' ;
MPRINT(EM_DIAGRAM):   label AcceptedCmp10 = 'Dummy: AcceptedCmp1=0' ;
2143872   +
2143873   +      label AcceptedCmp20 = 'Dummy: AcceptedCmp2=0' ;
MPRINT(EM_DIAGRAM):   label AcceptedCmp20 = 'Dummy: AcceptedCmp2=0' ;
2143874   +
2143875   +      label AcceptedCmp30 = 'Dummy: AcceptedCmp3=0' ;
MPRINT(EM_DIAGRAM):   label AcceptedCmp30 = 'Dummy: AcceptedCmp3=0' ;
2143876   +
2143877   +      label AcceptedCmp40 = 'Dummy: AcceptedCmp4=0' ;
MPRINT(EM_DIAGRAM):   label AcceptedCmp40 = 'Dummy: AcceptedCmp4=0' ;
2143878   +
2143879   +      label AcceptedCmp50 = 'Dummy: AcceptedCmp5=0' ;
MPRINT(EM_DIAGRAM):   label AcceptedCmp50 = 'Dummy: AcceptedCmp5=0' ;
2143880   +
2143881   +      label Complain0 = 'Dummy: Complain=0' ;
MPRINT(EM_DIAGRAM):   label Complain0 = 'Dummy: Complain=0' ;
2143882   +
2143883   +      label HigherEducationBinary0 = 'Dummy: HigherEducationBinary=0' ;
MPRINT(EM_DIAGRAM):   label HigherEducationBinary0 = 'Dummy: HigherEducationBinary=0' ;
2143884   +
2143885   +      label Education2n_Cycle = 'Dummy: Education=2n Cycle' ;
MPRINT(EM_DIAGRAM):   label Education2n_Cycle = 'Dummy: Education=2n Cycle' ;
2143886   +
2143887   +      label EducationBasic = 'Dummy: Education=Basic' ;
MPRINT(EM_DIAGRAM):   label EducationBasic = 'Dummy: Education=Basic' ;
2143888   +
2143889   +      label EducationGraduation = 'Dummy: Education=Graduation' ;
MPRINT(EM_DIAGRAM):   label EducationGraduation = 'Dummy: Education=Graduation' ;
2143890   +
2143891   +      label EducationMaster = 'Dummy: Education=Master' ;
MPRINT(EM_DIAGRAM):   label EducationMaster = 'Dummy: Education=Master' ;
2143892   +
2143893   +      label Marital_StatusDivorced = 'Dummy: Marital_Status=Divorced' ;
MPRINT(EM_DIAGRAM):   label Marital_StatusDivorced = 'Dummy: Marital_Status=Divorced' ;
2143894   +
2143895   +      label Marital_StatusMarried = 'Dummy: Marital_Status=Married' ;
MPRINT(EM_DIAGRAM):   label Marital_StatusMarried = 'Dummy: Marital_Status=Married' ;
2143896   +
2143897   +      label Marital_StatusSingle = 'Dummy: Marital_Status=Single' ;
MPRINT(EM_DIAGRAM):   label Marital_StatusSingle = 'Dummy: Marital_Status=Single' ;
2143898   +
2143899   +      label Marital_StatusTogether = 'Dummy: Marital_Status=Together' ;
MPRINT(EM_DIAGRAM):   label Marital_StatusTogether = 'Dummy: Marital_Status=Together' ;
2143900   +
2143901   +      label H11 = 'Hidden: H1=1' ;
MPRINT(EM_DIAGRAM):   label H11 = 'Hidden: H1=1' ;
2143902   +
2143903   +      label H12 = 'Hidden: H1=2' ;
MPRINT(EM_DIAGRAM):   label H12 = 'Hidden: H1=2' ;
2143904   +
2143905   +      label H13 = 'Hidden: H1=3' ;
MPRINT(EM_DIAGRAM):   label H13 = 'Hidden: H1=3' ;
2143906   +
2143907   +      label H14 = 'Hidden: H1=4' ;
MPRINT(EM_DIAGRAM):   label H14 = 'Hidden: H1=4' ;
2143908   +
2143909   +      label I_DepVar = 'Into: DepVar' ;
MPRINT(EM_DIAGRAM):   label I_DepVar = 'Into: DepVar' ;
2143910   +
2143911   +      label F_DepVar = 'From: DepVar' ;
MPRINT(EM_DIAGRAM):   label F_DepVar = 'From: DepVar' ;
2143912   +
2143913   +      label U_DepVar = 'Unnormalized Into: DepVar' ;
MPRINT(EM_DIAGRAM):   label U_DepVar = 'Unnormalized Into: DepVar' ;
2143914   +
2143915   +      label P_DepVar1 = 'Predicted: DepVar=1' ;
MPRINT(EM_DIAGRAM):   label P_DepVar1 = 'Predicted: DepVar=1' ;
2143916   +
2143917   +      label R_DepVar1 = 'Residual: DepVar=1' ;
MPRINT(EM_DIAGRAM):   label R_DepVar1 = 'Residual: DepVar=1' ;
2143918   +
2143919   +      label P_DepVar0 = 'Predicted: DepVar=0' ;
MPRINT(EM_DIAGRAM):   label P_DepVar0 = 'Predicted: DepVar=0' ;
2143920   +
2143921   +      label R_DepVar0 = 'Residual: DepVar=0' ;
MPRINT(EM_DIAGRAM):   label R_DepVar0 = 'Residual: DepVar=0' ;
2143922   +
2143923   +      label  _WARN_ = "Warnings";
MPRINT(EM_DIAGRAM):   label _WARN_ = "Warnings";
2143924   +
2143925   +*** Generate dummy variables for AcceptedCmp1 ;
MPRINT(EM_DIAGRAM):   *** Generate dummy variables for AcceptedCmp1 ;
2143926   +drop AcceptedCmp10 ;
MPRINT(EM_DIAGRAM):   drop AcceptedCmp10 ;
2143927   +if missing( AcceptedCmp1 ) then do;
MPRINT(EM_DIAGRAM):   if missing( AcceptedCmp1 ) then do;
2143928   +   AcceptedCmp10 = .;
MPRINT(EM_DIAGRAM):   AcceptedCmp10 = .;
2143929   +   substr(_warn_,1,1) = 'M';
MPRINT(EM_DIAGRAM):   substr(_warn_,1,1) = 'M';
2143930   +   _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2143931   +end;
MPRINT(EM_DIAGRAM):   end;
2143932   +else do;
MPRINT(EM_DIAGRAM):   else do;
2143933   +   length _dm12 $ 12; drop _dm12 ;
MPRINT(EM_DIAGRAM):   length _dm12 $ 12;
MPRINT(EM_DIAGRAM):   drop _dm12 ;
2143934   +   _dm12 = put( AcceptedCmp1 , BEST. );
MPRINT(EM_DIAGRAM):   _dm12 = put( AcceptedCmp1 , BEST. );
2143935   +   %DMNORMIP( _dm12 )
MPRINT(DMNORMIP):   call dmnorm(_dm12,
MPRINT(DMNORLEN):  32
MPRINT(DMNORMIP):  );
2143936   +   if _dm12 = '0'  then do;
MPRINT(EM_DIAGRAM):   if _dm12 = '0' then do;
2143937   +      AcceptedCmp10 = 1;
MPRINT(EM_DIAGRAM):   AcceptedCmp10 = 1;
2143938   +   end;
MPRINT(EM_DIAGRAM):   end;
2143939   +   else if _dm12 = '1'  then do;
MPRINT(EM_DIAGRAM):   else if _dm12 = '1' then do;
2143940   +      AcceptedCmp10 = -1;
MPRINT(EM_DIAGRAM):   AcceptedCmp10 = -1;
2143941   +   end;
MPRINT(EM_DIAGRAM):   end;
2143942   +   else do;
MPRINT(EM_DIAGRAM):   else do;
2143943   +      AcceptedCmp10 = .;
MPRINT(EM_DIAGRAM):   AcceptedCmp10 = .;
2143944   +      substr(_warn_,2,1) = 'U';
MPRINT(EM_DIAGRAM):   substr(_warn_,2,1) = 'U';
2143945   +      _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2143946   +   end;
MPRINT(EM_DIAGRAM):   end;
2143947   +end;
MPRINT(EM_DIAGRAM):   end;
2143948   +
2143949   +*** Generate dummy variables for AcceptedCmp2 ;
MPRINT(EM_DIAGRAM):   *** Generate dummy variables for AcceptedCmp2 ;
2143950   +drop AcceptedCmp20 ;
MPRINT(EM_DIAGRAM):   drop AcceptedCmp20 ;
2143951   +if missing( AcceptedCmp2 ) then do;
MPRINT(EM_DIAGRAM):   if missing( AcceptedCmp2 ) then do;
2143952   +   AcceptedCmp20 = .;
MPRINT(EM_DIAGRAM):   AcceptedCmp20 = .;
2143953   +   substr(_warn_,1,1) = 'M';
MPRINT(EM_DIAGRAM):   substr(_warn_,1,1) = 'M';
2143954   +   _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2143955   +end;
MPRINT(EM_DIAGRAM):   end;
2143956   +else do;
MPRINT(EM_DIAGRAM):   else do;
2143957   +   length _dm12 $ 12; drop _dm12 ;
MPRINT(EM_DIAGRAM):   length _dm12 $ 12;
MPRINT(EM_DIAGRAM):   drop _dm12 ;
2143958   +   _dm12 = put( AcceptedCmp2 , BEST. );
MPRINT(EM_DIAGRAM):   _dm12 = put( AcceptedCmp2 , BEST. );
2143959   +   %DMNORMIP( _dm12 )
MPRINT(DMNORMIP):   call dmnorm(_dm12,
MPRINT(DMNORLEN):  32
MPRINT(DMNORMIP):  );
2143960   +   if _dm12 = '0'  then do;
MPRINT(EM_DIAGRAM):   if _dm12 = '0' then do;
2143961   +      AcceptedCmp20 = 1;
MPRINT(EM_DIAGRAM):   AcceptedCmp20 = 1;
2143962   +   end;
MPRINT(EM_DIAGRAM):   end;
2143963   +   else if _dm12 = '1'  then do;
MPRINT(EM_DIAGRAM):   else if _dm12 = '1' then do;
2143964   +      AcceptedCmp20 = -1;
MPRINT(EM_DIAGRAM):   AcceptedCmp20 = -1;
2143965   +   end;
MPRINT(EM_DIAGRAM):   end;
2143966   +   else do;
MPRINT(EM_DIAGRAM):   else do;
2143967   +      AcceptedCmp20 = .;
MPRINT(EM_DIAGRAM):   AcceptedCmp20 = .;
2143968   +      substr(_warn_,2,1) = 'U';
MPRINT(EM_DIAGRAM):   substr(_warn_,2,1) = 'U';
2143969   +      _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2143970   +   end;
MPRINT(EM_DIAGRAM):   end;
2143971   +end;
MPRINT(EM_DIAGRAM):   end;
2143972   +
2143973   +*** Generate dummy variables for AcceptedCmp3 ;
MPRINT(EM_DIAGRAM):   *** Generate dummy variables for AcceptedCmp3 ;
2143974   +drop AcceptedCmp30 ;
MPRINT(EM_DIAGRAM):   drop AcceptedCmp30 ;
2143975   +if missing( AcceptedCmp3 ) then do;
MPRINT(EM_DIAGRAM):   if missing( AcceptedCmp3 ) then do;
2143976   +   AcceptedCmp30 = .;
MPRINT(EM_DIAGRAM):   AcceptedCmp30 = .;
2143977   +   substr(_warn_,1,1) = 'M';
MPRINT(EM_DIAGRAM):   substr(_warn_,1,1) = 'M';
2143978   +   _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2143979   +end;
MPRINT(EM_DIAGRAM):   end;
2143980   +else do;
MPRINT(EM_DIAGRAM):   else do;
2143981   +   length _dm12 $ 12; drop _dm12 ;
MPRINT(EM_DIAGRAM):   length _dm12 $ 12;
MPRINT(EM_DIAGRAM):   drop _dm12 ;
2143982   +   _dm12 = put( AcceptedCmp3 , BEST. );
MPRINT(EM_DIAGRAM):   _dm12 = put( AcceptedCmp3 , BEST. );
2143983   +   %DMNORMIP( _dm12 )
MPRINT(DMNORMIP):   call dmnorm(_dm12,
MPRINT(DMNORLEN):  32
MPRINT(DMNORMIP):  );
2143984   +   if _dm12 = '0'  then do;
MPRINT(EM_DIAGRAM):   if _dm12 = '0' then do;
2143985   +      AcceptedCmp30 = 1;
MPRINT(EM_DIAGRAM):   AcceptedCmp30 = 1;
2143986   +   end;
MPRINT(EM_DIAGRAM):   end;
2143987   +   else if _dm12 = '1'  then do;
MPRINT(EM_DIAGRAM):   else if _dm12 = '1' then do;
2143988   +      AcceptedCmp30 = -1;
MPRINT(EM_DIAGRAM):   AcceptedCmp30 = -1;
2143989   +   end;
MPRINT(EM_DIAGRAM):   end;
2143990   +   else do;
MPRINT(EM_DIAGRAM):   else do;
2143991   +      AcceptedCmp30 = .;
MPRINT(EM_DIAGRAM):   AcceptedCmp30 = .;
2143992   +      substr(_warn_,2,1) = 'U';
MPRINT(EM_DIAGRAM):   substr(_warn_,2,1) = 'U';
2143993   +      _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2143994   +   end;
MPRINT(EM_DIAGRAM):   end;
2143995   +end;
MPRINT(EM_DIAGRAM):   end;
2143996   +
2143997   +*** Generate dummy variables for AcceptedCmp4 ;
MPRINT(EM_DIAGRAM):   *** Generate dummy variables for AcceptedCmp4 ;
2143998   +drop AcceptedCmp40 ;
MPRINT(EM_DIAGRAM):   drop AcceptedCmp40 ;
2143999   +if missing( AcceptedCmp4 ) then do;
MPRINT(EM_DIAGRAM):   if missing( AcceptedCmp4 ) then do;
2144000   +   AcceptedCmp40 = .;
MPRINT(EM_DIAGRAM):   AcceptedCmp40 = .;
2144001   +   substr(_warn_,1,1) = 'M';
MPRINT(EM_DIAGRAM):   substr(_warn_,1,1) = 'M';
2144002   +   _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2144003   +end;
MPRINT(EM_DIAGRAM):   end;
2144004   +else do;
MPRINT(EM_DIAGRAM):   else do;
2144005   +   length _dm12 $ 12; drop _dm12 ;
MPRINT(EM_DIAGRAM):   length _dm12 $ 12;
MPRINT(EM_DIAGRAM):   drop _dm12 ;
2144006   +   _dm12 = put( AcceptedCmp4 , BEST. );
MPRINT(EM_DIAGRAM):   _dm12 = put( AcceptedCmp4 , BEST. );
2144007   +   %DMNORMIP( _dm12 )
MPRINT(DMNORMIP):   call dmnorm(_dm12,
MPRINT(DMNORLEN):  32
MPRINT(DMNORMIP):  );
2144008   +   if _dm12 = '0'  then do;
MPRINT(EM_DIAGRAM):   if _dm12 = '0' then do;
2144009   +      AcceptedCmp40 = 1;
MPRINT(EM_DIAGRAM):   AcceptedCmp40 = 1;
2144010   +   end;
MPRINT(EM_DIAGRAM):   end;
2144011   +   else if _dm12 = '1'  then do;
MPRINT(EM_DIAGRAM):   else if _dm12 = '1' then do;
2144012   +      AcceptedCmp40 = -1;
MPRINT(EM_DIAGRAM):   AcceptedCmp40 = -1;
2144013   +   end;
MPRINT(EM_DIAGRAM):   end;
2144014   +   else do;
MPRINT(EM_DIAGRAM):   else do;
2144015   +      AcceptedCmp40 = .;
MPRINT(EM_DIAGRAM):   AcceptedCmp40 = .;
2144016   +      substr(_warn_,2,1) = 'U';
MPRINT(EM_DIAGRAM):   substr(_warn_,2,1) = 'U';
2144017   +      _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2144018   +   end;
MPRINT(EM_DIAGRAM):   end;
2144019   +end;
MPRINT(EM_DIAGRAM):   end;
2144020   +
2144021   +*** Generate dummy variables for AcceptedCmp5 ;
MPRINT(EM_DIAGRAM):   *** Generate dummy variables for AcceptedCmp5 ;
2144022   +drop AcceptedCmp50 ;
MPRINT(EM_DIAGRAM):   drop AcceptedCmp50 ;
2144023   +if missing( AcceptedCmp5 ) then do;
MPRINT(EM_DIAGRAM):   if missing( AcceptedCmp5 ) then do;
2144024   +   AcceptedCmp50 = .;
MPRINT(EM_DIAGRAM):   AcceptedCmp50 = .;
2144025   +   substr(_warn_,1,1) = 'M';
MPRINT(EM_DIAGRAM):   substr(_warn_,1,1) = 'M';
2144026   +   _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2144027   +end;
MPRINT(EM_DIAGRAM):   end;
2144028   +else do;
MPRINT(EM_DIAGRAM):   else do;
2144029   +   length _dm12 $ 12; drop _dm12 ;
MPRINT(EM_DIAGRAM):   length _dm12 $ 12;
MPRINT(EM_DIAGRAM):   drop _dm12 ;
2144030   +   _dm12 = put( AcceptedCmp5 , BEST. );
MPRINT(EM_DIAGRAM):   _dm12 = put( AcceptedCmp5 , BEST. );
2144031   +   %DMNORMIP( _dm12 )
MPRINT(DMNORMIP):   call dmnorm(_dm12,
MPRINT(DMNORLEN):  32
MPRINT(DMNORMIP):  );
2144032   +   if _dm12 = '0'  then do;
MPRINT(EM_DIAGRAM):   if _dm12 = '0' then do;
2144033   +      AcceptedCmp50 = 1;
MPRINT(EM_DIAGRAM):   AcceptedCmp50 = 1;
2144034   +   end;
MPRINT(EM_DIAGRAM):   end;
2144035   +   else if _dm12 = '1'  then do;
MPRINT(EM_DIAGRAM):   else if _dm12 = '1' then do;
2144036   +      AcceptedCmp50 = -1;
MPRINT(EM_DIAGRAM):   AcceptedCmp50 = -1;
2144037   +   end;
MPRINT(EM_DIAGRAM):   end;
2144038   +   else do;
MPRINT(EM_DIAGRAM):   else do;
2144039   +      AcceptedCmp50 = .;
MPRINT(EM_DIAGRAM):   AcceptedCmp50 = .;
2144040   +      substr(_warn_,2,1) = 'U';
MPRINT(EM_DIAGRAM):   substr(_warn_,2,1) = 'U';
2144041   +      _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2144042   +   end;
MPRINT(EM_DIAGRAM):   end;
2144043   +end;
MPRINT(EM_DIAGRAM):   end;
2144044   +
2144045   +*** Generate dummy variables for Complain ;
MPRINT(EM_DIAGRAM):   *** Generate dummy variables for Complain ;
2144046   +drop Complain0 ;
MPRINT(EM_DIAGRAM):   drop Complain0 ;
2144047   +if missing( Complain ) then do;
MPRINT(EM_DIAGRAM):   if missing( Complain ) then do;
2144048   +   Complain0 = .;
MPRINT(EM_DIAGRAM):   Complain0 = .;
2144049   +   substr(_warn_,1,1) = 'M';
MPRINT(EM_DIAGRAM):   substr(_warn_,1,1) = 'M';
2144050   +   _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2144051   +end;
MPRINT(EM_DIAGRAM):   end;
2144052   +else do;
MPRINT(EM_DIAGRAM):   else do;
2144053   +   length _dm12 $ 12; drop _dm12 ;
MPRINT(EM_DIAGRAM):   length _dm12 $ 12;
MPRINT(EM_DIAGRAM):   drop _dm12 ;
2144054   +   _dm12 = put( Complain , BEST. );
MPRINT(EM_DIAGRAM):   _dm12 = put( Complain , BEST. );
2144055   +   %DMNORMIP( _dm12 )
MPRINT(DMNORMIP):   call dmnorm(_dm12,
MPRINT(DMNORLEN):  32
MPRINT(DMNORMIP):  );
2144056   +   if _dm12 = '0'  then do;
MPRINT(EM_DIAGRAM):   if _dm12 = '0' then do;
2144057   +      Complain0 = 1;
MPRINT(EM_DIAGRAM):   Complain0 = 1;
2144058   +   end;
MPRINT(EM_DIAGRAM):   end;
2144059   +   else if _dm12 = '1'  then do;
MPRINT(EM_DIAGRAM):   else if _dm12 = '1' then do;
2144060   +      Complain0 = -1;
MPRINT(EM_DIAGRAM):   Complain0 = -1;
2144061   +   end;
MPRINT(EM_DIAGRAM):   end;
2144062   +   else do;
MPRINT(EM_DIAGRAM):   else do;
2144063   +      Complain0 = .;
MPRINT(EM_DIAGRAM):   Complain0 = .;
2144064   +      substr(_warn_,2,1) = 'U';
MPRINT(EM_DIAGRAM):   substr(_warn_,2,1) = 'U';
2144065   +      _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2144066   +   end;
MPRINT(EM_DIAGRAM):   end;
2144067   +end;
MPRINT(EM_DIAGRAM):   end;
2144068   +
2144069   +*** Generate dummy variables for HigherEducationBinary ;
MPRINT(EM_DIAGRAM):   *** Generate dummy variables for HigherEducationBinary ;
2144070   +drop HigherEducationBinary0 ;
MPRINT(EM_DIAGRAM):   drop HigherEducationBinary0 ;
2144071   +if missing( HigherEducationBinary ) then do;
MPRINT(EM_DIAGRAM):   if missing( HigherEducationBinary ) then do;
2144072   +   HigherEducationBinary0 = .;
MPRINT(EM_DIAGRAM):   HigherEducationBinary0 = .;
2144073   +   substr(_warn_,1,1) = 'M';
MPRINT(EM_DIAGRAM):   substr(_warn_,1,1) = 'M';
2144074   +   _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2144075   +end;
MPRINT(EM_DIAGRAM):   end;
2144076   +else do;
MPRINT(EM_DIAGRAM):   else do;
2144077   +   length _dm12 $ 12; drop _dm12 ;
MPRINT(EM_DIAGRAM):   length _dm12 $ 12;
MPRINT(EM_DIAGRAM):   drop _dm12 ;
2144078   +   _dm12 = put( HigherEducationBinary , BEST12. );
MPRINT(EM_DIAGRAM):   _dm12 = put( HigherEducationBinary , BEST12. );
2144079   +   %DMNORMIP( _dm12 )
MPRINT(DMNORMIP):   call dmnorm(_dm12,
MPRINT(DMNORLEN):  32
MPRINT(DMNORMIP):  );
2144080   +   if _dm12 = '1'  then do;
MPRINT(EM_DIAGRAM):   if _dm12 = '1' then do;
2144081   +      HigherEducationBinary0 = -1;
MPRINT(EM_DIAGRAM):   HigherEducationBinary0 = -1;
2144082   +   end;
MPRINT(EM_DIAGRAM):   end;
2144083   +   else if _dm12 = '0'  then do;
MPRINT(EM_DIAGRAM):   else if _dm12 = '0' then do;
2144084   +      HigherEducationBinary0 = 1;
MPRINT(EM_DIAGRAM):   HigherEducationBinary0 = 1;
2144085   +   end;
MPRINT(EM_DIAGRAM):   end;
2144086   +   else do;
MPRINT(EM_DIAGRAM):   else do;
2144087   +      HigherEducationBinary0 = .;
MPRINT(EM_DIAGRAM):   HigherEducationBinary0 = .;
2144088   +      substr(_warn_,2,1) = 'U';
MPRINT(EM_DIAGRAM):   substr(_warn_,2,1) = 'U';
2144089   +      _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2144090   +   end;
MPRINT(EM_DIAGRAM):   end;
2144091   +end;
MPRINT(EM_DIAGRAM):   end;
2144092   +
2144093   +*** Generate dummy variables for Education ;
MPRINT(EM_DIAGRAM):   *** Generate dummy variables for Education ;
2144094   +drop Education2n_Cycle EducationBasic EducationGraduation EducationMaster ;
MPRINT(EM_DIAGRAM):   drop Education2n_Cycle EducationBasic EducationGraduation 
EducationMaster ;
2144095   +*** encoding is sparse, initialize to zero;
MPRINT(EM_DIAGRAM):   *** encoding is sparse, initialize to zero;
2144096   +Education2n_Cycle = 0;
MPRINT(EM_DIAGRAM):   Education2n_Cycle = 0;
2144097   +EducationBasic = 0;
MPRINT(EM_DIAGRAM):   EducationBasic = 0;
2144098   +EducationGraduation = 0;
MPRINT(EM_DIAGRAM):   EducationGraduation = 0;
2144099   +EducationMaster = 0;
MPRINT(EM_DIAGRAM):   EducationMaster = 0;
2144100   +if missing( Education ) then do;
MPRINT(EM_DIAGRAM):   if missing( Education ) then do;
2144101   +   Education2n_Cycle = .;
MPRINT(EM_DIAGRAM):   Education2n_Cycle = .;
2144102   +   EducationBasic = .;
MPRINT(EM_DIAGRAM):   EducationBasic = .;
2144103   +   EducationGraduation = .;
MPRINT(EM_DIAGRAM):   EducationGraduation = .;
2144104   +   EducationMaster = .;
MPRINT(EM_DIAGRAM):   EducationMaster = .;
2144105   +   substr(_warn_,1,1) = 'M';
MPRINT(EM_DIAGRAM):   substr(_warn_,1,1) = 'M';
2144106   +   _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2144107   +end;
MPRINT(EM_DIAGRAM):   end;
2144108   +else do;
MPRINT(EM_DIAGRAM):   else do;
2144109   +   length _dm10 $ 10; drop _dm10 ;
MPRINT(EM_DIAGRAM):   length _dm10 $ 10;
MPRINT(EM_DIAGRAM):   drop _dm10 ;
2144110   +   _dm10 = put( Education , $10. );
MPRINT(EM_DIAGRAM):   _dm10 = put( Education , $10. );
2144111   +   %DMNORMIP( _dm10 )
MPRINT(DMNORMIP):   call dmnorm(_dm10,
MPRINT(DMNORLEN):  32
MPRINT(DMNORMIP):  );
2144112   +   if _dm10 = 'GRADUATION'  then do;
MPRINT(EM_DIAGRAM):   if _dm10 = 'GRADUATION' then do;
2144113   +      EducationGraduation = 1;
MPRINT(EM_DIAGRAM):   EducationGraduation = 1;
2144114   +   end;
MPRINT(EM_DIAGRAM):   end;
2144115   +   else if _dm10 = 'PHD'  then do;
MPRINT(EM_DIAGRAM):   else if _dm10 = 'PHD' then do;
2144116   +      Education2n_Cycle = -1;
MPRINT(EM_DIAGRAM):   Education2n_Cycle = -1;
2144117   +      EducationBasic = -1;
MPRINT(EM_DIAGRAM):   EducationBasic = -1;
2144118   +      EducationGraduation = -1;
MPRINT(EM_DIAGRAM):   EducationGraduation = -1;
2144119   +      EducationMaster = -1;
MPRINT(EM_DIAGRAM):   EducationMaster = -1;
2144120   +   end;
MPRINT(EM_DIAGRAM):   end;
2144121   +   else if _dm10 = 'MASTER'  then do;
MPRINT(EM_DIAGRAM):   else if _dm10 = 'MASTER' then do;
2144122   +      EducationMaster = 1;
MPRINT(EM_DIAGRAM):   EducationMaster = 1;
2144123   +   end;
MPRINT(EM_DIAGRAM):   end;
2144124   +   else if _dm10 = '2N CYCLE'  then do;
MPRINT(EM_DIAGRAM):   else if _dm10 = '2N CYCLE' then do;
2144125   +      Education2n_Cycle = 1;
MPRINT(EM_DIAGRAM):   Education2n_Cycle = 1;
2144126   +   end;
MPRINT(EM_DIAGRAM):   end;
2144127   +   else if _dm10 = 'BASIC'  then do;
MPRINT(EM_DIAGRAM):   else if _dm10 = 'BASIC' then do;
2144128   +      EducationBasic = 1;
MPRINT(EM_DIAGRAM):   EducationBasic = 1;
2144129   +   end;
MPRINT(EM_DIAGRAM):   end;
2144130   +   else do;
MPRINT(EM_DIAGRAM):   else do;
2144131   +      Education2n_Cycle = .;
MPRINT(EM_DIAGRAM):   Education2n_Cycle = .;
2144132   +      EducationBasic = .;
MPRINT(EM_DIAGRAM):   EducationBasic = .;
2144133   +      EducationGraduation = .;
MPRINT(EM_DIAGRAM):   EducationGraduation = .;
2144134   +      EducationMaster = .;
MPRINT(EM_DIAGRAM):   EducationMaster = .;
2144135   +      substr(_warn_,2,1) = 'U';
MPRINT(EM_DIAGRAM):   substr(_warn_,2,1) = 'U';
2144136   +      _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2144137   +   end;
MPRINT(EM_DIAGRAM):   end;
2144138   +end;
MPRINT(EM_DIAGRAM):   end;
2144139   +
2144140   +*** Generate dummy variables for Marital_Status ;
MPRINT(EM_DIAGRAM):   *** Generate dummy variables for Marital_Status ;
2144141   +drop Marital_StatusDivorced Marital_StatusMarried Marital_StatusSingle
2144142   +        Marital_StatusTogether ;
MPRINT(EM_DIAGRAM):   drop Marital_StatusDivorced Marital_StatusMarried Marital_StatusSingle 
Marital_StatusTogether ;
2144143   +*** encoding is sparse, initialize to zero;
MPRINT(EM_DIAGRAM):   *** encoding is sparse, initialize to zero;
2144144   +Marital_StatusDivorced = 0;
MPRINT(EM_DIAGRAM):   Marital_StatusDivorced = 0;
2144145   +Marital_StatusMarried = 0;
MPRINT(EM_DIAGRAM):   Marital_StatusMarried = 0;
2144146   +Marital_StatusSingle = 0;
MPRINT(EM_DIAGRAM):   Marital_StatusSingle = 0;
2144147   +Marital_StatusTogether = 0;
MPRINT(EM_DIAGRAM):   Marital_StatusTogether = 0;
2144148   +if missing( Marital_Status ) then do;
MPRINT(EM_DIAGRAM):   if missing( Marital_Status ) then do;
2144149   +   Marital_StatusDivorced = .;
MPRINT(EM_DIAGRAM):   Marital_StatusDivorced = .;
2144150   +   Marital_StatusMarried = .;
MPRINT(EM_DIAGRAM):   Marital_StatusMarried = .;
2144151   +   Marital_StatusSingle = .;
MPRINT(EM_DIAGRAM):   Marital_StatusSingle = .;
2144152   +   Marital_StatusTogether = .;
MPRINT(EM_DIAGRAM):   Marital_StatusTogether = .;
2144153   +   substr(_warn_,1,1) = 'M';
MPRINT(EM_DIAGRAM):   substr(_warn_,1,1) = 'M';
2144154   +   _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2144155   +end;
MPRINT(EM_DIAGRAM):   end;
2144156   +else do;
MPRINT(EM_DIAGRAM):   else do;
2144157   +   length _dm8 $ 8; drop _dm8 ;
MPRINT(EM_DIAGRAM):   length _dm8 $ 8;
MPRINT(EM_DIAGRAM):   drop _dm8 ;
2144158   +   _dm8 = put( Marital_Status , $8. );
MPRINT(EM_DIAGRAM):   _dm8 = put( Marital_Status , $8. );
2144159   +   %DMNORMIP( _dm8 )
MPRINT(DMNORMIP):   call dmnorm(_dm8,
MPRINT(DMNORLEN):  32
MPRINT(DMNORMIP):  );
2144160   +   _dm_find = 0; drop _dm_find;
MPRINT(EM_DIAGRAM):   _dm_find = 0;
MPRINT(EM_DIAGRAM):   drop _dm_find;
2144161   +   if _dm8 <= 'SINGLE'  then do;
MPRINT(EM_DIAGRAM):   if _dm8 <= 'SINGLE' then do;
2144162   +      if _dm8 <= 'MARRIED'  then do;
MPRINT(EM_DIAGRAM):   if _dm8 <= 'MARRIED' then do;
2144163   +         if _dm8 = 'DIVORCED'  then do;
MPRINT(EM_DIAGRAM):   if _dm8 = 'DIVORCED' then do;
2144164   +            Marital_StatusDivorced = 1;
MPRINT(EM_DIAGRAM):   Marital_StatusDivorced = 1;
2144165   +            _dm_find = 1;
MPRINT(EM_DIAGRAM):   _dm_find = 1;
2144166   +         end;
MPRINT(EM_DIAGRAM):   end;
2144167   +         else do;
MPRINT(EM_DIAGRAM):   else do;
2144168   +            if _dm8 = 'MARRIED'  then do;
MPRINT(EM_DIAGRAM):   if _dm8 = 'MARRIED' then do;
2144169   +               Marital_StatusMarried = 1;
MPRINT(EM_DIAGRAM):   Marital_StatusMarried = 1;
2144170   +               _dm_find = 1;
MPRINT(EM_DIAGRAM):   _dm_find = 1;
2144171   +            end;
MPRINT(EM_DIAGRAM):   end;
2144172   +         end;
MPRINT(EM_DIAGRAM):   end;
2144173   +      end;
MPRINT(EM_DIAGRAM):   end;
2144174   +      else do;
MPRINT(EM_DIAGRAM):   else do;
2144175   +         if _dm8 = 'SINGLE'  then do;
MPRINT(EM_DIAGRAM):   if _dm8 = 'SINGLE' then do;
2144176   +            Marital_StatusSingle = 1;
MPRINT(EM_DIAGRAM):   Marital_StatusSingle = 1;
2144177   +            _dm_find = 1;
MPRINT(EM_DIAGRAM):   _dm_find = 1;
2144178   +         end;
MPRINT(EM_DIAGRAM):   end;
2144179   +      end;
MPRINT(EM_DIAGRAM):   end;
2144180   +   end;
MPRINT(EM_DIAGRAM):   end;
2144181   +   else do;
MPRINT(EM_DIAGRAM):   else do;
2144182   +      if _dm8 = 'TOGETHER'  then do;
MPRINT(EM_DIAGRAM):   if _dm8 = 'TOGETHER' then do;
2144183   +         Marital_StatusTogether = 1;
MPRINT(EM_DIAGRAM):   Marital_StatusTogether = 1;
2144184   +         _dm_find = 1;
MPRINT(EM_DIAGRAM):   _dm_find = 1;
2144185   +      end;
MPRINT(EM_DIAGRAM):   end;
2144186   +      else do;
MPRINT(EM_DIAGRAM):   else do;
2144187   +         if _dm8 = 'WIDOW'  then do;
MPRINT(EM_DIAGRAM):   if _dm8 = 'WIDOW' then do;
2144188   +            Marital_StatusDivorced = -1;
MPRINT(EM_DIAGRAM):   Marital_StatusDivorced = -1;
2144189   +            Marital_StatusMarried = -1;
MPRINT(EM_DIAGRAM):   Marital_StatusMarried = -1;
2144190   +            Marital_StatusSingle = -1;
MPRINT(EM_DIAGRAM):   Marital_StatusSingle = -1;
2144191   +            Marital_StatusTogether = -1;
MPRINT(EM_DIAGRAM):   Marital_StatusTogether = -1;
2144192   +            _dm_find = 1;
MPRINT(EM_DIAGRAM):   _dm_find = 1;
2144193   +         end;
MPRINT(EM_DIAGRAM):   end;
2144194   +      end;
MPRINT(EM_DIAGRAM):   end;
2144195   +   end;
MPRINT(EM_DIAGRAM):   end;
2144196   +   if not _dm_find then do;
MPRINT(EM_DIAGRAM):   if not _dm_find then do;
2144197   +      Marital_StatusDivorced = .;
MPRINT(EM_DIAGRAM):   Marital_StatusDivorced = .;
2144198   +      Marital_StatusMarried = .;
MPRINT(EM_DIAGRAM):   Marital_StatusMarried = .;
2144199   +      Marital_StatusSingle = .;
MPRINT(EM_DIAGRAM):   Marital_StatusSingle = .;
2144200   +      Marital_StatusTogether = .;
MPRINT(EM_DIAGRAM):   Marital_StatusTogether = .;
2144201   +      substr(_warn_,2,1) = 'U';
MPRINT(EM_DIAGRAM):   substr(_warn_,2,1) = 'U';
2144202   +      _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2144203   +   end;
MPRINT(EM_DIAGRAM):   end;
2144204   +end;
MPRINT(EM_DIAGRAM):   end;
2144205   +
2144206   +*** *************************;
MPRINT(EM_DIAGRAM):   *** *************************;
2144207   +*** Checking missing input Interval
2144208   +*** *************************;
MPRINT(EM_DIAGRAM):   *** Checking missing input Interval *** *************************;
2144209   +
2144210   +IF NMISS(
2144211   +   AcceptedCmpTotal ,
2144212   +   Age ,
2144213   +   Frq ,
2144214   +   Income ,
2144215   +   Kidhome ,
2144216   +   MntFishProducts ,
2144217   +   MntFruits ,
2144218   +   MntGoldProds ,
2144219   +   MntSweetProducts ,
2144220   +   MonthsAsCustomer ,
2144221   +   NumDealsPurchases ,
2144222   +   NumWebVisitsMonth ,
2144223   +   RFMstat ,
2144224   +   RMntFrq ,
2144225   +   Recency ,
2144226   +   Teenhome   ) THEN DO;
MPRINT(EM_DIAGRAM):   IF NMISS( AcceptedCmpTotal , Age , Frq , Income , Kidhome , 
MntFishProducts , MntFruits , MntGoldProds , MntSweetProducts , MonthsAsCustomer , 
NumDealsPurchases , NumWebVisitsMonth , RFMstat , RMntFrq , Recency , Teenhome ) THEN DO;
2144227   +   SUBSTR(_WARN_, 1, 1) = 'M';
MPRINT(EM_DIAGRAM):   SUBSTR(_WARN_, 1, 1) = 'M';
2144228   +
2144229   +   _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2144230   +END;
MPRINT(EM_DIAGRAM):   END;
2144231   +*** *************************;
MPRINT(EM_DIAGRAM):   *** *************************;
2144232   +*** Writing the Node intvl ;
MPRINT(EM_DIAGRAM):   *** Writing the Node intvl ;
2144233   +*** *************************;
MPRINT(EM_DIAGRAM):   *** *************************;
2144234   +IF _DM_BAD EQ 0 THEN DO;
MPRINT(EM_DIAGRAM):   IF _DM_BAD EQ 0 THEN DO;
2144235   +   S_AcceptedCmpTotal  =    -0.46762909508827 +      1.4961610131261 *
2144236   +        AcceptedCmpTotal ;
MPRINT(EM_DIAGRAM):   S_AcceptedCmpTotal = -0.46762909508827 + 1.4961610131261 * 
AcceptedCmpTotal ;
2144237   +   S_Age  =    -3.91319138389466 +     0.08289609202857 * Age ;
MPRINT(EM_DIAGRAM):   S_Age = -3.91319138389466 + 0.08289609202857 * Age ;
2144238   +   S_Frq  =     -1.7674482809159 +     0.13966853800993 * Frq ;
MPRINT(EM_DIAGRAM):   S_Frq = -1.7674482809159 + 0.13966853800993 * Frq ;
2144239   +   S_Income  =    -2.48883438787018 +     0.00004789669836 * Income ;
MPRINT(EM_DIAGRAM):   S_Income = -2.48883438787018 + 0.00004789669836 * Income ;
2144240   +   S_Kidhome  =    -0.81505958668041 +     1.87132636245581 * Kidhome ;
MPRINT(EM_DIAGRAM):   S_Kidhome = -0.81505958668041 + 1.87132636245581 * Kidhome ;
2144241   +   S_MntFishProducts  =    -0.69884925989448 +     0.01914942799914 *
2144242   +        MntFishProducts ;
MPRINT(EM_DIAGRAM):   S_MntFishProducts = -0.69884925989448 + 0.01914942799914 * 
MntFishProducts ;
2144243   +   S_MntFruits  =    -0.68347542544545 +     0.02517057319714 * MntFruits ;
MPRINT(EM_DIAGRAM):   S_MntFruits = -0.68347542544545 + 0.02517057319714 * MntFruits ;
2144244   +   S_MntGoldProds  =     -0.8611213764608 +     0.01954474499711 *
2144245   +        MntGoldProds ;
MPRINT(EM_DIAGRAM):   S_MntGoldProds = -0.8611213764608 + 0.01954474499711 * MntGoldProds ;
2144246   +   S_MntSweetProducts  =    -0.69020047720885 +     0.02548703406327 *
2144247   +        MntSweetProducts ;
MPRINT(EM_DIAGRAM):   S_MntSweetProducts = -0.69020047720885 + 0.02548703406327 * 
MntSweetProducts ;
2144248   +   S_MonthsAsCustomer  =    -4.93133031507839 +     0.05900664899872 *
2144249   +        MonthsAsCustomer ;
MPRINT(EM_DIAGRAM):   S_MonthsAsCustomer = -4.93133031507839 + 0.05900664899872 * 
MonthsAsCustomer ;
2144250   +   S_NumDealsPurchases  =    -1.34788949552081 +     0.59766336614987 *
2144251   +        NumDealsPurchases ;
MPRINT(EM_DIAGRAM):   S_NumDealsPurchases = -1.34788949552081 + 0.59766336614987 * 
NumDealsPurchases ;
2144252   +   S_NumWebVisitsMonth  =    -2.24769875596018 +     0.42876953368015 *
2144253   +        NumWebVisitsMonth ;
MPRINT(EM_DIAGRAM):   S_NumWebVisitsMonth = -2.24769875596018 + 0.42876953368015 * 
NumWebVisitsMonth ;
2144254   +   S_RFMstat  =    -0.33944380186973 +     0.00063877635032 * RFMstat ;
MPRINT(EM_DIAGRAM):   S_RFMstat = -0.33944380186973 + 0.00063877635032 * RFMstat ;
2144255   +   S_RMntFrq  =    -1.25743573075922 +     0.03326204244626 * RMntFrq ;
MPRINT(EM_DIAGRAM):   S_RMntFrq = -1.25743573075922 + 0.03326204244626 * RMntFrq ;
2144256   +   S_Recency  =    -1.69222845719633 +     0.03469514083585 * Recency ;
MPRINT(EM_DIAGRAM):   S_Recency = -1.69222845719633 + 0.03469514083585 * Recency ;
2144257   +   S_Teenhome  =    -0.88382230606631 +     1.81661831567223 * Teenhome ;
MPRINT(EM_DIAGRAM):   S_Teenhome = -0.88382230606631 + 1.81661831567223 * Teenhome ;
2144258   +END;
MPRINT(EM_DIAGRAM):   END;
2144259   +ELSE DO;
MPRINT(EM_DIAGRAM):   ELSE DO;
2144260   +   IF MISSING( AcceptedCmpTotal ) THEN S_AcceptedCmpTotal  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( AcceptedCmpTotal ) THEN S_AcceptedCmpTotal = . ;
2144261   +   ELSE S_AcceptedCmpTotal  =    -0.46762909508827 +      1.4961610131261 *
2144262   +        AcceptedCmpTotal ;
MPRINT(EM_DIAGRAM):   ELSE S_AcceptedCmpTotal = -0.46762909508827 + 1.4961610131261 * 
AcceptedCmpTotal ;
2144263   +   IF MISSING( Age ) THEN S_Age  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( Age ) THEN S_Age = . ;
2144264   +   ELSE S_Age  =    -3.91319138389466 +     0.08289609202857 * Age ;
MPRINT(EM_DIAGRAM):   ELSE S_Age = -3.91319138389466 + 0.08289609202857 * Age ;
2144265   +   IF MISSING( Frq ) THEN S_Frq  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( Frq ) THEN S_Frq = . ;
2144266   +   ELSE S_Frq  =     -1.7674482809159 +     0.13966853800993 * Frq ;
MPRINT(EM_DIAGRAM):   ELSE S_Frq = -1.7674482809159 + 0.13966853800993 * Frq ;
2144267   +   IF MISSING( Income ) THEN S_Income  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( Income ) THEN S_Income = . ;
2144268   +   ELSE S_Income  =    -2.48883438787018 +     0.00004789669836 * Income ;
MPRINT(EM_DIAGRAM):   ELSE S_Income = -2.48883438787018 + 0.00004789669836 * Income ;
2144269   +   IF MISSING( Kidhome ) THEN S_Kidhome  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( Kidhome ) THEN S_Kidhome = . ;
2144270   +   ELSE S_Kidhome  =    -0.81505958668041 +     1.87132636245581 * Kidhome ;
MPRINT(EM_DIAGRAM):   ELSE S_Kidhome = -0.81505958668041 + 1.87132636245581 * Kidhome ;
2144271   +   IF MISSING( MntFishProducts ) THEN S_MntFishProducts  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( MntFishProducts ) THEN S_MntFishProducts = . ;
2144272   +   ELSE S_MntFishProducts  =    -0.69884925989448 +     0.01914942799914 *
2144273   +        MntFishProducts ;
MPRINT(EM_DIAGRAM):   ELSE S_MntFishProducts = -0.69884925989448 + 0.01914942799914 * 
MntFishProducts ;
2144274   +   IF MISSING( MntFruits ) THEN S_MntFruits  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( MntFruits ) THEN S_MntFruits = . ;
2144275   +   ELSE S_MntFruits  =    -0.68347542544545 +     0.02517057319714 * MntFruits
2144276   +         ;
MPRINT(EM_DIAGRAM):   ELSE S_MntFruits = -0.68347542544545 + 0.02517057319714 * MntFruits ;
2144277   +   IF MISSING( MntGoldProds ) THEN S_MntGoldProds  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( MntGoldProds ) THEN S_MntGoldProds = . ;
2144278   +   ELSE S_MntGoldProds  =     -0.8611213764608 +     0.01954474499711 *
2144279   +        MntGoldProds ;
MPRINT(EM_DIAGRAM):   ELSE S_MntGoldProds = -0.8611213764608 + 0.01954474499711 * MntGoldProds 
;
2144280   +   IF MISSING( MntSweetProducts ) THEN S_MntSweetProducts  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( MntSweetProducts ) THEN S_MntSweetProducts = . ;
2144281   +   ELSE S_MntSweetProducts  =    -0.69020047720885 +     0.02548703406327 *
2144282   +        MntSweetProducts ;
MPRINT(EM_DIAGRAM):   ELSE S_MntSweetProducts = -0.69020047720885 + 0.02548703406327 * 
MntSweetProducts ;
2144283   +   IF MISSING( MonthsAsCustomer ) THEN S_MonthsAsCustomer  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( MonthsAsCustomer ) THEN S_MonthsAsCustomer = . ;
2144284   +   ELSE S_MonthsAsCustomer  =    -4.93133031507839 +     0.05900664899872 *
2144285   +        MonthsAsCustomer ;
MPRINT(EM_DIAGRAM):   ELSE S_MonthsAsCustomer = -4.93133031507839 + 0.05900664899872 * 
MonthsAsCustomer ;
2144286   +   IF MISSING( NumDealsPurchases ) THEN S_NumDealsPurchases  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( NumDealsPurchases ) THEN S_NumDealsPurchases = . ;
2144287   +   ELSE S_NumDealsPurchases  =    -1.34788949552081 +     0.59766336614987 *
2144288   +        NumDealsPurchases ;
MPRINT(EM_DIAGRAM):   ELSE S_NumDealsPurchases = -1.34788949552081 + 0.59766336614987 * 
NumDealsPurchases ;
2144289   +   IF MISSING( NumWebVisitsMonth ) THEN S_NumWebVisitsMonth  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( NumWebVisitsMonth ) THEN S_NumWebVisitsMonth = . ;
2144290   +   ELSE S_NumWebVisitsMonth  =    -2.24769875596018 +     0.42876953368015 *
2144291   +        NumWebVisitsMonth ;
MPRINT(EM_DIAGRAM):   ELSE S_NumWebVisitsMonth = -2.24769875596018 + 0.42876953368015 * 
NumWebVisitsMonth ;
2144292   +   IF MISSING( RFMstat ) THEN S_RFMstat  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( RFMstat ) THEN S_RFMstat = . ;
2144293   +   ELSE S_RFMstat  =    -0.33944380186973 +     0.00063877635032 * RFMstat ;
MPRINT(EM_DIAGRAM):   ELSE S_RFMstat = -0.33944380186973 + 0.00063877635032 * RFMstat ;
2144294   +   IF MISSING( RMntFrq ) THEN S_RMntFrq  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( RMntFrq ) THEN S_RMntFrq = . ;
2144295   +   ELSE S_RMntFrq  =    -1.25743573075922 +     0.03326204244626 * RMntFrq ;
MPRINT(EM_DIAGRAM):   ELSE S_RMntFrq = -1.25743573075922 + 0.03326204244626 * RMntFrq ;
2144296   +   IF MISSING( Recency ) THEN S_Recency  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( Recency ) THEN S_Recency = . ;
2144297   +   ELSE S_Recency  =    -1.69222845719633 +     0.03469514083585 * Recency ;
MPRINT(EM_DIAGRAM):   ELSE S_Recency = -1.69222845719633 + 0.03469514083585 * Recency ;
2144298   +   IF MISSING( Teenhome ) THEN S_Teenhome  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( Teenhome ) THEN S_Teenhome = . ;
2144299   +   ELSE S_Teenhome  =    -0.88382230606631 +     1.81661831567223 * Teenhome ;
MPRINT(EM_DIAGRAM):   ELSE S_Teenhome = -0.88382230606631 + 1.81661831567223 * Teenhome ;
2144300   +END;
MPRINT(EM_DIAGRAM):   END;
2144301   +*** *************************;
MPRINT(EM_DIAGRAM):   *** *************************;
2144302   +*** Writing the Node bin ;
MPRINT(EM_DIAGRAM):   *** Writing the Node bin ;
2144303   +*** *************************;
MPRINT(EM_DIAGRAM):   *** *************************;
2144304   +*** *************************;
MPRINT(EM_DIAGRAM):   *** *************************;
2144305   +*** Writing the Node nom ;
MPRINT(EM_DIAGRAM):   *** Writing the Node nom ;
2144306   +*** *************************;
MPRINT(EM_DIAGRAM):   *** *************************;
2144307   +*** *************************;
MPRINT(EM_DIAGRAM):   *** *************************;
2144308   +*** Writing the Node H1 ;
MPRINT(EM_DIAGRAM):   *** Writing the Node H1 ;
2144309   +*** *************************;
MPRINT(EM_DIAGRAM):   *** *************************;
2144310   +IF _DM_BAD EQ 0 THEN DO;
MPRINT(EM_DIAGRAM):   IF _DM_BAD EQ 0 THEN DO;
2144311   +   H11  =    -0.59455727552731 * S_AcceptedCmpTotal  +    -0.08167191943092 *
2144312   +        S_Age  +     0.34904063109008 * S_Frq  +     0.08433673871857 *
2144313   +        S_Income  +     0.23959806833358 * S_Kidhome
2144314   +          +    -0.01518037416881 * S_MntFishProducts
2144315   +          +     0.10484256743602 * S_MntFruits  +     0.18738600021461 *
2144316   +        S_MntGoldProds  +     0.12927048058846 * S_MntSweetProducts
2144317   +          +    -0.27670454990341 * S_MonthsAsCustomer
2144318   +          +    -0.57117018330921 * S_NumDealsPurchases
2144319   +          +    -0.36419456228524 * S_NumWebVisitsMonth
2144320   +          +    -0.07695281325888 * S_RFMstat  +     0.26913561397665 *
2144321   +        S_RMntFrq  +     0.69534731451792 * S_Recency
2144322   +          +     0.12556011393839 * S_Teenhome ;
MPRINT(EM_DIAGRAM):   H11 = -0.59455727552731 * S_AcceptedCmpTotal + -0.08167191943092 * S_Age 
+ 0.34904063109008 * S_Frq + 0.08433673871857 * S_Income + 0.23959806833358 * S_Kidhome + 
-0.01518037416881 * S_MntFishProducts + 0.10484256743602 * S_MntFruits + 0.18738600021461 * 
S_MntGoldProds + 0.12927048058846 * S_MntSweetProducts + -0.27670454990341 * 
S_MonthsAsCustomer + -0.57117018330921 * S_NumDealsPurchases + -0.36419456228524 * 
S_NumWebVisitsMonth + -0.07695281325888 * S_RFMstat + 0.26913561397665 * S_RMntFrq + 
0.69534731451792 * S_Recency + 0.12556011393839 * S_Teenhome ;
2144323   +   H12  =    -0.18355037756752 * S_AcceptedCmpTotal  +     0.50880964309834 *
2144324   +        S_Age  +     0.98855915357544 * S_Frq  +     0.36315803091135 *
2144325   +        S_Income  +      0.0790487270089 * S_Kidhome
2144326   +          +    -0.20277009052533 * S_MntFishProducts
2144327   +          +     0.02639378411424 * S_MntFruits  +    -0.05188435065088 *
2144328   +        S_MntGoldProds  +    -0.37906951561993 * S_MntSweetProducts
2144329   +          +     0.29927988116433 * S_MonthsAsCustomer
2144330   +          +    -0.50520073910306 * S_NumDealsPurchases
2144331   +          +    -0.73222137406072 * S_NumWebVisitsMonth
2144332   +          +    -0.21742553055925 * S_RFMstat  +    -0.50891089702382 *
2144333   +        S_RMntFrq  +      1.0541732913714 * S_Recency
2144334   +          +    -0.19121741055236 * S_Teenhome ;
MPRINT(EM_DIAGRAM):   H12 = -0.18355037756752 * S_AcceptedCmpTotal + 0.50880964309834 * S_Age 
+ 0.98855915357544 * S_Frq + 0.36315803091135 * S_Income + 0.0790487270089 * S_Kidhome + 
-0.20277009052533 * S_MntFishProducts + 0.02639378411424 * S_MntFruits + -0.05188435065088 * 
S_MntGoldProds + -0.37906951561993 * S_MntSweetProducts + 0.29927988116433 * 
S_MonthsAsCustomer + -0.50520073910306 * S_NumDealsPurchases + -0.73222137406072 * 
S_NumWebVisitsMonth + -0.21742553055925 * S_RFMstat + -0.50891089702382 * S_RMntFrq + 
1.0541732913714 * S_Recency + -0.19121741055236 * S_Teenhome ;
2144335   +   H13  =    -0.47520371973992 * S_AcceptedCmpTotal  +    -0.17643530808934 *
2144336   +        S_Age  +    -0.02342355849303 * S_Frq  +    -0.76780370828396 *
2144337   +        S_Income  +    -0.64136231731673 * S_Kidhome
2144338   +          +     0.21288725603028 * S_MntFishProducts
2144339   +          +    -0.07945341031035 * S_MntFruits  +    -0.37983532218736 *
2144340   +        S_MntGoldProds  +      0.0246071335741 * S_MntSweetProducts
2144341   +          +     -0.0690174805795 * S_MonthsAsCustomer
2144342   +          +    -0.30254439479517 * S_NumDealsPurchases
2144343   +          +    -0.57976591777746 * S_NumWebVisitsMonth
2144344   +          +    -0.08986007311299 * S_RFMstat  +    -0.21859201021696 *
2144345   +        S_RMntFrq  +     0.80196185579181 * S_Recency
2144346   +          +     0.34243610231239 * S_Teenhome ;
MPRINT(EM_DIAGRAM):   H13 = -0.47520371973992 * S_AcceptedCmpTotal + -0.17643530808934 * S_Age 
+ -0.02342355849303 * S_Frq + -0.76780370828396 * S_Income + -0.64136231731673 * S_Kidhome + 
0.21288725603028 * S_MntFishProducts + -0.07945341031035 * S_MntFruits + -0.37983532218736 * 
S_MntGoldProds + 0.0246071335741 * S_MntSweetProducts + -0.0690174805795 * S_MonthsAsCustomer 
+ -0.30254439479517 * S_NumDealsPurchases + -0.57976591777746 * S_NumWebVisitsMonth + 
-0.08986007311299 * S_RFMstat + -0.21859201021696 * S_RMntFrq + 0.80196185579181 * S_Recency + 
0.34243610231239 * S_Teenhome ;
2144347   +   H14  =    -0.11942815753227 * S_AcceptedCmpTotal  +     0.09419423122981 *
2144348   +        S_Age  +    -0.58989090056574 * S_Frq  +    -0.97241848188885 *
2144349   +        S_Income  +     0.66642589823561 * S_Kidhome
2144350   +          +    -0.02898422978622 * S_MntFishProducts
2144351   +          +      0.2190266457824 * S_MntFruits  +     0.03869102340694 *
2144352   +        S_MntGoldProds  +     0.27016627270688 * S_MntSweetProducts
2144353   +          +     -0.1522807134985 * S_MonthsAsCustomer
2144354   +          +     0.23369239293049 * S_NumDealsPurchases
2144355   +          +     0.14730037601616 * S_NumWebVisitsMonth
2144356   +          +    -0.03493628078299 * S_RFMstat  +    -0.29981204072854 *
2144357   +        S_RMntFrq  +     0.72995078547996 * S_Recency
2144358   +          +     0.51545897916716 * S_Teenhome ;
MPRINT(EM_DIAGRAM):   H14 = -0.11942815753227 * S_AcceptedCmpTotal + 0.09419423122981 * S_Age 
+ -0.58989090056574 * S_Frq + -0.97241848188885 * S_Income + 0.66642589823561 * S_Kidhome + 
-0.02898422978622 * S_MntFishProducts + 0.2190266457824 * S_MntFruits + 0.03869102340694 * 
S_MntGoldProds + 0.27016627270688 * S_MntSweetProducts + -0.1522807134985 * S_MonthsAsCustomer 
+ 0.23369239293049 * S_NumDealsPurchases + 0.14730037601616 * S_NumWebVisitsMonth + 
-0.03493628078299 * S_RFMstat + -0.29981204072854 * S_RMntFrq + 0.72995078547996 * S_Recency + 
0.51545897916716 * S_Teenhome ;
2144359   +   H11  = H11  +     0.21532563526921 * AcceptedCmp10
2144360   +          +     0.04617627623677 * AcceptedCmp20  +     0.18097818457801 *
2144361   +        AcceptedCmp30  +     0.02250864169523 * AcceptedCmp40
2144362   +          +     0.57128562538825 * AcceptedCmp50  +    -0.13476267382061 *
2144363   +        Complain0  +     0.04848312577533 * HigherEducationBinary0 ;
MPRINT(EM_DIAGRAM):   H11 = H11 + 0.21532563526921 * AcceptedCmp10 + 0.04617627623677 * 
AcceptedCmp20 + 0.18097818457801 * AcceptedCmp30 + 0.02250864169523 * AcceptedCmp40 + 
0.57128562538825 * AcceptedCmp50 + -0.13476267382061 * Complain0 + 0.04848312577533 * 
HigherEducationBinary0 ;
2144364   +   H12  = H12  +     0.49790938305741 * AcceptedCmp10
2144365   +          +        0.28100162725 * AcceptedCmp20  +     0.53516835657705 *
2144366   +        AcceptedCmp30  +      0.2731055683853 * AcceptedCmp40
2144367   +          +     0.08872244973216 * AcceptedCmp50  +    -0.14524762871188 *
2144368   +        Complain0  +     0.13433570395362 * HigherEducationBinary0 ;
MPRINT(EM_DIAGRAM):   H12 = H12 + 0.49790938305741 * AcceptedCmp10 + 0.28100162725 * 
AcceptedCmp20 + 0.53516835657705 * AcceptedCmp30 + 0.2731055683853 * AcceptedCmp40 + 
0.08872244973216 * AcceptedCmp50 + -0.14524762871188 * Complain0 + 0.13433570395362 * 
HigherEducationBinary0 ;
2144369   +   H13  = H13  +     0.09295121106092 * AcceptedCmp10
2144370   +          +     0.03551087675679 * AcceptedCmp20  +     0.48068530009647 *
2144371   +        AcceptedCmp30  +     -0.7573607772958 * AcceptedCmp40
2144372   +          +     0.44431160694171 * AcceptedCmp50  +    -0.28053968379046 *
2144373   +        Complain0  +     0.08868233512421 * HigherEducationBinary0 ;
MPRINT(EM_DIAGRAM):   H13 = H13 + 0.09295121106092 * AcceptedCmp10 + 0.03551087675679 * 
AcceptedCmp20 + 0.48068530009647 * AcceptedCmp30 + -0.7573607772958 * AcceptedCmp40 + 
0.44431160694171 * AcceptedCmp50 + -0.28053968379046 * Complain0 + 0.08868233512421 * 
HigherEducationBinary0 ;
2144374   +   H14  = H14  +     0.19910269634608 * AcceptedCmp10
2144375   +          +     0.11664271215883 * AcceptedCmp20  +     0.29519310368658 *
2144376   +        AcceptedCmp30  +     0.50294025882261 * AcceptedCmp40
2144377   +          +    -0.13765389029233 * AcceptedCmp50  +     0.25128367938074 *
2144378   +        Complain0  +    -0.46697322419144 * HigherEducationBinary0 ;
MPRINT(EM_DIAGRAM):   H14 = H14 + 0.19910269634608 * AcceptedCmp10 + 0.11664271215883 * 
AcceptedCmp20 + 0.29519310368658 * AcceptedCmp30 + 0.50294025882261 * AcceptedCmp40 + 
-0.13765389029233 * AcceptedCmp50 + 0.25128367938074 * Complain0 + -0.46697322419144 * 
HigherEducationBinary0 ;
2144379   +   H11  = H11  +     -0.1475625455323 * Education2n_Cycle
2144380   +          +     0.01119870242835 * EducationBasic  +    -0.05699503612035 *
2144381   +        EducationGraduation  +    -0.03551408731462 * EducationMaster
2144382   +          +     0.05796662179857 * Marital_StatusDivorced
2144383   +          +    -0.08181120425686 * Marital_StatusMarried
2144384   +          +      0.4284636120807 * Marital_StatusSingle
2144385   +          +     0.39673224936003 * Marital_StatusTogether ;
MPRINT(EM_DIAGRAM):   H11 = H11 + -0.1475625455323 * Education2n_Cycle + 0.01119870242835 * 
EducationBasic + -0.05699503612035 * EducationGraduation + -0.03551408731462 * EducationMaster 
+ 0.05796662179857 * Marital_StatusDivorced + -0.08181120425686 * Marital_StatusMarried + 
0.4284636120807 * Marital_StatusSingle + 0.39673224936003 * Marital_StatusTogether ;
2144386   +   H12  = H12  +     0.29455368575629 * Education2n_Cycle
2144387   +          +    -0.01641080294584 * EducationBasic  +    -0.10263336811703 *
2144388   +        EducationGraduation  +    -0.14981964719806 * EducationMaster
2144389   +          +    -0.13203345238763 * Marital_StatusDivorced
2144390   +          +     0.10923067927942 * Marital_StatusMarried
2144391   +          +     0.02213145916128 * Marital_StatusSingle
2144392   +          +     0.13743874933445 * Marital_StatusTogether ;
MPRINT(EM_DIAGRAM):   H12 = H12 + 0.29455368575629 * Education2n_Cycle + -0.01641080294584 * 
EducationBasic + -0.10263336811703 * EducationGraduation + -0.14981964719806 * EducationMaster 
+ -0.13203345238763 * Marital_StatusDivorced + 0.10923067927942 * Marital_StatusMarried + 
0.02213145916128 * Marital_StatusSingle + 0.13743874933445 * Marital_StatusTogether ;
2144393   +   H13  = H13  +     0.01805834793656 * Education2n_Cycle
2144394   +          +     0.42785728964985 * EducationBasic  +    -0.32070493640323 *
2144395   +        EducationGraduation  +     0.06311193021026 * EducationMaster
2144396   +          +    -0.22903332135187 * Marital_StatusDivorced
2144397   +          +     0.12718454820375 * Marital_StatusMarried
2144398   +          +    -0.33610403764223 * Marital_StatusSingle
2144399   +          +     -0.1600429716422 * Marital_StatusTogether ;
MPRINT(EM_DIAGRAM):   H13 = H13 + 0.01805834793656 * Education2n_Cycle + 0.42785728964985 * 
EducationBasic + -0.32070493640323 * EducationGraduation + 0.06311193021026 * EducationMaster 
+ -0.22903332135187 * Marital_StatusDivorced + 0.12718454820375 * Marital_StatusMarried + 
-0.33610403764223 * Marital_StatusSingle + -0.1600429716422 * Marital_StatusTogether ;
2144400   +   H14  = H14  +    -0.14389790536326 * Education2n_Cycle
2144401   +          +      0.1160422333785 * EducationBasic  +    -0.22913940929096 *
2144402   +        EducationGraduation  +     0.25383554942249 * EducationMaster
2144403   +          +    -0.20380298917683 * Marital_StatusDivorced
2144404   +          +     1.08032097869696 * Marital_StatusMarried
2144405   +          +    -0.79644537171645 * Marital_StatusSingle
2144406   +          +     0.87920058104376 * Marital_StatusTogether ;
MPRINT(EM_DIAGRAM):   H14 = H14 + -0.14389790536326 * Education2n_Cycle + 0.1160422333785 * 
EducationBasic + -0.22913940929096 * EducationGraduation + 0.25383554942249 * EducationMaster 
+ -0.20380298917683 * Marital_StatusDivorced + 1.08032097869696 * Marital_StatusMarried + 
-0.79644537171645 * Marital_StatusSingle + 0.87920058104376 * Marital_StatusTogether ;
2144407   +   H11  =     0.69018111185452 + H11 ;
MPRINT(EM_DIAGRAM):   H11 = 0.69018111185452 + H11 ;
2144408   +   H12  =     0.88319279467723 + H12 ;
MPRINT(EM_DIAGRAM):   H12 = 0.88319279467723 + H12 ;
2144409   +   H13  =    -0.22379946661781 + H13 ;
MPRINT(EM_DIAGRAM):   H13 = -0.22379946661781 + H13 ;
2144410   +   H14  =      1.5443460617033 + H14 ;
MPRINT(EM_DIAGRAM):   H14 = 1.5443460617033 + H14 ;
2144411   +   H11  = TANH(H11 );
MPRINT(EM_DIAGRAM):   H11 = TANH(H11 );
2144412   +   H12  = TANH(H12 );
MPRINT(EM_DIAGRAM):   H12 = TANH(H12 );
2144413   +   H13  = TANH(H13 );
MPRINT(EM_DIAGRAM):   H13 = TANH(H13 );
2144414   +   H14  = TANH(H14 );
MPRINT(EM_DIAGRAM):   H14 = TANH(H14 );
2144415   +END;
MPRINT(EM_DIAGRAM):   END;
2144416   +ELSE DO;
MPRINT(EM_DIAGRAM):   ELSE DO;
2144417   +   H11  = .;
MPRINT(EM_DIAGRAM):   H11 = .;
2144418   +   H12  = .;
MPRINT(EM_DIAGRAM):   H12 = .;
2144419   +   H13  = .;
MPRINT(EM_DIAGRAM):   H13 = .;
2144420   +   H14  = .;
MPRINT(EM_DIAGRAM):   H14 = .;
2144421   +END;
MPRINT(EM_DIAGRAM):   END;
2144422   +*** *************************;
MPRINT(EM_DIAGRAM):   *** *************************;
2144423   +*** Writing the Node DepVar ;
MPRINT(EM_DIAGRAM):   *** Writing the Node DepVar ;
2144424   +*** *************************;
MPRINT(EM_DIAGRAM):   *** *************************;
2144425   +
2144426   +*** Generate dummy variables for DepVar ;
MPRINT(EM_DIAGRAM):   *** Generate dummy variables for DepVar ;
2144427   +drop DepVar1 DepVar0 ;
MPRINT(EM_DIAGRAM):   drop DepVar1 DepVar0 ;
2144428   +label F_DepVar = 'From: DepVar' ;
MPRINT(EM_DIAGRAM):   label F_DepVar = 'From: DepVar' ;
2144429   +length F_DepVar $ 12;
MPRINT(EM_DIAGRAM):   length F_DepVar $ 12;
2144430   +F_DepVar = put( DepVar , BEST. );
MPRINT(EM_DIAGRAM):   F_DepVar = put( DepVar , BEST. );
2144431   +%DMNORMIP( F_DepVar )
MPRINT(DMNORMIP):   call dmnorm(F_DepVar,
MPRINT(DMNORLEN):  32
MPRINT(DMNORMIP):  );
2144432   +if missing( DepVar ) then do;
MPRINT(EM_DIAGRAM):   if missing( DepVar ) then do;
2144433   +   DepVar1 = .;
MPRINT(EM_DIAGRAM):   DepVar1 = .;
2144434   +   DepVar0 = .;
MPRINT(EM_DIAGRAM):   DepVar0 = .;
2144435   +end;
MPRINT(EM_DIAGRAM):   end;
2144436   +else do;
MPRINT(EM_DIAGRAM):   else do;
2144437   +   if F_DepVar = '0'  then do;
MPRINT(EM_DIAGRAM):   if F_DepVar = '0' then do;
2144438   +      DepVar1 = 0;
MPRINT(EM_DIAGRAM):   DepVar1 = 0;
2144439   +      DepVar0 = 1;
MPRINT(EM_DIAGRAM):   DepVar0 = 1;
2144440   +   end;
MPRINT(EM_DIAGRAM):   end;
2144441   +   else if F_DepVar = '1'  then do;
MPRINT(EM_DIAGRAM):   else if F_DepVar = '1' then do;
2144442   +      DepVar1 = 1;
MPRINT(EM_DIAGRAM):   DepVar1 = 1;
2144443   +      DepVar0 = 0;
MPRINT(EM_DIAGRAM):   DepVar0 = 0;
2144444   +   end;
MPRINT(EM_DIAGRAM):   end;
2144445   +   else do;
MPRINT(EM_DIAGRAM):   else do;
2144446   +      DepVar1 = .;
MPRINT(EM_DIAGRAM):   DepVar1 = .;
2144447   +      DepVar0 = .;
MPRINT(EM_DIAGRAM):   DepVar0 = .;
2144448   +   end;
MPRINT(EM_DIAGRAM):   end;
2144449   +end;
MPRINT(EM_DIAGRAM):   end;
2144450   +IF _DM_BAD EQ 0 THEN DO;
MPRINT(EM_DIAGRAM):   IF _DM_BAD EQ 0 THEN DO;
2144451   +   P_DepVar1  =      -1.051307515754 * H11  +    -1.81265117956856 * H12
2144452   +          +    -2.69912557985855 * H13  +    -2.43296856252593 * H14 ;
MPRINT(EM_DIAGRAM):   P_DepVar1 = -1.051307515754 * H11 + -1.81265117956856 * H12 + 
-2.69912557985855 * H13 + -2.43296856252593 * H14 ;
2144453   +   P_DepVar1  =    -0.88296375077361 + P_DepVar1 ;
MPRINT(EM_DIAGRAM):   P_DepVar1 = -0.88296375077361 + P_DepVar1 ;
2144454   +   P_DepVar0  = 0;
MPRINT(EM_DIAGRAM):   P_DepVar0 = 0;
2144455   +   _MAX_ = MAX (P_DepVar1 , P_DepVar0 );
MPRINT(EM_DIAGRAM):   _MAX_ = MAX (P_DepVar1 , P_DepVar0 );
2144456   +   _SUM_ = 0.;
MPRINT(EM_DIAGRAM):   _SUM_ = 0.;
2144457   +   P_DepVar1  = EXP(P_DepVar1  - _MAX_);
MPRINT(EM_DIAGRAM):   P_DepVar1 = EXP(P_DepVar1 - _MAX_);
2144458   +   _SUM_ = _SUM_ + P_DepVar1 ;
MPRINT(EM_DIAGRAM):   _SUM_ = _SUM_ + P_DepVar1 ;
2144459   +   P_DepVar0  = EXP(P_DepVar0  - _MAX_);
MPRINT(EM_DIAGRAM):   P_DepVar0 = EXP(P_DepVar0 - _MAX_);
2144460   +   _SUM_ = _SUM_ + P_DepVar0 ;
MPRINT(EM_DIAGRAM):   _SUM_ = _SUM_ + P_DepVar0 ;
2144461   +   P_DepVar1  = P_DepVar1  / _SUM_;
MPRINT(EM_DIAGRAM):   P_DepVar1 = P_DepVar1 / _SUM_;
2144462   +   P_DepVar0  = P_DepVar0  / _SUM_;
MPRINT(EM_DIAGRAM):   P_DepVar0 = P_DepVar0 / _SUM_;
2144463   +END;
MPRINT(EM_DIAGRAM):   END;
2144464   +ELSE DO;
MPRINT(EM_DIAGRAM):   ELSE DO;
2144465   +   P_DepVar1  = .;
MPRINT(EM_DIAGRAM):   P_DepVar1 = .;
2144466   +   P_DepVar0  = .;
MPRINT(EM_DIAGRAM):   P_DepVar0 = .;
2144467   +END;
MPRINT(EM_DIAGRAM):   END;
2144468   +IF _DM_BAD EQ 1 THEN DO;
MPRINT(EM_DIAGRAM):   IF _DM_BAD EQ 1 THEN DO;
2144469   +   P_DepVar1  =     0.15122156697556;
MPRINT(EM_DIAGRAM):   P_DepVar1 = 0.15122156697556;
2144470   +   P_DepVar0  =     0.84877843302443;
MPRINT(EM_DIAGRAM):   P_DepVar0 = 0.84877843302443;
2144471   +END;
MPRINT(EM_DIAGRAM):   END;
2144472   +*** *****************************;
MPRINT(EM_DIAGRAM):   *** *****************************;
2144473   +*** Writing the Residuals  of the Node DepVar ;
MPRINT(EM_DIAGRAM):   *** Writing the Residuals of the Node DepVar ;
2144474   +*** ******************************;
MPRINT(EM_DIAGRAM):   *** ******************************;
2144475   +IF MISSING( DepVar1 ) THEN R_DepVar1  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( DepVar1 ) THEN R_DepVar1 = . ;
2144476   +ELSE R_DepVar1  = DepVar1  - P_DepVar1 ;
MPRINT(EM_DIAGRAM):   ELSE R_DepVar1 = DepVar1 - P_DepVar1 ;
2144477   +IF MISSING( DepVar0 ) THEN R_DepVar0  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( DepVar0 ) THEN R_DepVar0 = . ;
2144478   +ELSE R_DepVar0  = DepVar0  - P_DepVar0 ;
MPRINT(EM_DIAGRAM):   ELSE R_DepVar0 = DepVar0 - P_DepVar0 ;
2144479   +*** *************************;
MPRINT(EM_DIAGRAM):   *** *************************;
2144480   +*** Writing the I_DepVar  AND U_DepVar ;
MPRINT(EM_DIAGRAM):   *** Writing the I_DepVar AND U_DepVar ;
2144481   +*** *************************;
MPRINT(EM_DIAGRAM):   *** *************************;
2144482   +_MAXP_ = P_DepVar1 ;
MPRINT(EM_DIAGRAM):   _MAXP_ = P_DepVar1 ;
2144483   +I_DepVar  = "1           " ;
MPRINT(EM_DIAGRAM):   I_DepVar = "1           " ;
2144484   +U_DepVar  =                    1;
MPRINT(EM_DIAGRAM):   U_DepVar = 1;
2144485   +IF( _MAXP_ LT P_DepVar0  ) THEN DO;
MPRINT(EM_DIAGRAM):   IF( _MAXP_ LT P_DepVar0 ) THEN DO;
2144486   +   _MAXP_ = P_DepVar0 ;
MPRINT(EM_DIAGRAM):   _MAXP_ = P_DepVar0 ;
2144487   +   I_DepVar  = "0           " ;
MPRINT(EM_DIAGRAM):   I_DepVar = "0           " ;
2144488   +   U_DepVar  =                    0;
MPRINT(EM_DIAGRAM):   U_DepVar = 0;
2144489   +END;
MPRINT(EM_DIAGRAM):   END;
2144490   +********************************;
MPRINT(EM_DIAGRAM):   ********************************;
2144491   +*** End Scoring Code for Neural;
MPRINT(EM_DIAGRAM):   *** End Scoring Code for Neural;
2144492   +********************************;
MPRINT(EM_DIAGRAM):   ********************************;
2144493   +drop
2144494   +H11
2144495   +H12
2144496   +H13
2144497   +H14
2144498   +;
MPRINT(EM_DIAGRAM):   drop H11 H12 H13 H14 ;
2144499   +drop S_:;
MPRINT(EM_DIAGRAM):   drop S_:;
2144500   +* Renaming variables for Neural39;
MPRINT(EM_DIAGRAM):   * Renaming variables for Neural39;
2144501   +*------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
2144502   +* Renaming Posterior variables for Neural39;
MPRINT(EM_DIAGRAM):   * Renaming Posterior variables for Neural39;
2144503   +*------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
2144504   +drop Neural39_P_DepVar1;
MPRINT(EM_DIAGRAM):   drop Neural39_P_DepVar1;
2144505   +Neural39_P_DepVar1 = P_DepVar1;
MPRINT(EM_DIAGRAM):   Neural39_P_DepVar1 = P_DepVar1;
2144506   +drop Neural39_P_DepVar0;
MPRINT(EM_DIAGRAM):   drop Neural39_P_DepVar0;
2144507   +Neural39_P_DepVar0 = P_DepVar0;
MPRINT(EM_DIAGRAM):   Neural39_P_DepVar0 = P_DepVar0;
2144508   +*------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
2144509   +* Renaming _WARN_ variable for Neural39;
MPRINT(EM_DIAGRAM):   * Renaming _WARN_ variable for Neural39;
2144510   +*------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
2144511   +length Neural39_WARN_ $4;
MPRINT(EM_DIAGRAM):   length Neural39_WARN_ $4;
2144512   +drop Neural39_WARN_;
MPRINT(EM_DIAGRAM):   drop Neural39_WARN_;
2144513   +Neural39_WARN_ = _WARN_;
MPRINT(EM_DIAGRAM):   Neural39_WARN_ = _WARN_;
2144514   +*------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
2144515   +* Ensmbl23: Scoring Code of model 4 of 5;
MPRINT(EM_DIAGRAM):   * Ensmbl23: Scoring Code of model 4 of 5;
2144516   +*------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
2144517   +*------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
2144518   +* TOOL: Neural;
MPRINT(EM_DIAGRAM):   * TOOL: Neural;
2144519   +* TYPE: MODEL;
MPRINT(EM_DIAGRAM):   * TYPE: MODEL;
2144520   +* NODE: Neural38;
MPRINT(EM_DIAGRAM):   * NODE: Neural38;
2144521   +*------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
2144522   +***********************************;
MPRINT(EM_DIAGRAM):   ***********************************;
2144523   +*** Begin Scoring Code for Neural;
MPRINT(EM_DIAGRAM):   *** Begin Scoring Code for Neural;
2144524   +***********************************;
MPRINT(EM_DIAGRAM):   ***********************************;
2144525   +DROP _DM_BAD _EPS _NOCL_ _MAX_ _MAXP_ _SUM_ _NTRIALS;
MPRINT(EM_DIAGRAM):   DROP _DM_BAD _EPS _NOCL_ _MAX_ _MAXP_ _SUM_ _NTRIALS;
2144526   + _DM_BAD = 0;
MPRINT(EM_DIAGRAM):   _DM_BAD = 0;
2144527   + _NOCL_ = .;
MPRINT(EM_DIAGRAM):   _NOCL_ = .;
2144528   + _MAX_ = .;
MPRINT(EM_DIAGRAM):   _MAX_ = .;
2144529   + _MAXP_ = .;
MPRINT(EM_DIAGRAM):   _MAXP_ = .;
2144530   + _SUM_ = .;
MPRINT(EM_DIAGRAM):   _SUM_ = .;
2144531   + _NTRIALS = .;
MPRINT(EM_DIAGRAM):   _NTRIALS = .;
2144532   + _EPS =                1E-10;
MPRINT(EM_DIAGRAM):   _EPS = 1E-10;
2144533   +LENGTH _WARN_ $4
2144534   +      F_DepVar  $ 12
2144535   +;
MPRINT(EM_DIAGRAM):   LENGTH _WARN_ $4 F_DepVar $ 12 ;
2144536   +      label S_AcceptedCmpTotal = 'Standard: AcceptedCmpTotal' ;
MPRINT(EM_DIAGRAM):   label S_AcceptedCmpTotal = 'Standard: AcceptedCmpTotal' ;
2144537   +
2144538   +      label S_Age = 'Standard: Age' ;
MPRINT(EM_DIAGRAM):   label S_Age = 'Standard: Age' ;
2144539   +
2144540   +      label S_Frq = 'Standard: Frq' ;
MPRINT(EM_DIAGRAM):   label S_Frq = 'Standard: Frq' ;
2144541   +
2144542   +      label S_Income = 'Standard: Income' ;
MPRINT(EM_DIAGRAM):   label S_Income = 'Standard: Income' ;
2144543   +
2144544   +      label S_Kidhome = 'Standard: Kidhome' ;
MPRINT(EM_DIAGRAM):   label S_Kidhome = 'Standard: Kidhome' ;
2144545   +
2144546   +      label S_MntFishProducts = 'Standard: MntFishProducts' ;
MPRINT(EM_DIAGRAM):   label S_MntFishProducts = 'Standard: MntFishProducts' ;
2144547   +
2144548   +      label S_MntFruits = 'Standard: MntFruits' ;
MPRINT(EM_DIAGRAM):   label S_MntFruits = 'Standard: MntFruits' ;
2144549   +
2144550   +      label S_MntGoldProds = 'Standard: MntGoldProds' ;
MPRINT(EM_DIAGRAM):   label S_MntGoldProds = 'Standard: MntGoldProds' ;
2144551   +
2144552   +      label S_MntSweetProducts = 'Standard: MntSweetProducts' ;
MPRINT(EM_DIAGRAM):   label S_MntSweetProducts = 'Standard: MntSweetProducts' ;
2144553   +
2144554   +      label S_MonthsAsCustomer = 'Standard: MonthsAsCustomer' ;
MPRINT(EM_DIAGRAM):   label S_MonthsAsCustomer = 'Standard: MonthsAsCustomer' ;
2144555   +
2144556   +      label S_NumDealsPurchases = 'Standard: NumDealsPurchases' ;
MPRINT(EM_DIAGRAM):   label S_NumDealsPurchases = 'Standard: NumDealsPurchases' ;
2144557   +
2144558   +      label S_NumWebVisitsMonth = 'Standard: NumWebVisitsMonth' ;
MPRINT(EM_DIAGRAM):   label S_NumWebVisitsMonth = 'Standard: NumWebVisitsMonth' ;
2144559   +
2144560   +      label S_RFMstat = 'Standard: RFMstat' ;
MPRINT(EM_DIAGRAM):   label S_RFMstat = 'Standard: RFMstat' ;
2144561   +
2144562   +      label S_RMntFrq = 'Standard: RMntFrq' ;
MPRINT(EM_DIAGRAM):   label S_RMntFrq = 'Standard: RMntFrq' ;
2144563   +
2144564   +      label S_Recency = 'Standard: Recency' ;
MPRINT(EM_DIAGRAM):   label S_Recency = 'Standard: Recency' ;
2144565   +
2144566   +      label S_Teenhome = 'Standard: Teenhome' ;
MPRINT(EM_DIAGRAM):   label S_Teenhome = 'Standard: Teenhome' ;
2144567   +
2144568   +      label AcceptedCmp10 = 'Dummy: AcceptedCmp1=0' ;
MPRINT(EM_DIAGRAM):   label AcceptedCmp10 = 'Dummy: AcceptedCmp1=0' ;
2144569   +
2144570   +      label AcceptedCmp20 = 'Dummy: AcceptedCmp2=0' ;
MPRINT(EM_DIAGRAM):   label AcceptedCmp20 = 'Dummy: AcceptedCmp2=0' ;
2144571   +
2144572   +      label AcceptedCmp30 = 'Dummy: AcceptedCmp3=0' ;
MPRINT(EM_DIAGRAM):   label AcceptedCmp30 = 'Dummy: AcceptedCmp3=0' ;
2144573   +
2144574   +      label AcceptedCmp40 = 'Dummy: AcceptedCmp4=0' ;
MPRINT(EM_DIAGRAM):   label AcceptedCmp40 = 'Dummy: AcceptedCmp4=0' ;
2144575   +
2144576   +      label AcceptedCmp50 = 'Dummy: AcceptedCmp5=0' ;
MPRINT(EM_DIAGRAM):   label AcceptedCmp50 = 'Dummy: AcceptedCmp5=0' ;
2144577   +
2144578   +      label Complain0 = 'Dummy: Complain=0' ;
MPRINT(EM_DIAGRAM):   label Complain0 = 'Dummy: Complain=0' ;
2144579   +
2144580   +      label HigherEducationBinary0 = 'Dummy: HigherEducationBinary=0' ;
MPRINT(EM_DIAGRAM):   label HigherEducationBinary0 = 'Dummy: HigherEducationBinary=0' ;
2144581   +
2144582   +      label Education2n_Cycle = 'Dummy: Education=2n Cycle' ;
MPRINT(EM_DIAGRAM):   label Education2n_Cycle = 'Dummy: Education=2n Cycle' ;
2144583   +
2144584   +      label EducationBasic = 'Dummy: Education=Basic' ;
MPRINT(EM_DIAGRAM):   label EducationBasic = 'Dummy: Education=Basic' ;
2144585   +
2144586   +      label EducationGraduation = 'Dummy: Education=Graduation' ;
MPRINT(EM_DIAGRAM):   label EducationGraduation = 'Dummy: Education=Graduation' ;
2144587   +
2144588   +      label EducationMaster = 'Dummy: Education=Master' ;
MPRINT(EM_DIAGRAM):   label EducationMaster = 'Dummy: Education=Master' ;
2144589   +
2144590   +      label Marital_StatusDivorced = 'Dummy: Marital_Status=Divorced' ;
MPRINT(EM_DIAGRAM):   label Marital_StatusDivorced = 'Dummy: Marital_Status=Divorced' ;
2144591   +
2144592   +      label Marital_StatusMarried = 'Dummy: Marital_Status=Married' ;
MPRINT(EM_DIAGRAM):   label Marital_StatusMarried = 'Dummy: Marital_Status=Married' ;
2144593   +
2144594   +      label Marital_StatusSingle = 'Dummy: Marital_Status=Single' ;
MPRINT(EM_DIAGRAM):   label Marital_StatusSingle = 'Dummy: Marital_Status=Single' ;
2144595   +
2144596   +      label Marital_StatusTogether = 'Dummy: Marital_Status=Together' ;
MPRINT(EM_DIAGRAM):   label Marital_StatusTogether = 'Dummy: Marital_Status=Together' ;
2144597   +
2144598   +      label H11 = 'Hidden: H1=1' ;
MPRINT(EM_DIAGRAM):   label H11 = 'Hidden: H1=1' ;
2144599   +
2144600   +      label H12 = 'Hidden: H1=2' ;
MPRINT(EM_DIAGRAM):   label H12 = 'Hidden: H1=2' ;
2144601   +
2144602   +      label H13 = 'Hidden: H1=3' ;
MPRINT(EM_DIAGRAM):   label H13 = 'Hidden: H1=3' ;
2144603   +
2144604   +      label I_DepVar = 'Into: DepVar' ;
MPRINT(EM_DIAGRAM):   label I_DepVar = 'Into: DepVar' ;
2144605   +
2144606   +      label F_DepVar = 'From: DepVar' ;
MPRINT(EM_DIAGRAM):   label F_DepVar = 'From: DepVar' ;
2144607   +
2144608   +      label U_DepVar = 'Unnormalized Into: DepVar' ;
MPRINT(EM_DIAGRAM):   label U_DepVar = 'Unnormalized Into: DepVar' ;
2144609   +
2144610   +      label P_DepVar1 = 'Predicted: DepVar=1' ;
MPRINT(EM_DIAGRAM):   label P_DepVar1 = 'Predicted: DepVar=1' ;
2144611   +
2144612   +      label R_DepVar1 = 'Residual: DepVar=1' ;
MPRINT(EM_DIAGRAM):   label R_DepVar1 = 'Residual: DepVar=1' ;
2144613   +
2144614   +      label P_DepVar0 = 'Predicted: DepVar=0' ;
MPRINT(EM_DIAGRAM):   label P_DepVar0 = 'Predicted: DepVar=0' ;
2144615   +
2144616   +      label R_DepVar0 = 'Residual: DepVar=0' ;
MPRINT(EM_DIAGRAM):   label R_DepVar0 = 'Residual: DepVar=0' ;
2144617   +
2144618   +      label  _WARN_ = "Warnings";
MPRINT(EM_DIAGRAM):   label _WARN_ = "Warnings";
2144619   +
2144620   +*** Generate dummy variables for AcceptedCmp1 ;
MPRINT(EM_DIAGRAM):   *** Generate dummy variables for AcceptedCmp1 ;
2144621   +drop AcceptedCmp10 ;
MPRINT(EM_DIAGRAM):   drop AcceptedCmp10 ;
2144622   +if missing( AcceptedCmp1 ) then do;
MPRINT(EM_DIAGRAM):   if missing( AcceptedCmp1 ) then do;
2144623   +   AcceptedCmp10 = .;
MPRINT(EM_DIAGRAM):   AcceptedCmp10 = .;
2144624   +   substr(_warn_,1,1) = 'M';
MPRINT(EM_DIAGRAM):   substr(_warn_,1,1) = 'M';
2144625   +   _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2144626   +end;
MPRINT(EM_DIAGRAM):   end;
2144627   +else do;
MPRINT(EM_DIAGRAM):   else do;
2144628   +   length _dm12 $ 12; drop _dm12 ;
MPRINT(EM_DIAGRAM):   length _dm12 $ 12;
MPRINT(EM_DIAGRAM):   drop _dm12 ;
2144629   +   _dm12 = put( AcceptedCmp1 , BEST. );
MPRINT(EM_DIAGRAM):   _dm12 = put( AcceptedCmp1 , BEST. );
2144630   +   %DMNORMIP( _dm12 )
MPRINT(DMNORMIP):   call dmnorm(_dm12,
MPRINT(DMNORLEN):  32
MPRINT(DMNORMIP):  );
2144631   +   if _dm12 = '0'  then do;
MPRINT(EM_DIAGRAM):   if _dm12 = '0' then do;
2144632   +      AcceptedCmp10 = 1;
MPRINT(EM_DIAGRAM):   AcceptedCmp10 = 1;
2144633   +   end;
MPRINT(EM_DIAGRAM):   end;
2144634   +   else if _dm12 = '1'  then do;
MPRINT(EM_DIAGRAM):   else if _dm12 = '1' then do;
2144635   +      AcceptedCmp10 = -1;
MPRINT(EM_DIAGRAM):   AcceptedCmp10 = -1;
2144636   +   end;
MPRINT(EM_DIAGRAM):   end;
2144637   +   else do;
MPRINT(EM_DIAGRAM):   else do;
2144638   +      AcceptedCmp10 = .;
MPRINT(EM_DIAGRAM):   AcceptedCmp10 = .;
2144639   +      substr(_warn_,2,1) = 'U';
MPRINT(EM_DIAGRAM):   substr(_warn_,2,1) = 'U';
2144640   +      _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2144641   +   end;
MPRINT(EM_DIAGRAM):   end;
2144642   +end;
MPRINT(EM_DIAGRAM):   end;
2144643   +
2144644   +*** Generate dummy variables for AcceptedCmp2 ;
MPRINT(EM_DIAGRAM):   *** Generate dummy variables for AcceptedCmp2 ;
2144645   +drop AcceptedCmp20 ;
MPRINT(EM_DIAGRAM):   drop AcceptedCmp20 ;
2144646   +if missing( AcceptedCmp2 ) then do;
MPRINT(EM_DIAGRAM):   if missing( AcceptedCmp2 ) then do;
2144647   +   AcceptedCmp20 = .;
MPRINT(EM_DIAGRAM):   AcceptedCmp20 = .;
2144648   +   substr(_warn_,1,1) = 'M';
MPRINT(EM_DIAGRAM):   substr(_warn_,1,1) = 'M';
2144649   +   _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2144650   +end;
MPRINT(EM_DIAGRAM):   end;
2144651   +else do;
MPRINT(EM_DIAGRAM):   else do;
2144652   +   length _dm12 $ 12; drop _dm12 ;
MPRINT(EM_DIAGRAM):   length _dm12 $ 12;
MPRINT(EM_DIAGRAM):   drop _dm12 ;
2144653   +   _dm12 = put( AcceptedCmp2 , BEST. );
MPRINT(EM_DIAGRAM):   _dm12 = put( AcceptedCmp2 , BEST. );
2144654   +   %DMNORMIP( _dm12 )
MPRINT(DMNORMIP):   call dmnorm(_dm12,
MPRINT(DMNORLEN):  32
MPRINT(DMNORMIP):  );
2144655   +   if _dm12 = '0'  then do;
MPRINT(EM_DIAGRAM):   if _dm12 = '0' then do;
2144656   +      AcceptedCmp20 = 1;
MPRINT(EM_DIAGRAM):   AcceptedCmp20 = 1;
2144657   +   end;
MPRINT(EM_DIAGRAM):   end;
2144658   +   else if _dm12 = '1'  then do;
MPRINT(EM_DIAGRAM):   else if _dm12 = '1' then do;
2144659   +      AcceptedCmp20 = -1;
MPRINT(EM_DIAGRAM):   AcceptedCmp20 = -1;
2144660   +   end;
MPRINT(EM_DIAGRAM):   end;
2144661   +   else do;
MPRINT(EM_DIAGRAM):   else do;
2144662   +      AcceptedCmp20 = .;
MPRINT(EM_DIAGRAM):   AcceptedCmp20 = .;
2144663   +      substr(_warn_,2,1) = 'U';
MPRINT(EM_DIAGRAM):   substr(_warn_,2,1) = 'U';
2144664   +      _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2144665   +   end;
MPRINT(EM_DIAGRAM):   end;
2144666   +end;
MPRINT(EM_DIAGRAM):   end;
2144667   +
2144668   +*** Generate dummy variables for AcceptedCmp3 ;
MPRINT(EM_DIAGRAM):   *** Generate dummy variables for AcceptedCmp3 ;
2144669   +drop AcceptedCmp30 ;
MPRINT(EM_DIAGRAM):   drop AcceptedCmp30 ;
2144670   +if missing( AcceptedCmp3 ) then do;
MPRINT(EM_DIAGRAM):   if missing( AcceptedCmp3 ) then do;
2144671   +   AcceptedCmp30 = .;
MPRINT(EM_DIAGRAM):   AcceptedCmp30 = .;
2144672   +   substr(_warn_,1,1) = 'M';
MPRINT(EM_DIAGRAM):   substr(_warn_,1,1) = 'M';
2144673   +   _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2144674   +end;
MPRINT(EM_DIAGRAM):   end;
2144675   +else do;
MPRINT(EM_DIAGRAM):   else do;
2144676   +   length _dm12 $ 12; drop _dm12 ;
MPRINT(EM_DIAGRAM):   length _dm12 $ 12;
MPRINT(EM_DIAGRAM):   drop _dm12 ;
2144677   +   _dm12 = put( AcceptedCmp3 , BEST. );
MPRINT(EM_DIAGRAM):   _dm12 = put( AcceptedCmp3 , BEST. );
2144678   +   %DMNORMIP( _dm12 )
MPRINT(DMNORMIP):   call dmnorm(_dm12,
MPRINT(DMNORLEN):  32
MPRINT(DMNORMIP):  );
2144679   +   if _dm12 = '0'  then do;
MPRINT(EM_DIAGRAM):   if _dm12 = '0' then do;
2144680   +      AcceptedCmp30 = 1;
MPRINT(EM_DIAGRAM):   AcceptedCmp30 = 1;
2144681   +   end;
MPRINT(EM_DIAGRAM):   end;
2144682   +   else if _dm12 = '1'  then do;
MPRINT(EM_DIAGRAM):   else if _dm12 = '1' then do;
2144683   +      AcceptedCmp30 = -1;
MPRINT(EM_DIAGRAM):   AcceptedCmp30 = -1;
2144684   +   end;
MPRINT(EM_DIAGRAM):   end;
2144685   +   else do;
MPRINT(EM_DIAGRAM):   else do;
2144686   +      AcceptedCmp30 = .;
MPRINT(EM_DIAGRAM):   AcceptedCmp30 = .;
2144687   +      substr(_warn_,2,1) = 'U';
MPRINT(EM_DIAGRAM):   substr(_warn_,2,1) = 'U';
2144688   +      _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2144689   +   end;
MPRINT(EM_DIAGRAM):   end;
2144690   +end;
MPRINT(EM_DIAGRAM):   end;
2144691   +
2144692   +*** Generate dummy variables for AcceptedCmp4 ;
MPRINT(EM_DIAGRAM):   *** Generate dummy variables for AcceptedCmp4 ;
2144693   +drop AcceptedCmp40 ;
MPRINT(EM_DIAGRAM):   drop AcceptedCmp40 ;
2144694   +if missing( AcceptedCmp4 ) then do;
MPRINT(EM_DIAGRAM):   if missing( AcceptedCmp4 ) then do;
2144695   +   AcceptedCmp40 = .;
MPRINT(EM_DIAGRAM):   AcceptedCmp40 = .;
2144696   +   substr(_warn_,1,1) = 'M';
MPRINT(EM_DIAGRAM):   substr(_warn_,1,1) = 'M';
2144697   +   _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2144698   +end;
MPRINT(EM_DIAGRAM):   end;
2144699   +else do;
MPRINT(EM_DIAGRAM):   else do;
2144700   +   length _dm12 $ 12; drop _dm12 ;
MPRINT(EM_DIAGRAM):   length _dm12 $ 12;
MPRINT(EM_DIAGRAM):   drop _dm12 ;
2144701   +   _dm12 = put( AcceptedCmp4 , BEST. );
MPRINT(EM_DIAGRAM):   _dm12 = put( AcceptedCmp4 , BEST. );
2144702   +   %DMNORMIP( _dm12 )
MPRINT(DMNORMIP):   call dmnorm(_dm12,
MPRINT(DMNORLEN):  32
MPRINT(DMNORMIP):  );
2144703   +   if _dm12 = '0'  then do;
MPRINT(EM_DIAGRAM):   if _dm12 = '0' then do;
2144704   +      AcceptedCmp40 = 1;
MPRINT(EM_DIAGRAM):   AcceptedCmp40 = 1;
2144705   +   end;
MPRINT(EM_DIAGRAM):   end;
2144706   +   else if _dm12 = '1'  then do;
MPRINT(EM_DIAGRAM):   else if _dm12 = '1' then do;
2144707   +      AcceptedCmp40 = -1;
MPRINT(EM_DIAGRAM):   AcceptedCmp40 = -1;
2144708   +   end;
MPRINT(EM_DIAGRAM):   end;
2144709   +   else do;
MPRINT(EM_DIAGRAM):   else do;
2144710   +      AcceptedCmp40 = .;
MPRINT(EM_DIAGRAM):   AcceptedCmp40 = .;
2144711   +      substr(_warn_,2,1) = 'U';
MPRINT(EM_DIAGRAM):   substr(_warn_,2,1) = 'U';
2144712   +      _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2144713   +   end;
MPRINT(EM_DIAGRAM):   end;
2144714   +end;
MPRINT(EM_DIAGRAM):   end;
2144715   +
2144716   +*** Generate dummy variables for AcceptedCmp5 ;
MPRINT(EM_DIAGRAM):   *** Generate dummy variables for AcceptedCmp5 ;
2144717   +drop AcceptedCmp50 ;
MPRINT(EM_DIAGRAM):   drop AcceptedCmp50 ;
2144718   +if missing( AcceptedCmp5 ) then do;
MPRINT(EM_DIAGRAM):   if missing( AcceptedCmp5 ) then do;
2144719   +   AcceptedCmp50 = .;
MPRINT(EM_DIAGRAM):   AcceptedCmp50 = .;
2144720   +   substr(_warn_,1,1) = 'M';
MPRINT(EM_DIAGRAM):   substr(_warn_,1,1) = 'M';
2144721   +   _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2144722   +end;
MPRINT(EM_DIAGRAM):   end;
2144723   +else do;
MPRINT(EM_DIAGRAM):   else do;
2144724   +   length _dm12 $ 12; drop _dm12 ;
MPRINT(EM_DIAGRAM):   length _dm12 $ 12;
MPRINT(EM_DIAGRAM):   drop _dm12 ;
2144725   +   _dm12 = put( AcceptedCmp5 , BEST. );
MPRINT(EM_DIAGRAM):   _dm12 = put( AcceptedCmp5 , BEST. );
2144726   +   %DMNORMIP( _dm12 )
MPRINT(DMNORMIP):   call dmnorm(_dm12,
MPRINT(DMNORLEN):  32
MPRINT(DMNORMIP):  );
2144727   +   if _dm12 = '0'  then do;
MPRINT(EM_DIAGRAM):   if _dm12 = '0' then do;
2144728   +      AcceptedCmp50 = 1;
MPRINT(EM_DIAGRAM):   AcceptedCmp50 = 1;
2144729   +   end;
MPRINT(EM_DIAGRAM):   end;
2144730   +   else if _dm12 = '1'  then do;
MPRINT(EM_DIAGRAM):   else if _dm12 = '1' then do;
2144731   +      AcceptedCmp50 = -1;
MPRINT(EM_DIAGRAM):   AcceptedCmp50 = -1;
2144732   +   end;
MPRINT(EM_DIAGRAM):   end;
2144733   +   else do;
MPRINT(EM_DIAGRAM):   else do;
2144734   +      AcceptedCmp50 = .;
MPRINT(EM_DIAGRAM):   AcceptedCmp50 = .;
2144735   +      substr(_warn_,2,1) = 'U';
MPRINT(EM_DIAGRAM):   substr(_warn_,2,1) = 'U';
2144736   +      _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2144737   +   end;
MPRINT(EM_DIAGRAM):   end;
2144738   +end;
MPRINT(EM_DIAGRAM):   end;
2144739   +
2144740   +*** Generate dummy variables for Complain ;
MPRINT(EM_DIAGRAM):   *** Generate dummy variables for Complain ;
2144741   +drop Complain0 ;
MPRINT(EM_DIAGRAM):   drop Complain0 ;
2144742   +if missing( Complain ) then do;
MPRINT(EM_DIAGRAM):   if missing( Complain ) then do;
2144743   +   Complain0 = .;
MPRINT(EM_DIAGRAM):   Complain0 = .;
2144744   +   substr(_warn_,1,1) = 'M';
MPRINT(EM_DIAGRAM):   substr(_warn_,1,1) = 'M';
2144745   +   _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2144746   +end;
MPRINT(EM_DIAGRAM):   end;
2144747   +else do;
MPRINT(EM_DIAGRAM):   else do;
2144748   +   length _dm12 $ 12; drop _dm12 ;
MPRINT(EM_DIAGRAM):   length _dm12 $ 12;
MPRINT(EM_DIAGRAM):   drop _dm12 ;
2144749   +   _dm12 = put( Complain , BEST. );
MPRINT(EM_DIAGRAM):   _dm12 = put( Complain , BEST. );
2144750   +   %DMNORMIP( _dm12 )
MPRINT(DMNORMIP):   call dmnorm(_dm12,
MPRINT(DMNORLEN):  32
MPRINT(DMNORMIP):  );
2144751   +   if _dm12 = '0'  then do;
MPRINT(EM_DIAGRAM):   if _dm12 = '0' then do;
2144752   +      Complain0 = 1;
MPRINT(EM_DIAGRAM):   Complain0 = 1;
2144753   +   end;
MPRINT(EM_DIAGRAM):   end;
2144754   +   else if _dm12 = '1'  then do;
MPRINT(EM_DIAGRAM):   else if _dm12 = '1' then do;
2144755   +      Complain0 = -1;
MPRINT(EM_DIAGRAM):   Complain0 = -1;
2144756   +   end;
MPRINT(EM_DIAGRAM):   end;
2144757   +   else do;
MPRINT(EM_DIAGRAM):   else do;
2144758   +      Complain0 = .;
MPRINT(EM_DIAGRAM):   Complain0 = .;
2144759   +      substr(_warn_,2,1) = 'U';
MPRINT(EM_DIAGRAM):   substr(_warn_,2,1) = 'U';
2144760   +      _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2144761   +   end;
MPRINT(EM_DIAGRAM):   end;
2144762   +end;
MPRINT(EM_DIAGRAM):   end;
2144763   +
2144764   +*** Generate dummy variables for HigherEducationBinary ;
MPRINT(EM_DIAGRAM):   *** Generate dummy variables for HigherEducationBinary ;
2144765   +drop HigherEducationBinary0 ;
MPRINT(EM_DIAGRAM):   drop HigherEducationBinary0 ;
2144766   +if missing( HigherEducationBinary ) then do;
MPRINT(EM_DIAGRAM):   if missing( HigherEducationBinary ) then do;
2144767   +   HigherEducationBinary0 = .;
MPRINT(EM_DIAGRAM):   HigherEducationBinary0 = .;
2144768   +   substr(_warn_,1,1) = 'M';
MPRINT(EM_DIAGRAM):   substr(_warn_,1,1) = 'M';
2144769   +   _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2144770   +end;
MPRINT(EM_DIAGRAM):   end;
2144771   +else do;
MPRINT(EM_DIAGRAM):   else do;
2144772   +   length _dm12 $ 12; drop _dm12 ;
MPRINT(EM_DIAGRAM):   length _dm12 $ 12;
MPRINT(EM_DIAGRAM):   drop _dm12 ;
2144773   +   _dm12 = put( HigherEducationBinary , BEST12. );
MPRINT(EM_DIAGRAM):   _dm12 = put( HigherEducationBinary , BEST12. );
2144774   +   %DMNORMIP( _dm12 )
MPRINT(DMNORMIP):   call dmnorm(_dm12,
MPRINT(DMNORLEN):  32
MPRINT(DMNORMIP):  );
2144775   +   if _dm12 = '1'  then do;
MPRINT(EM_DIAGRAM):   if _dm12 = '1' then do;
2144776   +      HigherEducationBinary0 = -1;
MPRINT(EM_DIAGRAM):   HigherEducationBinary0 = -1;
2144777   +   end;
MPRINT(EM_DIAGRAM):   end;
2144778   +   else if _dm12 = '0'  then do;
MPRINT(EM_DIAGRAM):   else if _dm12 = '0' then do;
2144779   +      HigherEducationBinary0 = 1;
MPRINT(EM_DIAGRAM):   HigherEducationBinary0 = 1;
2144780   +   end;
MPRINT(EM_DIAGRAM):   end;
2144781   +   else do;
MPRINT(EM_DIAGRAM):   else do;
2144782   +      HigherEducationBinary0 = .;
MPRINT(EM_DIAGRAM):   HigherEducationBinary0 = .;
2144783   +      substr(_warn_,2,1) = 'U';
MPRINT(EM_DIAGRAM):   substr(_warn_,2,1) = 'U';
2144784   +      _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2144785   +   end;
MPRINT(EM_DIAGRAM):   end;
2144786   +end;
MPRINT(EM_DIAGRAM):   end;
2144787   +
2144788   +*** Generate dummy variables for Education ;
MPRINT(EM_DIAGRAM):   *** Generate dummy variables for Education ;
2144789   +drop Education2n_Cycle EducationBasic EducationGraduation EducationMaster ;
MPRINT(EM_DIAGRAM):   drop Education2n_Cycle EducationBasic EducationGraduation 
EducationMaster ;
2144790   +*** encoding is sparse, initialize to zero;
MPRINT(EM_DIAGRAM):   *** encoding is sparse, initialize to zero;
2144791   +Education2n_Cycle = 0;
MPRINT(EM_DIAGRAM):   Education2n_Cycle = 0;
2144792   +EducationBasic = 0;
MPRINT(EM_DIAGRAM):   EducationBasic = 0;
2144793   +EducationGraduation = 0;
MPRINT(EM_DIAGRAM):   EducationGraduation = 0;
2144794   +EducationMaster = 0;
MPRINT(EM_DIAGRAM):   EducationMaster = 0;
2144795   +if missing( Education ) then do;
MPRINT(EM_DIAGRAM):   if missing( Education ) then do;
2144796   +   Education2n_Cycle = .;
MPRINT(EM_DIAGRAM):   Education2n_Cycle = .;
2144797   +   EducationBasic = .;
MPRINT(EM_DIAGRAM):   EducationBasic = .;
2144798   +   EducationGraduation = .;
MPRINT(EM_DIAGRAM):   EducationGraduation = .;
2144799   +   EducationMaster = .;
MPRINT(EM_DIAGRAM):   EducationMaster = .;
2144800   +   substr(_warn_,1,1) = 'M';
MPRINT(EM_DIAGRAM):   substr(_warn_,1,1) = 'M';
2144801   +   _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2144802   +end;
MPRINT(EM_DIAGRAM):   end;
2144803   +else do;
MPRINT(EM_DIAGRAM):   else do;
2144804   +   length _dm10 $ 10; drop _dm10 ;
MPRINT(EM_DIAGRAM):   length _dm10 $ 10;
MPRINT(EM_DIAGRAM):   drop _dm10 ;
2144805   +   _dm10 = put( Education , $10. );
MPRINT(EM_DIAGRAM):   _dm10 = put( Education , $10. );
2144806   +   %DMNORMIP( _dm10 )
MPRINT(DMNORMIP):   call dmnorm(_dm10,
MPRINT(DMNORLEN):  32
MPRINT(DMNORMIP):  );
2144807   +   if _dm10 = 'GRADUATION'  then do;
MPRINT(EM_DIAGRAM):   if _dm10 = 'GRADUATION' then do;
2144808   +      EducationGraduation = 1;
MPRINT(EM_DIAGRAM):   EducationGraduation = 1;
2144809   +   end;
MPRINT(EM_DIAGRAM):   end;
2144810   +   else if _dm10 = 'PHD'  then do;
MPRINT(EM_DIAGRAM):   else if _dm10 = 'PHD' then do;
2144811   +      Education2n_Cycle = -1;
MPRINT(EM_DIAGRAM):   Education2n_Cycle = -1;
2144812   +      EducationBasic = -1;
MPRINT(EM_DIAGRAM):   EducationBasic = -1;
2144813   +      EducationGraduation = -1;
MPRINT(EM_DIAGRAM):   EducationGraduation = -1;
2144814   +      EducationMaster = -1;
MPRINT(EM_DIAGRAM):   EducationMaster = -1;
2144815   +   end;
MPRINT(EM_DIAGRAM):   end;
2144816   +   else if _dm10 = 'MASTER'  then do;
MPRINT(EM_DIAGRAM):   else if _dm10 = 'MASTER' then do;
2144817   +      EducationMaster = 1;
MPRINT(EM_DIAGRAM):   EducationMaster = 1;
2144818   +   end;
MPRINT(EM_DIAGRAM):   end;
2144819   +   else if _dm10 = '2N CYCLE'  then do;
MPRINT(EM_DIAGRAM):   else if _dm10 = '2N CYCLE' then do;
2144820   +      Education2n_Cycle = 1;
MPRINT(EM_DIAGRAM):   Education2n_Cycle = 1;
2144821   +   end;
MPRINT(EM_DIAGRAM):   end;
2144822   +   else if _dm10 = 'BASIC'  then do;
MPRINT(EM_DIAGRAM):   else if _dm10 = 'BASIC' then do;
2144823   +      EducationBasic = 1;
MPRINT(EM_DIAGRAM):   EducationBasic = 1;
2144824   +   end;
MPRINT(EM_DIAGRAM):   end;
2144825   +   else do;
MPRINT(EM_DIAGRAM):   else do;
2144826   +      Education2n_Cycle = .;
MPRINT(EM_DIAGRAM):   Education2n_Cycle = .;
2144827   +      EducationBasic = .;
MPRINT(EM_DIAGRAM):   EducationBasic = .;
2144828   +      EducationGraduation = .;
MPRINT(EM_DIAGRAM):   EducationGraduation = .;
2144829   +      EducationMaster = .;
MPRINT(EM_DIAGRAM):   EducationMaster = .;
2144830   +      substr(_warn_,2,1) = 'U';
MPRINT(EM_DIAGRAM):   substr(_warn_,2,1) = 'U';
2144831   +      _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2144832   +   end;
MPRINT(EM_DIAGRAM):   end;
2144833   +end;
MPRINT(EM_DIAGRAM):   end;
2144834   +
2144835   +*** Generate dummy variables for Marital_Status ;
MPRINT(EM_DIAGRAM):   *** Generate dummy variables for Marital_Status ;
2144836   +drop Marital_StatusDivorced Marital_StatusMarried Marital_StatusSingle
2144837   +        Marital_StatusTogether ;
MPRINT(EM_DIAGRAM):   drop Marital_StatusDivorced Marital_StatusMarried Marital_StatusSingle 
Marital_StatusTogether ;
2144838   +*** encoding is sparse, initialize to zero;
MPRINT(EM_DIAGRAM):   *** encoding is sparse, initialize to zero;
2144839   +Marital_StatusDivorced = 0;
MPRINT(EM_DIAGRAM):   Marital_StatusDivorced = 0;
2144840   +Marital_StatusMarried = 0;
MPRINT(EM_DIAGRAM):   Marital_StatusMarried = 0;
2144841   +Marital_StatusSingle = 0;
MPRINT(EM_DIAGRAM):   Marital_StatusSingle = 0;
2144842   +Marital_StatusTogether = 0;
MPRINT(EM_DIAGRAM):   Marital_StatusTogether = 0;
2144843   +if missing( Marital_Status ) then do;
MPRINT(EM_DIAGRAM):   if missing( Marital_Status ) then do;
2144844   +   Marital_StatusDivorced = .;
MPRINT(EM_DIAGRAM):   Marital_StatusDivorced = .;
2144845   +   Marital_StatusMarried = .;
MPRINT(EM_DIAGRAM):   Marital_StatusMarried = .;
2144846   +   Marital_StatusSingle = .;
MPRINT(EM_DIAGRAM):   Marital_StatusSingle = .;
2144847   +   Marital_StatusTogether = .;
MPRINT(EM_DIAGRAM):   Marital_StatusTogether = .;
2144848   +   substr(_warn_,1,1) = 'M';
MPRINT(EM_DIAGRAM):   substr(_warn_,1,1) = 'M';
2144849   +   _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2144850   +end;
MPRINT(EM_DIAGRAM):   end;
2144851   +else do;
MPRINT(EM_DIAGRAM):   else do;
2144852   +   length _dm8 $ 8; drop _dm8 ;
MPRINT(EM_DIAGRAM):   length _dm8 $ 8;
MPRINT(EM_DIAGRAM):   drop _dm8 ;
2144853   +   _dm8 = put( Marital_Status , $8. );
MPRINT(EM_DIAGRAM):   _dm8 = put( Marital_Status , $8. );
2144854   +   %DMNORMIP( _dm8 )
MPRINT(DMNORMIP):   call dmnorm(_dm8,
MPRINT(DMNORLEN):  32
MPRINT(DMNORMIP):  );
2144855   +   _dm_find = 0; drop _dm_find;
MPRINT(EM_DIAGRAM):   _dm_find = 0;
MPRINT(EM_DIAGRAM):   drop _dm_find;
2144856   +   if _dm8 <= 'SINGLE'  then do;
MPRINT(EM_DIAGRAM):   if _dm8 <= 'SINGLE' then do;
2144857   +      if _dm8 <= 'MARRIED'  then do;
MPRINT(EM_DIAGRAM):   if _dm8 <= 'MARRIED' then do;
2144858   +         if _dm8 = 'DIVORCED'  then do;
MPRINT(EM_DIAGRAM):   if _dm8 = 'DIVORCED' then do;
2144859   +            Marital_StatusDivorced = 1;
MPRINT(EM_DIAGRAM):   Marital_StatusDivorced = 1;
2144860   +            _dm_find = 1;
MPRINT(EM_DIAGRAM):   _dm_find = 1;
2144861   +         end;
MPRINT(EM_DIAGRAM):   end;
2144862   +         else do;
MPRINT(EM_DIAGRAM):   else do;
2144863   +            if _dm8 = 'MARRIED'  then do;
MPRINT(EM_DIAGRAM):   if _dm8 = 'MARRIED' then do;
2144864   +               Marital_StatusMarried = 1;
MPRINT(EM_DIAGRAM):   Marital_StatusMarried = 1;
2144865   +               _dm_find = 1;
MPRINT(EM_DIAGRAM):   _dm_find = 1;
2144866   +            end;
MPRINT(EM_DIAGRAM):   end;
2144867   +         end;
MPRINT(EM_DIAGRAM):   end;
2144868   +      end;
MPRINT(EM_DIAGRAM):   end;
2144869   +      else do;
MPRINT(EM_DIAGRAM):   else do;
2144870   +         if _dm8 = 'SINGLE'  then do;
MPRINT(EM_DIAGRAM):   if _dm8 = 'SINGLE' then do;
2144871   +            Marital_StatusSingle = 1;
MPRINT(EM_DIAGRAM):   Marital_StatusSingle = 1;
2144872   +            _dm_find = 1;
MPRINT(EM_DIAGRAM):   _dm_find = 1;
2144873   +         end;
MPRINT(EM_DIAGRAM):   end;
2144874   +      end;
MPRINT(EM_DIAGRAM):   end;
2144875   +   end;
MPRINT(EM_DIAGRAM):   end;
2144876   +   else do;
MPRINT(EM_DIAGRAM):   else do;
2144877   +      if _dm8 = 'TOGETHER'  then do;
MPRINT(EM_DIAGRAM):   if _dm8 = 'TOGETHER' then do;
2144878   +         Marital_StatusTogether = 1;
MPRINT(EM_DIAGRAM):   Marital_StatusTogether = 1;
2144879   +         _dm_find = 1;
MPRINT(EM_DIAGRAM):   _dm_find = 1;
2144880   +      end;
MPRINT(EM_DIAGRAM):   end;
2144881   +      else do;
MPRINT(EM_DIAGRAM):   else do;
2144882   +         if _dm8 = 'WIDOW'  then do;
MPRINT(EM_DIAGRAM):   if _dm8 = 'WIDOW' then do;
2144883   +            Marital_StatusDivorced = -1;
MPRINT(EM_DIAGRAM):   Marital_StatusDivorced = -1;
2144884   +            Marital_StatusMarried = -1;
MPRINT(EM_DIAGRAM):   Marital_StatusMarried = -1;
2144885   +            Marital_StatusSingle = -1;
MPRINT(EM_DIAGRAM):   Marital_StatusSingle = -1;
2144886   +            Marital_StatusTogether = -1;
MPRINT(EM_DIAGRAM):   Marital_StatusTogether = -1;
2144887   +            _dm_find = 1;
MPRINT(EM_DIAGRAM):   _dm_find = 1;
2144888   +         end;
MPRINT(EM_DIAGRAM):   end;
2144889   +      end;
MPRINT(EM_DIAGRAM):   end;
2144890   +   end;
MPRINT(EM_DIAGRAM):   end;
2144891   +   if not _dm_find then do;
MPRINT(EM_DIAGRAM):   if not _dm_find then do;
2144892   +      Marital_StatusDivorced = .;
MPRINT(EM_DIAGRAM):   Marital_StatusDivorced = .;
2144893   +      Marital_StatusMarried = .;
MPRINT(EM_DIAGRAM):   Marital_StatusMarried = .;
2144894   +      Marital_StatusSingle = .;
MPRINT(EM_DIAGRAM):   Marital_StatusSingle = .;
2144895   +      Marital_StatusTogether = .;
MPRINT(EM_DIAGRAM):   Marital_StatusTogether = .;
2144896   +      substr(_warn_,2,1) = 'U';
MPRINT(EM_DIAGRAM):   substr(_warn_,2,1) = 'U';
2144897   +      _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2144898   +   end;
MPRINT(EM_DIAGRAM):   end;
2144899   +end;
MPRINT(EM_DIAGRAM):   end;
2144900   +
2144901   +*** *************************;
MPRINT(EM_DIAGRAM):   *** *************************;
2144902   +*** Checking missing input Interval
2144903   +*** *************************;
MPRINT(EM_DIAGRAM):   *** Checking missing input Interval *** *************************;
2144904   +
2144905   +IF NMISS(
2144906   +   AcceptedCmpTotal ,
2144907   +   Age ,
2144908   +   Frq ,
2144909   +   Income ,
2144910   +   Kidhome ,
2144911   +   MntFishProducts ,
2144912   +   MntFruits ,
2144913   +   MntGoldProds ,
2144914   +   MntSweetProducts ,
2144915   +   MonthsAsCustomer ,
2144916   +   NumDealsPurchases ,
2144917   +   NumWebVisitsMonth ,
2144918   +   RFMstat ,
2144919   +   RMntFrq ,
2144920   +   Recency ,
2144921   +   Teenhome   ) THEN DO;
MPRINT(EM_DIAGRAM):   IF NMISS( AcceptedCmpTotal , Age , Frq , Income , Kidhome , 
MntFishProducts , MntFruits , MntGoldProds , MntSweetProducts , MonthsAsCustomer , 
NumDealsPurchases , NumWebVisitsMonth , RFMstat , RMntFrq , Recency , Teenhome ) THEN DO;
2144922   +   SUBSTR(_WARN_, 1, 1) = 'M';
MPRINT(EM_DIAGRAM):   SUBSTR(_WARN_, 1, 1) = 'M';
2144923   +
2144924   +   _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2144925   +END;
MPRINT(EM_DIAGRAM):   END;
2144926   +*** *************************;
MPRINT(EM_DIAGRAM):   *** *************************;
2144927   +*** Writing the Node intvl ;
MPRINT(EM_DIAGRAM):   *** Writing the Node intvl ;
2144928   +*** *************************;
MPRINT(EM_DIAGRAM):   *** *************************;
2144929   +IF _DM_BAD EQ 0 THEN DO;
MPRINT(EM_DIAGRAM):   IF _DM_BAD EQ 0 THEN DO;
2144930   +   S_AcceptedCmpTotal  =    -0.46762909508827 +      1.4961610131261 *
2144931   +        AcceptedCmpTotal ;
MPRINT(EM_DIAGRAM):   S_AcceptedCmpTotal = -0.46762909508827 + 1.4961610131261 * 
AcceptedCmpTotal ;
2144932   +   S_Age  =    -3.91319138389466 +     0.08289609202857 * Age ;
MPRINT(EM_DIAGRAM):   S_Age = -3.91319138389466 + 0.08289609202857 * Age ;
2144933   +   S_Frq  =     -1.7674482809159 +     0.13966853800993 * Frq ;
MPRINT(EM_DIAGRAM):   S_Frq = -1.7674482809159 + 0.13966853800993 * Frq ;
2144934   +   S_Income  =    -2.48883438787018 +     0.00004789669836 * Income ;
MPRINT(EM_DIAGRAM):   S_Income = -2.48883438787018 + 0.00004789669836 * Income ;
2144935   +   S_Kidhome  =    -0.81505958668041 +     1.87132636245581 * Kidhome ;
MPRINT(EM_DIAGRAM):   S_Kidhome = -0.81505958668041 + 1.87132636245581 * Kidhome ;
2144936   +   S_MntFishProducts  =    -0.69884925989448 +     0.01914942799914 *
2144937   +        MntFishProducts ;
MPRINT(EM_DIAGRAM):   S_MntFishProducts = -0.69884925989448 + 0.01914942799914 * 
MntFishProducts ;
2144938   +   S_MntFruits  =    -0.68347542544545 +     0.02517057319714 * MntFruits ;
MPRINT(EM_DIAGRAM):   S_MntFruits = -0.68347542544545 + 0.02517057319714 * MntFruits ;
2144939   +   S_MntGoldProds  =     -0.8611213764608 +     0.01954474499711 *
2144940   +        MntGoldProds ;
MPRINT(EM_DIAGRAM):   S_MntGoldProds = -0.8611213764608 + 0.01954474499711 * MntGoldProds ;
2144941   +   S_MntSweetProducts  =    -0.69020047720885 +     0.02548703406327 *
2144942   +        MntSweetProducts ;
MPRINT(EM_DIAGRAM):   S_MntSweetProducts = -0.69020047720885 + 0.02548703406327 * 
MntSweetProducts ;
2144943   +   S_MonthsAsCustomer  =    -4.93133031507839 +     0.05900664899872 *
2144944   +        MonthsAsCustomer ;
MPRINT(EM_DIAGRAM):   S_MonthsAsCustomer = -4.93133031507839 + 0.05900664899872 * 
MonthsAsCustomer ;
2144945   +   S_NumDealsPurchases  =    -1.34788949552081 +     0.59766336614987 *
2144946   +        NumDealsPurchases ;
MPRINT(EM_DIAGRAM):   S_NumDealsPurchases = -1.34788949552081 + 0.59766336614987 * 
NumDealsPurchases ;
2144947   +   S_NumWebVisitsMonth  =    -2.24769875596018 +     0.42876953368015 *
2144948   +        NumWebVisitsMonth ;
MPRINT(EM_DIAGRAM):   S_NumWebVisitsMonth = -2.24769875596018 + 0.42876953368015 * 
NumWebVisitsMonth ;
2144949   +   S_RFMstat  =    -0.33944380186973 +     0.00063877635032 * RFMstat ;
MPRINT(EM_DIAGRAM):   S_RFMstat = -0.33944380186973 + 0.00063877635032 * RFMstat ;
2144950   +   S_RMntFrq  =    -1.25743573075922 +     0.03326204244626 * RMntFrq ;
MPRINT(EM_DIAGRAM):   S_RMntFrq = -1.25743573075922 + 0.03326204244626 * RMntFrq ;
2144951   +   S_Recency  =    -1.69222845719633 +     0.03469514083585 * Recency ;
MPRINT(EM_DIAGRAM):   S_Recency = -1.69222845719633 + 0.03469514083585 * Recency ;
2144952   +   S_Teenhome  =    -0.88382230606631 +     1.81661831567223 * Teenhome ;
MPRINT(EM_DIAGRAM):   S_Teenhome = -0.88382230606631 + 1.81661831567223 * Teenhome ;
2144953   +END;
MPRINT(EM_DIAGRAM):   END;
2144954   +ELSE DO;
MPRINT(EM_DIAGRAM):   ELSE DO;
2144955   +   IF MISSING( AcceptedCmpTotal ) THEN S_AcceptedCmpTotal  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( AcceptedCmpTotal ) THEN S_AcceptedCmpTotal = . ;
2144956   +   ELSE S_AcceptedCmpTotal  =    -0.46762909508827 +      1.4961610131261 *
2144957   +        AcceptedCmpTotal ;
MPRINT(EM_DIAGRAM):   ELSE S_AcceptedCmpTotal = -0.46762909508827 + 1.4961610131261 * 
AcceptedCmpTotal ;
2144958   +   IF MISSING( Age ) THEN S_Age  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( Age ) THEN S_Age = . ;
2144959   +   ELSE S_Age  =    -3.91319138389466 +     0.08289609202857 * Age ;
MPRINT(EM_DIAGRAM):   ELSE S_Age = -3.91319138389466 + 0.08289609202857 * Age ;
2144960   +   IF MISSING( Frq ) THEN S_Frq  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( Frq ) THEN S_Frq = . ;
2144961   +   ELSE S_Frq  =     -1.7674482809159 +     0.13966853800993 * Frq ;
MPRINT(EM_DIAGRAM):   ELSE S_Frq = -1.7674482809159 + 0.13966853800993 * Frq ;
2144962   +   IF MISSING( Income ) THEN S_Income  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( Income ) THEN S_Income = . ;
2144963   +   ELSE S_Income  =    -2.48883438787018 +     0.00004789669836 * Income ;
MPRINT(EM_DIAGRAM):   ELSE S_Income = -2.48883438787018 + 0.00004789669836 * Income ;
2144964   +   IF MISSING( Kidhome ) THEN S_Kidhome  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( Kidhome ) THEN S_Kidhome = . ;
2144965   +   ELSE S_Kidhome  =    -0.81505958668041 +     1.87132636245581 * Kidhome ;
MPRINT(EM_DIAGRAM):   ELSE S_Kidhome = -0.81505958668041 + 1.87132636245581 * Kidhome ;
2144966   +   IF MISSING( MntFishProducts ) THEN S_MntFishProducts  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( MntFishProducts ) THEN S_MntFishProducts = . ;
2144967   +   ELSE S_MntFishProducts  =    -0.69884925989448 +     0.01914942799914 *
2144968   +        MntFishProducts ;
MPRINT(EM_DIAGRAM):   ELSE S_MntFishProducts = -0.69884925989448 + 0.01914942799914 * 
MntFishProducts ;
2144969   +   IF MISSING( MntFruits ) THEN S_MntFruits  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( MntFruits ) THEN S_MntFruits = . ;
2144970   +   ELSE S_MntFruits  =    -0.68347542544545 +     0.02517057319714 * MntFruits
2144971   +         ;
MPRINT(EM_DIAGRAM):   ELSE S_MntFruits = -0.68347542544545 + 0.02517057319714 * MntFruits ;
2144972   +   IF MISSING( MntGoldProds ) THEN S_MntGoldProds  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( MntGoldProds ) THEN S_MntGoldProds = . ;
2144973   +   ELSE S_MntGoldProds  =     -0.8611213764608 +     0.01954474499711 *
2144974   +        MntGoldProds ;
MPRINT(EM_DIAGRAM):   ELSE S_MntGoldProds = -0.8611213764608 + 0.01954474499711 * MntGoldProds 
;
2144975   +   IF MISSING( MntSweetProducts ) THEN S_MntSweetProducts  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( MntSweetProducts ) THEN S_MntSweetProducts = . ;
2144976   +   ELSE S_MntSweetProducts  =    -0.69020047720885 +     0.02548703406327 *
2144977   +        MntSweetProducts ;
MPRINT(EM_DIAGRAM):   ELSE S_MntSweetProducts = -0.69020047720885 + 0.02548703406327 * 
MntSweetProducts ;
2144978   +   IF MISSING( MonthsAsCustomer ) THEN S_MonthsAsCustomer  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( MonthsAsCustomer ) THEN S_MonthsAsCustomer = . ;
2144979   +   ELSE S_MonthsAsCustomer  =    -4.93133031507839 +     0.05900664899872 *
2144980   +        MonthsAsCustomer ;
MPRINT(EM_DIAGRAM):   ELSE S_MonthsAsCustomer = -4.93133031507839 + 0.05900664899872 * 
MonthsAsCustomer ;
2144981   +   IF MISSING( NumDealsPurchases ) THEN S_NumDealsPurchases  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( NumDealsPurchases ) THEN S_NumDealsPurchases = . ;
2144982   +   ELSE S_NumDealsPurchases  =    -1.34788949552081 +     0.59766336614987 *
2144983   +        NumDealsPurchases ;
MPRINT(EM_DIAGRAM):   ELSE S_NumDealsPurchases = -1.34788949552081 + 0.59766336614987 * 
NumDealsPurchases ;
2144984   +   IF MISSING( NumWebVisitsMonth ) THEN S_NumWebVisitsMonth  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( NumWebVisitsMonth ) THEN S_NumWebVisitsMonth = . ;
2144985   +   ELSE S_NumWebVisitsMonth  =    -2.24769875596018 +     0.42876953368015 *
2144986   +        NumWebVisitsMonth ;
MPRINT(EM_DIAGRAM):   ELSE S_NumWebVisitsMonth = -2.24769875596018 + 0.42876953368015 * 
NumWebVisitsMonth ;
2144987   +   IF MISSING( RFMstat ) THEN S_RFMstat  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( RFMstat ) THEN S_RFMstat = . ;
2144988   +   ELSE S_RFMstat  =    -0.33944380186973 +     0.00063877635032 * RFMstat ;
MPRINT(EM_DIAGRAM):   ELSE S_RFMstat = -0.33944380186973 + 0.00063877635032 * RFMstat ;
2144989   +   IF MISSING( RMntFrq ) THEN S_RMntFrq  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( RMntFrq ) THEN S_RMntFrq = . ;
2144990   +   ELSE S_RMntFrq  =    -1.25743573075922 +     0.03326204244626 * RMntFrq ;
MPRINT(EM_DIAGRAM):   ELSE S_RMntFrq = -1.25743573075922 + 0.03326204244626 * RMntFrq ;
2144991   +   IF MISSING( Recency ) THEN S_Recency  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( Recency ) THEN S_Recency = . ;
2144992   +   ELSE S_Recency  =    -1.69222845719633 +     0.03469514083585 * Recency ;
MPRINT(EM_DIAGRAM):   ELSE S_Recency = -1.69222845719633 + 0.03469514083585 * Recency ;
2144993   +   IF MISSING( Teenhome ) THEN S_Teenhome  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( Teenhome ) THEN S_Teenhome = . ;
2144994   +   ELSE S_Teenhome  =    -0.88382230606631 +     1.81661831567223 * Teenhome ;
MPRINT(EM_DIAGRAM):   ELSE S_Teenhome = -0.88382230606631 + 1.81661831567223 * Teenhome ;
2144995   +END;
MPRINT(EM_DIAGRAM):   END;
2144996   +*** *************************;
MPRINT(EM_DIAGRAM):   *** *************************;
2144997   +*** Writing the Node bin ;
MPRINT(EM_DIAGRAM):   *** Writing the Node bin ;
2144998   +*** *************************;
MPRINT(EM_DIAGRAM):   *** *************************;
2144999   +*** *************************;
MPRINT(EM_DIAGRAM):   *** *************************;
2145000   +*** Writing the Node nom ;
MPRINT(EM_DIAGRAM):   *** Writing the Node nom ;
2145001   +*** *************************;
MPRINT(EM_DIAGRAM):   *** *************************;
2145002   +*** *************************;
MPRINT(EM_DIAGRAM):   *** *************************;
2145003   +*** Writing the Node H1 ;
MPRINT(EM_DIAGRAM):   *** Writing the Node H1 ;
2145004   +*** *************************;
MPRINT(EM_DIAGRAM):   *** *************************;
2145005   +IF _DM_BAD EQ 0 THEN DO;
MPRINT(EM_DIAGRAM):   IF _DM_BAD EQ 0 THEN DO;
2145006   +   H11  =    -0.07939278387837 * S_AcceptedCmpTotal  +    -0.02790902024984 *
2145007   +        S_Age  +     0.40100840853714 * S_Frq  +     0.04432219183455 *
2145008   +        S_Income  +    -0.30219239382398 * S_Kidhome
2145009   +          +    -0.19432749686172 * S_MntFishProducts
2145010   +          +    -0.22103205349698 * S_MntFruits  +    -0.17971639907174 *
2145011   +        S_MntGoldProds  +     0.06706063176219 * S_MntSweetProducts
2145012   +          +    -0.06461990802389 * S_MonthsAsCustomer
2145013   +          +     -0.3783005817403 * S_NumDealsPurchases
2145014   +          +    -0.16339485784748 * S_NumWebVisitsMonth
2145015   +          +    -0.14712191436986 * S_RFMstat  +    -0.19045100842469 *
2145016   +        S_RMntFrq  +     0.18339671113489 * S_Recency
2145017   +          +     -0.0926217862823 * S_Teenhome ;
MPRINT(EM_DIAGRAM):   H11 = -0.07939278387837 * S_AcceptedCmpTotal + -0.02790902024984 * S_Age 
+ 0.40100840853714 * S_Frq + 0.04432219183455 * S_Income + -0.30219239382398 * S_Kidhome + 
-0.19432749686172 * S_MntFishProducts + -0.22103205349698 * S_MntFruits + -0.17971639907174 * 
S_MntGoldProds + 0.06706063176219 * S_MntSweetProducts + -0.06461990802389 * 
S_MonthsAsCustomer + -0.3783005817403 * S_NumDealsPurchases + -0.16339485784748 * 
S_NumWebVisitsMonth + -0.14712191436986 * S_RFMstat + -0.19045100842469 * S_RMntFrq + 
0.18339671113489 * S_Recency + -0.0926217862823 * S_Teenhome ;
2145018   +   H12  =    -1.08824651645594 * S_AcceptedCmpTotal  +     0.17686645093121 *
2145019   +        S_Age  +     1.35317207989883 * S_Frq  +     0.88138422987418 *
2145020   +        S_Income  +    -0.84990904276539 * S_Kidhome
2145021   +          +    -0.10200829265034 * S_MntFishProducts
2145022   +          +    -0.31753011084752 * S_MntFruits  +    -0.18249877124557 *
2145023   +        S_MntGoldProds  +     0.06150349061089 * S_MntSweetProducts
2145024   +          +      0.3716090242476 * S_MonthsAsCustomer
2145025   +          +    -0.14174807996351 * S_NumDealsPurchases
2145026   +          +    -0.42393482037755 * S_NumWebVisitsMonth
2145027   +          +     -0.2268215763235 * S_RFMstat  +     0.30128162296924 *
2145028   +        S_RMntFrq  +    -0.15766803203419 * S_Recency
2145029   +          +      -0.876771580659 * S_Teenhome ;
MPRINT(EM_DIAGRAM):   H12 = -1.08824651645594 * S_AcceptedCmpTotal + 0.17686645093121 * S_Age 
+ 1.35317207989883 * S_Frq + 0.88138422987418 * S_Income + -0.84990904276539 * S_Kidhome + 
-0.10200829265034 * S_MntFishProducts + -0.31753011084752 * S_MntFruits + -0.18249877124557 * 
S_MntGoldProds + 0.06150349061089 * S_MntSweetProducts + 0.3716090242476 * S_MonthsAsCustomer 
+ -0.14174807996351 * S_NumDealsPurchases + -0.42393482037755 * S_NumWebVisitsMonth + 
-0.2268215763235 * S_RFMstat + 0.30128162296924 * S_RMntFrq + -0.15766803203419 * S_Recency + 
-0.876771580659 * S_Teenhome ;
2145030   +   H13  =    -0.19745247224429 * S_AcceptedCmpTotal  +     0.12296649801431 *
2145031   +        S_Age  +     0.30380054301284 * S_Frq  +    -0.20561851411928 *
2145032   +        S_Income  +     0.26862281584112 * S_Kidhome
2145033   +          +     0.04085557903506 * S_MntFishProducts
2145034   +          +     0.04667626132377 * S_MntFruits  +     0.00814736574913 *
2145035   +        S_MntGoldProds  +     0.03678719281756 * S_MntSweetProducts
2145036   +          +     0.12149827716086 * S_MonthsAsCustomer
2145037   +          +    -0.07579622934099 * S_NumDealsPurchases
2145038   +          +    -0.32766887199758 * S_NumWebVisitsMonth
2145039   +          +    -0.03884372682505 * S_RFMstat  +     0.12404964867543 *
2145040   +        S_RMntFrq  +     0.41695593982518 * S_Recency
2145041   +          +     0.13451509125058 * S_Teenhome ;
MPRINT(EM_DIAGRAM):   H13 = -0.19745247224429 * S_AcceptedCmpTotal + 0.12296649801431 * S_Age 
+ 0.30380054301284 * S_Frq + -0.20561851411928 * S_Income + 0.26862281584112 * S_Kidhome + 
0.04085557903506 * S_MntFishProducts + 0.04667626132377 * S_MntFruits + 0.00814736574913 * 
S_MntGoldProds + 0.03678719281756 * S_MntSweetProducts + 0.12149827716086 * S_MonthsAsCustomer 
+ -0.07579622934099 * S_NumDealsPurchases + -0.32766887199758 * S_NumWebVisitsMonth + 
-0.03884372682505 * S_RFMstat + 0.12404964867543 * S_RMntFrq + 0.41695593982518 * S_Recency + 
0.13451509125058 * S_Teenhome ;
2145042   +   H11  = H11  +     1.35675382808415 * AcceptedCmp10
2145043   +          +    -0.11002433103629 * AcceptedCmp20  +     0.16502607393478 *
2145044   +        AcceptedCmp30  +    -0.05600642331364 * AcceptedCmp40
2145045   +          +     0.26058548958497 * AcceptedCmp50  +     0.13475990783818 *
2145046   +        Complain0  +     0.15296527049289 * HigherEducationBinary0 ;
MPRINT(EM_DIAGRAM):   H11 = H11 + 1.35675382808415 * AcceptedCmp10 + -0.11002433103629 * 
AcceptedCmp20 + 0.16502607393478 * AcceptedCmp30 + -0.05600642331364 * AcceptedCmp40 + 
0.26058548958497 * AcceptedCmp50 + 0.13475990783818 * Complain0 + 0.15296527049289 * 
HigherEducationBinary0 ;
2145047   +   H12  = H12  +     0.42439916481327 * AcceptedCmp10
2145048   +          +    -0.47117316697286 * AcceptedCmp20  +    -1.01563221321538 *
2145049   +        AcceptedCmp30  +    -1.22683651578342 * AcceptedCmp40
2145050   +          +    -0.01409161983154 * AcceptedCmp50  +    -0.17319143351034 *
2145051   +        Complain0  +     0.28531428296946 * HigherEducationBinary0 ;
MPRINT(EM_DIAGRAM):   H12 = H12 + 0.42439916481327 * AcceptedCmp10 + -0.47117316697286 * 
AcceptedCmp20 + -1.01563221321538 * AcceptedCmp30 + -1.22683651578342 * AcceptedCmp40 + 
-0.01409161983154 * AcceptedCmp50 + -0.17319143351034 * Complain0 + 0.28531428296946 * 
HigherEducationBinary0 ;
2145052   +   H13  = H13  +    -0.11940443900972 * AcceptedCmp10
2145053   +          +      0.2224729234506 * AcceptedCmp20  +     0.03960779259064 *
2145054   +        AcceptedCmp30  +    -0.04759970138444 * AcceptedCmp40
2145055   +          +     0.16012787279007 * AcceptedCmp50  +    -0.13128086861277 *
2145056   +        Complain0  +    -0.02106084686016 * HigherEducationBinary0 ;
MPRINT(EM_DIAGRAM):   H13 = H13 + -0.11940443900972 * AcceptedCmp10 + 0.2224729234506 * 
AcceptedCmp20 + 0.03960779259064 * AcceptedCmp30 + -0.04759970138444 * AcceptedCmp40 + 
0.16012787279007 * AcceptedCmp50 + -0.13128086861277 * Complain0 + -0.02106084686016 * 
HigherEducationBinary0 ;
2145057   +   H11  = H11  +     0.15724732214889 * Education2n_Cycle
2145058   +          +    -0.28073637806204 * EducationBasic  +     0.02543245889885 *
2145059   +        EducationGraduation  +    -0.21977763409467 * EducationMaster
2145060   +          +     0.18154308480365 * Marital_StatusDivorced
2145061   +          +    -0.11784929451382 * Marital_StatusMarried
2145062   +          +    -0.03444604215162 * Marital_StatusSingle
2145063   +          +    -0.09935331889933 * Marital_StatusTogether ;
MPRINT(EM_DIAGRAM):   H11 = H11 + 0.15724732214889 * Education2n_Cycle + -0.28073637806204 * 
EducationBasic + 0.02543245889885 * EducationGraduation + -0.21977763409467 * EducationMaster 
+ 0.18154308480365 * Marital_StatusDivorced + -0.11784929451382 * Marital_StatusMarried + 
-0.03444604215162 * Marital_StatusSingle + -0.09935331889933 * Marital_StatusTogether ;
2145064   +   H12  = H12  +    -0.09625341975755 * Education2n_Cycle
2145065   +          +     0.22223800760549 * EducationBasic  +     0.08854547546091 *
2145066   +        EducationGraduation  +    -0.24475078378526 * EducationMaster
2145067   +          +      -0.287562557272 * Marital_StatusDivorced
2145068   +          +    -0.76767006991581 * Marital_StatusMarried
2145069   +          +     0.77400843024053 * Marital_StatusSingle
2145070   +          +    -0.82922593841016 * Marital_StatusTogether ;
MPRINT(EM_DIAGRAM):   H12 = H12 + -0.09625341975755 * Education2n_Cycle + 0.22223800760549 * 
EducationBasic + 0.08854547546091 * EducationGraduation + -0.24475078378526 * EducationMaster 
+ -0.287562557272 * Marital_StatusDivorced + -0.76767006991581 * Marital_StatusMarried + 
0.77400843024053 * Marital_StatusSingle + -0.82922593841016 * Marital_StatusTogether ;
2145071   +   H13  = H13  +    -0.26037905844091 * Education2n_Cycle
2145072   +          +     0.28758815759567 * EducationBasic  +    -0.08361705669925 *
2145073   +        EducationGraduation  +     0.21183311472173 * EducationMaster
2145074   +          +    -0.34952991031177 * Marital_StatusDivorced
2145075   +          +     0.12643424122152 * Marital_StatusMarried
2145076   +          +     0.01053756602964 * Marital_StatusSingle
2145077   +          +     0.09967720854979 * Marital_StatusTogether ;
MPRINT(EM_DIAGRAM):   H13 = H13 + -0.26037905844091 * Education2n_Cycle + 0.28758815759567 * 
EducationBasic + -0.08361705669925 * EducationGraduation + 0.21183311472173 * EducationMaster 
+ -0.34952991031177 * Marital_StatusDivorced + 0.12643424122152 * Marital_StatusMarried + 
0.01053756602964 * Marital_StatusSingle + 0.09967720854979 * Marital_StatusTogether ;
2145078   +   H11  =    -1.18043244750249 + H11 ;
MPRINT(EM_DIAGRAM):   H11 = -1.18043244750249 + H11 ;
2145079   +   H12  =    -0.93677267255394 + H12 ;
MPRINT(EM_DIAGRAM):   H12 = -0.93677267255394 + H12 ;
2145080   +   H13  =    -0.12554919906064 + H13 ;
MPRINT(EM_DIAGRAM):   H13 = -0.12554919906064 + H13 ;
2145081   +   H11  = TANH(H11 );
MPRINT(EM_DIAGRAM):   H11 = TANH(H11 );
2145082   +   H12  = TANH(H12 );
MPRINT(EM_DIAGRAM):   H12 = TANH(H12 );
2145083   +   H13  = TANH(H13 );
MPRINT(EM_DIAGRAM):   H13 = TANH(H13 );
2145084   +END;
MPRINT(EM_DIAGRAM):   END;
2145085   +ELSE DO;
MPRINT(EM_DIAGRAM):   ELSE DO;
2145086   +   H11  = .;
MPRINT(EM_DIAGRAM):   H11 = .;
2145087   +   H12  = .;
MPRINT(EM_DIAGRAM):   H12 = .;
2145088   +   H13  = .;
MPRINT(EM_DIAGRAM):   H13 = .;
2145089   +END;
MPRINT(EM_DIAGRAM):   END;
2145090   +*** *************************;
MPRINT(EM_DIAGRAM):   *** *************************;
2145091   +*** Writing the Node DepVar ;
MPRINT(EM_DIAGRAM):   *** Writing the Node DepVar ;
2145092   +*** *************************;
MPRINT(EM_DIAGRAM):   *** *************************;
2145093   +
2145094   +*** Generate dummy variables for DepVar ;
MPRINT(EM_DIAGRAM):   *** Generate dummy variables for DepVar ;
2145095   +drop DepVar1 DepVar0 ;
MPRINT(EM_DIAGRAM):   drop DepVar1 DepVar0 ;
2145096   +label F_DepVar = 'From: DepVar' ;
MPRINT(EM_DIAGRAM):   label F_DepVar = 'From: DepVar' ;
2145097   +length F_DepVar $ 12;
MPRINT(EM_DIAGRAM):   length F_DepVar $ 12;
2145098   +F_DepVar = put( DepVar , BEST. );
MPRINT(EM_DIAGRAM):   F_DepVar = put( DepVar , BEST. );
2145099   +%DMNORMIP( F_DepVar )
MPRINT(DMNORMIP):   call dmnorm(F_DepVar,
MPRINT(DMNORLEN):  32
MPRINT(DMNORMIP):  );
2145100   +if missing( DepVar ) then do;
MPRINT(EM_DIAGRAM):   if missing( DepVar ) then do;
2145101   +   DepVar1 = .;
MPRINT(EM_DIAGRAM):   DepVar1 = .;
2145102   +   DepVar0 = .;
MPRINT(EM_DIAGRAM):   DepVar0 = .;
2145103   +end;
MPRINT(EM_DIAGRAM):   end;
2145104   +else do;
MPRINT(EM_DIAGRAM):   else do;
2145105   +   if F_DepVar = '0'  then do;
MPRINT(EM_DIAGRAM):   if F_DepVar = '0' then do;
2145106   +      DepVar1 = 0;
MPRINT(EM_DIAGRAM):   DepVar1 = 0;
2145107   +      DepVar0 = 1;
MPRINT(EM_DIAGRAM):   DepVar0 = 1;
2145108   +   end;
MPRINT(EM_DIAGRAM):   end;
2145109   +   else if F_DepVar = '1'  then do;
MPRINT(EM_DIAGRAM):   else if F_DepVar = '1' then do;
2145110   +      DepVar1 = 1;
MPRINT(EM_DIAGRAM):   DepVar1 = 1;
2145111   +      DepVar0 = 0;
MPRINT(EM_DIAGRAM):   DepVar0 = 0;
2145112   +   end;
MPRINT(EM_DIAGRAM):   end;
2145113   +   else do;
MPRINT(EM_DIAGRAM):   else do;
2145114   +      DepVar1 = .;
MPRINT(EM_DIAGRAM):   DepVar1 = .;
2145115   +      DepVar0 = .;
MPRINT(EM_DIAGRAM):   DepVar0 = .;
2145116   +   end;
MPRINT(EM_DIAGRAM):   end;
2145117   +end;
MPRINT(EM_DIAGRAM):   end;
2145118   +IF _DM_BAD EQ 0 THEN DO;
MPRINT(EM_DIAGRAM):   IF _DM_BAD EQ 0 THEN DO;
2145119   +   P_DepVar1  =    -5.01943942685766 * H11  +      5.1452509354081 * H12
2145120   +          +     -6.1441433712978 * H13 ;
MPRINT(EM_DIAGRAM):   P_DepVar1 = -5.01943942685766 * H11 + 5.1452509354081 * H12 + 
-6.1441433712978 * H13 ;
2145121   +   P_DepVar1  =    -0.23070454336851 + P_DepVar1 ;
MPRINT(EM_DIAGRAM):   P_DepVar1 = -0.23070454336851 + P_DepVar1 ;
2145122   +   P_DepVar0  = 0;
MPRINT(EM_DIAGRAM):   P_DepVar0 = 0;
2145123   +   _MAX_ = MAX (P_DepVar1 , P_DepVar0 );
MPRINT(EM_DIAGRAM):   _MAX_ = MAX (P_DepVar1 , P_DepVar0 );
2145124   +   _SUM_ = 0.;
MPRINT(EM_DIAGRAM):   _SUM_ = 0.;
2145125   +   P_DepVar1  = EXP(P_DepVar1  - _MAX_);
MPRINT(EM_DIAGRAM):   P_DepVar1 = EXP(P_DepVar1 - _MAX_);
2145126   +   _SUM_ = _SUM_ + P_DepVar1 ;
MPRINT(EM_DIAGRAM):   _SUM_ = _SUM_ + P_DepVar1 ;
2145127   +   P_DepVar0  = EXP(P_DepVar0  - _MAX_);
MPRINT(EM_DIAGRAM):   P_DepVar0 = EXP(P_DepVar0 - _MAX_);
2145128   +   _SUM_ = _SUM_ + P_DepVar0 ;
MPRINT(EM_DIAGRAM):   _SUM_ = _SUM_ + P_DepVar0 ;
2145129   +   P_DepVar1  = P_DepVar1  / _SUM_;
MPRINT(EM_DIAGRAM):   P_DepVar1 = P_DepVar1 / _SUM_;
2145130   +   P_DepVar0  = P_DepVar0  / _SUM_;
MPRINT(EM_DIAGRAM):   P_DepVar0 = P_DepVar0 / _SUM_;
2145131   +END;
MPRINT(EM_DIAGRAM):   END;
2145132   +ELSE DO;
MPRINT(EM_DIAGRAM):   ELSE DO;
2145133   +   P_DepVar1  = .;
MPRINT(EM_DIAGRAM):   P_DepVar1 = .;
2145134   +   P_DepVar0  = .;
MPRINT(EM_DIAGRAM):   P_DepVar0 = .;
2145135   +END;
MPRINT(EM_DIAGRAM):   END;
2145136   +IF _DM_BAD EQ 1 THEN DO;
MPRINT(EM_DIAGRAM):   IF _DM_BAD EQ 1 THEN DO;
2145137   +   P_DepVar1  =     0.15122156697556;
MPRINT(EM_DIAGRAM):   P_DepVar1 = 0.15122156697556;
2145138   +   P_DepVar0  =     0.84877843302443;
MPRINT(EM_DIAGRAM):   P_DepVar0 = 0.84877843302443;
2145139   +END;
MPRINT(EM_DIAGRAM):   END;
2145140   +*** *****************************;
MPRINT(EM_DIAGRAM):   *** *****************************;
2145141   +*** Writing the Residuals  of the Node DepVar ;
MPRINT(EM_DIAGRAM):   *** Writing the Residuals of the Node DepVar ;
2145142   +*** ******************************;
MPRINT(EM_DIAGRAM):   *** ******************************;
2145143   +IF MISSING( DepVar1 ) THEN R_DepVar1  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( DepVar1 ) THEN R_DepVar1 = . ;
2145144   +ELSE R_DepVar1  = DepVar1  - P_DepVar1 ;
MPRINT(EM_DIAGRAM):   ELSE R_DepVar1 = DepVar1 - P_DepVar1 ;
2145145   +IF MISSING( DepVar0 ) THEN R_DepVar0  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( DepVar0 ) THEN R_DepVar0 = . ;
2145146   +ELSE R_DepVar0  = DepVar0  - P_DepVar0 ;
MPRINT(EM_DIAGRAM):   ELSE R_DepVar0 = DepVar0 - P_DepVar0 ;
2145147   +*** *************************;
MPRINT(EM_DIAGRAM):   *** *************************;
2145148   +*** Writing the I_DepVar  AND U_DepVar ;
MPRINT(EM_DIAGRAM):   *** Writing the I_DepVar AND U_DepVar ;
2145149   +*** *************************;
MPRINT(EM_DIAGRAM):   *** *************************;
2145150   +_MAXP_ = P_DepVar1 ;
MPRINT(EM_DIAGRAM):   _MAXP_ = P_DepVar1 ;
2145151   +I_DepVar  = "1           " ;
MPRINT(EM_DIAGRAM):   I_DepVar = "1           " ;
2145152   +U_DepVar  =                    1;
MPRINT(EM_DIAGRAM):   U_DepVar = 1;
2145153   +IF( _MAXP_ LT P_DepVar0  ) THEN DO;
MPRINT(EM_DIAGRAM):   IF( _MAXP_ LT P_DepVar0 ) THEN DO;
2145154   +   _MAXP_ = P_DepVar0 ;
MPRINT(EM_DIAGRAM):   _MAXP_ = P_DepVar0 ;
2145155   +   I_DepVar  = "0           " ;
MPRINT(EM_DIAGRAM):   I_DepVar = "0           " ;
2145156   +   U_DepVar  =                    0;
MPRINT(EM_DIAGRAM):   U_DepVar = 0;
2145157   +END;
MPRINT(EM_DIAGRAM):   END;
2145158   +********************************;
MPRINT(EM_DIAGRAM):   ********************************;
2145159   +*** End Scoring Code for Neural;
MPRINT(EM_DIAGRAM):   *** End Scoring Code for Neural;
2145160   +********************************;
MPRINT(EM_DIAGRAM):   ********************************;
2145161   +drop
2145162   +H11
2145163   +H12
2145164   +H13
2145165   +;
MPRINT(EM_DIAGRAM):   drop H11 H12 H13 ;
2145166   +drop S_:;
MPRINT(EM_DIAGRAM):   drop S_:;
2145167   +* Renaming variables for Neural38;
MPRINT(EM_DIAGRAM):   * Renaming variables for Neural38;
2145168   +*------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
2145169   +* Renaming Posterior variables for Neural38;
MPRINT(EM_DIAGRAM):   * Renaming Posterior variables for Neural38;
2145170   +*------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
2145171   +drop Neural38_P_DepVar1;
MPRINT(EM_DIAGRAM):   drop Neural38_P_DepVar1;
2145172   +Neural38_P_DepVar1 = P_DepVar1;
MPRINT(EM_DIAGRAM):   Neural38_P_DepVar1 = P_DepVar1;
2145173   +drop Neural38_P_DepVar0;
MPRINT(EM_DIAGRAM):   drop Neural38_P_DepVar0;
2145174   +Neural38_P_DepVar0 = P_DepVar0;
MPRINT(EM_DIAGRAM):   Neural38_P_DepVar0 = P_DepVar0;
2145175   +*------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
2145176   +* Renaming _WARN_ variable for Neural38;
MPRINT(EM_DIAGRAM):   * Renaming _WARN_ variable for Neural38;
2145177   +*------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
2145178   +length Neural38_WARN_ $4;
MPRINT(EM_DIAGRAM):   length Neural38_WARN_ $4;
2145179   +drop Neural38_WARN_;
MPRINT(EM_DIAGRAM):   drop Neural38_WARN_;
2145180   +Neural38_WARN_ = _WARN_;
MPRINT(EM_DIAGRAM):   Neural38_WARN_ = _WARN_;
2145181   +*------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
2145182   +* Ensmbl23: Scoring Code of model 5 of 5;
MPRINT(EM_DIAGRAM):   * Ensmbl23: Scoring Code of model 5 of 5;
2145183   +*------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
2145184   +*------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
2145185   +* TOOL: Neural;
MPRINT(EM_DIAGRAM):   * TOOL: Neural;
2145186   +* TYPE: MODEL;
MPRINT(EM_DIAGRAM):   * TYPE: MODEL;
2145187   +* NODE: Neural37;
MPRINT(EM_DIAGRAM):   * NODE: Neural37;
2145188   +*------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
2145189   +***********************************;
MPRINT(EM_DIAGRAM):   ***********************************;
2145190   +*** Begin Scoring Code for Neural;
MPRINT(EM_DIAGRAM):   *** Begin Scoring Code for Neural;
2145191   +***********************************;
MPRINT(EM_DIAGRAM):   ***********************************;
2145192   +DROP _DM_BAD _EPS _NOCL_ _MAX_ _MAXP_ _SUM_ _NTRIALS;
MPRINT(EM_DIAGRAM):   DROP _DM_BAD _EPS _NOCL_ _MAX_ _MAXP_ _SUM_ _NTRIALS;
2145193   + _DM_BAD = 0;
MPRINT(EM_DIAGRAM):   _DM_BAD = 0;
2145194   + _NOCL_ = .;
MPRINT(EM_DIAGRAM):   _NOCL_ = .;
2145195   + _MAX_ = .;
MPRINT(EM_DIAGRAM):   _MAX_ = .;
2145196   + _MAXP_ = .;
MPRINT(EM_DIAGRAM):   _MAXP_ = .;
2145197   + _SUM_ = .;
MPRINT(EM_DIAGRAM):   _SUM_ = .;
2145198   + _NTRIALS = .;
MPRINT(EM_DIAGRAM):   _NTRIALS = .;
2145199   + _EPS =                1E-10;
MPRINT(EM_DIAGRAM):   _EPS = 1E-10;
2145200   +LENGTH _WARN_ $4
2145201   +      F_DepVar  $ 12
2145202   +;
MPRINT(EM_DIAGRAM):   LENGTH _WARN_ $4 F_DepVar $ 12 ;
2145203   +      label S_AcceptedCmpTotal = 'Standard: AcceptedCmpTotal' ;
MPRINT(EM_DIAGRAM):   label S_AcceptedCmpTotal = 'Standard: AcceptedCmpTotal' ;
2145204   +
2145205   +      label S_Age = 'Standard: Age' ;
MPRINT(EM_DIAGRAM):   label S_Age = 'Standard: Age' ;
2145206   +
2145207   +      label S_Frq = 'Standard: Frq' ;
MPRINT(EM_DIAGRAM):   label S_Frq = 'Standard: Frq' ;
2145208   +
2145209   +      label S_Income = 'Standard: Income' ;
MPRINT(EM_DIAGRAM):   label S_Income = 'Standard: Income' ;
2145210   +
2145211   +      label S_Kidhome = 'Standard: Kidhome' ;
MPRINT(EM_DIAGRAM):   label S_Kidhome = 'Standard: Kidhome' ;
2145212   +
2145213   +      label S_MntFishProducts = 'Standard: MntFishProducts' ;
MPRINT(EM_DIAGRAM):   label S_MntFishProducts = 'Standard: MntFishProducts' ;
2145214   +
2145215   +      label S_MntFruits = 'Standard: MntFruits' ;
MPRINT(EM_DIAGRAM):   label S_MntFruits = 'Standard: MntFruits' ;
2145216   +
2145217   +      label S_MntGoldProds = 'Standard: MntGoldProds' ;
MPRINT(EM_DIAGRAM):   label S_MntGoldProds = 'Standard: MntGoldProds' ;
2145218   +
2145219   +      label S_MntSweetProducts = 'Standard: MntSweetProducts' ;
MPRINT(EM_DIAGRAM):   label S_MntSweetProducts = 'Standard: MntSweetProducts' ;
2145220   +
2145221   +      label S_MonthsAsCustomer = 'Standard: MonthsAsCustomer' ;
MPRINT(EM_DIAGRAM):   label S_MonthsAsCustomer = 'Standard: MonthsAsCustomer' ;
2145222   +
2145223   +      label S_NumDealsPurchases = 'Standard: NumDealsPurchases' ;
MPRINT(EM_DIAGRAM):   label S_NumDealsPurchases = 'Standard: NumDealsPurchases' ;
2145224   +
2145225   +      label S_NumWebVisitsMonth = 'Standard: NumWebVisitsMonth' ;
MPRINT(EM_DIAGRAM):   label S_NumWebVisitsMonth = 'Standard: NumWebVisitsMonth' ;
2145226   +
2145227   +      label S_RFMstat = 'Standard: RFMstat' ;
MPRINT(EM_DIAGRAM):   label S_RFMstat = 'Standard: RFMstat' ;
2145228   +
2145229   +      label S_RMntFrq = 'Standard: RMntFrq' ;
MPRINT(EM_DIAGRAM):   label S_RMntFrq = 'Standard: RMntFrq' ;
2145230   +
2145231   +      label S_Recency = 'Standard: Recency' ;
MPRINT(EM_DIAGRAM):   label S_Recency = 'Standard: Recency' ;
2145232   +
2145233   +      label S_Teenhome = 'Standard: Teenhome' ;
MPRINT(EM_DIAGRAM):   label S_Teenhome = 'Standard: Teenhome' ;
2145234   +
2145235   +      label AcceptedCmp10 = 'Dummy: AcceptedCmp1=0' ;
MPRINT(EM_DIAGRAM):   label AcceptedCmp10 = 'Dummy: AcceptedCmp1=0' ;
2145236   +
2145237   +      label AcceptedCmp20 = 'Dummy: AcceptedCmp2=0' ;
MPRINT(EM_DIAGRAM):   label AcceptedCmp20 = 'Dummy: AcceptedCmp2=0' ;
2145238   +
2145239   +      label AcceptedCmp30 = 'Dummy: AcceptedCmp3=0' ;
MPRINT(EM_DIAGRAM):   label AcceptedCmp30 = 'Dummy: AcceptedCmp3=0' ;
2145240   +
2145241   +      label AcceptedCmp40 = 'Dummy: AcceptedCmp4=0' ;
MPRINT(EM_DIAGRAM):   label AcceptedCmp40 = 'Dummy: AcceptedCmp4=0' ;
2145242   +
2145243   +      label AcceptedCmp50 = 'Dummy: AcceptedCmp5=0' ;
MPRINT(EM_DIAGRAM):   label AcceptedCmp50 = 'Dummy: AcceptedCmp5=0' ;
2145244   +
2145245   +      label Complain0 = 'Dummy: Complain=0' ;
MPRINT(EM_DIAGRAM):   label Complain0 = 'Dummy: Complain=0' ;
2145246   +
2145247   +      label HigherEducationBinary0 = 'Dummy: HigherEducationBinary=0' ;
MPRINT(EM_DIAGRAM):   label HigherEducationBinary0 = 'Dummy: HigherEducationBinary=0' ;
2145248   +
2145249   +      label Education2n_Cycle = 'Dummy: Education=2n Cycle' ;
MPRINT(EM_DIAGRAM):   label Education2n_Cycle = 'Dummy: Education=2n Cycle' ;
2145250   +
2145251   +      label EducationBasic = 'Dummy: Education=Basic' ;
MPRINT(EM_DIAGRAM):   label EducationBasic = 'Dummy: Education=Basic' ;
2145252   +
2145253   +      label EducationGraduation = 'Dummy: Education=Graduation' ;
MPRINT(EM_DIAGRAM):   label EducationGraduation = 'Dummy: Education=Graduation' ;
2145254   +
2145255   +      label EducationMaster = 'Dummy: Education=Master' ;
MPRINT(EM_DIAGRAM):   label EducationMaster = 'Dummy: Education=Master' ;
2145256   +
2145257   +      label Marital_StatusDivorced = 'Dummy: Marital_Status=Divorced' ;
MPRINT(EM_DIAGRAM):   label Marital_StatusDivorced = 'Dummy: Marital_Status=Divorced' ;
2145258   +
2145259   +      label Marital_StatusMarried = 'Dummy: Marital_Status=Married' ;
MPRINT(EM_DIAGRAM):   label Marital_StatusMarried = 'Dummy: Marital_Status=Married' ;
2145260   +
2145261   +      label Marital_StatusSingle = 'Dummy: Marital_Status=Single' ;
MPRINT(EM_DIAGRAM):   label Marital_StatusSingle = 'Dummy: Marital_Status=Single' ;
2145262   +
2145263   +      label Marital_StatusTogether = 'Dummy: Marital_Status=Together' ;
MPRINT(EM_DIAGRAM):   label Marital_StatusTogether = 'Dummy: Marital_Status=Together' ;
2145264   +
2145265   +      label H11 = 'Hidden: H1=1' ;
MPRINT(EM_DIAGRAM):   label H11 = 'Hidden: H1=1' ;
2145266   +
2145267   +      label H12 = 'Hidden: H1=2' ;
MPRINT(EM_DIAGRAM):   label H12 = 'Hidden: H1=2' ;
2145268   +
2145269   +      label I_DepVar = 'Into: DepVar' ;
MPRINT(EM_DIAGRAM):   label I_DepVar = 'Into: DepVar' ;
2145270   +
2145271   +      label F_DepVar = 'From: DepVar' ;
MPRINT(EM_DIAGRAM):   label F_DepVar = 'From: DepVar' ;
2145272   +
2145273   +      label U_DepVar = 'Unnormalized Into: DepVar' ;
MPRINT(EM_DIAGRAM):   label U_DepVar = 'Unnormalized Into: DepVar' ;
2145274   +
2145275   +      label P_DepVar1 = 'Predicted: DepVar=1' ;
MPRINT(EM_DIAGRAM):   label P_DepVar1 = 'Predicted: DepVar=1' ;
2145276   +
2145277   +      label R_DepVar1 = 'Residual: DepVar=1' ;
MPRINT(EM_DIAGRAM):   label R_DepVar1 = 'Residual: DepVar=1' ;
2145278   +
2145279   +      label P_DepVar0 = 'Predicted: DepVar=0' ;
MPRINT(EM_DIAGRAM):   label P_DepVar0 = 'Predicted: DepVar=0' ;
2145280   +
2145281   +      label R_DepVar0 = 'Residual: DepVar=0' ;
MPRINT(EM_DIAGRAM):   label R_DepVar0 = 'Residual: DepVar=0' ;
2145282   +
2145283   +      label  _WARN_ = "Warnings";
MPRINT(EM_DIAGRAM):   label _WARN_ = "Warnings";
2145284   +
2145285   +*** Generate dummy variables for AcceptedCmp1 ;
MPRINT(EM_DIAGRAM):   *** Generate dummy variables for AcceptedCmp1 ;
2145286   +drop AcceptedCmp10 ;
MPRINT(EM_DIAGRAM):   drop AcceptedCmp10 ;
2145287   +if missing( AcceptedCmp1 ) then do;
MPRINT(EM_DIAGRAM):   if missing( AcceptedCmp1 ) then do;
2145288   +   AcceptedCmp10 = .;
MPRINT(EM_DIAGRAM):   AcceptedCmp10 = .;
2145289   +   substr(_warn_,1,1) = 'M';
MPRINT(EM_DIAGRAM):   substr(_warn_,1,1) = 'M';
2145290   +   _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2145291   +end;
MPRINT(EM_DIAGRAM):   end;
2145292   +else do;
MPRINT(EM_DIAGRAM):   else do;
2145293   +   length _dm12 $ 12; drop _dm12 ;
MPRINT(EM_DIAGRAM):   length _dm12 $ 12;
MPRINT(EM_DIAGRAM):   drop _dm12 ;
2145294   +   _dm12 = put( AcceptedCmp1 , BEST. );
MPRINT(EM_DIAGRAM):   _dm12 = put( AcceptedCmp1 , BEST. );
2145295   +   %DMNORMIP( _dm12 )
MPRINT(DMNORMIP):   call dmnorm(_dm12,
MPRINT(DMNORLEN):  32
MPRINT(DMNORMIP):  );
2145296   +   if _dm12 = '0'  then do;
MPRINT(EM_DIAGRAM):   if _dm12 = '0' then do;
2145297   +      AcceptedCmp10 = 1;
MPRINT(EM_DIAGRAM):   AcceptedCmp10 = 1;
2145298   +   end;
MPRINT(EM_DIAGRAM):   end;
2145299   +   else if _dm12 = '1'  then do;
MPRINT(EM_DIAGRAM):   else if _dm12 = '1' then do;
2145300   +      AcceptedCmp10 = -1;
MPRINT(EM_DIAGRAM):   AcceptedCmp10 = -1;
2145301   +   end;
MPRINT(EM_DIAGRAM):   end;
2145302   +   else do;
MPRINT(EM_DIAGRAM):   else do;
2145303   +      AcceptedCmp10 = .;
MPRINT(EM_DIAGRAM):   AcceptedCmp10 = .;
2145304   +      substr(_warn_,2,1) = 'U';
MPRINT(EM_DIAGRAM):   substr(_warn_,2,1) = 'U';
2145305   +      _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2145306   +   end;
MPRINT(EM_DIAGRAM):   end;
2145307   +end;
MPRINT(EM_DIAGRAM):   end;
2145308   +
2145309   +*** Generate dummy variables for AcceptedCmp2 ;
MPRINT(EM_DIAGRAM):   *** Generate dummy variables for AcceptedCmp2 ;
2145310   +drop AcceptedCmp20 ;
MPRINT(EM_DIAGRAM):   drop AcceptedCmp20 ;
2145311   +if missing( AcceptedCmp2 ) then do;
MPRINT(EM_DIAGRAM):   if missing( AcceptedCmp2 ) then do;
2145312   +   AcceptedCmp20 = .;
MPRINT(EM_DIAGRAM):   AcceptedCmp20 = .;
2145313   +   substr(_warn_,1,1) = 'M';
MPRINT(EM_DIAGRAM):   substr(_warn_,1,1) = 'M';
2145314   +   _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2145315   +end;
MPRINT(EM_DIAGRAM):   end;
2145316   +else do;
MPRINT(EM_DIAGRAM):   else do;
2145317   +   length _dm12 $ 12; drop _dm12 ;
MPRINT(EM_DIAGRAM):   length _dm12 $ 12;
MPRINT(EM_DIAGRAM):   drop _dm12 ;
2145318   +   _dm12 = put( AcceptedCmp2 , BEST. );
MPRINT(EM_DIAGRAM):   _dm12 = put( AcceptedCmp2 , BEST. );
2145319   +   %DMNORMIP( _dm12 )
MPRINT(DMNORMIP):   call dmnorm(_dm12,
MPRINT(DMNORLEN):  32
MPRINT(DMNORMIP):  );
2145320   +   if _dm12 = '0'  then do;
MPRINT(EM_DIAGRAM):   if _dm12 = '0' then do;
2145321   +      AcceptedCmp20 = 1;
MPRINT(EM_DIAGRAM):   AcceptedCmp20 = 1;
2145322   +   end;
MPRINT(EM_DIAGRAM):   end;
2145323   +   else if _dm12 = '1'  then do;
MPRINT(EM_DIAGRAM):   else if _dm12 = '1' then do;
2145324   +      AcceptedCmp20 = -1;
MPRINT(EM_DIAGRAM):   AcceptedCmp20 = -1;
2145325   +   end;
MPRINT(EM_DIAGRAM):   end;
2145326   +   else do;
MPRINT(EM_DIAGRAM):   else do;
2145327   +      AcceptedCmp20 = .;
MPRINT(EM_DIAGRAM):   AcceptedCmp20 = .;
2145328   +      substr(_warn_,2,1) = 'U';
MPRINT(EM_DIAGRAM):   substr(_warn_,2,1) = 'U';
2145329   +      _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2145330   +   end;
MPRINT(EM_DIAGRAM):   end;
2145331   +end;
MPRINT(EM_DIAGRAM):   end;
2145332   +
2145333   +*** Generate dummy variables for AcceptedCmp3 ;
MPRINT(EM_DIAGRAM):   *** Generate dummy variables for AcceptedCmp3 ;
2145334   +drop AcceptedCmp30 ;
MPRINT(EM_DIAGRAM):   drop AcceptedCmp30 ;
2145335   +if missing( AcceptedCmp3 ) then do;
MPRINT(EM_DIAGRAM):   if missing( AcceptedCmp3 ) then do;
2145336   +   AcceptedCmp30 = .;
MPRINT(EM_DIAGRAM):   AcceptedCmp30 = .;
2145337   +   substr(_warn_,1,1) = 'M';
MPRINT(EM_DIAGRAM):   substr(_warn_,1,1) = 'M';
2145338   +   _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2145339   +end;
MPRINT(EM_DIAGRAM):   end;
2145340   +else do;
MPRINT(EM_DIAGRAM):   else do;
2145341   +   length _dm12 $ 12; drop _dm12 ;
MPRINT(EM_DIAGRAM):   length _dm12 $ 12;
MPRINT(EM_DIAGRAM):   drop _dm12 ;
2145342   +   _dm12 = put( AcceptedCmp3 , BEST. );
MPRINT(EM_DIAGRAM):   _dm12 = put( AcceptedCmp3 , BEST. );
2145343   +   %DMNORMIP( _dm12 )
MPRINT(DMNORMIP):   call dmnorm(_dm12,
MPRINT(DMNORLEN):  32
MPRINT(DMNORMIP):  );
2145344   +   if _dm12 = '0'  then do;
MPRINT(EM_DIAGRAM):   if _dm12 = '0' then do;
2145345   +      AcceptedCmp30 = 1;
MPRINT(EM_DIAGRAM):   AcceptedCmp30 = 1;
2145346   +   end;
MPRINT(EM_DIAGRAM):   end;
2145347   +   else if _dm12 = '1'  then do;
MPRINT(EM_DIAGRAM):   else if _dm12 = '1' then do;
2145348   +      AcceptedCmp30 = -1;
MPRINT(EM_DIAGRAM):   AcceptedCmp30 = -1;
2145349   +   end;
MPRINT(EM_DIAGRAM):   end;
2145350   +   else do;
MPRINT(EM_DIAGRAM):   else do;
2145351   +      AcceptedCmp30 = .;
MPRINT(EM_DIAGRAM):   AcceptedCmp30 = .;
2145352   +      substr(_warn_,2,1) = 'U';
MPRINT(EM_DIAGRAM):   substr(_warn_,2,1) = 'U';
2145353   +      _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2145354   +   end;
MPRINT(EM_DIAGRAM):   end;
2145355   +end;
MPRINT(EM_DIAGRAM):   end;
2145356   +
2145357   +*** Generate dummy variables for AcceptedCmp4 ;
MPRINT(EM_DIAGRAM):   *** Generate dummy variables for AcceptedCmp4 ;
2145358   +drop AcceptedCmp40 ;
MPRINT(EM_DIAGRAM):   drop AcceptedCmp40 ;
2145359   +if missing( AcceptedCmp4 ) then do;
MPRINT(EM_DIAGRAM):   if missing( AcceptedCmp4 ) then do;
2145360   +   AcceptedCmp40 = .;
MPRINT(EM_DIAGRAM):   AcceptedCmp40 = .;
2145361   +   substr(_warn_,1,1) = 'M';
MPRINT(EM_DIAGRAM):   substr(_warn_,1,1) = 'M';
2145362   +   _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2145363   +end;
MPRINT(EM_DIAGRAM):   end;
2145364   +else do;
MPRINT(EM_DIAGRAM):   else do;
2145365   +   length _dm12 $ 12; drop _dm12 ;
MPRINT(EM_DIAGRAM):   length _dm12 $ 12;
MPRINT(EM_DIAGRAM):   drop _dm12 ;
2145366   +   _dm12 = put( AcceptedCmp4 , BEST. );
MPRINT(EM_DIAGRAM):   _dm12 = put( AcceptedCmp4 , BEST. );
2145367   +   %DMNORMIP( _dm12 )
MPRINT(DMNORMIP):   call dmnorm(_dm12,
MPRINT(DMNORLEN):  32
MPRINT(DMNORMIP):  );
2145368   +   if _dm12 = '0'  then do;
MPRINT(EM_DIAGRAM):   if _dm12 = '0' then do;
2145369   +      AcceptedCmp40 = 1;
MPRINT(EM_DIAGRAM):   AcceptedCmp40 = 1;
2145370   +   end;
MPRINT(EM_DIAGRAM):   end;
2145371   +   else if _dm12 = '1'  then do;
MPRINT(EM_DIAGRAM):   else if _dm12 = '1' then do;
2145372   +      AcceptedCmp40 = -1;
MPRINT(EM_DIAGRAM):   AcceptedCmp40 = -1;
2145373   +   end;
MPRINT(EM_DIAGRAM):   end;
2145374   +   else do;
MPRINT(EM_DIAGRAM):   else do;
2145375   +      AcceptedCmp40 = .;
MPRINT(EM_DIAGRAM):   AcceptedCmp40 = .;
2145376   +      substr(_warn_,2,1) = 'U';
MPRINT(EM_DIAGRAM):   substr(_warn_,2,1) = 'U';
2145377   +      _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2145378   +   end;
MPRINT(EM_DIAGRAM):   end;
2145379   +end;
MPRINT(EM_DIAGRAM):   end;
2145380   +
2145381   +*** Generate dummy variables for AcceptedCmp5 ;
MPRINT(EM_DIAGRAM):   *** Generate dummy variables for AcceptedCmp5 ;
2145382   +drop AcceptedCmp50 ;
MPRINT(EM_DIAGRAM):   drop AcceptedCmp50 ;
2145383   +if missing( AcceptedCmp5 ) then do;
MPRINT(EM_DIAGRAM):   if missing( AcceptedCmp5 ) then do;
2145384   +   AcceptedCmp50 = .;
MPRINT(EM_DIAGRAM):   AcceptedCmp50 = .;
2145385   +   substr(_warn_,1,1) = 'M';
MPRINT(EM_DIAGRAM):   substr(_warn_,1,1) = 'M';
2145386   +   _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2145387   +end;
MPRINT(EM_DIAGRAM):   end;
2145388   +else do;
MPRINT(EM_DIAGRAM):   else do;
2145389   +   length _dm12 $ 12; drop _dm12 ;
MPRINT(EM_DIAGRAM):   length _dm12 $ 12;
MPRINT(EM_DIAGRAM):   drop _dm12 ;
2145390   +   _dm12 = put( AcceptedCmp5 , BEST. );
MPRINT(EM_DIAGRAM):   _dm12 = put( AcceptedCmp5 , BEST. );
2145391   +   %DMNORMIP( _dm12 )
MPRINT(DMNORMIP):   call dmnorm(_dm12,
MPRINT(DMNORLEN):  32
MPRINT(DMNORMIP):  );
2145392   +   if _dm12 = '0'  then do;
MPRINT(EM_DIAGRAM):   if _dm12 = '0' then do;
2145393   +      AcceptedCmp50 = 1;
MPRINT(EM_DIAGRAM):   AcceptedCmp50 = 1;
2145394   +   end;
MPRINT(EM_DIAGRAM):   end;
2145395   +   else if _dm12 = '1'  then do;
MPRINT(EM_DIAGRAM):   else if _dm12 = '1' then do;
2145396   +      AcceptedCmp50 = -1;
MPRINT(EM_DIAGRAM):   AcceptedCmp50 = -1;
2145397   +   end;
MPRINT(EM_DIAGRAM):   end;
2145398   +   else do;
MPRINT(EM_DIAGRAM):   else do;
2145399   +      AcceptedCmp50 = .;
MPRINT(EM_DIAGRAM):   AcceptedCmp50 = .;
2145400   +      substr(_warn_,2,1) = 'U';
MPRINT(EM_DIAGRAM):   substr(_warn_,2,1) = 'U';
2145401   +      _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2145402   +   end;
MPRINT(EM_DIAGRAM):   end;
2145403   +end;
MPRINT(EM_DIAGRAM):   end;
2145404   +
2145405   +*** Generate dummy variables for Complain ;
MPRINT(EM_DIAGRAM):   *** Generate dummy variables for Complain ;
2145406   +drop Complain0 ;
MPRINT(EM_DIAGRAM):   drop Complain0 ;
2145407   +if missing( Complain ) then do;
MPRINT(EM_DIAGRAM):   if missing( Complain ) then do;
2145408   +   Complain0 = .;
MPRINT(EM_DIAGRAM):   Complain0 = .;
2145409   +   substr(_warn_,1,1) = 'M';
MPRINT(EM_DIAGRAM):   substr(_warn_,1,1) = 'M';
2145410   +   _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2145411   +end;
MPRINT(EM_DIAGRAM):   end;
2145412   +else do;
MPRINT(EM_DIAGRAM):   else do;
2145413   +   length _dm12 $ 12; drop _dm12 ;
MPRINT(EM_DIAGRAM):   length _dm12 $ 12;
MPRINT(EM_DIAGRAM):   drop _dm12 ;
2145414   +   _dm12 = put( Complain , BEST. );
MPRINT(EM_DIAGRAM):   _dm12 = put( Complain , BEST. );
2145415   +   %DMNORMIP( _dm12 )
MPRINT(DMNORMIP):   call dmnorm(_dm12,
MPRINT(DMNORLEN):  32
MPRINT(DMNORMIP):  );
2145416   +   if _dm12 = '0'  then do;
MPRINT(EM_DIAGRAM):   if _dm12 = '0' then do;
2145417   +      Complain0 = 1;
MPRINT(EM_DIAGRAM):   Complain0 = 1;
2145418   +   end;
MPRINT(EM_DIAGRAM):   end;
2145419   +   else if _dm12 = '1'  then do;
MPRINT(EM_DIAGRAM):   else if _dm12 = '1' then do;
2145420   +      Complain0 = -1;
MPRINT(EM_DIAGRAM):   Complain0 = -1;
2145421   +   end;
MPRINT(EM_DIAGRAM):   end;
2145422   +   else do;
MPRINT(EM_DIAGRAM):   else do;
2145423   +      Complain0 = .;
MPRINT(EM_DIAGRAM):   Complain0 = .;
2145424   +      substr(_warn_,2,1) = 'U';
MPRINT(EM_DIAGRAM):   substr(_warn_,2,1) = 'U';
2145425   +      _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2145426   +   end;
MPRINT(EM_DIAGRAM):   end;
2145427   +end;
MPRINT(EM_DIAGRAM):   end;
2145428   +
2145429   +*** Generate dummy variables for HigherEducationBinary ;
MPRINT(EM_DIAGRAM):   *** Generate dummy variables for HigherEducationBinary ;
2145430   +drop HigherEducationBinary0 ;
MPRINT(EM_DIAGRAM):   drop HigherEducationBinary0 ;
2145431   +if missing( HigherEducationBinary ) then do;
MPRINT(EM_DIAGRAM):   if missing( HigherEducationBinary ) then do;
2145432   +   HigherEducationBinary0 = .;
MPRINT(EM_DIAGRAM):   HigherEducationBinary0 = .;
2145433   +   substr(_warn_,1,1) = 'M';
MPRINT(EM_DIAGRAM):   substr(_warn_,1,1) = 'M';
2145434   +   _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2145435   +end;
MPRINT(EM_DIAGRAM):   end;
2145436   +else do;
MPRINT(EM_DIAGRAM):   else do;
2145437   +   length _dm12 $ 12; drop _dm12 ;
MPRINT(EM_DIAGRAM):   length _dm12 $ 12;
MPRINT(EM_DIAGRAM):   drop _dm12 ;
2145438   +   _dm12 = put( HigherEducationBinary , BEST12. );
MPRINT(EM_DIAGRAM):   _dm12 = put( HigherEducationBinary , BEST12. );
2145439   +   %DMNORMIP( _dm12 )
MPRINT(DMNORMIP):   call dmnorm(_dm12,
MPRINT(DMNORLEN):  32
MPRINT(DMNORMIP):  );
2145440   +   if _dm12 = '1'  then do;
MPRINT(EM_DIAGRAM):   if _dm12 = '1' then do;
2145441   +      HigherEducationBinary0 = -1;
MPRINT(EM_DIAGRAM):   HigherEducationBinary0 = -1;
2145442   +   end;
MPRINT(EM_DIAGRAM):   end;
2145443   +   else if _dm12 = '0'  then do;
MPRINT(EM_DIAGRAM):   else if _dm12 = '0' then do;
2145444   +      HigherEducationBinary0 = 1;
MPRINT(EM_DIAGRAM):   HigherEducationBinary0 = 1;
2145445   +   end;
MPRINT(EM_DIAGRAM):   end;
2145446   +   else do;
MPRINT(EM_DIAGRAM):   else do;
2145447   +      HigherEducationBinary0 = .;
MPRINT(EM_DIAGRAM):   HigherEducationBinary0 = .;
2145448   +      substr(_warn_,2,1) = 'U';
MPRINT(EM_DIAGRAM):   substr(_warn_,2,1) = 'U';
2145449   +      _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2145450   +   end;
MPRINT(EM_DIAGRAM):   end;
2145451   +end;
MPRINT(EM_DIAGRAM):   end;
2145452   +
2145453   +*** Generate dummy variables for Education ;
MPRINT(EM_DIAGRAM):   *** Generate dummy variables for Education ;
2145454   +drop Education2n_Cycle EducationBasic EducationGraduation EducationMaster ;
MPRINT(EM_DIAGRAM):   drop Education2n_Cycle EducationBasic EducationGraduation 
EducationMaster ;
2145455   +*** encoding is sparse, initialize to zero;
MPRINT(EM_DIAGRAM):   *** encoding is sparse, initialize to zero;
2145456   +Education2n_Cycle = 0;
MPRINT(EM_DIAGRAM):   Education2n_Cycle = 0;
2145457   +EducationBasic = 0;
MPRINT(EM_DIAGRAM):   EducationBasic = 0;
2145458   +EducationGraduation = 0;
MPRINT(EM_DIAGRAM):   EducationGraduation = 0;
2145459   +EducationMaster = 0;
MPRINT(EM_DIAGRAM):   EducationMaster = 0;
2145460   +if missing( Education ) then do;
MPRINT(EM_DIAGRAM):   if missing( Education ) then do;
2145461   +   Education2n_Cycle = .;
MPRINT(EM_DIAGRAM):   Education2n_Cycle = .;
2145462   +   EducationBasic = .;
MPRINT(EM_DIAGRAM):   EducationBasic = .;
2145463   +   EducationGraduation = .;
MPRINT(EM_DIAGRAM):   EducationGraduation = .;
2145464   +   EducationMaster = .;
MPRINT(EM_DIAGRAM):   EducationMaster = .;
2145465   +   substr(_warn_,1,1) = 'M';
MPRINT(EM_DIAGRAM):   substr(_warn_,1,1) = 'M';
2145466   +   _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2145467   +end;
MPRINT(EM_DIAGRAM):   end;
2145468   +else do;
MPRINT(EM_DIAGRAM):   else do;
2145469   +   length _dm10 $ 10; drop _dm10 ;
MPRINT(EM_DIAGRAM):   length _dm10 $ 10;
MPRINT(EM_DIAGRAM):   drop _dm10 ;
2145470   +   _dm10 = put( Education , $10. );
MPRINT(EM_DIAGRAM):   _dm10 = put( Education , $10. );
2145471   +   %DMNORMIP( _dm10 )
MPRINT(DMNORMIP):   call dmnorm(_dm10,
MPRINT(DMNORLEN):  32
MPRINT(DMNORMIP):  );
2145472   +   if _dm10 = 'GRADUATION'  then do;
MPRINT(EM_DIAGRAM):   if _dm10 = 'GRADUATION' then do;
2145473   +      EducationGraduation = 1;
MPRINT(EM_DIAGRAM):   EducationGraduation = 1;
2145474   +   end;
MPRINT(EM_DIAGRAM):   end;
2145475   +   else if _dm10 = 'PHD'  then do;
MPRINT(EM_DIAGRAM):   else if _dm10 = 'PHD' then do;
2145476   +      Education2n_Cycle = -1;
MPRINT(EM_DIAGRAM):   Education2n_Cycle = -1;
2145477   +      EducationBasic = -1;
MPRINT(EM_DIAGRAM):   EducationBasic = -1;
2145478   +      EducationGraduation = -1;
MPRINT(EM_DIAGRAM):   EducationGraduation = -1;
2145479   +      EducationMaster = -1;
MPRINT(EM_DIAGRAM):   EducationMaster = -1;
2145480   +   end;
MPRINT(EM_DIAGRAM):   end;
2145481   +   else if _dm10 = 'MASTER'  then do;
MPRINT(EM_DIAGRAM):   else if _dm10 = 'MASTER' then do;
2145482   +      EducationMaster = 1;
MPRINT(EM_DIAGRAM):   EducationMaster = 1;
2145483   +   end;
MPRINT(EM_DIAGRAM):   end;
2145484   +   else if _dm10 = '2N CYCLE'  then do;
MPRINT(EM_DIAGRAM):   else if _dm10 = '2N CYCLE' then do;
2145485   +      Education2n_Cycle = 1;
MPRINT(EM_DIAGRAM):   Education2n_Cycle = 1;
2145486   +   end;
MPRINT(EM_DIAGRAM):   end;
2145487   +   else if _dm10 = 'BASIC'  then do;
MPRINT(EM_DIAGRAM):   else if _dm10 = 'BASIC' then do;
2145488   +      EducationBasic = 1;
MPRINT(EM_DIAGRAM):   EducationBasic = 1;
2145489   +   end;
MPRINT(EM_DIAGRAM):   end;
2145490   +   else do;
MPRINT(EM_DIAGRAM):   else do;
2145491   +      Education2n_Cycle = .;
MPRINT(EM_DIAGRAM):   Education2n_Cycle = .;
2145492   +      EducationBasic = .;
MPRINT(EM_DIAGRAM):   EducationBasic = .;
2145493   +      EducationGraduation = .;
MPRINT(EM_DIAGRAM):   EducationGraduation = .;
2145494   +      EducationMaster = .;
MPRINT(EM_DIAGRAM):   EducationMaster = .;
2145495   +      substr(_warn_,2,1) = 'U';
MPRINT(EM_DIAGRAM):   substr(_warn_,2,1) = 'U';
2145496   +      _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2145497   +   end;
MPRINT(EM_DIAGRAM):   end;
2145498   +end;
MPRINT(EM_DIAGRAM):   end;
2145499   +
2145500   +*** Generate dummy variables for Marital_Status ;
MPRINT(EM_DIAGRAM):   *** Generate dummy variables for Marital_Status ;
2145501   +drop Marital_StatusDivorced Marital_StatusMarried Marital_StatusSingle
2145502   +        Marital_StatusTogether ;
MPRINT(EM_DIAGRAM):   drop Marital_StatusDivorced Marital_StatusMarried Marital_StatusSingle 
Marital_StatusTogether ;
2145503   +*** encoding is sparse, initialize to zero;
MPRINT(EM_DIAGRAM):   *** encoding is sparse, initialize to zero;
2145504   +Marital_StatusDivorced = 0;
MPRINT(EM_DIAGRAM):   Marital_StatusDivorced = 0;
2145505   +Marital_StatusMarried = 0;
MPRINT(EM_DIAGRAM):   Marital_StatusMarried = 0;
2145506   +Marital_StatusSingle = 0;
MPRINT(EM_DIAGRAM):   Marital_StatusSingle = 0;
2145507   +Marital_StatusTogether = 0;
MPRINT(EM_DIAGRAM):   Marital_StatusTogether = 0;
2145508   +if missing( Marital_Status ) then do;
MPRINT(EM_DIAGRAM):   if missing( Marital_Status ) then do;
2145509   +   Marital_StatusDivorced = .;
MPRINT(EM_DIAGRAM):   Marital_StatusDivorced = .;
2145510   +   Marital_StatusMarried = .;
MPRINT(EM_DIAGRAM):   Marital_StatusMarried = .;
2145511   +   Marital_StatusSingle = .;
MPRINT(EM_DIAGRAM):   Marital_StatusSingle = .;
2145512   +   Marital_StatusTogether = .;
MPRINT(EM_DIAGRAM):   Marital_StatusTogether = .;
2145513   +   substr(_warn_,1,1) = 'M';
MPRINT(EM_DIAGRAM):   substr(_warn_,1,1) = 'M';
2145514   +   _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2145515   +end;
MPRINT(EM_DIAGRAM):   end;
2145516   +else do;
MPRINT(EM_DIAGRAM):   else do;
2145517   +   length _dm8 $ 8; drop _dm8 ;
MPRINT(EM_DIAGRAM):   length _dm8 $ 8;
MPRINT(EM_DIAGRAM):   drop _dm8 ;
2145518   +   _dm8 = put( Marital_Status , $8. );
MPRINT(EM_DIAGRAM):   _dm8 = put( Marital_Status , $8. );
2145519   +   %DMNORMIP( _dm8 )
MPRINT(DMNORMIP):   call dmnorm(_dm8,
MPRINT(DMNORLEN):  32
MPRINT(DMNORMIP):  );
2145520   +   _dm_find = 0; drop _dm_find;
MPRINT(EM_DIAGRAM):   _dm_find = 0;
MPRINT(EM_DIAGRAM):   drop _dm_find;
2145521   +   if _dm8 <= 'SINGLE'  then do;
MPRINT(EM_DIAGRAM):   if _dm8 <= 'SINGLE' then do;
2145522   +      if _dm8 <= 'MARRIED'  then do;
MPRINT(EM_DIAGRAM):   if _dm8 <= 'MARRIED' then do;
2145523   +         if _dm8 = 'DIVORCED'  then do;
MPRINT(EM_DIAGRAM):   if _dm8 = 'DIVORCED' then do;
2145524   +            Marital_StatusDivorced = 1;
MPRINT(EM_DIAGRAM):   Marital_StatusDivorced = 1;
2145525   +            _dm_find = 1;
MPRINT(EM_DIAGRAM):   _dm_find = 1;
2145526   +         end;
MPRINT(EM_DIAGRAM):   end;
2145527   +         else do;
MPRINT(EM_DIAGRAM):   else do;
2145528   +            if _dm8 = 'MARRIED'  then do;
MPRINT(EM_DIAGRAM):   if _dm8 = 'MARRIED' then do;
2145529   +               Marital_StatusMarried = 1;
MPRINT(EM_DIAGRAM):   Marital_StatusMarried = 1;
2145530   +               _dm_find = 1;
MPRINT(EM_DIAGRAM):   _dm_find = 1;
2145531   +            end;
MPRINT(EM_DIAGRAM):   end;
2145532   +         end;
MPRINT(EM_DIAGRAM):   end;
2145533   +      end;
MPRINT(EM_DIAGRAM):   end;
2145534   +      else do;
MPRINT(EM_DIAGRAM):   else do;
2145535   +         if _dm8 = 'SINGLE'  then do;
MPRINT(EM_DIAGRAM):   if _dm8 = 'SINGLE' then do;
2145536   +            Marital_StatusSingle = 1;
MPRINT(EM_DIAGRAM):   Marital_StatusSingle = 1;
2145537   +            _dm_find = 1;
MPRINT(EM_DIAGRAM):   _dm_find = 1;
2145538   +         end;
MPRINT(EM_DIAGRAM):   end;
2145539   +      end;
MPRINT(EM_DIAGRAM):   end;
2145540   +   end;
MPRINT(EM_DIAGRAM):   end;
2145541   +   else do;
MPRINT(EM_DIAGRAM):   else do;
2145542   +      if _dm8 = 'TOGETHER'  then do;
MPRINT(EM_DIAGRAM):   if _dm8 = 'TOGETHER' then do;
2145543   +         Marital_StatusTogether = 1;
MPRINT(EM_DIAGRAM):   Marital_StatusTogether = 1;
2145544   +         _dm_find = 1;
MPRINT(EM_DIAGRAM):   _dm_find = 1;
2145545   +      end;
MPRINT(EM_DIAGRAM):   end;
2145546   +      else do;
MPRINT(EM_DIAGRAM):   else do;
2145547   +         if _dm8 = 'WIDOW'  then do;
MPRINT(EM_DIAGRAM):   if _dm8 = 'WIDOW' then do;
2145548   +            Marital_StatusDivorced = -1;
MPRINT(EM_DIAGRAM):   Marital_StatusDivorced = -1;
2145549   +            Marital_StatusMarried = -1;
MPRINT(EM_DIAGRAM):   Marital_StatusMarried = -1;
2145550   +            Marital_StatusSingle = -1;
MPRINT(EM_DIAGRAM):   Marital_StatusSingle = -1;
2145551   +            Marital_StatusTogether = -1;
MPRINT(EM_DIAGRAM):   Marital_StatusTogether = -1;
2145552   +            _dm_find = 1;
MPRINT(EM_DIAGRAM):   _dm_find = 1;
2145553   +         end;
MPRINT(EM_DIAGRAM):   end;
2145554   +      end;
MPRINT(EM_DIAGRAM):   end;
2145555   +   end;
MPRINT(EM_DIAGRAM):   end;
2145556   +   if not _dm_find then do;
MPRINT(EM_DIAGRAM):   if not _dm_find then do;
2145557   +      Marital_StatusDivorced = .;
MPRINT(EM_DIAGRAM):   Marital_StatusDivorced = .;
2145558   +      Marital_StatusMarried = .;
MPRINT(EM_DIAGRAM):   Marital_StatusMarried = .;
2145559   +      Marital_StatusSingle = .;
MPRINT(EM_DIAGRAM):   Marital_StatusSingle = .;
2145560   +      Marital_StatusTogether = .;
MPRINT(EM_DIAGRAM):   Marital_StatusTogether = .;
2145561   +      substr(_warn_,2,1) = 'U';
MPRINT(EM_DIAGRAM):   substr(_warn_,2,1) = 'U';
2145562   +      _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2145563   +   end;
MPRINT(EM_DIAGRAM):   end;
2145564   +end;
MPRINT(EM_DIAGRAM):   end;
2145565   +
2145566   +*** *************************;
MPRINT(EM_DIAGRAM):   *** *************************;
2145567   +*** Checking missing input Interval
2145568   +*** *************************;
MPRINT(EM_DIAGRAM):   *** Checking missing input Interval *** *************************;
2145569   +
2145570   +IF NMISS(
2145571   +   AcceptedCmpTotal ,
2145572   +   Age ,
2145573   +   Frq ,
2145574   +   Income ,
2145575   +   Kidhome ,
2145576   +   MntFishProducts ,
2145577   +   MntFruits ,
2145578   +   MntGoldProds ,
2145579   +   MntSweetProducts ,
2145580   +   MonthsAsCustomer ,
2145581   +   NumDealsPurchases ,
2145582   +   NumWebVisitsMonth ,
2145583   +   RFMstat ,
2145584   +   RMntFrq ,
2145585   +   Recency ,
2145586   +   Teenhome   ) THEN DO;
MPRINT(EM_DIAGRAM):   IF NMISS( AcceptedCmpTotal , Age , Frq , Income , Kidhome , 
MntFishProducts , MntFruits , MntGoldProds , MntSweetProducts , MonthsAsCustomer , 
NumDealsPurchases , NumWebVisitsMonth , RFMstat , RMntFrq , Recency , Teenhome ) THEN DO;
2145587   +   SUBSTR(_WARN_, 1, 1) = 'M';
MPRINT(EM_DIAGRAM):   SUBSTR(_WARN_, 1, 1) = 'M';
2145588   +
2145589   +   _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2145590   +END;
MPRINT(EM_DIAGRAM):   END;
2145591   +*** *************************;
MPRINT(EM_DIAGRAM):   *** *************************;
2145592   +*** Writing the Node intvl ;
MPRINT(EM_DIAGRAM):   *** Writing the Node intvl ;
2145593   +*** *************************;
MPRINT(EM_DIAGRAM):   *** *************************;
2145594   +IF _DM_BAD EQ 0 THEN DO;
MPRINT(EM_DIAGRAM):   IF _DM_BAD EQ 0 THEN DO;
2145595   +   S_AcceptedCmpTotal  =    -0.46762909508827 +      1.4961610131261 *
2145596   +        AcceptedCmpTotal ;
MPRINT(EM_DIAGRAM):   S_AcceptedCmpTotal = -0.46762909508827 + 1.4961610131261 * 
AcceptedCmpTotal ;
2145597   +   S_Age  =    -3.91319138389466 +     0.08289609202857 * Age ;
MPRINT(EM_DIAGRAM):   S_Age = -3.91319138389466 + 0.08289609202857 * Age ;
2145598   +   S_Frq  =     -1.7674482809159 +     0.13966853800993 * Frq ;
MPRINT(EM_DIAGRAM):   S_Frq = -1.7674482809159 + 0.13966853800993 * Frq ;
2145599   +   S_Income  =    -2.48883438787018 +     0.00004789669836 * Income ;
MPRINT(EM_DIAGRAM):   S_Income = -2.48883438787018 + 0.00004789669836 * Income ;
2145600   +   S_Kidhome  =    -0.81505958668041 +     1.87132636245581 * Kidhome ;
MPRINT(EM_DIAGRAM):   S_Kidhome = -0.81505958668041 + 1.87132636245581 * Kidhome ;
2145601   +   S_MntFishProducts  =    -0.69884925989448 +     0.01914942799914 *
2145602   +        MntFishProducts ;
MPRINT(EM_DIAGRAM):   S_MntFishProducts = -0.69884925989448 + 0.01914942799914 * 
MntFishProducts ;
2145603   +   S_MntFruits  =    -0.68347542544545 +     0.02517057319714 * MntFruits ;
MPRINT(EM_DIAGRAM):   S_MntFruits = -0.68347542544545 + 0.02517057319714 * MntFruits ;
2145604   +   S_MntGoldProds  =     -0.8611213764608 +     0.01954474499711 *
2145605   +        MntGoldProds ;
MPRINT(EM_DIAGRAM):   S_MntGoldProds = -0.8611213764608 + 0.01954474499711 * MntGoldProds ;
2145606   +   S_MntSweetProducts  =    -0.69020047720885 +     0.02548703406327 *
2145607   +        MntSweetProducts ;
MPRINT(EM_DIAGRAM):   S_MntSweetProducts = -0.69020047720885 + 0.02548703406327 * 
MntSweetProducts ;
2145608   +   S_MonthsAsCustomer  =    -4.93133031507839 +     0.05900664899872 *
2145609   +        MonthsAsCustomer ;
MPRINT(EM_DIAGRAM):   S_MonthsAsCustomer = -4.93133031507839 + 0.05900664899872 * 
MonthsAsCustomer ;
2145610   +   S_NumDealsPurchases  =    -1.34788949552081 +     0.59766336614987 *
2145611   +        NumDealsPurchases ;
MPRINT(EM_DIAGRAM):   S_NumDealsPurchases = -1.34788949552081 + 0.59766336614987 * 
NumDealsPurchases ;
2145612   +   S_NumWebVisitsMonth  =    -2.24769875596018 +     0.42876953368015 *
2145613   +        NumWebVisitsMonth ;
MPRINT(EM_DIAGRAM):   S_NumWebVisitsMonth = -2.24769875596018 + 0.42876953368015 * 
NumWebVisitsMonth ;
2145614   +   S_RFMstat  =    -0.33944380186973 +     0.00063877635032 * RFMstat ;
MPRINT(EM_DIAGRAM):   S_RFMstat = -0.33944380186973 + 0.00063877635032 * RFMstat ;
2145615   +   S_RMntFrq  =    -1.25743573075922 +     0.03326204244626 * RMntFrq ;
MPRINT(EM_DIAGRAM):   S_RMntFrq = -1.25743573075922 + 0.03326204244626 * RMntFrq ;
2145616   +   S_Recency  =    -1.69222845719633 +     0.03469514083585 * Recency ;
MPRINT(EM_DIAGRAM):   S_Recency = -1.69222845719633 + 0.03469514083585 * Recency ;
2145617   +   S_Teenhome  =    -0.88382230606631 +     1.81661831567223 * Teenhome ;
MPRINT(EM_DIAGRAM):   S_Teenhome = -0.88382230606631 + 1.81661831567223 * Teenhome ;
2145618   +END;
MPRINT(EM_DIAGRAM):   END;
2145619   +ELSE DO;
MPRINT(EM_DIAGRAM):   ELSE DO;
2145620   +   IF MISSING( AcceptedCmpTotal ) THEN S_AcceptedCmpTotal  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( AcceptedCmpTotal ) THEN S_AcceptedCmpTotal = . ;
2145621   +   ELSE S_AcceptedCmpTotal  =    -0.46762909508827 +      1.4961610131261 *
2145622   +        AcceptedCmpTotal ;
MPRINT(EM_DIAGRAM):   ELSE S_AcceptedCmpTotal = -0.46762909508827 + 1.4961610131261 * 
AcceptedCmpTotal ;
2145623   +   IF MISSING( Age ) THEN S_Age  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( Age ) THEN S_Age = . ;
2145624   +   ELSE S_Age  =    -3.91319138389466 +     0.08289609202857 * Age ;
MPRINT(EM_DIAGRAM):   ELSE S_Age = -3.91319138389466 + 0.08289609202857 * Age ;
2145625   +   IF MISSING( Frq ) THEN S_Frq  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( Frq ) THEN S_Frq = . ;
2145626   +   ELSE S_Frq  =     -1.7674482809159 +     0.13966853800993 * Frq ;
MPRINT(EM_DIAGRAM):   ELSE S_Frq = -1.7674482809159 + 0.13966853800993 * Frq ;
2145627   +   IF MISSING( Income ) THEN S_Income  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( Income ) THEN S_Income = . ;
2145628   +   ELSE S_Income  =    -2.48883438787018 +     0.00004789669836 * Income ;
MPRINT(EM_DIAGRAM):   ELSE S_Income = -2.48883438787018 + 0.00004789669836 * Income ;
2145629   +   IF MISSING( Kidhome ) THEN S_Kidhome  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( Kidhome ) THEN S_Kidhome = . ;
2145630   +   ELSE S_Kidhome  =    -0.81505958668041 +     1.87132636245581 * Kidhome ;
MPRINT(EM_DIAGRAM):   ELSE S_Kidhome = -0.81505958668041 + 1.87132636245581 * Kidhome ;
2145631   +   IF MISSING( MntFishProducts ) THEN S_MntFishProducts  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( MntFishProducts ) THEN S_MntFishProducts = . ;
2145632   +   ELSE S_MntFishProducts  =    -0.69884925989448 +     0.01914942799914 *
2145633   +        MntFishProducts ;
MPRINT(EM_DIAGRAM):   ELSE S_MntFishProducts = -0.69884925989448 + 0.01914942799914 * 
MntFishProducts ;
2145634   +   IF MISSING( MntFruits ) THEN S_MntFruits  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( MntFruits ) THEN S_MntFruits = . ;
2145635   +   ELSE S_MntFruits  =    -0.68347542544545 +     0.02517057319714 * MntFruits
2145636   +         ;
MPRINT(EM_DIAGRAM):   ELSE S_MntFruits = -0.68347542544545 + 0.02517057319714 * MntFruits ;
2145637   +   IF MISSING( MntGoldProds ) THEN S_MntGoldProds  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( MntGoldProds ) THEN S_MntGoldProds = . ;
2145638   +   ELSE S_MntGoldProds  =     -0.8611213764608 +     0.01954474499711 *
2145639   +        MntGoldProds ;
MPRINT(EM_DIAGRAM):   ELSE S_MntGoldProds = -0.8611213764608 + 0.01954474499711 * MntGoldProds 
;
2145640   +   IF MISSING( MntSweetProducts ) THEN S_MntSweetProducts  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( MntSweetProducts ) THEN S_MntSweetProducts = . ;
2145641   +   ELSE S_MntSweetProducts  =    -0.69020047720885 +     0.02548703406327 *
2145642   +        MntSweetProducts ;
MPRINT(EM_DIAGRAM):   ELSE S_MntSweetProducts = -0.69020047720885 + 0.02548703406327 * 
MntSweetProducts ;
2145643   +   IF MISSING( MonthsAsCustomer ) THEN S_MonthsAsCustomer  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( MonthsAsCustomer ) THEN S_MonthsAsCustomer = . ;
2145644   +   ELSE S_MonthsAsCustomer  =    -4.93133031507839 +     0.05900664899872 *
2145645   +        MonthsAsCustomer ;
MPRINT(EM_DIAGRAM):   ELSE S_MonthsAsCustomer = -4.93133031507839 + 0.05900664899872 * 
MonthsAsCustomer ;
2145646   +   IF MISSING( NumDealsPurchases ) THEN S_NumDealsPurchases  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( NumDealsPurchases ) THEN S_NumDealsPurchases = . ;
2145647   +   ELSE S_NumDealsPurchases  =    -1.34788949552081 +     0.59766336614987 *
2145648   +        NumDealsPurchases ;
MPRINT(EM_DIAGRAM):   ELSE S_NumDealsPurchases = -1.34788949552081 + 0.59766336614987 * 
NumDealsPurchases ;
2145649   +   IF MISSING( NumWebVisitsMonth ) THEN S_NumWebVisitsMonth  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( NumWebVisitsMonth ) THEN S_NumWebVisitsMonth = . ;
2145650   +   ELSE S_NumWebVisitsMonth  =    -2.24769875596018 +     0.42876953368015 *
2145651   +        NumWebVisitsMonth ;
MPRINT(EM_DIAGRAM):   ELSE S_NumWebVisitsMonth = -2.24769875596018 + 0.42876953368015 * 
NumWebVisitsMonth ;
2145652   +   IF MISSING( RFMstat ) THEN S_RFMstat  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( RFMstat ) THEN S_RFMstat = . ;
2145653   +   ELSE S_RFMstat  =    -0.33944380186973 +     0.00063877635032 * RFMstat ;
MPRINT(EM_DIAGRAM):   ELSE S_RFMstat = -0.33944380186973 + 0.00063877635032 * RFMstat ;
2145654   +   IF MISSING( RMntFrq ) THEN S_RMntFrq  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( RMntFrq ) THEN S_RMntFrq = . ;
2145655   +   ELSE S_RMntFrq  =    -1.25743573075922 +     0.03326204244626 * RMntFrq ;
MPRINT(EM_DIAGRAM):   ELSE S_RMntFrq = -1.25743573075922 + 0.03326204244626 * RMntFrq ;
2145656   +   IF MISSING( Recency ) THEN S_Recency  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( Recency ) THEN S_Recency = . ;
2145657   +   ELSE S_Recency  =    -1.69222845719633 +     0.03469514083585 * Recency ;
MPRINT(EM_DIAGRAM):   ELSE S_Recency = -1.69222845719633 + 0.03469514083585 * Recency ;
2145658   +   IF MISSING( Teenhome ) THEN S_Teenhome  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( Teenhome ) THEN S_Teenhome = . ;
2145659   +   ELSE S_Teenhome  =    -0.88382230606631 +     1.81661831567223 * Teenhome ;
MPRINT(EM_DIAGRAM):   ELSE S_Teenhome = -0.88382230606631 + 1.81661831567223 * Teenhome ;
2145660   +END;
MPRINT(EM_DIAGRAM):   END;
2145661   +*** *************************;
MPRINT(EM_DIAGRAM):   *** *************************;
2145662   +*** Writing the Node bin ;
MPRINT(EM_DIAGRAM):   *** Writing the Node bin ;
2145663   +*** *************************;
MPRINT(EM_DIAGRAM):   *** *************************;
2145664   +*** *************************;
MPRINT(EM_DIAGRAM):   *** *************************;
2145665   +*** Writing the Node nom ;
MPRINT(EM_DIAGRAM):   *** Writing the Node nom ;
2145666   +*** *************************;
MPRINT(EM_DIAGRAM):   *** *************************;
2145667   +*** *************************;
MPRINT(EM_DIAGRAM):   *** *************************;
2145668   +*** Writing the Node H1 ;
MPRINT(EM_DIAGRAM):   *** Writing the Node H1 ;
2145669   +*** *************************;
MPRINT(EM_DIAGRAM):   *** *************************;
2145670   +IF _DM_BAD EQ 0 THEN DO;
MPRINT(EM_DIAGRAM):   IF _DM_BAD EQ 0 THEN DO;
2145671   +   H11  =     0.02261339399069 * S_AcceptedCmpTotal  +     0.03186549902314 *
2145672   +        S_Age  +    -0.05804162317917 * S_Frq  +    -0.43761913801791 *
2145673   +        S_Income  +     0.20393856454107 * S_Kidhome
2145674   +          +    -0.00032759903219 * S_MntFishProducts
2145675   +          +     0.04902268570479 * S_MntFruits  +     0.00634390567032 *
2145676   +        S_MntGoldProds  +     0.05500468374296 * S_MntSweetProducts
2145677   +          +    -0.04015276399544 * S_MonthsAsCustomer
2145678   +          +     -0.0951069571765 * S_NumDealsPurchases
2145679   +          +    -0.14678852097139 * S_NumWebVisitsMonth
2145680   +          +    -0.01894186338724 * S_RFMstat  +    -0.07457519268665 *
2145681   +        S_RMntFrq  +     0.42628576603933 * S_Recency
2145682   +          +     0.30856724112819 * S_Teenhome ;
MPRINT(EM_DIAGRAM):   H11 = 0.02261339399069 * S_AcceptedCmpTotal + 0.03186549902314 * S_Age + 
-0.05804162317917 * S_Frq + -0.43761913801791 * S_Income + 0.20393856454107 * S_Kidhome + 
-0.00032759903219 * S_MntFishProducts + 0.04902268570479 * S_MntFruits + 0.00634390567032 * 
S_MntGoldProds + 0.05500468374296 * S_MntSweetProducts + -0.04015276399544 * 
S_MonthsAsCustomer + -0.0951069571765 * S_NumDealsPurchases + -0.14678852097139 * 
S_NumWebVisitsMonth + -0.01894186338724 * S_RFMstat + -0.07457519268665 * S_RMntFrq + 
0.42628576603933 * S_Recency + 0.30856724112819 * S_Teenhome ;
2145683   +   H12  =    -0.16555869359198 * S_AcceptedCmpTotal  +     0.11411959291313 *
2145684   +        S_Age  +     1.43744532392094 * S_Frq  +       0.577641001604 *
2145685   +        S_Income  +    -0.30829238187054 * S_Kidhome
2145686   +          +     -0.2355444654527 * S_MntFishProducts
2145687   +          +     0.04031406081899 * S_MntFruits  +    -0.19943160459571 *
2145688   +        S_MntGoldProds  +    -0.08217819696537 * S_MntSweetProducts
2145689   +          +     0.09996574741139 * S_MonthsAsCustomer
2145690   +          +    -0.68812499253266 * S_NumDealsPurchases
2145691   +          +     -0.5730096217964 * S_NumWebVisitsMonth
2145692   +          +    -0.22996193814967 * S_RFMstat  +    -0.28291148887201 *
2145693   +        S_RMntFrq  +     0.66451982595521 * S_Recency
2145694   +          +    -0.26095225857643 * S_Teenhome ;
MPRINT(EM_DIAGRAM):   H12 = -0.16555869359198 * S_AcceptedCmpTotal + 0.11411959291313 * S_Age 
+ 1.43744532392094 * S_Frq + 0.577641001604 * S_Income + -0.30829238187054 * S_Kidhome + 
-0.2355444654527 * S_MntFishProducts + 0.04031406081899 * S_MntFruits + -0.19943160459571 * 
S_MntGoldProds + -0.08217819696537 * S_MntSweetProducts + 0.09996574741139 * 
S_MonthsAsCustomer + -0.68812499253266 * S_NumDealsPurchases + -0.5730096217964 * 
S_NumWebVisitsMonth + -0.22996193814967 * S_RFMstat + -0.28291148887201 * S_RMntFrq + 
0.66451982595521 * S_Recency + -0.26095225857643 * S_Teenhome ;
2145695   +   H11  = H11  +     0.19600780890638 * AcceptedCmp10
2145696   +          +     0.18451163813605 * AcceptedCmp20  +     0.23931744315092 *
2145697   +        AcceptedCmp30  +     0.16900886522062 * AcceptedCmp40
2145698   +          +     0.15799420378967 * AcceptedCmp50  +     -0.0633279609551 *
2145699   +        Complain0  +    -0.01950431346341 * HigherEducationBinary0 ;
MPRINT(EM_DIAGRAM):   H11 = H11 + 0.19600780890638 * AcceptedCmp10 + 0.18451163813605 * 
AcceptedCmp20 + 0.23931744315092 * AcceptedCmp30 + 0.16900886522062 * AcceptedCmp40 + 
0.15799420378967 * AcceptedCmp50 + -0.0633279609551 * Complain0 + -0.01950431346341 * 
HigherEducationBinary0 ;
2145700   +   H12  = H12  +     0.45490519791012 * AcceptedCmp10
2145701   +          +     0.36062830380202 * AcceptedCmp20  +     0.53186742505951 *
2145702   +        AcceptedCmp30  +    -0.03871449291458 * AcceptedCmp40
2145703   +          +     0.16590307431257 * AcceptedCmp50  +     -0.2629729400837 *
2145704   +        Complain0  +     0.36737823761565 * HigherEducationBinary0 ;
MPRINT(EM_DIAGRAM):   H12 = H12 + 0.45490519791012 * AcceptedCmp10 + 0.36062830380202 * 
AcceptedCmp20 + 0.53186742505951 * AcceptedCmp30 + -0.03871449291458 * AcceptedCmp40 + 
0.16590307431257 * AcceptedCmp50 + -0.2629729400837 * Complain0 + 0.36737823761565 * 
HigherEducationBinary0 ;
2145705   +   H11  = H11  +    -0.05532067616337 * Education2n_Cycle
2145706   +          +     -0.1426249770348 * EducationBasic  +     -0.0144259119049 *
2145707   +        EducationGraduation  +     0.16577178002709 * EducationMaster
2145708   +          +     -0.1021790439873 * Marital_StatusDivorced
2145709   +          +     0.28711854746077 * Marital_StatusMarried
2145710   +          +    -0.22559580642457 * Marital_StatusSingle
2145711   +          +     0.24664814856098 * Marital_StatusTogether ;
MPRINT(EM_DIAGRAM):   H11 = H11 + -0.05532067616337 * Education2n_Cycle + -0.1426249770348 * 
EducationBasic + -0.0144259119049 * EducationGraduation + 0.16577178002709 * EducationMaster + 
-0.1021790439873 * Marital_StatusDivorced + 0.28711854746077 * Marital_StatusMarried + 
-0.22559580642457 * Marital_StatusSingle + 0.24664814856098 * Marital_StatusTogether ;
2145712   +   H12  = H12  +    -0.16343956499534 * Education2n_Cycle
2145713   +          +     0.09288342001131 * EducationBasic  +     0.01404728552212 *
2145714   +        EducationGraduation  +    -0.18160653360243 * EducationMaster
2145715   +          +    -0.14836623629414 * Marital_StatusDivorced
2145716   +          +    -0.31854796239399 * Marital_StatusMarried
2145717   +          +     0.41995919995517 * Marital_StatusSingle
2145718   +          +    -0.26131281894481 * Marital_StatusTogether ;
MPRINT(EM_DIAGRAM):   H12 = H12 + -0.16343956499534 * Education2n_Cycle + 0.09288342001131 * 
EducationBasic + 0.01404728552212 * EducationGraduation + -0.18160653360243 * EducationMaster 
+ -0.14836623629414 * Marital_StatusDivorced + -0.31854796239399 * Marital_StatusMarried + 
0.41995919995517 * Marital_StatusSingle + -0.26131281894481 * Marital_StatusTogether ;
2145719   +   H11  =    -0.01774261565349 + H11 ;
MPRINT(EM_DIAGRAM):   H11 = -0.01774261565349 + H11 ;
2145720   +   H12  =     1.49329601776343 + H12 ;
MPRINT(EM_DIAGRAM):   H12 = 1.49329601776343 + H12 ;
2145721   +   H11  = TANH(H11 );
MPRINT(EM_DIAGRAM):   H11 = TANH(H11 );
2145722   +   H12  = TANH(H12 );
MPRINT(EM_DIAGRAM):   H12 = TANH(H12 );
2145723   +END;
MPRINT(EM_DIAGRAM):   END;
2145724   +ELSE DO;
MPRINT(EM_DIAGRAM):   ELSE DO;
2145725   +   H11  = .;
MPRINT(EM_DIAGRAM):   H11 = .;
2145726   +   H12  = .;
MPRINT(EM_DIAGRAM):   H12 = .;
2145727   +END;
MPRINT(EM_DIAGRAM):   END;
2145728   +*** *************************;
MPRINT(EM_DIAGRAM):   *** *************************;
2145729   +*** Writing the Node DepVar ;
MPRINT(EM_DIAGRAM):   *** Writing the Node DepVar ;
2145730   +*** *************************;
MPRINT(EM_DIAGRAM):   *** *************************;
2145731   +
2145732   +*** Generate dummy variables for DepVar ;
MPRINT(EM_DIAGRAM):   *** Generate dummy variables for DepVar ;
2145733   +drop DepVar1 DepVar0 ;
MPRINT(EM_DIAGRAM):   drop DepVar1 DepVar0 ;
2145734   +label F_DepVar = 'From: DepVar' ;
MPRINT(EM_DIAGRAM):   label F_DepVar = 'From: DepVar' ;
2145735   +length F_DepVar $ 12;
MPRINT(EM_DIAGRAM):   length F_DepVar $ 12;
2145736   +F_DepVar = put( DepVar , BEST. );
MPRINT(EM_DIAGRAM):   F_DepVar = put( DepVar , BEST. );
2145737   +%DMNORMIP( F_DepVar )
MPRINT(DMNORMIP):   call dmnorm(F_DepVar,
MPRINT(DMNORLEN):  32
MPRINT(DMNORMIP):  );
2145738   +if missing( DepVar ) then do;
MPRINT(EM_DIAGRAM):   if missing( DepVar ) then do;
2145739   +   DepVar1 = .;
MPRINT(EM_DIAGRAM):   DepVar1 = .;
2145740   +   DepVar0 = .;
MPRINT(EM_DIAGRAM):   DepVar0 = .;
2145741   +end;
MPRINT(EM_DIAGRAM):   end;
2145742   +else do;
MPRINT(EM_DIAGRAM):   else do;
2145743   +   if F_DepVar = '0'  then do;
MPRINT(EM_DIAGRAM):   if F_DepVar = '0' then do;
2145744   +      DepVar1 = 0;
MPRINT(EM_DIAGRAM):   DepVar1 = 0;
2145745   +      DepVar0 = 1;
MPRINT(EM_DIAGRAM):   DepVar0 = 1;
2145746   +   end;
MPRINT(EM_DIAGRAM):   end;
2145747   +   else if F_DepVar = '1'  then do;
MPRINT(EM_DIAGRAM):   else if F_DepVar = '1' then do;
2145748   +      DepVar1 = 1;
MPRINT(EM_DIAGRAM):   DepVar1 = 1;
2145749   +      DepVar0 = 0;
MPRINT(EM_DIAGRAM):   DepVar0 = 0;
2145750   +   end;
MPRINT(EM_DIAGRAM):   end;
2145751   +   else do;
MPRINT(EM_DIAGRAM):   else do;
2145752   +      DepVar1 = .;
MPRINT(EM_DIAGRAM):   DepVar1 = .;
2145753   +      DepVar0 = .;
MPRINT(EM_DIAGRAM):   DepVar0 = .;
2145754   +   end;
MPRINT(EM_DIAGRAM):   end;
2145755   +end;
MPRINT(EM_DIAGRAM):   end;
2145756   +IF _DM_BAD EQ 0 THEN DO;
MPRINT(EM_DIAGRAM):   IF _DM_BAD EQ 0 THEN DO;
2145757   +   P_DepVar1  =    -5.42994812440062 * H11  +    -3.10472514460831 * H12 ;
MPRINT(EM_DIAGRAM):   P_DepVar1 = -5.42994812440062 * H11 + -3.10472514460831 * H12 ;
2145758   +   P_DepVar1  =     1.12764046071215 + P_DepVar1 ;
MPRINT(EM_DIAGRAM):   P_DepVar1 = 1.12764046071215 + P_DepVar1 ;
2145759   +   P_DepVar0  = 0;
MPRINT(EM_DIAGRAM):   P_DepVar0 = 0;
2145760   +   _MAX_ = MAX (P_DepVar1 , P_DepVar0 );
MPRINT(EM_DIAGRAM):   _MAX_ = MAX (P_DepVar1 , P_DepVar0 );
2145761   +   _SUM_ = 0.;
MPRINT(EM_DIAGRAM):   _SUM_ = 0.;
2145762   +   P_DepVar1  = EXP(P_DepVar1  - _MAX_);
MPRINT(EM_DIAGRAM):   P_DepVar1 = EXP(P_DepVar1 - _MAX_);
2145763   +   _SUM_ = _SUM_ + P_DepVar1 ;
MPRINT(EM_DIAGRAM):   _SUM_ = _SUM_ + P_DepVar1 ;
2145764   +   P_DepVar0  = EXP(P_DepVar0  - _MAX_);
MPRINT(EM_DIAGRAM):   P_DepVar0 = EXP(P_DepVar0 - _MAX_);
2145765   +   _SUM_ = _SUM_ + P_DepVar0 ;
MPRINT(EM_DIAGRAM):   _SUM_ = _SUM_ + P_DepVar0 ;
2145766   +   P_DepVar1  = P_DepVar1  / _SUM_;
MPRINT(EM_DIAGRAM):   P_DepVar1 = P_DepVar1 / _SUM_;
2145767   +   P_DepVar0  = P_DepVar0  / _SUM_;
MPRINT(EM_DIAGRAM):   P_DepVar0 = P_DepVar0 / _SUM_;
2145768   +END;
MPRINT(EM_DIAGRAM):   END;
2145769   +ELSE DO;
MPRINT(EM_DIAGRAM):   ELSE DO;
2145770   +   P_DepVar1  = .;
MPRINT(EM_DIAGRAM):   P_DepVar1 = .;
2145771   +   P_DepVar0  = .;
MPRINT(EM_DIAGRAM):   P_DepVar0 = .;
2145772   +END;
MPRINT(EM_DIAGRAM):   END;
2145773   +IF _DM_BAD EQ 1 THEN DO;
MPRINT(EM_DIAGRAM):   IF _DM_BAD EQ 1 THEN DO;
2145774   +   P_DepVar1  =     0.15122156697556;
MPRINT(EM_DIAGRAM):   P_DepVar1 = 0.15122156697556;
2145775   +   P_DepVar0  =     0.84877843302443;
MPRINT(EM_DIAGRAM):   P_DepVar0 = 0.84877843302443;
2145776   +END;
MPRINT(EM_DIAGRAM):   END;
2145777   +*** *****************************;
MPRINT(EM_DIAGRAM):   *** *****************************;
2145778   +*** Writing the Residuals  of the Node DepVar ;
MPRINT(EM_DIAGRAM):   *** Writing the Residuals of the Node DepVar ;
2145779   +*** ******************************;
MPRINT(EM_DIAGRAM):   *** ******************************;
2145780   +IF MISSING( DepVar1 ) THEN R_DepVar1  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( DepVar1 ) THEN R_DepVar1 = . ;
2145781   +ELSE R_DepVar1  = DepVar1  - P_DepVar1 ;
MPRINT(EM_DIAGRAM):   ELSE R_DepVar1 = DepVar1 - P_DepVar1 ;
2145782   +IF MISSING( DepVar0 ) THEN R_DepVar0  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( DepVar0 ) THEN R_DepVar0 = . ;
2145783   +ELSE R_DepVar0  = DepVar0  - P_DepVar0 ;
MPRINT(EM_DIAGRAM):   ELSE R_DepVar0 = DepVar0 - P_DepVar0 ;
2145784   +*** *************************;
MPRINT(EM_DIAGRAM):   *** *************************;
2145785   +*** Writing the I_DepVar  AND U_DepVar ;
MPRINT(EM_DIAGRAM):   *** Writing the I_DepVar AND U_DepVar ;
2145786   +*** *************************;
MPRINT(EM_DIAGRAM):   *** *************************;
2145787   +_MAXP_ = P_DepVar1 ;
MPRINT(EM_DIAGRAM):   _MAXP_ = P_DepVar1 ;
2145788   +I_DepVar  = "1           " ;
MPRINT(EM_DIAGRAM):   I_DepVar = "1           " ;
2145789   +U_DepVar  =                    1;
MPRINT(EM_DIAGRAM):   U_DepVar = 1;
2145790   +IF( _MAXP_ LT P_DepVar0  ) THEN DO;
MPRINT(EM_DIAGRAM):   IF( _MAXP_ LT P_DepVar0 ) THEN DO;
2145791   +   _MAXP_ = P_DepVar0 ;
MPRINT(EM_DIAGRAM):   _MAXP_ = P_DepVar0 ;
2145792   +   I_DepVar  = "0           " ;
MPRINT(EM_DIAGRAM):   I_DepVar = "0           " ;
2145793   +   U_DepVar  =                    0;
MPRINT(EM_DIAGRAM):   U_DepVar = 0;
2145794   +END;
MPRINT(EM_DIAGRAM):   END;
2145795   +********************************;
MPRINT(EM_DIAGRAM):   ********************************;
2145796   +*** End Scoring Code for Neural;
MPRINT(EM_DIAGRAM):   *** End Scoring Code for Neural;
2145797   +********************************;
MPRINT(EM_DIAGRAM):   ********************************;
2145798   +drop
2145799   +H11
2145800   +H12
2145801   +;
MPRINT(EM_DIAGRAM):   drop H11 H12 ;
2145802   +drop S_:;
MPRINT(EM_DIAGRAM):   drop S_:;
2145803   +* Renaming variables for Neural37;
MPRINT(EM_DIAGRAM):   * Renaming variables for Neural37;
2145804   +*------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
2145805   +* Renaming Posterior variables for Neural37;
MPRINT(EM_DIAGRAM):   * Renaming Posterior variables for Neural37;
2145806   +*------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
2145807   +drop Neural37_P_DepVar1;
MPRINT(EM_DIAGRAM):   drop Neural37_P_DepVar1;
2145808   +Neural37_P_DepVar1 = P_DepVar1;
MPRINT(EM_DIAGRAM):   Neural37_P_DepVar1 = P_DepVar1;
2145809   +drop Neural37_P_DepVar0;
MPRINT(EM_DIAGRAM):   drop Neural37_P_DepVar0;
2145810   +Neural37_P_DepVar0 = P_DepVar0;
MPRINT(EM_DIAGRAM):   Neural37_P_DepVar0 = P_DepVar0;
2145811   +*------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
2145812   +* Renaming _WARN_ variable for Neural37;
MPRINT(EM_DIAGRAM):   * Renaming _WARN_ variable for Neural37;
2145813   +*------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
2145814   +length Neural37_WARN_ $4;
MPRINT(EM_DIAGRAM):   length Neural37_WARN_ $4;
2145815   +drop Neural37_WARN_;
MPRINT(EM_DIAGRAM):   drop Neural37_WARN_;
2145816   +Neural37_WARN_ = _WARN_;
MPRINT(EM_DIAGRAM):   Neural37_WARN_ = _WARN_;
2145817   +*------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
2145818   +* Ensmbl23: Average Posteriors of 5 models;
MPRINT(EM_DIAGRAM):   * Ensmbl23: Average Posteriors of 5 models;
2145819   +*------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
2145820   +P_DepVar1 = (
2145821   +Neural41_P_DepVar1 +
2145822   +Neural40_P_DepVar1 +
2145823   +Neural39_P_DepVar1 +
2145824   +Neural38_P_DepVar1 +
2145825   +Neural37_P_DepVar1
2145826   +)/5;
MPRINT(EM_DIAGRAM):   P_DepVar1 = ( Neural41_P_DepVar1 + Neural40_P_DepVar1 + 
Neural39_P_DepVar1 + Neural38_P_DepVar1 + Neural37_P_DepVar1 )/5;
2145827   +P_DepVar0 = (
2145828   +Neural41_P_DepVar0 +
2145829   +Neural40_P_DepVar0 +
2145830   +Neural39_P_DepVar0 +
2145831   +Neural38_P_DepVar0 +
2145832   +Neural37_P_DepVar0
2145833   +)/5;
MPRINT(EM_DIAGRAM):   P_DepVar0 = ( Neural41_P_DepVar0 + Neural40_P_DepVar0 + 
Neural39_P_DepVar0 + Neural38_P_DepVar0 + Neural37_P_DepVar0 )/5;
2145834   +*------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
2145835   +* Ensmbl23: Computing Classification Vars;
MPRINT(EM_DIAGRAM):   * Ensmbl23: Computing Classification Vars;
2145836   +*------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
2145837   +length I_DepVar $32;
MPRINT(EM_DIAGRAM):   length I_DepVar $32;
WARNING: Length of character variable I_DepVar has already been set. 
         Use the LENGTH statement as the very first statement in the DATA STEP to declare the 
         length of a character variable.
2145838   +label I_DepVar = 'Into: DepVar';
MPRINT(EM_DIAGRAM):   label I_DepVar = 'Into: DepVar';
2145839   +length _format $200;
MPRINT(EM_DIAGRAM):   length _format $200;
2145840   +drop _format;
MPRINT(EM_DIAGRAM):   drop _format;
2145841   +_format= ' ';
MPRINT(EM_DIAGRAM):   _format= ' ';
2145842   +_p_= 0;
MPRINT(EM_DIAGRAM):   _p_= 0;
2145843   +drop _p_;
MPRINT(EM_DIAGRAM):   drop _p_;
2145844   +if P_DepVar1 > _p_ then do;
MPRINT(EM_DIAGRAM):   if P_DepVar1 > _p_ then do;
2145845   +_p_= P_DepVar1;
MPRINT(EM_DIAGRAM):   _p_= P_DepVar1;
2145846   +_format= '1';
MPRINT(EM_DIAGRAM):   _format= '1';
2145847   +end;
MPRINT(EM_DIAGRAM):   end;
2145848   +if P_DepVar0 > _p_ then do;
MPRINT(EM_DIAGRAM):   if P_DepVar0 > _p_ then do;
2145849   +_p_= P_DepVar0;
MPRINT(EM_DIAGRAM):   _p_= P_DepVar0;
2145850   +_format= '0';
MPRINT(EM_DIAGRAM):   _format= '0';
2145851   +end;
MPRINT(EM_DIAGRAM):   end;
2145852   +%DMNORMCP(_format,I_DepVar);
MPRINT(DMNORMCP):   I_DepVar=dmnorm(_format,
MPRINT(DMNORLEN):  32
MPRINT(DMNORMCP):  );
MPRINT(EM_DIAGRAM):  ;
2145853   +*------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
2145854   +* Ensmbl23: Producing Unformatted variable;
MPRINT(EM_DIAGRAM):   * Ensmbl23: Producing Unformatted variable;
2145855   +*------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
2145856   +label U_DepVar = "Unnormalized Into: DepVar";
MPRINT(EM_DIAGRAM):   label U_DepVar = "Unnormalized Into: DepVar";
2145857   +if I_DepVar = '1' then U_DepVar = 1;
MPRINT(EM_DIAGRAM):   if I_DepVar = '1' then U_DepVar = 1;
2145858   +else
2145859   +if I_DepVar = '0' then U_DepVar = 0;
MPRINT(EM_DIAGRAM):   else if I_DepVar = '0' then U_DepVar = 0;
2145860   +*------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
2145861   +* Ensmbl23: Computing _WARN_ Variable;
MPRINT(EM_DIAGRAM):   * Ensmbl23: Computing _WARN_ Variable;
2145862   +*------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
2145863   +length _WARN_ $4;
MPRINT(EM_DIAGRAM):   length _WARN_ $4;
2145864   +label _WARN_ = 'Warnings';
MPRINT(EM_DIAGRAM):   label _WARN_ = 'Warnings';
2145865   +_WARN_ = '';
MPRINT(EM_DIAGRAM):   _WARN_ = '';
2145866   +if index(NEURAL41_WARN_, 'M') and ^index(_WARN_, 'M') then substr(_WARN_, 1, 1) ='M'
2145866  !+;
MPRINT(EM_DIAGRAM):   if index(NEURAL41_WARN_, 'M') and ^index(_WARN_, 'M') then 
substr(_WARN_, 1, 1) ='M';
2145867   +if index(NEURAL41_WARN_, 'U') and ^index(_WARN_, 'U') then substr(_WARN_, 2, 1) ='U'
2145867  !+;
MPRINT(EM_DIAGRAM):   if index(NEURAL41_WARN_, 'U') and ^index(_WARN_, 'U') then 
substr(_WARN_, 2, 1) ='U';
2145868   +if index(NEURAL41_WARN_, 'P') and ^index(_WARN_, 'P') then substr(_WARN_, 3, 1) ='P'
2145868  !+;
MPRINT(EM_DIAGRAM):   if index(NEURAL41_WARN_, 'P') and ^index(_WARN_, 'P') then 
substr(_WARN_, 3, 1) ='P';
2145869   +if index(NEURAL41_WARN_, 'C') and ^index(_WARN_, 'C') then substr(_WARN_, 4, 1) ='C'
2145869  !+;
MPRINT(EM_DIAGRAM):   if index(NEURAL41_WARN_, 'C') and ^index(_WARN_, 'C') then 
substr(_WARN_, 4, 1) ='C';
2145870   +if index(NEURAL40_WARN_, 'M') and ^index(_WARN_, 'M') then substr(_WARN_, 1, 1) ='M'
2145870  !+;
MPRINT(EM_DIAGRAM):   if index(NEURAL40_WARN_, 'M') and ^index(_WARN_, 'M') then 
substr(_WARN_, 1, 1) ='M';
2145871   +if index(NEURAL40_WARN_, 'U') and ^index(_WARN_, 'U') then substr(_WARN_, 2, 1) ='U'
2145871  !+;
MPRINT(EM_DIAGRAM):   if index(NEURAL40_WARN_, 'U') and ^index(_WARN_, 'U') then 
substr(_WARN_, 2, 1) ='U';
2145872   +if index(NEURAL40_WARN_, 'P') and ^index(_WARN_, 'P') then substr(_WARN_, 3, 1) ='P'
2145872  !+;
MPRINT(EM_DIAGRAM):   if index(NEURAL40_WARN_, 'P') and ^index(_WARN_, 'P') then 
substr(_WARN_, 3, 1) ='P';
2145873   +if index(NEURAL40_WARN_, 'C') and ^index(_WARN_, 'C') then substr(_WARN_, 4, 1) ='C'
2145873  !+;
MPRINT(EM_DIAGRAM):   if index(NEURAL40_WARN_, 'C') and ^index(_WARN_, 'C') then 
substr(_WARN_, 4, 1) ='C';
2145874   +if index(NEURAL39_WARN_, 'M') and ^index(_WARN_, 'M') then substr(_WARN_, 1, 1) ='M'
2145874  !+;
MPRINT(EM_DIAGRAM):   if index(NEURAL39_WARN_, 'M') and ^index(_WARN_, 'M') then 
substr(_WARN_, 1, 1) ='M';
2145875   +if index(NEURAL39_WARN_, 'U') and ^index(_WARN_, 'U') then substr(_WARN_, 2, 1) ='U'
2145875  !+;
MPRINT(EM_DIAGRAM):   if index(NEURAL39_WARN_, 'U') and ^index(_WARN_, 'U') then 
substr(_WARN_, 2, 1) ='U';
2145876   +if index(NEURAL39_WARN_, 'P') and ^index(_WARN_, 'P') then substr(_WARN_, 3, 1) ='P'
2145876  !+;
MPRINT(EM_DIAGRAM):   if index(NEURAL39_WARN_, 'P') and ^index(_WARN_, 'P') then 
substr(_WARN_, 3, 1) ='P';
2145877   +if index(NEURAL39_WARN_, 'C') and ^index(_WARN_, 'C') then substr(_WARN_, 4, 1) ='C'
2145877  !+;
MPRINT(EM_DIAGRAM):   if index(NEURAL39_WARN_, 'C') and ^index(_WARN_, 'C') then 
substr(_WARN_, 4, 1) ='C';
2145878   +if index(NEURAL38_WARN_, 'M') and ^index(_WARN_, 'M') then substr(_WARN_, 1, 1) ='M'
2145878  !+;
MPRINT(EM_DIAGRAM):   if index(NEURAL38_WARN_, 'M') and ^index(_WARN_, 'M') then 
substr(_WARN_, 1, 1) ='M';
2145879   +if index(NEURAL38_WARN_, 'U') and ^index(_WARN_, 'U') then substr(_WARN_, 2, 1) ='U'
2145879  !+;
MPRINT(EM_DIAGRAM):   if index(NEURAL38_WARN_, 'U') and ^index(_WARN_, 'U') then 
substr(_WARN_, 2, 1) ='U';
2145880   +if index(NEURAL38_WARN_, 'P') and ^index(_WARN_, 'P') then substr(_WARN_, 3, 1) ='P'
2145880  !+;
MPRINT(EM_DIAGRAM):   if index(NEURAL38_WARN_, 'P') and ^index(_WARN_, 'P') then 
substr(_WARN_, 3, 1) ='P';
2145881   +if index(NEURAL38_WARN_, 'C') and ^index(_WARN_, 'C') then substr(_WARN_, 4, 1) ='C'
2145881  !+;
MPRINT(EM_DIAGRAM):   if index(NEURAL38_WARN_, 'C') and ^index(_WARN_, 'C') then 
substr(_WARN_, 4, 1) ='C';
2145882   +if index(NEURAL37_WARN_, 'M') and ^index(_WARN_, 'M') then substr(_WARN_, 1, 1) ='M'
2145882  !+;
MPRINT(EM_DIAGRAM):   if index(NEURAL37_WARN_, 'M') and ^index(_WARN_, 'M') then 
substr(_WARN_, 1, 1) ='M';
2145883   +if index(NEURAL37_WARN_, 'U') and ^index(_WARN_, 'U') then substr(_WARN_, 2, 1) ='U'
2145883  !+;
MPRINT(EM_DIAGRAM):   if index(NEURAL37_WARN_, 'U') and ^index(_WARN_, 'U') then 
substr(_WARN_, 2, 1) ='U';
2145884   +if index(NEURAL37_WARN_, 'P') and ^index(_WARN_, 'P') then substr(_WARN_, 3, 1) ='P'
2145884  !+;
MPRINT(EM_DIAGRAM):   if index(NEURAL37_WARN_, 'P') and ^index(_WARN_, 'P') then 
substr(_WARN_, 3, 1) ='P';
2145885   +if index(NEURAL37_WARN_, 'C') and ^index(_WARN_, 'C') then substr(_WARN_, 4, 1) ='C'
2145885  !+;
MPRINT(EM_DIAGRAM):   if index(NEURAL37_WARN_, 'C') and ^index(_WARN_, 'C') then 
substr(_WARN_, 4, 1) ='C';
2145886   +*------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
2145887   +* Ensmbl23: Computing Residual Vars;
MPRINT(EM_DIAGRAM):   * Ensmbl23: Computing Residual Vars;
2145888   +*------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
2145889   +if
2145890   +F_DepVar NE '1'
2145891   +AND F_DepVar NE '0'
2145892   +then do;
MPRINT(EM_DIAGRAM):   if F_DepVar NE '1' AND F_DepVar NE '0' then do;
2145893   +R_DepVar1 = .;
MPRINT(EM_DIAGRAM):   R_DepVar1 = .;
2145894   +R_DepVar0 = .;
MPRINT(EM_DIAGRAM):   R_DepVar0 = .;
2145895   +end;
MPRINT(EM_DIAGRAM):   end;
2145896   +else do;
MPRINT(EM_DIAGRAM):   else do;
2145897   +R_DepVar1 = -P_DepVar1;
MPRINT(EM_DIAGRAM):   R_DepVar1 = -P_DepVar1;
2145898   +R_DepVar0 = -P_DepVar0;
MPRINT(EM_DIAGRAM):   R_DepVar0 = -P_DepVar0;
2145899   +SELECT(F_DepVar);
MPRINT(EM_DIAGRAM):   SELECT(F_DepVar);
2145900   +WHEN('1') R_DepVar1 = R_DepVar1 +1;
MPRINT(EM_DIAGRAM):   WHEN('1') R_DepVar1 = R_DepVar1 +1;
2145901   +WHEN('0') R_DepVar0 = R_DepVar0 +1;
MPRINT(EM_DIAGRAM):   WHEN('0') R_DepVar0 = R_DepVar0 +1;
2145902   +OTHERWISE;
MPRINT(EM_DIAGRAM):   OTHERWISE;
2145903   +END;
MPRINT(EM_DIAGRAM):   END;
2145904   +END;
MPRINT(EM_DIAGRAM):   END;
NOTE: %INCLUDE (level 1) ending.
MPRINT(EM_DIAGRAM):   run;
2145905    run;

NOTE: DATA STEP view saved on file EMWS8.ENSMBL23_VALIDATE.
NOTE: A stored DATA STEP view cannot run under a different operating system.
NOTE: View EMWS8.NEURAL41_VALIDATE.VIEW used (Total process time):
      real time           0.13 seconds
      cpu time            0.12 seconds
      
NOTE: DATA statement used (Total process time):
      real time           0.14 seconds
      cpu time            0.14 seconds
      

MPRINT(EM_DIAGRAM):   quit;
2145906    quit;
2145907    filename emflow;
MPRINT(EM_DIAGRAM):   filename emflow;
NOTE: Fileref EMFLOW has been deassigned.
MPRINT(EM_DIAGRAM):   
MPRINT(CALFITSTATSNOMINAL):   data _tmpTrainFitTable(keep=_TARGET_ _ASE_ _DIV_ _MAX_ _NOBS_ 
_RASE_ _SSE_ _DISF_ _MISC_ _WRONG_ rename=(_TARGET_=TARGET));
MPRINT(CALFITSTATSNOMINAL):   set EMWS8.Ensmbl23_TRAIN end=eof;
MPRINT(CALFITSTATSNOMINAL):   length _TARGET_ $32;
MPRINT(CALFITSTATSNOMINAL):   length _ASE_ _DIV_ _MAX_ _NOBS_ _RASE_ _SSE_ _DISF_ _MISC_ 
_WRONG_ 8;
MPRINT(CALFITSTATSNOMINAL):   label _TARGET_ = "Train: Target Variable" _NOBS_= "Train: Sum of 
Frequencies" _SSE_= "Train: Sum of Squared Errors" _MAX_= "Train: Maximum Absolute Error" 
_DIV_ = "Train: Divisor for ASE" _WRONG_= "Train: Number of Wrong Classifications" _DISF_= 
"Train: Frequency of Classified Cases" _MISC_= "Train: Misclassification Rate" _ASE_ = "Train: 
Average Squared Error" _RASE_ = "Train: Root Average Squared Error";
MPRINT(CALFITSTATSNOMINAL):   retain _TARGET_ _WRONG_ _DIV_ _MAX_ _SSE_ _DISF_ _MISC_ _ASE_ 
_RASE_ ;
MPRINT(CALFITSTATSNOMINAL):   if R_DepVar1 ne . then do;
MPRINT(CALFITSTATSNOMINAL):   _SSE_ +(R_DepVar1)*(R_DepVar1);
MPRINT(CALFITSTATSNOMINAL):   _DIV_ +1;
MPRINT(CALFITSTATSNOMINAL):   _MAX_ =max(_MAX_ ,abs(R_DepVar1));
MPRINT(CALFITSTATSNOMINAL):   end;
MPRINT(CALFITSTATSNOMINAL):   if R_DepVar0 ne . then do;
MPRINT(CALFITSTATSNOMINAL):   _SSE_ +(R_DepVar0)*(R_DepVar0);
MPRINT(CALFITSTATSNOMINAL):   _DIV_ +1;
MPRINT(CALFITSTATSNOMINAL):   _MAX_ =max(_MAX_ ,abs(R_DepVar0));
MPRINT(CALFITSTATSNOMINAL):   end;
MPRINT(CALFITSTATSNOMINAL):   if F_DepVar ne "" then do;
MPRINT(CALFITSTATSNOMINAL):   _DISF_+ 1;
MPRINT(CALFITSTATSNOMINAL):   _WRONG_+(F_DepVar ne I_DepVar);
MPRINT(CALFITSTATSNOMINAL):   end;
MPRINT(CALFITSTATSNOMINAL):   if eof then do;
MPRINT(CALFITSTATSNOMINAL):   _TARGET_ = "DepVar";
MPRINT(CALFITSTATSNOMINAL):   _MAX = 0;
MPRINT(CALFITSTATSNOMINAL):   if _DISF_ ne 0 then do;
MPRINT(CALFITSTATSNOMINAL):   _MISC_=_WRONG_/_DISF_;
MPRINT(CALFITSTATSNOMINAL):   end;
MPRINT(CALFITSTATSNOMINAL):   _NOBS_ = _DIV_/2;
MPRINT(CALFITSTATSNOMINAL):   _ASE_=_SSE_/_DIV_;
MPRINT(CALFITSTATSNOMINAL):   _RASE_=sqrt(_ASE_);
MPRINT(CALFITSTATSNOMINAL):   output;
MPRINT(CALFITSTATSNOMINAL):   end;
MPRINT(CALFITSTATSNOMINAL):   run;
MPRINT(EM_DIAGRAM):  ;
MPRINT(EM_DIAGRAM):   data EMWS8.Ensmbl23_EMOUTFIT;
MPRINT(EM_DIAGRAM):   set _tmpTrainFitTable;
MPRINT(EM_DIAGRAM):   run;
MPRINT(EM_DIAGRAM):   
MPRINT(CALFITSTATSNOMINAL):   data _tmpValidFitTable(keep=_TARGET_ _ASE_ _DIV_ _MAX_ _NOBS_ 
_RASE_ _SSE_ _DISF_ _MISC_ _WRONG_ rename=(_TARGET_=TARGET));
MPRINT(CALFITSTATSNOMINAL):   set EMWS8.Ensmbl23_VALIDATE end=eof;
MPRINT(CALFITSTATSNOMINAL):   length _TARGET_ $32;
MPRINT(CALFITSTATSNOMINAL):   length _ASE_ _DIV_ _MAX_ _NOBS_ _RASE_ _SSE_ _DISF_ _MISC_ 
_WRONG_ 8;
MPRINT(CALFITSTATSNOMINAL):   label _TARGET_ = "Valid: Target Variable" _NOBS_= "Valid: Sum of 
Frequencies" _SSE_= "Valid: Sum of Squared Errors" _MAX_= "Valid: Maximum Absolute Error" 
_DIV_ = "Valid: Divisor for ASE" _WRONG_= "Valid: Number of Wrong Classifications" _DISF_= 
"Valid: Frequency of Classified Cases" _MISC_= "Valid: Misclassification Rate" _ASE_ = "Valid: 
Average Squared Error" _RASE_ = "Valid: Root Average Squared Error";
MPRINT(CALFITSTATSNOMINAL):   retain _TARGET_ _WRONG_ _DIV_ _MAX_ _SSE_ _DISF_ _MISC_ _ASE_ 
_RASE_ ;
MPRINT(CALFITSTATSNOMINAL):   if R_DepVar1 ne . then do;
MPRINT(CALFITSTATSNOMINAL):   _SSE_ +(R_DepVar1)*(R_DepVar1);
MPRINT(CALFITSTATSNOMINAL):   _DIV_ +1;
MPRINT(CALFITSTATSNOMINAL):   _MAX_ =max(_MAX_ ,abs(R_DepVar1));
MPRINT(CALFITSTATSNOMINAL):   end;
MPRINT(CALFITSTATSNOMINAL):   if R_DepVar0 ne . then do;
MPRINT(CALFITSTATSNOMINAL):   _SSE_ +(R_DepVar0)*(R_DepVar0);
MPRINT(CALFITSTATSNOMINAL):   _DIV_ +1;
MPRINT(CALFITSTATSNOMINAL):   _MAX_ =max(_MAX_ ,abs(R_DepVar0));
MPRINT(CALFITSTATSNOMINAL):   end;
MPRINT(CALFITSTATSNOMINAL):   if F_DepVar ne "" then do;
MPRINT(CALFITSTATSNOMINAL):   _DISF_+ 1;
MPRINT(CALFITSTATSNOMINAL):   _WRONG_+(F_DepVar ne I_DepVar);
MPRINT(CALFITSTATSNOMINAL):   end;
MPRINT(CALFITSTATSNOMINAL):   if eof then do;
MPRINT(CALFITSTATSNOMINAL):   _TARGET_ = "DepVar";
MPRINT(CALFITSTATSNOMINAL):   _MAX = 0;
MPRINT(CALFITSTATSNOMINAL):   if _DISF_ ne 0 then do;
MPRINT(CALFITSTATSNOMINAL):   _MISC_=_WRONG_/_DISF_;
MPRINT(CALFITSTATSNOMINAL):   end;
MPRINT(CALFITSTATSNOMINAL):   _NOBS_ = _DIV_/2;
MPRINT(CALFITSTATSNOMINAL):   _ASE_=_SSE_/_DIV_;
MPRINT(CALFITSTATSNOMINAL):   _RASE_=sqrt(_ASE_);
MPRINT(CALFITSTATSNOMINAL):   output;
MPRINT(CALFITSTATSNOMINAL):   end;
MPRINT(CALFITSTATSNOMINAL):   run;
MPRINT(EM_DIAGRAM):  ;
MPRINT(EM_DIAGRAM):   data _tmpdata_(DROP= TARGET);
MPRINT(EM_DIAGRAM):   set _tmpValidFitTable;
MPRINT(EM_DIAGRAM):   run;
MPRINT(EM_DIAGRAM):    data _tmpdata_;
MPRINT(EM_DIAGRAM):   set _tmpdata_;
MPRINT(EM_DIAGRAM):   rename _ASE_=_VASE_;
MPRINT(EM_DIAGRAM):   rename _DIV_=_VDIV_;
MPRINT(EM_DIAGRAM):   rename _MAX_=_VMAX_;
MPRINT(EM_DIAGRAM):   rename _NOBS_=_VNOBS_;
MPRINT(EM_DIAGRAM):   rename _RASE_=_VRASE_;
MPRINT(EM_DIAGRAM):   rename _SSE_=_VSSE_;
MPRINT(EM_DIAGRAM):   rename _DISF_=_VDISF_;
MPRINT(EM_DIAGRAM):   rename _MISC_=_VMISC_;
MPRINT(EM_DIAGRAM):   rename _WRONG_=_VWRONG_;
MPRINT(EM_DIAGRAM):   data EMWS8.Ensmbl23_EMOUTFIT;
MPRINT(EM_DIAGRAM):   merge EMWS8.Ensmbl23_EMOUTFIT _tmpdata_;
MPRINT(EM_DIAGRAM):   run;
2145967    filename _pref
2145967  ! "C:\\predictive-models-project\Workspaces\EMWS8\Neural41\EMPUBLISHSCORE.sas";
MPRINT(EM_DIAGRAM):    filename _pref 
"C:\\predictive-models-project\Workspaces\EMWS8\Neural41\EMPUBLISHSCORE.sas";
2145968    proc FCMP NOEXECUTE IMPUTEDDEPS OUTDEPS=_temp;
MPRINT(EM_DIAGRAM):   proc FCMP NOEXECUTE IMPUTEDDEPS OUTDEPS=_temp;
2145969    %INCLUDE _pref;
NOTE: %INCLUDE (level 1) file _PREF is file 
      C:\\predictive-models-project\Workspaces\EMWS8\Neural41\EMPUBLISHSCORE.sas.
2145970   +***********************************;
MPRINT(EM_DIAGRAM):   ***********************************;
2145971   +*** Begin Scoring Code for Neural;
MPRINT(EM_DIAGRAM):   *** Begin Scoring Code for Neural;
2145972   +***********************************;
MPRINT(EM_DIAGRAM):   ***********************************;
2145973   +DROP _DM_BAD _EPS _NOCL_ _MAX_ _MAXP_ _SUM_ _NTRIALS;
MPRINT(EM_DIAGRAM):   DROP _DM_BAD _EPS _NOCL_ _MAX_ _MAXP_ _SUM_ _NTRIALS;
2145974   + _DM_BAD = 0;
MPRINT(EM_DIAGRAM):   _DM_BAD = 0;
2145975   + _NOCL_ = .;
MPRINT(EM_DIAGRAM):   _NOCL_ = .;
2145976   + _MAX_ = .;
MPRINT(EM_DIAGRAM):   _MAX_ = .;
2145977   + _MAXP_ = .;
MPRINT(EM_DIAGRAM):   _MAXP_ = .;
2145978   + _SUM_ = .;
MPRINT(EM_DIAGRAM):   _SUM_ = .;
2145979   + _NTRIALS = .;
MPRINT(EM_DIAGRAM):   _NTRIALS = .;
2145980   + _EPS =                1E-10;
MPRINT(EM_DIAGRAM):   _EPS = 1E-10;
2145981   +LENGTH _WARN_ $4
2145982   +;
MPRINT(EM_DIAGRAM):   LENGTH _WARN_ $4 ;
2145983   +      label S_AcceptedCmpTotal = 'Standard: AcceptedCmpTotal' ;
MPRINT(EM_DIAGRAM):   label S_AcceptedCmpTotal = 'Standard: AcceptedCmpTotal' ;
2145984   +
2145985   +      label S_Age = 'Standard: Age' ;
MPRINT(EM_DIAGRAM):   label S_Age = 'Standard: Age' ;
2145986   +
2145987   +      label S_Frq = 'Standard: Frq' ;
MPRINT(EM_DIAGRAM):   label S_Frq = 'Standard: Frq' ;
2145988   +
2145989   +      label S_Income = 'Standard: Income' ;
MPRINT(EM_DIAGRAM):   label S_Income = 'Standard: Income' ;
2145990   +
2145991   +      label S_Kidhome = 'Standard: Kidhome' ;
MPRINT(EM_DIAGRAM):   label S_Kidhome = 'Standard: Kidhome' ;
2145992   +
2145993   +      label S_MntFishProducts = 'Standard: MntFishProducts' ;
MPRINT(EM_DIAGRAM):   label S_MntFishProducts = 'Standard: MntFishProducts' ;
2145994   +
2145995   +      label S_MntFruits = 'Standard: MntFruits' ;
MPRINT(EM_DIAGRAM):   label S_MntFruits = 'Standard: MntFruits' ;
2145996   +
2145997   +      label S_MntGoldProds = 'Standard: MntGoldProds' ;
MPRINT(EM_DIAGRAM):   label S_MntGoldProds = 'Standard: MntGoldProds' ;
2145998   +
2145999   +      label S_MntSweetProducts = 'Standard: MntSweetProducts' ;
MPRINT(EM_DIAGRAM):   label S_MntSweetProducts = 'Standard: MntSweetProducts' ;
2146000   +
2146001   +      label S_MonthsAsCustomer = 'Standard: MonthsAsCustomer' ;
MPRINT(EM_DIAGRAM):   label S_MonthsAsCustomer = 'Standard: MonthsAsCustomer' ;
2146002   +
2146003   +      label S_NumDealsPurchases = 'Standard: NumDealsPurchases' ;
MPRINT(EM_DIAGRAM):   label S_NumDealsPurchases = 'Standard: NumDealsPurchases' ;
2146004   +
2146005   +      label S_NumWebVisitsMonth = 'Standard: NumWebVisitsMonth' ;
MPRINT(EM_DIAGRAM):   label S_NumWebVisitsMonth = 'Standard: NumWebVisitsMonth' ;
2146006   +
2146007   +      label S_RFMstat = 'Standard: RFMstat' ;
MPRINT(EM_DIAGRAM):   label S_RFMstat = 'Standard: RFMstat' ;
2146008   +
2146009   +      label S_RMntFrq = 'Standard: RMntFrq' ;
MPRINT(EM_DIAGRAM):   label S_RMntFrq = 'Standard: RMntFrq' ;
2146010   +
2146011   +      label S_Recency = 'Standard: Recency' ;
MPRINT(EM_DIAGRAM):   label S_Recency = 'Standard: Recency' ;
2146012   +
2146013   +      label S_Teenhome = 'Standard: Teenhome' ;
MPRINT(EM_DIAGRAM):   label S_Teenhome = 'Standard: Teenhome' ;
2146014   +
2146015   +      label AcceptedCmp10 = 'Dummy: AcceptedCmp1=0' ;
MPRINT(EM_DIAGRAM):   label AcceptedCmp10 = 'Dummy: AcceptedCmp1=0' ;
2146016   +
2146017   +      label AcceptedCmp20 = 'Dummy: AcceptedCmp2=0' ;
MPRINT(EM_DIAGRAM):   label AcceptedCmp20 = 'Dummy: AcceptedCmp2=0' ;
2146018   +
2146019   +      label AcceptedCmp30 = 'Dummy: AcceptedCmp3=0' ;
MPRINT(EM_DIAGRAM):   label AcceptedCmp30 = 'Dummy: AcceptedCmp3=0' ;
2146020   +
2146021   +      label AcceptedCmp40 = 'Dummy: AcceptedCmp4=0' ;
MPRINT(EM_DIAGRAM):   label AcceptedCmp40 = 'Dummy: AcceptedCmp4=0' ;
2146022   +
2146023   +      label AcceptedCmp50 = 'Dummy: AcceptedCmp5=0' ;
MPRINT(EM_DIAGRAM):   label AcceptedCmp50 = 'Dummy: AcceptedCmp5=0' ;
2146024   +
2146025   +      label Complain0 = 'Dummy: Complain=0' ;
MPRINT(EM_DIAGRAM):   label Complain0 = 'Dummy: Complain=0' ;
2146026   +
2146027   +      label HigherEducationBinary0 = 'Dummy: HigherEducationBinary=0' ;
MPRINT(EM_DIAGRAM):   label HigherEducationBinary0 = 'Dummy: HigherEducationBinary=0' ;
2146028   +
2146029   +      label Education2n_Cycle = 'Dummy: Education=2n Cycle' ;
MPRINT(EM_DIAGRAM):   label Education2n_Cycle = 'Dummy: Education=2n Cycle' ;
2146030   +
2146031   +      label EducationBasic = 'Dummy: Education=Basic' ;
MPRINT(EM_DIAGRAM):   label EducationBasic = 'Dummy: Education=Basic' ;
2146032   +
2146033   +      label EducationGraduation = 'Dummy: Education=Graduation' ;
MPRINT(EM_DIAGRAM):   label EducationGraduation = 'Dummy: Education=Graduation' ;
2146034   +
2146035   +      label EducationMaster = 'Dummy: Education=Master' ;
MPRINT(EM_DIAGRAM):   label EducationMaster = 'Dummy: Education=Master' ;
2146036   +
2146037   +      label Marital_StatusDivorced = 'Dummy: Marital_Status=Divorced' ;
MPRINT(EM_DIAGRAM):   label Marital_StatusDivorced = 'Dummy: Marital_Status=Divorced' ;
2146038   +
2146039   +      label Marital_StatusMarried = 'Dummy: Marital_Status=Married' ;
MPRINT(EM_DIAGRAM):   label Marital_StatusMarried = 'Dummy: Marital_Status=Married' ;
2146040   +
2146041   +      label Marital_StatusSingle = 'Dummy: Marital_Status=Single' ;
MPRINT(EM_DIAGRAM):   label Marital_StatusSingle = 'Dummy: Marital_Status=Single' ;
2146042   +
2146043   +      label Marital_StatusTogether = 'Dummy: Marital_Status=Together' ;
MPRINT(EM_DIAGRAM):   label Marital_StatusTogether = 'Dummy: Marital_Status=Together' ;
2146044   +
2146045   +      label H11 = 'Hidden: H1=1' ;
MPRINT(EM_DIAGRAM):   label H11 = 'Hidden: H1=1' ;
2146046   +
2146047   +      label H12 = 'Hidden: H1=2' ;
MPRINT(EM_DIAGRAM):   label H12 = 'Hidden: H1=2' ;
2146048   +
2146049   +      label H13 = 'Hidden: H1=3' ;
MPRINT(EM_DIAGRAM):   label H13 = 'Hidden: H1=3' ;
2146050   +
2146051   +      label H14 = 'Hidden: H1=4' ;
MPRINT(EM_DIAGRAM):   label H14 = 'Hidden: H1=4' ;
2146052   +
2146053   +      label H15 = 'Hidden: H1=5' ;
MPRINT(EM_DIAGRAM):   label H15 = 'Hidden: H1=5' ;
2146054   +
2146055   +      label H16 = 'Hidden: H1=6' ;
MPRINT(EM_DIAGRAM):   label H16 = 'Hidden: H1=6' ;
2146056   +
2146057   +      label I_DepVar = 'Into: DepVar' ;
MPRINT(EM_DIAGRAM):   label I_DepVar = 'Into: DepVar' ;
2146058   +
2146059   +      label U_DepVar = 'Unnormalized Into: DepVar' ;
MPRINT(EM_DIAGRAM):   label U_DepVar = 'Unnormalized Into: DepVar' ;
2146060   +
2146061   +      label P_DepVar1 = 'Predicted: DepVar=1' ;
MPRINT(EM_DIAGRAM):   label P_DepVar1 = 'Predicted: DepVar=1' ;
2146062   +
2146063   +      label P_DepVar0 = 'Predicted: DepVar=0' ;
MPRINT(EM_DIAGRAM):   label P_DepVar0 = 'Predicted: DepVar=0' ;
2146064   +
2146065   +      label  _WARN_ = "Warnings";
MPRINT(EM_DIAGRAM):   label _WARN_ = "Warnings";
2146066   +
2146067   +*** Generate dummy variables for AcceptedCmp1 ;
MPRINT(EM_DIAGRAM):   *** Generate dummy variables for AcceptedCmp1 ;
2146068   +drop AcceptedCmp10 ;
MPRINT(EM_DIAGRAM):   drop AcceptedCmp10 ;
2146069   +if missing( AcceptedCmp1 ) then do;
MPRINT(EM_DIAGRAM):   if missing( AcceptedCmp1 ) then do;
2146070   +   AcceptedCmp10 = .;
MPRINT(EM_DIAGRAM):   AcceptedCmp10 = .;
2146071   +   substr(_warn_,1,1) = 'M';
MPRINT(EM_DIAGRAM):   substr(_warn_,1,1) = 'M';
2146072   +   _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2146073   +end;
MPRINT(EM_DIAGRAM):   end;
2146074   +else do;
MPRINT(EM_DIAGRAM):   else do;
2146075   +   length _dm12 $ 12; drop _dm12 ;
MPRINT(EM_DIAGRAM):   length _dm12 $ 12;
MPRINT(EM_DIAGRAM):   drop _dm12 ;
2146076   +   _dm12 = put( AcceptedCmp1 , BEST. );
MPRINT(EM_DIAGRAM):   _dm12 = put( AcceptedCmp1 , BEST. );
2146077   +   %DMNORMIP( _dm12 )
MPRINT(DMNORMIP):   call dmnorm(_dm12,
MPRINT(DMNORLEN):  32
MPRINT(DMNORMIP):  );
2146078   +   if _dm12 = '0'  then do;
MPRINT(EM_DIAGRAM):   if _dm12 = '0' then do;
2146079   +      AcceptedCmp10 = 1;
MPRINT(EM_DIAGRAM):   AcceptedCmp10 = 1;
2146080   +   end;
MPRINT(EM_DIAGRAM):   end;
2146081   +   else if _dm12 = '1'  then do;
MPRINT(EM_DIAGRAM):   else if _dm12 = '1' then do;
2146082   +      AcceptedCmp10 = -1;
MPRINT(EM_DIAGRAM):   AcceptedCmp10 = -1;
2146083   +   end;
MPRINT(EM_DIAGRAM):   end;
2146084   +   else do;
MPRINT(EM_DIAGRAM):   else do;
2146085   +      AcceptedCmp10 = .;
MPRINT(EM_DIAGRAM):   AcceptedCmp10 = .;
2146086   +      substr(_warn_,2,1) = 'U';
MPRINT(EM_DIAGRAM):   substr(_warn_,2,1) = 'U';
2146087   +      _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2146088   +   end;
MPRINT(EM_DIAGRAM):   end;
2146089   +end;
MPRINT(EM_DIAGRAM):   end;
2146090   +
2146091   +*** Generate dummy variables for AcceptedCmp2 ;
MPRINT(EM_DIAGRAM):   *** Generate dummy variables for AcceptedCmp2 ;
2146092   +drop AcceptedCmp20 ;
MPRINT(EM_DIAGRAM):   drop AcceptedCmp20 ;
2146093   +if missing( AcceptedCmp2 ) then do;
MPRINT(EM_DIAGRAM):   if missing( AcceptedCmp2 ) then do;
2146094   +   AcceptedCmp20 = .;
MPRINT(EM_DIAGRAM):   AcceptedCmp20 = .;
2146095   +   substr(_warn_,1,1) = 'M';
MPRINT(EM_DIAGRAM):   substr(_warn_,1,1) = 'M';
2146096   +   _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2146097   +end;
MPRINT(EM_DIAGRAM):   end;
2146098   +else do;
MPRINT(EM_DIAGRAM):   else do;
2146099   +   length _dm12 $ 12; drop _dm12 ;
MPRINT(EM_DIAGRAM):   length _dm12 $ 12;
MPRINT(EM_DIAGRAM):   drop _dm12 ;
2146100   +   _dm12 = put( AcceptedCmp2 , BEST. );
MPRINT(EM_DIAGRAM):   _dm12 = put( AcceptedCmp2 , BEST. );
2146101   +   %DMNORMIP( _dm12 )
MPRINT(DMNORMIP):   call dmnorm(_dm12,
MPRINT(DMNORLEN):  32
MPRINT(DMNORMIP):  );
2146102   +   if _dm12 = '0'  then do;
MPRINT(EM_DIAGRAM):   if _dm12 = '0' then do;
2146103   +      AcceptedCmp20 = 1;
MPRINT(EM_DIAGRAM):   AcceptedCmp20 = 1;
2146104   +   end;
MPRINT(EM_DIAGRAM):   end;
2146105   +   else if _dm12 = '1'  then do;
MPRINT(EM_DIAGRAM):   else if _dm12 = '1' then do;
2146106   +      AcceptedCmp20 = -1;
MPRINT(EM_DIAGRAM):   AcceptedCmp20 = -1;
2146107   +   end;
MPRINT(EM_DIAGRAM):   end;
2146108   +   else do;
MPRINT(EM_DIAGRAM):   else do;
2146109   +      AcceptedCmp20 = .;
MPRINT(EM_DIAGRAM):   AcceptedCmp20 = .;
2146110   +      substr(_warn_,2,1) = 'U';
MPRINT(EM_DIAGRAM):   substr(_warn_,2,1) = 'U';
2146111   +      _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2146112   +   end;
MPRINT(EM_DIAGRAM):   end;
2146113   +end;
MPRINT(EM_DIAGRAM):   end;
2146114   +
2146115   +*** Generate dummy variables for AcceptedCmp3 ;
MPRINT(EM_DIAGRAM):   *** Generate dummy variables for AcceptedCmp3 ;
2146116   +drop AcceptedCmp30 ;
MPRINT(EM_DIAGRAM):   drop AcceptedCmp30 ;
2146117   +if missing( AcceptedCmp3 ) then do;
MPRINT(EM_DIAGRAM):   if missing( AcceptedCmp3 ) then do;
2146118   +   AcceptedCmp30 = .;
MPRINT(EM_DIAGRAM):   AcceptedCmp30 = .;
2146119   +   substr(_warn_,1,1) = 'M';
MPRINT(EM_DIAGRAM):   substr(_warn_,1,1) = 'M';
2146120   +   _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2146121   +end;
MPRINT(EM_DIAGRAM):   end;
2146122   +else do;
MPRINT(EM_DIAGRAM):   else do;
2146123   +   length _dm12 $ 12; drop _dm12 ;
MPRINT(EM_DIAGRAM):   length _dm12 $ 12;
MPRINT(EM_DIAGRAM):   drop _dm12 ;
2146124   +   _dm12 = put( AcceptedCmp3 , BEST. );
MPRINT(EM_DIAGRAM):   _dm12 = put( AcceptedCmp3 , BEST. );
2146125   +   %DMNORMIP( _dm12 )
MPRINT(DMNORMIP):   call dmnorm(_dm12,
MPRINT(DMNORLEN):  32
MPRINT(DMNORMIP):  );
2146126   +   if _dm12 = '0'  then do;
MPRINT(EM_DIAGRAM):   if _dm12 = '0' then do;
2146127   +      AcceptedCmp30 = 1;
MPRINT(EM_DIAGRAM):   AcceptedCmp30 = 1;
2146128   +   end;
MPRINT(EM_DIAGRAM):   end;
2146129   +   else if _dm12 = '1'  then do;
MPRINT(EM_DIAGRAM):   else if _dm12 = '1' then do;
2146130   +      AcceptedCmp30 = -1;
MPRINT(EM_DIAGRAM):   AcceptedCmp30 = -1;
2146131   +   end;
MPRINT(EM_DIAGRAM):   end;
2146132   +   else do;
MPRINT(EM_DIAGRAM):   else do;
2146133   +      AcceptedCmp30 = .;
MPRINT(EM_DIAGRAM):   AcceptedCmp30 = .;
2146134   +      substr(_warn_,2,1) = 'U';
MPRINT(EM_DIAGRAM):   substr(_warn_,2,1) = 'U';
2146135   +      _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2146136   +   end;
MPRINT(EM_DIAGRAM):   end;
2146137   +end;
MPRINT(EM_DIAGRAM):   end;
2146138   +
2146139   +*** Generate dummy variables for AcceptedCmp4 ;
MPRINT(EM_DIAGRAM):   *** Generate dummy variables for AcceptedCmp4 ;
2146140   +drop AcceptedCmp40 ;
MPRINT(EM_DIAGRAM):   drop AcceptedCmp40 ;
2146141   +if missing( AcceptedCmp4 ) then do;
MPRINT(EM_DIAGRAM):   if missing( AcceptedCmp4 ) then do;
2146142   +   AcceptedCmp40 = .;
MPRINT(EM_DIAGRAM):   AcceptedCmp40 = .;
2146143   +   substr(_warn_,1,1) = 'M';
MPRINT(EM_DIAGRAM):   substr(_warn_,1,1) = 'M';
2146144   +   _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2146145   +end;
MPRINT(EM_DIAGRAM):   end;
2146146   +else do;
MPRINT(EM_DIAGRAM):   else do;
2146147   +   length _dm12 $ 12; drop _dm12 ;
MPRINT(EM_DIAGRAM):   length _dm12 $ 12;
MPRINT(EM_DIAGRAM):   drop _dm12 ;
2146148   +   _dm12 = put( AcceptedCmp4 , BEST. );
MPRINT(EM_DIAGRAM):   _dm12 = put( AcceptedCmp4 , BEST. );
2146149   +   %DMNORMIP( _dm12 )
MPRINT(DMNORMIP):   call dmnorm(_dm12,
MPRINT(DMNORLEN):  32
MPRINT(DMNORMIP):  );
2146150   +   if _dm12 = '0'  then do;
MPRINT(EM_DIAGRAM):   if _dm12 = '0' then do;
2146151   +      AcceptedCmp40 = 1;
MPRINT(EM_DIAGRAM):   AcceptedCmp40 = 1;
2146152   +   end;
MPRINT(EM_DIAGRAM):   end;
2146153   +   else if _dm12 = '1'  then do;
MPRINT(EM_DIAGRAM):   else if _dm12 = '1' then do;
2146154   +      AcceptedCmp40 = -1;
MPRINT(EM_DIAGRAM):   AcceptedCmp40 = -1;
2146155   +   end;
MPRINT(EM_DIAGRAM):   end;
2146156   +   else do;
MPRINT(EM_DIAGRAM):   else do;
2146157   +      AcceptedCmp40 = .;
MPRINT(EM_DIAGRAM):   AcceptedCmp40 = .;
2146158   +      substr(_warn_,2,1) = 'U';
MPRINT(EM_DIAGRAM):   substr(_warn_,2,1) = 'U';
2146159   +      _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2146160   +   end;
MPRINT(EM_DIAGRAM):   end;
2146161   +end;
MPRINT(EM_DIAGRAM):   end;
2146162   +
2146163   +*** Generate dummy variables for AcceptedCmp5 ;
MPRINT(EM_DIAGRAM):   *** Generate dummy variables for AcceptedCmp5 ;
2146164   +drop AcceptedCmp50 ;
MPRINT(EM_DIAGRAM):   drop AcceptedCmp50 ;
2146165   +if missing( AcceptedCmp5 ) then do;
MPRINT(EM_DIAGRAM):   if missing( AcceptedCmp5 ) then do;
2146166   +   AcceptedCmp50 = .;
MPRINT(EM_DIAGRAM):   AcceptedCmp50 = .;
2146167   +   substr(_warn_,1,1) = 'M';
MPRINT(EM_DIAGRAM):   substr(_warn_,1,1) = 'M';
2146168   +   _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2146169   +end;
MPRINT(EM_DIAGRAM):   end;
2146170   +else do;
MPRINT(EM_DIAGRAM):   else do;
2146171   +   length _dm12 $ 12; drop _dm12 ;
MPRINT(EM_DIAGRAM):   length _dm12 $ 12;
MPRINT(EM_DIAGRAM):   drop _dm12 ;
2146172   +   _dm12 = put( AcceptedCmp5 , BEST. );
MPRINT(EM_DIAGRAM):   _dm12 = put( AcceptedCmp5 , BEST. );
2146173   +   %DMNORMIP( _dm12 )
MPRINT(DMNORMIP):   call dmnorm(_dm12,
MPRINT(DMNORLEN):  32
MPRINT(DMNORMIP):  );
2146174   +   if _dm12 = '0'  then do;
MPRINT(EM_DIAGRAM):   if _dm12 = '0' then do;
2146175   +      AcceptedCmp50 = 1;
MPRINT(EM_DIAGRAM):   AcceptedCmp50 = 1;
2146176   +   end;
MPRINT(EM_DIAGRAM):   end;
2146177   +   else if _dm12 = '1'  then do;
MPRINT(EM_DIAGRAM):   else if _dm12 = '1' then do;
2146178   +      AcceptedCmp50 = -1;
MPRINT(EM_DIAGRAM):   AcceptedCmp50 = -1;
2146179   +   end;
MPRINT(EM_DIAGRAM):   end;
2146180   +   else do;
MPRINT(EM_DIAGRAM):   else do;
2146181   +      AcceptedCmp50 = .;
MPRINT(EM_DIAGRAM):   AcceptedCmp50 = .;
2146182   +      substr(_warn_,2,1) = 'U';
MPRINT(EM_DIAGRAM):   substr(_warn_,2,1) = 'U';
2146183   +      _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2146184   +   end;
MPRINT(EM_DIAGRAM):   end;
2146185   +end;
MPRINT(EM_DIAGRAM):   end;
2146186   +
2146187   +*** Generate dummy variables for Complain ;
MPRINT(EM_DIAGRAM):   *** Generate dummy variables for Complain ;
2146188   +drop Complain0 ;
MPRINT(EM_DIAGRAM):   drop Complain0 ;
2146189   +if missing( Complain ) then do;
MPRINT(EM_DIAGRAM):   if missing( Complain ) then do;
2146190   +   Complain0 = .;
MPRINT(EM_DIAGRAM):   Complain0 = .;
2146191   +   substr(_warn_,1,1) = 'M';
MPRINT(EM_DIAGRAM):   substr(_warn_,1,1) = 'M';
2146192   +   _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2146193   +end;
MPRINT(EM_DIAGRAM):   end;
2146194   +else do;
MPRINT(EM_DIAGRAM):   else do;
2146195   +   length _dm12 $ 12; drop _dm12 ;
MPRINT(EM_DIAGRAM):   length _dm12 $ 12;
MPRINT(EM_DIAGRAM):   drop _dm12 ;
2146196   +   _dm12 = put( Complain , BEST. );
MPRINT(EM_DIAGRAM):   _dm12 = put( Complain , BEST. );
2146197   +   %DMNORMIP( _dm12 )
MPRINT(DMNORMIP):   call dmnorm(_dm12,
MPRINT(DMNORLEN):  32
MPRINT(DMNORMIP):  );
2146198   +   if _dm12 = '0'  then do;
MPRINT(EM_DIAGRAM):   if _dm12 = '0' then do;
2146199   +      Complain0 = 1;
MPRINT(EM_DIAGRAM):   Complain0 = 1;
2146200   +   end;
MPRINT(EM_DIAGRAM):   end;
2146201   +   else if _dm12 = '1'  then do;
MPRINT(EM_DIAGRAM):   else if _dm12 = '1' then do;
2146202   +      Complain0 = -1;
MPRINT(EM_DIAGRAM):   Complain0 = -1;
2146203   +   end;
MPRINT(EM_DIAGRAM):   end;
2146204   +   else do;
MPRINT(EM_DIAGRAM):   else do;
2146205   +      Complain0 = .;
MPRINT(EM_DIAGRAM):   Complain0 = .;
2146206   +      substr(_warn_,2,1) = 'U';
MPRINT(EM_DIAGRAM):   substr(_warn_,2,1) = 'U';
2146207   +      _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2146208   +   end;
MPRINT(EM_DIAGRAM):   end;
2146209   +end;
MPRINT(EM_DIAGRAM):   end;
2146210   +
2146211   +*** Generate dummy variables for HigherEducationBinary ;
MPRINT(EM_DIAGRAM):   *** Generate dummy variables for HigherEducationBinary ;
2146212   +drop HigherEducationBinary0 ;
MPRINT(EM_DIAGRAM):   drop HigherEducationBinary0 ;
2146213   +if missing( HigherEducationBinary ) then do;
MPRINT(EM_DIAGRAM):   if missing( HigherEducationBinary ) then do;
2146214   +   HigherEducationBinary0 = .;
MPRINT(EM_DIAGRAM):   HigherEducationBinary0 = .;
2146215   +   substr(_warn_,1,1) = 'M';
MPRINT(EM_DIAGRAM):   substr(_warn_,1,1) = 'M';
2146216   +   _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2146217   +end;
MPRINT(EM_DIAGRAM):   end;
2146218   +else do;
MPRINT(EM_DIAGRAM):   else do;
2146219   +   length _dm12 $ 12; drop _dm12 ;
MPRINT(EM_DIAGRAM):   length _dm12 $ 12;
MPRINT(EM_DIAGRAM):   drop _dm12 ;
2146220   +   _dm12 = put( HigherEducationBinary , BEST12. );
MPRINT(EM_DIAGRAM):   _dm12 = put( HigherEducationBinary , BEST12. );
2146221   +   %DMNORMIP( _dm12 )
MPRINT(DMNORMIP):   call dmnorm(_dm12,
MPRINT(DMNORLEN):  32
MPRINT(DMNORMIP):  );
2146222   +   if _dm12 = '1'  then do;
MPRINT(EM_DIAGRAM):   if _dm12 = '1' then do;
2146223   +      HigherEducationBinary0 = -1;
MPRINT(EM_DIAGRAM):   HigherEducationBinary0 = -1;
2146224   +   end;
MPRINT(EM_DIAGRAM):   end;
2146225   +   else if _dm12 = '0'  then do;
MPRINT(EM_DIAGRAM):   else if _dm12 = '0' then do;
2146226   +      HigherEducationBinary0 = 1;
MPRINT(EM_DIAGRAM):   HigherEducationBinary0 = 1;
2146227   +   end;
MPRINT(EM_DIAGRAM):   end;
2146228   +   else do;
MPRINT(EM_DIAGRAM):   else do;
2146229   +      HigherEducationBinary0 = .;
MPRINT(EM_DIAGRAM):   HigherEducationBinary0 = .;
2146230   +      substr(_warn_,2,1) = 'U';
MPRINT(EM_DIAGRAM):   substr(_warn_,2,1) = 'U';
2146231   +      _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2146232   +   end;
MPRINT(EM_DIAGRAM):   end;
2146233   +end;
MPRINT(EM_DIAGRAM):   end;
2146234   +
2146235   +*** Generate dummy variables for Education ;
MPRINT(EM_DIAGRAM):   *** Generate dummy variables for Education ;
2146236   +drop Education2n_Cycle EducationBasic EducationGraduation EducationMaster ;
MPRINT(EM_DIAGRAM):   drop Education2n_Cycle EducationBasic EducationGraduation 
EducationMaster ;
2146237   +*** encoding is sparse, initialize to zero;
MPRINT(EM_DIAGRAM):   *** encoding is sparse, initialize to zero;
2146238   +Education2n_Cycle = 0;
MPRINT(EM_DIAGRAM):   Education2n_Cycle = 0;
2146239   +EducationBasic = 0;
MPRINT(EM_DIAGRAM):   EducationBasic = 0;
2146240   +EducationGraduation = 0;
MPRINT(EM_DIAGRAM):   EducationGraduation = 0;
2146241   +EducationMaster = 0;
MPRINT(EM_DIAGRAM):   EducationMaster = 0;
2146242   +if missing( Education ) then do;
MPRINT(EM_DIAGRAM):   if missing( Education ) then do;
2146243   +   Education2n_Cycle = .;
MPRINT(EM_DIAGRAM):   Education2n_Cycle = .;
2146244   +   EducationBasic = .;
MPRINT(EM_DIAGRAM):   EducationBasic = .;
2146245   +   EducationGraduation = .;
MPRINT(EM_DIAGRAM):   EducationGraduation = .;
2146246   +   EducationMaster = .;
MPRINT(EM_DIAGRAM):   EducationMaster = .;
2146247   +   substr(_warn_,1,1) = 'M';
MPRINT(EM_DIAGRAM):   substr(_warn_,1,1) = 'M';
2146248   +   _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2146249   +end;
MPRINT(EM_DIAGRAM):   end;
2146250   +else do;
MPRINT(EM_DIAGRAM):   else do;
2146251   +   length _dm10 $ 10; drop _dm10 ;
MPRINT(EM_DIAGRAM):   length _dm10 $ 10;
MPRINT(EM_DIAGRAM):   drop _dm10 ;
2146252   +   _dm10 = put( Education , $10. );
MPRINT(EM_DIAGRAM):   _dm10 = put( Education , $10. );
2146253   +   %DMNORMIP( _dm10 )
MPRINT(DMNORMIP):   call dmnorm(_dm10,
MPRINT(DMNORLEN):  32
MPRINT(DMNORMIP):  );
2146254   +   if _dm10 = 'GRADUATION'  then do;
MPRINT(EM_DIAGRAM):   if _dm10 = 'GRADUATION' then do;
2146255   +      EducationGraduation = 1;
MPRINT(EM_DIAGRAM):   EducationGraduation = 1;
2146256   +   end;
MPRINT(EM_DIAGRAM):   end;
2146257   +   else if _dm10 = 'PHD'  then do;
MPRINT(EM_DIAGRAM):   else if _dm10 = 'PHD' then do;
2146258   +      Education2n_Cycle = -1;
MPRINT(EM_DIAGRAM):   Education2n_Cycle = -1;
2146259   +      EducationBasic = -1;
MPRINT(EM_DIAGRAM):   EducationBasic = -1;
2146260   +      EducationGraduation = -1;
MPRINT(EM_DIAGRAM):   EducationGraduation = -1;
2146261   +      EducationMaster = -1;
MPRINT(EM_DIAGRAM):   EducationMaster = -1;
2146262   +   end;
MPRINT(EM_DIAGRAM):   end;
2146263   +   else if _dm10 = 'MASTER'  then do;
MPRINT(EM_DIAGRAM):   else if _dm10 = 'MASTER' then do;
2146264   +      EducationMaster = 1;
MPRINT(EM_DIAGRAM):   EducationMaster = 1;
2146265   +   end;
MPRINT(EM_DIAGRAM):   end;
2146266   +   else if _dm10 = '2N CYCLE'  then do;
MPRINT(EM_DIAGRAM):   else if _dm10 = '2N CYCLE' then do;
2146267   +      Education2n_Cycle = 1;
MPRINT(EM_DIAGRAM):   Education2n_Cycle = 1;
2146268   +   end;
MPRINT(EM_DIAGRAM):   end;
2146269   +   else if _dm10 = 'BASIC'  then do;
MPRINT(EM_DIAGRAM):   else if _dm10 = 'BASIC' then do;
2146270   +      EducationBasic = 1;
MPRINT(EM_DIAGRAM):   EducationBasic = 1;
2146271   +   end;
MPRINT(EM_DIAGRAM):   end;
2146272   +   else do;
MPRINT(EM_DIAGRAM):   else do;
2146273   +      Education2n_Cycle = .;
MPRINT(EM_DIAGRAM):   Education2n_Cycle = .;
2146274   +      EducationBasic = .;
MPRINT(EM_DIAGRAM):   EducationBasic = .;
2146275   +      EducationGraduation = .;
MPRINT(EM_DIAGRAM):   EducationGraduation = .;
2146276   +      EducationMaster = .;
MPRINT(EM_DIAGRAM):   EducationMaster = .;
2146277   +      substr(_warn_,2,1) = 'U';
MPRINT(EM_DIAGRAM):   substr(_warn_,2,1) = 'U';
2146278   +      _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2146279   +   end;
MPRINT(EM_DIAGRAM):   end;
2146280   +end;
MPRINT(EM_DIAGRAM):   end;
2146281   +
2146282   +*** Generate dummy variables for Marital_Status ;
MPRINT(EM_DIAGRAM):   *** Generate dummy variables for Marital_Status ;
2146283   +drop Marital_StatusDivorced Marital_StatusMarried Marital_StatusSingle
2146284   +        Marital_StatusTogether ;
MPRINT(EM_DIAGRAM):   drop Marital_StatusDivorced Marital_StatusMarried Marital_StatusSingle 
Marital_StatusTogether ;
2146285   +*** encoding is sparse, initialize to zero;
MPRINT(EM_DIAGRAM):   *** encoding is sparse, initialize to zero;
2146286   +Marital_StatusDivorced = 0;
MPRINT(EM_DIAGRAM):   Marital_StatusDivorced = 0;
2146287   +Marital_StatusMarried = 0;
MPRINT(EM_DIAGRAM):   Marital_StatusMarried = 0;
2146288   +Marital_StatusSingle = 0;
MPRINT(EM_DIAGRAM):   Marital_StatusSingle = 0;
2146289   +Marital_StatusTogether = 0;
MPRINT(EM_DIAGRAM):   Marital_StatusTogether = 0;
2146290   +if missing( Marital_Status ) then do;
MPRINT(EM_DIAGRAM):   if missing( Marital_Status ) then do;
2146291   +   Marital_StatusDivorced = .;
MPRINT(EM_DIAGRAM):   Marital_StatusDivorced = .;
2146292   +   Marital_StatusMarried = .;
MPRINT(EM_DIAGRAM):   Marital_StatusMarried = .;
2146293   +   Marital_StatusSingle = .;
MPRINT(EM_DIAGRAM):   Marital_StatusSingle = .;
2146294   +   Marital_StatusTogether = .;
MPRINT(EM_DIAGRAM):   Marital_StatusTogether = .;
2146295   +   substr(_warn_,1,1) = 'M';
MPRINT(EM_DIAGRAM):   substr(_warn_,1,1) = 'M';
2146296   +   _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2146297   +end;
MPRINT(EM_DIAGRAM):   end;
2146298   +else do;
MPRINT(EM_DIAGRAM):   else do;
2146299   +   length _dm8 $ 8; drop _dm8 ;
MPRINT(EM_DIAGRAM):   length _dm8 $ 8;
MPRINT(EM_DIAGRAM):   drop _dm8 ;
2146300   +   _dm8 = put( Marital_Status , $8. );
MPRINT(EM_DIAGRAM):   _dm8 = put( Marital_Status , $8. );
2146301   +   %DMNORMIP( _dm8 )
MPRINT(DMNORMIP):   call dmnorm(_dm8,
MPRINT(DMNORLEN):  32
MPRINT(DMNORMIP):  );
2146302   +   _dm_find = 0; drop _dm_find;
MPRINT(EM_DIAGRAM):   _dm_find = 0;
MPRINT(EM_DIAGRAM):   drop _dm_find;
2146303   +   if _dm8 <= 'SINGLE'  then do;
MPRINT(EM_DIAGRAM):   if _dm8 <= 'SINGLE' then do;
2146304   +      if _dm8 <= 'MARRIED'  then do;
MPRINT(EM_DIAGRAM):   if _dm8 <= 'MARRIED' then do;
2146305   +         if _dm8 = 'DIVORCED'  then do;
MPRINT(EM_DIAGRAM):   if _dm8 = 'DIVORCED' then do;
2146306   +            Marital_StatusDivorced = 1;
MPRINT(EM_DIAGRAM):   Marital_StatusDivorced = 1;
2146307   +            _dm_find = 1;
MPRINT(EM_DIAGRAM):   _dm_find = 1;
2146308   +         end;
MPRINT(EM_DIAGRAM):   end;
2146309   +         else do;
MPRINT(EM_DIAGRAM):   else do;
2146310   +            if _dm8 = 'MARRIED'  then do;
MPRINT(EM_DIAGRAM):   if _dm8 = 'MARRIED' then do;
2146311   +               Marital_StatusMarried = 1;
MPRINT(EM_DIAGRAM):   Marital_StatusMarried = 1;
2146312   +               _dm_find = 1;
MPRINT(EM_DIAGRAM):   _dm_find = 1;
2146313   +            end;
MPRINT(EM_DIAGRAM):   end;
2146314   +         end;
MPRINT(EM_DIAGRAM):   end;
2146315   +      end;
MPRINT(EM_DIAGRAM):   end;
2146316   +      else do;
MPRINT(EM_DIAGRAM):   else do;
2146317   +         if _dm8 = 'SINGLE'  then do;
MPRINT(EM_DIAGRAM):   if _dm8 = 'SINGLE' then do;
2146318   +            Marital_StatusSingle = 1;
MPRINT(EM_DIAGRAM):   Marital_StatusSingle = 1;
2146319   +            _dm_find = 1;
MPRINT(EM_DIAGRAM):   _dm_find = 1;
2146320   +         end;
MPRINT(EM_DIAGRAM):   end;
2146321   +      end;
MPRINT(EM_DIAGRAM):   end;
2146322   +   end;
MPRINT(EM_DIAGRAM):   end;
2146323   +   else do;
MPRINT(EM_DIAGRAM):   else do;
2146324   +      if _dm8 = 'TOGETHER'  then do;
MPRINT(EM_DIAGRAM):   if _dm8 = 'TOGETHER' then do;
2146325   +         Marital_StatusTogether = 1;
MPRINT(EM_DIAGRAM):   Marital_StatusTogether = 1;
2146326   +         _dm_find = 1;
MPRINT(EM_DIAGRAM):   _dm_find = 1;
2146327   +      end;
MPRINT(EM_DIAGRAM):   end;
2146328   +      else do;
MPRINT(EM_DIAGRAM):   else do;
2146329   +         if _dm8 = 'WIDOW'  then do;
MPRINT(EM_DIAGRAM):   if _dm8 = 'WIDOW' then do;
2146330   +            Marital_StatusDivorced = -1;
MPRINT(EM_DIAGRAM):   Marital_StatusDivorced = -1;
2146331   +            Marital_StatusMarried = -1;
MPRINT(EM_DIAGRAM):   Marital_StatusMarried = -1;
2146332   +            Marital_StatusSingle = -1;
MPRINT(EM_DIAGRAM):   Marital_StatusSingle = -1;
2146333   +            Marital_StatusTogether = -1;
MPRINT(EM_DIAGRAM):   Marital_StatusTogether = -1;
2146334   +            _dm_find = 1;
MPRINT(EM_DIAGRAM):   _dm_find = 1;
2146335   +         end;
MPRINT(EM_DIAGRAM):   end;
2146336   +      end;
MPRINT(EM_DIAGRAM):   end;
2146337   +   end;
MPRINT(EM_DIAGRAM):   end;
2146338   +   if not _dm_find then do;
MPRINT(EM_DIAGRAM):   if not _dm_find then do;
2146339   +      Marital_StatusDivorced = .;
MPRINT(EM_DIAGRAM):   Marital_StatusDivorced = .;
2146340   +      Marital_StatusMarried = .;
MPRINT(EM_DIAGRAM):   Marital_StatusMarried = .;
2146341   +      Marital_StatusSingle = .;
MPRINT(EM_DIAGRAM):   Marital_StatusSingle = .;
2146342   +      Marital_StatusTogether = .;
MPRINT(EM_DIAGRAM):   Marital_StatusTogether = .;
2146343   +      substr(_warn_,2,1) = 'U';
MPRINT(EM_DIAGRAM):   substr(_warn_,2,1) = 'U';
2146344   +      _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2146345   +   end;
MPRINT(EM_DIAGRAM):   end;
2146346   +end;
MPRINT(EM_DIAGRAM):   end;
2146347   +
2146348   +*** *************************;
MPRINT(EM_DIAGRAM):   *** *************************;
2146349   +*** Checking missing input Interval
2146350   +*** *************************;
MPRINT(EM_DIAGRAM):   *** Checking missing input Interval *** *************************;
2146351   +
2146352   +IF NMISS(
2146353   +   AcceptedCmpTotal ,
2146354   +   Age ,
2146355   +   Frq ,
2146356   +   Income ,
2146357   +   Kidhome ,
2146358   +   MntFishProducts ,
2146359   +   MntFruits ,
2146360   +   MntGoldProds ,
2146361   +   MntSweetProducts ,
2146362   +   MonthsAsCustomer ,
2146363   +   NumDealsPurchases ,
2146364   +   NumWebVisitsMonth ,
2146365   +   RFMstat ,
2146366   +   RMntFrq ,
2146367   +   Recency ,
2146368   +   Teenhome   ) THEN DO;
MPRINT(EM_DIAGRAM):   IF NMISS( AcceptedCmpTotal , Age , Frq , Income , Kidhome , 
MntFishProducts , MntFruits , MntGoldProds , MntSweetProducts , MonthsAsCustomer , 
NumDealsPurchases , NumWebVisitsMonth , RFMstat , RMntFrq , Recency , Teenhome ) THEN DO;
2146369   +   SUBSTR(_WARN_, 1, 1) = 'M';
MPRINT(EM_DIAGRAM):   SUBSTR(_WARN_, 1, 1) = 'M';
2146370   +
2146371   +   _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2146372   +END;
MPRINT(EM_DIAGRAM):   END;
2146373   +*** *************************;
MPRINT(EM_DIAGRAM):   *** *************************;
2146374   +*** Writing the Node intvl ;
MPRINT(EM_DIAGRAM):   *** Writing the Node intvl ;
2146375   +*** *************************;
MPRINT(EM_DIAGRAM):   *** *************************;
2146376   +IF _DM_BAD EQ 0 THEN DO;
MPRINT(EM_DIAGRAM):   IF _DM_BAD EQ 0 THEN DO;
2146377   +   S_AcceptedCmpTotal  =    -0.46762909508827 +      1.4961610131261 *
2146378   +        AcceptedCmpTotal ;
MPRINT(EM_DIAGRAM):   S_AcceptedCmpTotal = -0.46762909508827 + 1.4961610131261 * 
AcceptedCmpTotal ;
2146379   +   S_Age  =    -3.91319138389466 +     0.08289609202857 * Age ;
MPRINT(EM_DIAGRAM):   S_Age = -3.91319138389466 + 0.08289609202857 * Age ;
2146380   +   S_Frq  =     -1.7674482809159 +     0.13966853800993 * Frq ;
MPRINT(EM_DIAGRAM):   S_Frq = -1.7674482809159 + 0.13966853800993 * Frq ;
2146381   +   S_Income  =    -2.48883438787018 +     0.00004789669836 * Income ;
MPRINT(EM_DIAGRAM):   S_Income = -2.48883438787018 + 0.00004789669836 * Income ;
2146382   +   S_Kidhome  =    -0.81505958668041 +     1.87132636245581 * Kidhome ;
MPRINT(EM_DIAGRAM):   S_Kidhome = -0.81505958668041 + 1.87132636245581 * Kidhome ;
2146383   +   S_MntFishProducts  =    -0.69884925989448 +     0.01914942799914 *
2146384   +        MntFishProducts ;
MPRINT(EM_DIAGRAM):   S_MntFishProducts = -0.69884925989448 + 0.01914942799914 * 
MntFishProducts ;
2146385   +   S_MntFruits  =    -0.68347542544545 +     0.02517057319714 * MntFruits ;
MPRINT(EM_DIAGRAM):   S_MntFruits = -0.68347542544545 + 0.02517057319714 * MntFruits ;
2146386   +   S_MntGoldProds  =     -0.8611213764608 +     0.01954474499711 *
2146387   +        MntGoldProds ;
MPRINT(EM_DIAGRAM):   S_MntGoldProds = -0.8611213764608 + 0.01954474499711 * MntGoldProds ;
2146388   +   S_MntSweetProducts  =    -0.69020047720885 +     0.02548703406327 *
2146389   +        MntSweetProducts ;
MPRINT(EM_DIAGRAM):   S_MntSweetProducts = -0.69020047720885 + 0.02548703406327 * 
MntSweetProducts ;
2146390   +   S_MonthsAsCustomer  =    -4.93133031507839 +     0.05900664899872 *
2146391   +        MonthsAsCustomer ;
MPRINT(EM_DIAGRAM):   S_MonthsAsCustomer = -4.93133031507839 + 0.05900664899872 * 
MonthsAsCustomer ;
2146392   +   S_NumDealsPurchases  =    -1.34788949552081 +     0.59766336614987 *
2146393   +        NumDealsPurchases ;
MPRINT(EM_DIAGRAM):   S_NumDealsPurchases = -1.34788949552081 + 0.59766336614987 * 
NumDealsPurchases ;
2146394   +   S_NumWebVisitsMonth  =    -2.24769875596018 +     0.42876953368015 *
2146395   +        NumWebVisitsMonth ;
MPRINT(EM_DIAGRAM):   S_NumWebVisitsMonth = -2.24769875596018 + 0.42876953368015 * 
NumWebVisitsMonth ;
2146396   +   S_RFMstat  =    -0.33944380186973 +     0.00063877635032 * RFMstat ;
MPRINT(EM_DIAGRAM):   S_RFMstat = -0.33944380186973 + 0.00063877635032 * RFMstat ;
2146397   +   S_RMntFrq  =    -1.25743573075922 +     0.03326204244626 * RMntFrq ;
MPRINT(EM_DIAGRAM):   S_RMntFrq = -1.25743573075922 + 0.03326204244626 * RMntFrq ;
2146398   +   S_Recency  =    -1.69222845719633 +     0.03469514083585 * Recency ;
MPRINT(EM_DIAGRAM):   S_Recency = -1.69222845719633 + 0.03469514083585 * Recency ;
2146399   +   S_Teenhome  =    -0.88382230606631 +     1.81661831567223 * Teenhome ;
MPRINT(EM_DIAGRAM):   S_Teenhome = -0.88382230606631 + 1.81661831567223 * Teenhome ;
2146400   +END;
MPRINT(EM_DIAGRAM):   END;
2146401   +ELSE DO;
MPRINT(EM_DIAGRAM):   ELSE DO;
2146402   +   IF MISSING( AcceptedCmpTotal ) THEN S_AcceptedCmpTotal  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( AcceptedCmpTotal ) THEN S_AcceptedCmpTotal = . ;
2146403   +   ELSE S_AcceptedCmpTotal  =    -0.46762909508827 +      1.4961610131261 *
2146404   +        AcceptedCmpTotal ;
MPRINT(EM_DIAGRAM):   ELSE S_AcceptedCmpTotal = -0.46762909508827 + 1.4961610131261 * 
AcceptedCmpTotal ;
2146405   +   IF MISSING( Age ) THEN S_Age  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( Age ) THEN S_Age = . ;
2146406   +   ELSE S_Age  =    -3.91319138389466 +     0.08289609202857 * Age ;
MPRINT(EM_DIAGRAM):   ELSE S_Age = -3.91319138389466 + 0.08289609202857 * Age ;
2146407   +   IF MISSING( Frq ) THEN S_Frq  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( Frq ) THEN S_Frq = . ;
2146408   +   ELSE S_Frq  =     -1.7674482809159 +     0.13966853800993 * Frq ;
MPRINT(EM_DIAGRAM):   ELSE S_Frq = -1.7674482809159 + 0.13966853800993 * Frq ;
2146409   +   IF MISSING( Income ) THEN S_Income  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( Income ) THEN S_Income = . ;
2146410   +   ELSE S_Income  =    -2.48883438787018 +     0.00004789669836 * Income ;
MPRINT(EM_DIAGRAM):   ELSE S_Income = -2.48883438787018 + 0.00004789669836 * Income ;
2146411   +   IF MISSING( Kidhome ) THEN S_Kidhome  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( Kidhome ) THEN S_Kidhome = . ;
2146412   +   ELSE S_Kidhome  =    -0.81505958668041 +     1.87132636245581 * Kidhome ;
MPRINT(EM_DIAGRAM):   ELSE S_Kidhome = -0.81505958668041 + 1.87132636245581 * Kidhome ;
2146413   +   IF MISSING( MntFishProducts ) THEN S_MntFishProducts  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( MntFishProducts ) THEN S_MntFishProducts = . ;
2146414   +   ELSE S_MntFishProducts  =    -0.69884925989448 +     0.01914942799914 *
2146415   +        MntFishProducts ;
MPRINT(EM_DIAGRAM):   ELSE S_MntFishProducts = -0.69884925989448 + 0.01914942799914 * 
MntFishProducts ;
2146416   +   IF MISSING( MntFruits ) THEN S_MntFruits  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( MntFruits ) THEN S_MntFruits = . ;
2146417   +   ELSE S_MntFruits  =    -0.68347542544545 +     0.02517057319714 * MntFruits
2146418   +         ;
MPRINT(EM_DIAGRAM):   ELSE S_MntFruits = -0.68347542544545 + 0.02517057319714 * MntFruits ;
2146419   +   IF MISSING( MntGoldProds ) THEN S_MntGoldProds  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( MntGoldProds ) THEN S_MntGoldProds = . ;
2146420   +   ELSE S_MntGoldProds  =     -0.8611213764608 +     0.01954474499711 *
2146421   +        MntGoldProds ;
MPRINT(EM_DIAGRAM):   ELSE S_MntGoldProds = -0.8611213764608 + 0.01954474499711 * MntGoldProds 
;
2146422   +   IF MISSING( MntSweetProducts ) THEN S_MntSweetProducts  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( MntSweetProducts ) THEN S_MntSweetProducts = . ;
2146423   +   ELSE S_MntSweetProducts  =    -0.69020047720885 +     0.02548703406327 *
2146424   +        MntSweetProducts ;
MPRINT(EM_DIAGRAM):   ELSE S_MntSweetProducts = -0.69020047720885 + 0.02548703406327 * 
MntSweetProducts ;
2146425   +   IF MISSING( MonthsAsCustomer ) THEN S_MonthsAsCustomer  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( MonthsAsCustomer ) THEN S_MonthsAsCustomer = . ;
2146426   +   ELSE S_MonthsAsCustomer  =    -4.93133031507839 +     0.05900664899872 *
2146427   +        MonthsAsCustomer ;
MPRINT(EM_DIAGRAM):   ELSE S_MonthsAsCustomer = -4.93133031507839 + 0.05900664899872 * 
MonthsAsCustomer ;
2146428   +   IF MISSING( NumDealsPurchases ) THEN S_NumDealsPurchases  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( NumDealsPurchases ) THEN S_NumDealsPurchases = . ;
2146429   +   ELSE S_NumDealsPurchases  =    -1.34788949552081 +     0.59766336614987 *
2146430   +        NumDealsPurchases ;
MPRINT(EM_DIAGRAM):   ELSE S_NumDealsPurchases = -1.34788949552081 + 0.59766336614987 * 
NumDealsPurchases ;
2146431   +   IF MISSING( NumWebVisitsMonth ) THEN S_NumWebVisitsMonth  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( NumWebVisitsMonth ) THEN S_NumWebVisitsMonth = . ;
2146432   +   ELSE S_NumWebVisitsMonth  =    -2.24769875596018 +     0.42876953368015 *
2146433   +        NumWebVisitsMonth ;
MPRINT(EM_DIAGRAM):   ELSE S_NumWebVisitsMonth = -2.24769875596018 + 0.42876953368015 * 
NumWebVisitsMonth ;
2146434   +   IF MISSING( RFMstat ) THEN S_RFMstat  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( RFMstat ) THEN S_RFMstat = . ;
2146435   +   ELSE S_RFMstat  =    -0.33944380186973 +     0.00063877635032 * RFMstat ;
MPRINT(EM_DIAGRAM):   ELSE S_RFMstat = -0.33944380186973 + 0.00063877635032 * RFMstat ;
2146436   +   IF MISSING( RMntFrq ) THEN S_RMntFrq  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( RMntFrq ) THEN S_RMntFrq = . ;
2146437   +   ELSE S_RMntFrq  =    -1.25743573075922 +     0.03326204244626 * RMntFrq ;
MPRINT(EM_DIAGRAM):   ELSE S_RMntFrq = -1.25743573075922 + 0.03326204244626 * RMntFrq ;
2146438   +   IF MISSING( Recency ) THEN S_Recency  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( Recency ) THEN S_Recency = . ;
2146439   +   ELSE S_Recency  =    -1.69222845719633 +     0.03469514083585 * Recency ;
MPRINT(EM_DIAGRAM):   ELSE S_Recency = -1.69222845719633 + 0.03469514083585 * Recency ;
2146440   +   IF MISSING( Teenhome ) THEN S_Teenhome  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( Teenhome ) THEN S_Teenhome = . ;
2146441   +   ELSE S_Teenhome  =    -0.88382230606631 +     1.81661831567223 * Teenhome ;
MPRINT(EM_DIAGRAM):   ELSE S_Teenhome = -0.88382230606631 + 1.81661831567223 * Teenhome ;
2146442   +END;
MPRINT(EM_DIAGRAM):   END;
2146443   +*** *************************;
MPRINT(EM_DIAGRAM):   *** *************************;
2146444   +*** Writing the Node bin ;
MPRINT(EM_DIAGRAM):   *** Writing the Node bin ;
2146445   +*** *************************;
MPRINT(EM_DIAGRAM):   *** *************************;
2146446   +*** *************************;
MPRINT(EM_DIAGRAM):   *** *************************;
2146447   +*** Writing the Node nom ;
MPRINT(EM_DIAGRAM):   *** Writing the Node nom ;
2146448   +*** *************************;
MPRINT(EM_DIAGRAM):   *** *************************;
2146449   +*** *************************;
MPRINT(EM_DIAGRAM):   *** *************************;
2146450   +*** Writing the Node H1 ;
MPRINT(EM_DIAGRAM):   *** Writing the Node H1 ;
2146451   +*** *************************;
MPRINT(EM_DIAGRAM):   *** *************************;
2146452   +IF _DM_BAD EQ 0 THEN DO;
MPRINT(EM_DIAGRAM):   IF _DM_BAD EQ 0 THEN DO;
2146453   +   H11  =      0.0008226807158 * S_AcceptedCmpTotal  +    -0.13079988413445 *
2146454   +        S_Age  +    -0.18186889239879 * S_Frq  +     0.00434831119231 *
2146455   +        S_Income  +    -0.53011815040389 * S_Kidhome
2146456   +          +     0.07798575279605 * S_MntFishProducts
2146457   +          +    -0.04638001961046 * S_MntFruits  +     0.05519829379656 *
2146458   +        S_MntGoldProds  +    -0.39625749892117 * S_MntSweetProducts
2146459   +          +    -0.43868326715852 * S_MonthsAsCustomer
2146460   +          +    -0.20150528265823 * S_NumDealsPurchases
2146461   +          +     0.06302113040532 * S_NumWebVisitsMonth
2146462   +          +      0.1350599599417 * S_RFMstat  +    -0.29383555338259 *
2146463   +        S_RMntFrq  +    -0.68766827249955 * S_Recency
2146464   +          +    -0.29183727562247 * S_Teenhome ;
MPRINT(EM_DIAGRAM):   H11 = 0.0008226807158 * S_AcceptedCmpTotal + -0.13079988413445 * S_Age + 
-0.18186889239879 * S_Frq + 0.00434831119231 * S_Income + -0.53011815040389 * S_Kidhome + 
0.07798575279605 * S_MntFishProducts + -0.04638001961046 * S_MntFruits + 0.05519829379656 * 
S_MntGoldProds + -0.39625749892117 * S_MntSweetProducts + -0.43868326715852 * 
S_MonthsAsCustomer + -0.20150528265823 * S_NumDealsPurchases + 0.06302113040532 * 
S_NumWebVisitsMonth + 0.1350599599417 * S_RFMstat + -0.29383555338259 * S_RMntFrq + 
-0.68766827249955 * S_Recency + -0.29183727562247 * S_Teenhome ;
2146465   +   H12  =     0.39055667226149 * S_AcceptedCmpTotal  +    -0.01370934848049 *
2146466   +        S_Age  +     0.24087739377669 * S_Frq  +      0.6385645265661 *
2146467   +        S_Income  +     0.91005509221929 * S_Kidhome
2146468   +          +     0.26314513971971 * S_MntFishProducts
2146469   +          +    -0.31269343103037 * S_MntFruits  +     0.14926981327092 *
2146470   +        S_MntGoldProds  +     0.23823473046762 * S_MntSweetProducts
2146471   +          +    -0.11762692239171 * S_MonthsAsCustomer
2146472   +          +     0.66369415921808 * S_NumDealsPurchases
2146473   +          +     0.34818395961585 * S_NumWebVisitsMonth
2146474   +          +     0.15957643046632 * S_RFMstat  +       0.043074454712 *
2146475   +        S_RMntFrq  +     -0.8279410878863 * S_Recency
2146476   +          +    -0.37857896695074 * S_Teenhome ;
MPRINT(EM_DIAGRAM):   H12 = 0.39055667226149 * S_AcceptedCmpTotal + -0.01370934848049 * S_Age 
+ 0.24087739377669 * S_Frq + 0.6385645265661 * S_Income + 0.91005509221929 * S_Kidhome + 
0.26314513971971 * S_MntFishProducts + -0.31269343103037 * S_MntFruits + 0.14926981327092 * 
S_MntGoldProds + 0.23823473046762 * S_MntSweetProducts + -0.11762692239171 * 
S_MonthsAsCustomer + 0.66369415921808 * S_NumDealsPurchases + 0.34818395961585 * 
S_NumWebVisitsMonth + 0.15957643046632 * S_RFMstat + 0.043074454712 * S_RMntFrq + 
-0.8279410878863 * S_Recency + -0.37857896695074 * S_Teenhome ;
2146477   +   H13  =     0.01761535715706 * S_AcceptedCmpTotal  +      -0.178245965481 *
2146478   +        S_Age  +    -0.38345114554341 * S_Frq  +    -0.85875480356991 *
2146479   +        S_Income  +     0.62650302214702 * S_Kidhome
2146480   +          +     0.15114878471783 * S_MntFishProducts
2146481   +          +    -0.04867026102421 * S_MntFruits  +    -0.02464340314012 *
2146482   +        S_MntGoldProds  +     0.25958757216658 * S_MntSweetProducts
2146483   +          +    -0.21247922433607 * S_MonthsAsCustomer
2146484   +          +     0.29870259291589 * S_NumDealsPurchases
2146485   +          +    -0.15551171574573 * S_NumWebVisitsMonth
2146486   +          +    -0.02668833787849 * S_RFMstat  +     -0.3938077247244 *
2146487   +        S_RMntFrq  +     0.37292679100385 * S_Recency
2146488   +          +     0.58536255154591 * S_Teenhome ;
MPRINT(EM_DIAGRAM):   H13 = 0.01761535715706 * S_AcceptedCmpTotal + -0.178245965481 * S_Age + 
-0.38345114554341 * S_Frq + -0.85875480356991 * S_Income + 0.62650302214702 * S_Kidhome + 
0.15114878471783 * S_MntFishProducts + -0.04867026102421 * S_MntFruits + -0.02464340314012 * 
S_MntGoldProds + 0.25958757216658 * S_MntSweetProducts + -0.21247922433607 * 
S_MonthsAsCustomer + 0.29870259291589 * S_NumDealsPurchases + -0.15551171574573 * 
S_NumWebVisitsMonth + -0.02668833787849 * S_RFMstat + -0.3938077247244 * S_RMntFrq + 
0.37292679100385 * S_Recency + 0.58536255154591 * S_Teenhome ;
2146489   +   H14  =    -0.23067808386271 * S_AcceptedCmpTotal  +      0.2795284747435 *
2146490   +        S_Age  +     0.88920181420929 * S_Frq  +     0.17396080204168 *
2146491   +        S_Income  +    -0.00823748207218 * S_Kidhome
2146492   +          +    -0.26914878127706 * S_MntFishProducts
2146493   +          +     0.32721028770496 * S_MntFruits  +     0.07070268272045 *
2146494   +        S_MntGoldProds  +    -0.35290123515707 * S_MntSweetProducts
2146495   +          +    -0.02974642168316 * S_MonthsAsCustomer
2146496   +          +    -0.63307764160477 * S_NumDealsPurchases
2146497   +          +    -0.86210034703857 * S_NumWebVisitsMonth
2146498   +          +    -0.16450375531942 * S_RFMstat  +     -0.0920077372506 *
2146499   +        S_RMntFrq  +     0.61882336952278 * S_Recency
2146500   +          +    -0.21217863284358 * S_Teenhome ;
MPRINT(EM_DIAGRAM):   H14 = -0.23067808386271 * S_AcceptedCmpTotal + 0.2795284747435 * S_Age + 
0.88920181420929 * S_Frq + 0.17396080204168 * S_Income + -0.00823748207218 * S_Kidhome + 
-0.26914878127706 * S_MntFishProducts + 0.32721028770496 * S_MntFruits + 0.07070268272045 * 
S_MntGoldProds + -0.35290123515707 * S_MntSweetProducts + -0.02974642168316 * 
S_MonthsAsCustomer + -0.63307764160477 * S_NumDealsPurchases + -0.86210034703857 * 
S_NumWebVisitsMonth + -0.16450375531942 * S_RFMstat + -0.0920077372506 * S_RMntFrq + 
0.61882336952278 * S_Recency + -0.21217863284358 * S_Teenhome ;
2146501   +   H15  =     0.08444141658062 * S_AcceptedCmpTotal  +    -0.03922634475077 *
2146502   +        S_Age  +     0.26114587238563 * S_Frq  +     0.30374331939028 *
2146503   +        S_Income  +     -0.2421178734201 * S_Kidhome
2146504   +          +    -0.19019330388039 * S_MntFishProducts
2146505   +          +    -0.22928418606812 * S_MntFruits  +    -0.34980290580426 *
2146506   +        S_MntGoldProds  +    -0.02640373527826 * S_MntSweetProducts
2146507   +          +     0.04217213390907 * S_MonthsAsCustomer
2146508   +          +    -0.43394541277085 * S_NumDealsPurchases
2146509   +          +    -0.27821724458462 * S_NumWebVisitsMonth
2146510   +          +     0.15130301601187 * S_RFMstat  +     0.24450838354469 *
2146511   +        S_RMntFrq  +     0.50442944125738 * S_Recency
2146512   +          +     -0.2256501036913 * S_Teenhome ;
MPRINT(EM_DIAGRAM):   H15 = 0.08444141658062 * S_AcceptedCmpTotal + -0.03922634475077 * S_Age 
+ 0.26114587238563 * S_Frq + 0.30374331939028 * S_Income + -0.2421178734201 * S_Kidhome + 
-0.19019330388039 * S_MntFishProducts + -0.22928418606812 * S_MntFruits + -0.34980290580426 * 
S_MntGoldProds + -0.02640373527826 * S_MntSweetProducts + 0.04217213390907 * 
S_MonthsAsCustomer + -0.43394541277085 * S_NumDealsPurchases + -0.27821724458462 * 
S_NumWebVisitsMonth + 0.15130301601187 * S_RFMstat + 0.24450838354469 * S_RMntFrq + 
0.50442944125738 * S_Recency + -0.2256501036913 * S_Teenhome ;
2146513   +   H16  =     0.04374591358456 * S_AcceptedCmpTotal  +     -0.2751915893845 *
2146514   +        S_Age  +    -0.17372079221228 * S_Frq  +     0.53295067221555 *
2146515   +        S_Income  +    -0.25554119630622 * S_Kidhome
2146516   +          +    -0.04166493246597 * S_MntFishProducts
2146517   +          +    -0.06487290273448 * S_MntFruits  +    -0.00905943807166 *
2146518   +        S_MntGoldProds  +    -0.02954875571593 * S_MntSweetProducts
2146519   +          +    -0.00047914053162 * S_MonthsAsCustomer
2146520   +          +     0.27113708386032 * S_NumDealsPurchases
2146521   +          +      0.2230890818172 * S_NumWebVisitsMonth
2146522   +          +     0.08637996401688 * S_RFMstat  +     0.10242942070091 *
2146523   +        S_RMntFrq  +    -0.89858232865076 * S_Recency
2146524   +          +    -0.26683150727678 * S_Teenhome ;
MPRINT(EM_DIAGRAM):   H16 = 0.04374591358456 * S_AcceptedCmpTotal + -0.2751915893845 * S_Age + 
-0.17372079221228 * S_Frq + 0.53295067221555 * S_Income + -0.25554119630622 * S_Kidhome + 
-0.04166493246597 * S_MntFishProducts + -0.06487290273448 * S_MntFruits + -0.00905943807166 * 
S_MntGoldProds + -0.02954875571593 * S_MntSweetProducts + -0.00047914053162 * 
S_MonthsAsCustomer + 0.27113708386032 * S_NumDealsPurchases + 0.2230890818172 * 
S_NumWebVisitsMonth + 0.08637996401688 * S_RFMstat + 0.10242942070091 * S_RMntFrq + 
-0.89858232865076 * S_Recency + -0.26683150727678 * S_Teenhome ;
2146525   +   H11  = H11  +      0.2420532776991 * AcceptedCmp10
2146526   +          +     0.02694604108098 * AcceptedCmp20  +     0.06010577635911 *
2146527   +        AcceptedCmp30  +    -0.43469683295349 * AcceptedCmp40
2146528   +          +    -0.00225551219247 * AcceptedCmp50  +     0.43197139863535 *
2146529   +        Complain0  +      0.2323752775589 * HigherEducationBinary0 ;
MPRINT(EM_DIAGRAM):   H11 = H11 + 0.2420532776991 * AcceptedCmp10 + 0.02694604108098 * 
AcceptedCmp20 + 0.06010577635911 * AcceptedCmp30 + -0.43469683295349 * AcceptedCmp40 + 
-0.00225551219247 * AcceptedCmp50 + 0.43197139863535 * Complain0 + 0.2323752775589 * 
HigherEducationBinary0 ;
2146530   +   H12  = H12  +      0.0418845409836 * AcceptedCmp10
2146531   +          +    -0.01079705732899 * AcceptedCmp20  +    -0.29526959542283 *
2146532   +        AcceptedCmp30  +     0.58938855079432 * AcceptedCmp40
2146533   +          +    -0.40652812652647 * AcceptedCmp50  +       0.594077548144 *
2146534   +        Complain0  +    -0.31255483011975 * HigherEducationBinary0 ;
MPRINT(EM_DIAGRAM):   H12 = H12 + 0.0418845409836 * AcceptedCmp10 + -0.01079705732899 * 
AcceptedCmp20 + -0.29526959542283 * AcceptedCmp30 + 0.58938855079432 * AcceptedCmp40 + 
-0.40652812652647 * AcceptedCmp50 + 0.594077548144 * Complain0 + -0.31255483011975 * 
HigherEducationBinary0 ;
2146535   +   H13  = H13  +     0.49883844557768 * AcceptedCmp10
2146536   +          +     0.42674404967605 * AcceptedCmp20  +     0.29339018006371 *
2146537   +        AcceptedCmp30  +     0.54178658137703 * AcceptedCmp40
2146538   +          +     0.11058374076127 * AcceptedCmp50  +     0.11090027293948 *
2146539   +        Complain0  +    -0.44686878118331 * HigherEducationBinary0 ;
MPRINT(EM_DIAGRAM):   H13 = H13 + 0.49883844557768 * AcceptedCmp10 + 0.42674404967605 * 
AcceptedCmp20 + 0.29339018006371 * AcceptedCmp30 + 0.54178658137703 * AcceptedCmp40 + 
0.11058374076127 * AcceptedCmp50 + 0.11090027293948 * Complain0 + -0.44686878118331 * 
HigherEducationBinary0 ;
2146540   +   H14  = H14  +     0.70177037762742 * AcceptedCmp10
2146541   +          +     0.03868361905724 * AcceptedCmp20  +      0.7582949125852 *
2146542   +        AcceptedCmp30  +     0.10306711606837 * AcceptedCmp40
2146543   +          +     0.40988843645402 * AcceptedCmp50  +     0.19161446313882 *
2146544   +        Complain0  +     0.09113445636937 * HigherEducationBinary0 ;
MPRINT(EM_DIAGRAM):   H14 = H14 + 0.70177037762742 * AcceptedCmp10 + 0.03868361905724 * 
AcceptedCmp20 + 0.7582949125852 * AcceptedCmp30 + 0.10306711606837 * AcceptedCmp40 + 
0.40988843645402 * AcceptedCmp50 + 0.19161446313882 * Complain0 + 0.09113445636937 * 
HigherEducationBinary0 ;
2146545   +   H15  = H15  +     0.30528471213622 * AcceptedCmp10
2146546   +          +    -0.01583520039877 * AcceptedCmp20  +     0.09319095124312 *
2146547   +        AcceptedCmp30  +     0.03503111555527 * AcceptedCmp40
2146548   +          +     0.19732231305873 * AcceptedCmp50  +    -0.32344950489145 *
2146549   +        Complain0  +    -0.20793136544812 * HigherEducationBinary0 ;
MPRINT(EM_DIAGRAM):   H15 = H15 + 0.30528471213622 * AcceptedCmp10 + -0.01583520039877 * 
AcceptedCmp20 + 0.09319095124312 * AcceptedCmp30 + 0.03503111555527 * AcceptedCmp40 + 
0.19732231305873 * AcceptedCmp50 + -0.32344950489145 * Complain0 + -0.20793136544812 * 
HigherEducationBinary0 ;
2146550   +   H16  = H16  +      -0.197363329461 * AcceptedCmp10
2146551   +          +     0.01373408247141 * AcceptedCmp20  +    -0.28302701132077 *
2146552   +        AcceptedCmp30  +    -0.13213187292914 * AcceptedCmp40
2146553   +          +    -0.04492941290682 * AcceptedCmp50  +     -0.1996561599765 *
2146554   +        Complain0  +     0.14532553420948 * HigherEducationBinary0 ;
MPRINT(EM_DIAGRAM):   H16 = H16 + -0.197363329461 * AcceptedCmp10 + 0.01373408247141 * 
AcceptedCmp20 + -0.28302701132077 * AcceptedCmp30 + -0.13213187292914 * AcceptedCmp40 + 
-0.04492941290682 * AcceptedCmp50 + -0.1996561599765 * Complain0 + 0.14532553420948 * 
HigherEducationBinary0 ;
2146555   +   H11  = H11  +     0.05185932264462 * Education2n_Cycle
2146556   +          +    -0.08049073469669 * EducationBasic  +    -0.01273883208394 *
2146557   +        EducationGraduation  +     0.01672434885938 * EducationMaster
2146558   +          +      0.1247897348584 * Marital_StatusDivorced
2146559   +          +    -0.02487802842095 * Marital_StatusMarried
2146560   +          +     0.04087485047811 * Marital_StatusSingle
2146561   +          +     0.02032230199979 * Marital_StatusTogether ;
MPRINT(EM_DIAGRAM):   H11 = H11 + 0.05185932264462 * Education2n_Cycle + -0.08049073469669 * 
EducationBasic + -0.01273883208394 * EducationGraduation + 0.01672434885938 * EducationMaster 
+ 0.1247897348584 * Marital_StatusDivorced + -0.02487802842095 * Marital_StatusMarried + 
0.04087485047811 * Marital_StatusSingle + 0.02032230199979 * Marital_StatusTogether ;
2146562   +   H12  = H12  +    -0.18957172593422 * Education2n_Cycle
2146563   +          +     0.13527696352941 * EducationBasic  +    -0.00239660031532 *
2146564   +        EducationGraduation  +     0.00550624186666 * EducationMaster
2146565   +          +     0.19258280536293 * Marital_StatusDivorced
2146566   +          +     -0.1513365484224 * Marital_StatusMarried
2146567   +          +     0.24428021275955 * Marital_StatusSingle
2146568   +          +     0.09103830773223 * Marital_StatusTogether ;
MPRINT(EM_DIAGRAM):   H12 = H12 + -0.18957172593422 * Education2n_Cycle + 0.13527696352941 * 
EducationBasic + -0.00239660031532 * EducationGraduation + 0.00550624186666 * EducationMaster 
+ 0.19258280536293 * Marital_StatusDivorced + -0.1513365484224 * Marital_StatusMarried + 
0.24428021275955 * Marital_StatusSingle + 0.09103830773223 * Marital_StatusTogether ;
2146569   +   H13  = H13  +     0.02098627668197 * Education2n_Cycle
2146570   +          +      0.0580330260954 * EducationBasic  +    -0.44505513897295 *
2146571   +        EducationGraduation  +     0.17237699716249 * EducationMaster
2146572   +          +    -0.19344679470577 * Marital_StatusDivorced
2146573   +          +     0.75587070758138 * Marital_StatusMarried
2146574   +          +    -0.65993136500147 * Marital_StatusSingle
2146575   +          +     0.58034892534704 * Marital_StatusTogether ;
MPRINT(EM_DIAGRAM):   H13 = H13 + 0.02098627668197 * Education2n_Cycle + 0.0580330260954 * 
EducationBasic + -0.44505513897295 * EducationGraduation + 0.17237699716249 * EducationMaster 
+ -0.19344679470577 * Marital_StatusDivorced + 0.75587070758138 * Marital_StatusMarried + 
-0.65993136500147 * Marital_StatusSingle + 0.58034892534704 * Marital_StatusTogether ;
2146576   +   H14  = H14  +      0.1859168336856 * Education2n_Cycle
2146577   +          +    -0.06308135212768 * EducationBasic  +    -0.27356179131381 *
2146578   +        EducationGraduation  +      -0.306174241941 * EducationMaster
2146579   +          +    -0.18717675910714 * Marital_StatusDivorced
2146580   +          +    -0.15181048866652 * Marital_StatusMarried
2146581   +          +     0.15597021159938 * Marital_StatusSingle
2146582   +          +    -0.03726120161813 * Marital_StatusTogether ;
MPRINT(EM_DIAGRAM):   H14 = H14 + 0.1859168336856 * Education2n_Cycle + -0.06308135212768 * 
EducationBasic + -0.27356179131381 * EducationGraduation + -0.306174241941 * EducationMaster + 
-0.18717675910714 * Marital_StatusDivorced + -0.15181048866652 * Marital_StatusMarried + 
0.15597021159938 * Marital_StatusSingle + -0.03726120161813 * Marital_StatusTogether ;
2146583   +   H15  = H15  +    -0.12193342286067 * Education2n_Cycle
2146584   +          +     0.20525778906074 * EducationBasic  +     0.04967185521727 *
2146585   +        EducationGraduation  +    -0.21821780206446 * EducationMaster
2146586   +          +    -0.10132599459296 * Marital_StatusDivorced
2146587   +          +     0.14113826410264 * Marital_StatusMarried
2146588   +          +    -0.18380525511118 * Marital_StatusSingle
2146589   +          +     0.23156188953493 * Marital_StatusTogether ;
MPRINT(EM_DIAGRAM):   H15 = H15 + -0.12193342286067 * Education2n_Cycle + 0.20525778906074 * 
EducationBasic + 0.04967185521727 * EducationGraduation + -0.21821780206446 * EducationMaster 
+ -0.10132599459296 * Marital_StatusDivorced + 0.14113826410264 * Marital_StatusMarried + 
-0.18380525511118 * Marital_StatusSingle + 0.23156188953493 * Marital_StatusTogether ;
2146590   +   H16  = H16  +     0.03162941262342 * Education2n_Cycle
2146591   +          +    -0.45867622010455 * EducationBasic  +    -0.08178251039016 *
2146592   +        EducationGraduation  +     -0.1990982641521 * EducationMaster
2146593   +          +     0.04797839463285 * Marital_StatusDivorced
2146594   +          +    -0.38756124755799 * Marital_StatusMarried
2146595   +          +      0.3042262890255 * Marital_StatusSingle
2146596   +          +    -0.28172576605756 * Marital_StatusTogether ;
MPRINT(EM_DIAGRAM):   H16 = H16 + 0.03162941262342 * Education2n_Cycle + -0.45867622010455 * 
EducationBasic + -0.08178251039016 * EducationGraduation + -0.1990982641521 * EducationMaster 
+ 0.04797839463285 * Marital_StatusDivorced + -0.38756124755799 * Marital_StatusMarried + 
0.3042262890255 * Marital_StatusSingle + -0.28172576605756 * Marital_StatusTogether ;
2146597   +   H11  =     1.39567717675367 + H11 ;
MPRINT(EM_DIAGRAM):   H11 = 1.39567717675367 + H11 ;
2146598   +   H12  =     0.19220435511693 + H12 ;
MPRINT(EM_DIAGRAM):   H12 = 0.19220435511693 + H12 ;
2146599   +   H13  =     0.55786873663699 + H13 ;
MPRINT(EM_DIAGRAM):   H13 = 0.55786873663699 + H13 ;
2146600   +   H14  =     0.28152400973799 + H14 ;
MPRINT(EM_DIAGRAM):   H14 = 0.28152400973799 + H14 ;
2146601   +   H15  =     1.08936778651476 + H15 ;
MPRINT(EM_DIAGRAM):   H15 = 1.08936778651476 + H15 ;
2146602   +   H16  =     -0.2268073967479 + H16 ;
MPRINT(EM_DIAGRAM):   H16 = -0.2268073967479 + H16 ;
2146603   +   H11  = TANH(H11 );
MPRINT(EM_DIAGRAM):   H11 = TANH(H11 );
2146604   +   H12  = TANH(H12 );
MPRINT(EM_DIAGRAM):   H12 = TANH(H12 );
2146605   +   H13  = TANH(H13 );
MPRINT(EM_DIAGRAM):   H13 = TANH(H13 );
2146606   +   H14  = TANH(H14 );
MPRINT(EM_DIAGRAM):   H14 = TANH(H14 );
2146607   +   H15  = TANH(H15 );
MPRINT(EM_DIAGRAM):   H15 = TANH(H15 );
2146608   +   H16  = TANH(H16 );
MPRINT(EM_DIAGRAM):   H16 = TANH(H16 );
2146609   +END;
MPRINT(EM_DIAGRAM):   END;
2146610   +ELSE DO;
MPRINT(EM_DIAGRAM):   ELSE DO;
2146611   +   H11  = .;
MPRINT(EM_DIAGRAM):   H11 = .;
2146612   +   H12  = .;
MPRINT(EM_DIAGRAM):   H12 = .;
2146613   +   H13  = .;
MPRINT(EM_DIAGRAM):   H13 = .;
2146614   +   H14  = .;
MPRINT(EM_DIAGRAM):   H14 = .;
2146615   +   H15  = .;
MPRINT(EM_DIAGRAM):   H15 = .;
2146616   +   H16  = .;
MPRINT(EM_DIAGRAM):   H16 = .;
2146617   +END;
MPRINT(EM_DIAGRAM):   END;
2146618   +*** *************************;
MPRINT(EM_DIAGRAM):   *** *************************;
2146619   +*** Writing the Node DepVar ;
MPRINT(EM_DIAGRAM):   *** Writing the Node DepVar ;
2146620   +*** *************************;
MPRINT(EM_DIAGRAM):   *** *************************;
2146621   +IF _DM_BAD EQ 0 THEN DO;
MPRINT(EM_DIAGRAM):   IF _DM_BAD EQ 0 THEN DO;
2146622   +   P_DepVar1  =       1.190486795477 * H11  +     2.38320433896182 * H12
2146623   +          +    -2.42159759131581 * H13  +    -2.18917732939624 * H14
2146624   +          +    -0.38101990662686 * H15  +     1.17308047763791 * H16 ;
MPRINT(EM_DIAGRAM):   P_DepVar1 = 1.190486795477 * H11 + 2.38320433896182 * H12 + 
-2.42159759131581 * H13 + -2.18917732939624 * H14 + -0.38101990662686 * H15 + 1.17308047763791 
* H16 ;
2146625   +   P_DepVar1  =    -1.69959324221607 + P_DepVar1 ;
MPRINT(EM_DIAGRAM):   P_DepVar1 = -1.69959324221607 + P_DepVar1 ;
2146626   +   P_DepVar0  = 0;
MPRINT(EM_DIAGRAM):   P_DepVar0 = 0;
2146627   +   _MAX_ = MAX (P_DepVar1 , P_DepVar0 );
MPRINT(EM_DIAGRAM):   _MAX_ = MAX (P_DepVar1 , P_DepVar0 );
2146628   +   _SUM_ = 0.;
MPRINT(EM_DIAGRAM):   _SUM_ = 0.;
2146629   +   P_DepVar1  = EXP(P_DepVar1  - _MAX_);
MPRINT(EM_DIAGRAM):   P_DepVar1 = EXP(P_DepVar1 - _MAX_);
2146630   +   _SUM_ = _SUM_ + P_DepVar1 ;
MPRINT(EM_DIAGRAM):   _SUM_ = _SUM_ + P_DepVar1 ;
2146631   +   P_DepVar0  = EXP(P_DepVar0  - _MAX_);
MPRINT(EM_DIAGRAM):   P_DepVar0 = EXP(P_DepVar0 - _MAX_);
2146632   +   _SUM_ = _SUM_ + P_DepVar0 ;
MPRINT(EM_DIAGRAM):   _SUM_ = _SUM_ + P_DepVar0 ;
2146633   +   P_DepVar1  = P_DepVar1  / _SUM_;
MPRINT(EM_DIAGRAM):   P_DepVar1 = P_DepVar1 / _SUM_;
2146634   +   P_DepVar0  = P_DepVar0  / _SUM_;
MPRINT(EM_DIAGRAM):   P_DepVar0 = P_DepVar0 / _SUM_;
2146635   +END;
MPRINT(EM_DIAGRAM):   END;
2146636   +ELSE DO;
MPRINT(EM_DIAGRAM):   ELSE DO;
2146637   +   P_DepVar1  = .;
MPRINT(EM_DIAGRAM):   P_DepVar1 = .;
2146638   +   P_DepVar0  = .;
MPRINT(EM_DIAGRAM):   P_DepVar0 = .;
2146639   +END;
MPRINT(EM_DIAGRAM):   END;
2146640   +IF _DM_BAD EQ 1 THEN DO;
MPRINT(EM_DIAGRAM):   IF _DM_BAD EQ 1 THEN DO;
2146641   +   P_DepVar1  =     0.15122156697556;
MPRINT(EM_DIAGRAM):   P_DepVar1 = 0.15122156697556;
2146642   +   P_DepVar0  =     0.84877843302443;
MPRINT(EM_DIAGRAM):   P_DepVar0 = 0.84877843302443;
2146643   +END;
MPRINT(EM_DIAGRAM):   END;
2146644   +*** *************************;
MPRINT(EM_DIAGRAM):   *** *************************;
2146645   +*** Writing the I_DepVar  AND U_DepVar ;
MPRINT(EM_DIAGRAM):   *** Writing the I_DepVar AND U_DepVar ;
2146646   +*** *************************;
MPRINT(EM_DIAGRAM):   *** *************************;
2146647   +_MAXP_ = P_DepVar1 ;
MPRINT(EM_DIAGRAM):   _MAXP_ = P_DepVar1 ;
2146648   +I_DepVar  = "1           " ;
MPRINT(EM_DIAGRAM):   I_DepVar = "1           " ;
2146649   +U_DepVar  =                    1;
MPRINT(EM_DIAGRAM):   U_DepVar = 1;
2146650   +IF( _MAXP_ LT P_DepVar0  ) THEN DO;
MPRINT(EM_DIAGRAM):   IF( _MAXP_ LT P_DepVar0 ) THEN DO;
2146651   +   _MAXP_ = P_DepVar0 ;
MPRINT(EM_DIAGRAM):   _MAXP_ = P_DepVar0 ;
2146652   +   I_DepVar  = "0           " ;
MPRINT(EM_DIAGRAM):   I_DepVar = "0           " ;
2146653   +   U_DepVar  =                    0;
MPRINT(EM_DIAGRAM):   U_DepVar = 0;
2146654   +END;
MPRINT(EM_DIAGRAM):   END;
2146655   +********************************;
MPRINT(EM_DIAGRAM):   ********************************;
2146656   +*** End Scoring Code for Neural;
MPRINT(EM_DIAGRAM):   *** End Scoring Code for Neural;
2146657   +********************************;
MPRINT(EM_DIAGRAM):   ********************************;
2146658   +drop
2146659   +H11
2146660   +H12
2146661   +H13
2146662   +H14
2146663   +H15
2146664   +H16
2146665   +;
MPRINT(EM_DIAGRAM):   drop H11 H12 H13 H14 H15 H16 ;
2146666   +drop S_:;
MPRINT(EM_DIAGRAM):   drop S_:;
NOTE: %INCLUDE (level 1) ending.
MPRINT(EM_DIAGRAM):   run;
2146667    run;

NOTE: Dependency structure written to data set _TEMP.
NOTE: PROCEDURE FCMP used (Total process time):
      real time           0.02 seconds
      cpu time            0.03 seconds
      

MPRINT(EM_DIAGRAM):   quit;
2146668    quit;
2146669    filename _pref;
MPRINT(EM_DIAGRAM):   filename _pref;
NOTE: Fileref _PREF has been deassigned.
2146670    data _temp(rename=(RHS=NAME));
MPRINT(EM_DIAGRAM):   data _temp(rename=(RHS=NAME));
2146671    length Node $32;
MPRINT(EM_DIAGRAM):   length Node $32;
2146672    retain ID 2 Node "Neural41";
MPRINT(EM_DIAGRAM):   retain ID 2 Node "Neural41";
2146673    set _temp;
MPRINT(EM_DIAGRAM):   set _temp;
2146674    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 2183 observations read from the data set WORK._TEMP.
NOTE: The data set WORK._TEMP has 2183 observations and 14 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

2146675    proc sort data=_temp;
MPRINT(EM_DIAGRAM):   proc sort data=_temp;
2146676    by NAME;
MPRINT(EM_DIAGRAM):   by NAME;
2146677    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 2183 observations read from the data set WORK._TEMP.
NOTE: The data set WORK._TEMP has 2183 observations and 14 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

2146678    proc sort data=EMWS8.Neural41_variableset out=_temp2(keep=NAME CREATOR);
MPRINT(EM_DIAGRAM):   proc sort data=EMWS8.Neural41_variableset out=_temp2(keep=NAME CREATOR);
2146679    by NAME;
MPRINT(EM_DIAGRAM):   by NAME;
2146680    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 34 observations read from the data set EMWS8.NEURAL41_VARIABLESET.
NOTE: The data set WORK._TEMP2 has 34 observations and 2 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

2146681    data _temp2;
MPRINT(EM_DIAGRAM):   data _temp2;
2146682    length CREATOR $32;
MPRINT(EM_DIAGRAM):   length CREATOR $32;
2146683    set _temp2;
MPRINT(EM_DIAGRAM):   set _temp2;
2146684    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 34 observations read from the data set WORK._TEMP2.
NOTE: The data set WORK._TEMP2 has 34 observations and 2 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

2146685    proc contents data=EMWS8.Neural41_train out=_meta(keep=NAME) noprint;
MPRINT(EM_DIAGRAM):   proc contents data=EMWS8.Neural41_train out=_meta(keep=NAME) noprint;
2146686    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: The data set WORK._META has 53 observations and 1 variables.
NOTE: PROCEDURE CONTENTS used (Total process time):
      real time           0.02 seconds
      cpu time            0.03 seconds
      

2146687    proc sort data=_meta;
MPRINT(EM_DIAGRAM):   proc sort data=_meta;
2146688    by NAME;
MPRINT(EM_DIAGRAM):   by NAME;
2146689    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 53 observations read from the data set WORK._META.
NOTE: The data set WORK._META has 53 observations and 1 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

2146690    data _temp2;
MPRINT(EM_DIAGRAM):   data _temp2;
2146691    merge _meta _temp2;
MPRINT(EM_DIAGRAM):   merge _meta _temp2;
2146692    by NAME;
MPRINT(EM_DIAGRAM):   by NAME;
2146693    run;
MPRINT(EM_DIAGRAM):   run;

WARNING: Multiple lengths were specified for the BY variable NAME by input data sets. This may 
         cause unexpected results.
NOTE: There were 53 observations read from the data set WORK._META.
NOTE: There were 34 observations read from the data set WORK._TEMP2.
NOTE: The data set WORK._TEMP2 has 53 observations and 2 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

2146694    proc sql;
MPRINT(EM_DIAGRAM):   proc sql;
2146695    create table _tempx as select p.node, p.lhs, p.id , p2.name, p2.CREATOR from
2146695  ! work._temp p, work._temp2 p2 where upcase(p.NAME)=upcase(p2.NAME);
MPRINT(EM_DIAGRAM):   create table _tempx as select p.node, p.lhs, p.id , p2.name, p2.CREATOR 
from work._temp p, work._temp2 p2 where upcase(p.NAME)=upcase(p2.NAME);
NOTE: Table WORK._TEMPX created, with 1087 rows and 5 columns.

2146696    quit;
MPRINT(EM_DIAGRAM):   quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

2146697    proc append base=EMWS8.Ensmbl23_FCMP data=_tempx;
MPRINT(EM_DIAGRAM):   proc append base=EMWS8.Ensmbl23_FCMP data=_tempx;
2146698    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: Appending WORK._TEMPX to EMWS8.ENSMBL23_FCMP.
NOTE: BASE data set does not exist. DATA file is being copied to BASE file.
NOTE: There were 1087 observations read from the data set WORK._TEMPX.
NOTE: The data set EMWS8.ENSMBL23_FCMP has 1087 observations and 5 variables.
NOTE: PROCEDURE APPEND used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

2146699    filename _pref
2146699  ! "C:\\predictive-models-project\Workspaces\EMWS8\Trans\EMPUBLISHSCORE.sas";
MPRINT(EM_DIAGRAM):    filename _pref 
"C:\\predictive-models-project\Workspaces\EMWS8\Trans\EMPUBLISHSCORE.sas";
2146700    proc FCMP NOEXECUTE IMPUTEDDEPS OUTDEPS=_temp;
MPRINT(EM_DIAGRAM):   proc FCMP NOEXECUTE IMPUTEDDEPS OUTDEPS=_temp;
2146701    %INCLUDE _pref;
NOTE: %INCLUDE (level 1) file _PREF is file 
      C:\\predictive-models-project\Workspaces\EMWS8\Trans\EMPUBLISHSCORE.sas.
2146702   +*------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
2146703   +* Formula Code;
MPRINT(EM_DIAGRAM):   * Formula Code;
2146704   +*------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
2146705   +MonthsAsCustomer =int((today()-Dt_Customer)/12) ;
MPRINT(EM_DIAGRAM):   MonthsAsCustomer =int((today()-Dt_Customer)/12) ;
2146706   +HigherEducationBinary =HigherEducation ;
MPRINT(EM_DIAGRAM):   HigherEducationBinary =HigherEducation ;
2146707   +NumDistPurchases =NumCatalogPurchases + NumWebPurchases ;
MPRINT(EM_DIAGRAM):   NumDistPurchases =NumCatalogPurchases + NumWebPurchases ;
NOTE: %INCLUDE (level 1) ending.
MPRINT(EM_DIAGRAM):   run;
2146708    run;

NOTE: Dependency structure written to data set _TEMP.
NOTE: PROCEDURE FCMP used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

MPRINT(EM_DIAGRAM):   quit;
2146709    quit;
2146710    filename _pref;
MPRINT(EM_DIAGRAM):   filename _pref;
NOTE: Fileref _PREF has been deassigned.
2146711    data _temp(rename=(RHS=NAME));
MPRINT(EM_DIAGRAM):   data _temp(rename=(RHS=NAME));
2146712    length Node $32;
MPRINT(EM_DIAGRAM):   length Node $32;
2146713    retain ID 5 Node "Trans";
MPRINT(EM_DIAGRAM):   retain ID 5 Node "Trans";
2146714    set _temp;
MPRINT(EM_DIAGRAM):   set _temp;
2146715    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 4 observations read from the data set WORK._TEMP.
NOTE: The data set WORK._TEMP has 4 observations and 14 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

2146716    proc sort data=_temp;
MPRINT(EM_DIAGRAM):   proc sort data=_temp;
2146717    by NAME;
MPRINT(EM_DIAGRAM):   by NAME;
2146718    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 4 observations read from the data set WORK._TEMP.
NOTE: The data set WORK._TEMP has 4 observations and 14 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

2146719    proc sort data=EMWS8.Trans_variableset out=_temp2(keep=NAME CREATOR);
MPRINT(EM_DIAGRAM):   proc sort data=EMWS8.Trans_variableset out=_temp2(keep=NAME CREATOR);
2146720    by NAME;
MPRINT(EM_DIAGRAM):   by NAME;
2146721    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 33 observations read from the data set EMWS8.TRANS_VARIABLESET.
NOTE: The data set WORK._TEMP2 has 33 observations and 2 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

2146722    data _temp2;
MPRINT(EM_DIAGRAM):   data _temp2;
2146723    length CREATOR $32;
MPRINT(EM_DIAGRAM):   length CREATOR $32;
2146724    set _temp2;
MPRINT(EM_DIAGRAM):   set _temp2;
2146725    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 33 observations read from the data set WORK._TEMP2.
NOTE: The data set WORK._TEMP2 has 33 observations and 2 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

2146726    proc contents data=EMWS8.Trans_train out=_meta(keep=NAME) noprint;
MPRINT(EM_DIAGRAM):   proc contents data=EMWS8.Trans_train out=_meta(keep=NAME) noprint;
2146727    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: The data set WORK._META has 44 observations and 1 variables.
NOTE: PROCEDURE CONTENTS used (Total process time):
      real time           0.02 seconds
      cpu time            0.01 seconds
      

2146728    proc sort data=_meta;
MPRINT(EM_DIAGRAM):   proc sort data=_meta;
2146729    by NAME;
MPRINT(EM_DIAGRAM):   by NAME;
2146730    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 44 observations read from the data set WORK._META.
NOTE: The data set WORK._META has 44 observations and 1 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

2146731    data _temp2;
MPRINT(EM_DIAGRAM):   data _temp2;
2146732    merge _meta _temp2;
MPRINT(EM_DIAGRAM):   merge _meta _temp2;
2146733    by NAME;
MPRINT(EM_DIAGRAM):   by NAME;
2146734    run;
MPRINT(EM_DIAGRAM):   run;

WARNING: Multiple lengths were specified for the BY variable NAME by input data sets. This may 
         cause unexpected results.
NOTE: There were 44 observations read from the data set WORK._META.
NOTE: There were 33 observations read from the data set WORK._TEMP2.
NOTE: The data set WORK._TEMP2 has 44 observations and 2 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

2146735    proc sql;
MPRINT(EM_DIAGRAM):   proc sql;
2146736    create table _tempx as select p.node, p.lhs, p.id , p2.name, p2.CREATOR from
2146736  ! work._temp p, work._temp2 p2 where upcase(p.NAME)=upcase(p2.NAME);
MPRINT(EM_DIAGRAM):   create table _tempx as select p.node, p.lhs, p.id , p2.name, p2.CREATOR 
from work._temp p, work._temp2 p2 where upcase(p.NAME)=upcase(p2.NAME);
NOTE: Table WORK._TEMPX created, with 4 rows and 5 columns.

2146737    quit;
MPRINT(EM_DIAGRAM):   quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

2146738    proc append base=EMWS8.Ensmbl23_FCMP data=_tempx;
MPRINT(EM_DIAGRAM):   proc append base=EMWS8.Ensmbl23_FCMP data=_tempx;
2146739    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: Appending WORK._TEMPX to EMWS8.ENSMBL23_FCMP.
NOTE: There were 4 observations read from the data set WORK._TEMPX.
NOTE: 4 observations added.
NOTE: The data set EMWS8.ENSMBL23_FCMP has 1091 observations and 5 variables.
NOTE: PROCEDURE APPEND used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

2146740    filename _pref
2146740  ! "C:\\predictive-models-project\Workspaces\EMWS8\EMCODE4\EMPUBLISHSCORE.sas";
MPRINT(EM_DIAGRAM):    filename _pref 
"C:\\predictive-models-project\Workspaces\EMWS8\EMCODE4\EMPUBLISHSCORE.sas";
2146741    proc FCMP NOEXECUTE IMPUTEDDEPS OUTDEPS=_temp;
MPRINT(EM_DIAGRAM):   proc FCMP NOEXECUTE IMPUTEDDEPS OUTDEPS=_temp;
2146742    %INCLUDE _pref;
NOTE: %INCLUDE (level 1) file _PREF is file 
      C:\\predictive-models-project\Workspaces\EMWS8\EMCODE4\EMPUBLISHSCORE.sas.
2146743   +
2146744   +  Frq=NumStorePurchases+NumWebPurchases+NumCatalogPurchases;
MPRINT(EM_DIAGRAM):   Frq=NumStorePurchases+NumWebPurchases+NumCatalogPurchases;
2146745   +  Mnt=MntFishProducts+MntFruits+MntGoldProds+MntMeatProducts+MntSweetProducts+MntWin
2146745  !+es;
MPRINT(EM_DIAGRAM):   
Mnt=MntFishProducts+MntFruits+MntGoldProds+MntMeatProducts+MntSweetProducts+MntWines;
2146746   +  RMntFrq=Mnt/Frq;
MPRINT(EM_DIAGRAM):   RMntFrq=Mnt/Frq;
2146747   +  RFMstat=(Mnt*Frq)/(Recency+1);
MPRINT(EM_DIAGRAM):   RFMstat=(Mnt*Frq)/(Recency+1);
2146748   +  HigherEducation=1*(upcase(Education) in ("GRADUATION","MASTER","PHD"));
MPRINT(EM_DIAGRAM):   HigherEducation=1*(upcase(Education) in ("GRADUATION","MASTER","PHD"));
2146749   +  Age = year(today())-Year_Birth;
MPRINT(EM_DIAGRAM):   Age = year(today())-Year_Birth;
2146750   +  AcceptedCmpTotal=AcceptedCmp1+AcceptedCmp2+AcceptedCmp3+AcceptedCmp4+AcceptedCmp5;
MPRINT(EM_DIAGRAM):   
AcceptedCmpTotal=AcceptedCmp1+AcceptedCmp2+AcceptedCmp3+AcceptedCmp4+AcceptedCmp5;
NOTE: %INCLUDE (level 1) ending.
MPRINT(EM_DIAGRAM):   run;
2146751    run;

NOTE: Dependency structure written to data set _TEMP.
NOTE: PROCEDURE FCMP used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

MPRINT(EM_DIAGRAM):   quit;
2146752    quit;
2146753    filename _pref;
MPRINT(EM_DIAGRAM):   filename _pref;
NOTE: Fileref _PREF has been deassigned.
2146754    data _temp(rename=(RHS=NAME));
MPRINT(EM_DIAGRAM):   data _temp(rename=(RHS=NAME));
2146755    length Node $32;
MPRINT(EM_DIAGRAM):   length Node $32;
2146756    retain ID 6 Node "EMCODE4";
MPRINT(EM_DIAGRAM):   retain ID 6 Node "EMCODE4";
2146757    set _temp;
MPRINT(EM_DIAGRAM):   set _temp;
2146758    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 39 observations read from the data set WORK._TEMP.
NOTE: The data set WORK._TEMP has 39 observations and 14 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

2146759    proc sort data=_temp;
MPRINT(EM_DIAGRAM):   proc sort data=_temp;
2146760    by NAME;
MPRINT(EM_DIAGRAM):   by NAME;
2146761    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 39 observations read from the data set WORK._TEMP.
NOTE: The data set WORK._TEMP has 39 observations and 14 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

2146762    proc sort data=EMWS8.EMCODE4_variableset out=_temp2(keep=NAME CREATOR);
MPRINT(EM_DIAGRAM):   proc sort data=EMWS8.EMCODE4_variableset out=_temp2(keep=NAME CREATOR);
2146763    by NAME;
MPRINT(EM_DIAGRAM):   by NAME;
2146764    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 27 observations read from the data set EMWS8.EMCODE4_VARIABLESET.
NOTE: The data set WORK._TEMP2 has 27 observations and 2 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

2146765    data _temp2;
MPRINT(EM_DIAGRAM):   data _temp2;
2146766    length CREATOR $32;
MPRINT(EM_DIAGRAM):   length CREATOR $32;
2146767    set _temp2;
MPRINT(EM_DIAGRAM):   set _temp2;
2146768    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 27 observations read from the data set WORK._TEMP2.
NOTE: The data set WORK._TEMP2 has 27 observations and 2 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

2146769    proc contents data=EMWS8.EMCODE4_train out=_meta(keep=NAME) noprint;
MPRINT(EM_DIAGRAM):   proc contents data=EMWS8.EMCODE4_train out=_meta(keep=NAME) noprint;
2146770    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: The data set WORK._META has 41 observations and 1 variables.
NOTE: PROCEDURE CONTENTS used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

2146771    proc sort data=_meta;
MPRINT(EM_DIAGRAM):   proc sort data=_meta;
2146772    by NAME;
MPRINT(EM_DIAGRAM):   by NAME;
2146773    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 41 observations read from the data set WORK._META.
NOTE: The data set WORK._META has 41 observations and 1 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

2146774    data _temp2;
MPRINT(EM_DIAGRAM):   data _temp2;
2146775    merge _meta _temp2;
MPRINT(EM_DIAGRAM):   merge _meta _temp2;
2146776    by NAME;
MPRINT(EM_DIAGRAM):   by NAME;
2146777    run;
MPRINT(EM_DIAGRAM):   run;

WARNING: Multiple lengths were specified for the BY variable NAME by input data sets. This may 
         cause unexpected results.
NOTE: There were 41 observations read from the data set WORK._META.
NOTE: There were 27 observations read from the data set WORK._TEMP2.
NOTE: The data set WORK._TEMP2 has 41 observations and 2 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

2146778    proc sql;
MPRINT(EM_DIAGRAM):   proc sql;
2146779    create table _tempx as select p.node, p.lhs, p.id , p2.name, p2.CREATOR from
2146779  ! work._temp p, work._temp2 p2 where upcase(p.NAME)=upcase(p2.NAME);
MPRINT(EM_DIAGRAM):   create table _tempx as select p.node, p.lhs, p.id , p2.name, p2.CREATOR 
from work._temp p, work._temp2 p2 where upcase(p.NAME)=upcase(p2.NAME);
NOTE: Table WORK._TEMPX created, with 39 rows and 5 columns.

2146780    quit;
MPRINT(EM_DIAGRAM):   quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

2146781    proc append base=EMWS8.Ensmbl23_FCMP data=_tempx;
MPRINT(EM_DIAGRAM):   proc append base=EMWS8.Ensmbl23_FCMP data=_tempx;
2146782    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: Appending WORK._TEMPX to EMWS8.ENSMBL23_FCMP.
NOTE: There were 39 observations read from the data set WORK._TEMPX.
NOTE: 39 observations added.
NOTE: The data set EMWS8.ENSMBL23_FCMP has 1130 observations and 5 variables.
NOTE: PROCEDURE APPEND used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

2146783    filename _pref
2146783  ! "C:\\predictive-models-project\Workspaces\EMWS8\Filter\EMPUBLISHSCORE.sas";
MPRINT(EM_DIAGRAM):    filename _pref 
"C:\\predictive-models-project\Workspaces\EMWS8\Filter\EMPUBLISHSCORE.sas";
2146784    proc FCMP NOEXECUTE IMPUTEDDEPS OUTDEPS=_temp;
MPRINT(EM_DIAGRAM):   proc FCMP NOEXECUTE IMPUTEDDEPS OUTDEPS=_temp;
2146785    %INCLUDE _pref;
NOTE: %INCLUDE (level 1) file _PREF is file 
      C:\\predictive-models-project\Workspaces\EMWS8\Filter\EMPUBLISHSCORE.sas.
2146786   +
2146787   +
2146788   +length _FILTERFMT1  $200;
MPRINT(EM_DIAGRAM):   length _FILTERFMT1 $200;
2146789   +drop _FILTERFMT1 ;
MPRINT(EM_DIAGRAM):   drop _FILTERFMT1 ;
2146790   +_FILTERFMT1= put(AcceptedCmp1,BEST.);
MPRINT(EM_DIAGRAM):   _FILTERFMT1= put(AcceptedCmp1,BEST.);
2146791   +length _FILTERNORM1  $32;
MPRINT(EM_DIAGRAM):   length _FILTERNORM1 $32;
2146792   +drop _FILTERNORM1 ;
MPRINT(EM_DIAGRAM):   drop _FILTERNORM1 ;
2146793   +%dmnormcp(_FILTERFMT1,_FILTERNORM1);
MPRINT(DMNORMCP):   _FILTERNORM1=dmnorm(_FILTERFMT1,
MPRINT(DMNORLEN):  32
MPRINT(DMNORMCP):  );
MPRINT(EM_DIAGRAM):  ;
2146794   +
2146795   +
2146796   +length _FILTERFMT2  $200;
MPRINT(EM_DIAGRAM):   length _FILTERFMT2 $200;
2146797   +drop _FILTERFMT2 ;
MPRINT(EM_DIAGRAM):   drop _FILTERFMT2 ;
2146798   +_FILTERFMT2= put(AcceptedCmp2,BEST.);
MPRINT(EM_DIAGRAM):   _FILTERFMT2= put(AcceptedCmp2,BEST.);
2146799   +length _FILTERNORM2  $32;
MPRINT(EM_DIAGRAM):   length _FILTERNORM2 $32;
2146800   +drop _FILTERNORM2 ;
MPRINT(EM_DIAGRAM):   drop _FILTERNORM2 ;
2146801   +%dmnormcp(_FILTERFMT2,_FILTERNORM2);
MPRINT(DMNORMCP):   _FILTERNORM2=dmnorm(_FILTERFMT2,
MPRINT(DMNORLEN):  32
MPRINT(DMNORMCP):  );
MPRINT(EM_DIAGRAM):  ;
2146802   +
2146803   +
2146804   +length _FILTERFMT3  $200;
MPRINT(EM_DIAGRAM):   length _FILTERFMT3 $200;
2146805   +drop _FILTERFMT3 ;
MPRINT(EM_DIAGRAM):   drop _FILTERFMT3 ;
2146806   +_FILTERFMT3= put(AcceptedCmp3,BEST.);
MPRINT(EM_DIAGRAM):   _FILTERFMT3= put(AcceptedCmp3,BEST.);
2146807   +length _FILTERNORM3  $32;
MPRINT(EM_DIAGRAM):   length _FILTERNORM3 $32;
2146808   +drop _FILTERNORM3 ;
MPRINT(EM_DIAGRAM):   drop _FILTERNORM3 ;
2146809   +%dmnormcp(_FILTERFMT3,_FILTERNORM3);
MPRINT(DMNORMCP):   _FILTERNORM3=dmnorm(_FILTERFMT3,
MPRINT(DMNORLEN):  32
MPRINT(DMNORMCP):  );
MPRINT(EM_DIAGRAM):  ;
2146810   +
2146811   +
2146812   +length _FILTERFMT4  $200;
MPRINT(EM_DIAGRAM):   length _FILTERFMT4 $200;
2146813   +drop _FILTERFMT4 ;
MPRINT(EM_DIAGRAM):   drop _FILTERFMT4 ;
2146814   +_FILTERFMT4= put(AcceptedCmp4,BEST.);
MPRINT(EM_DIAGRAM):   _FILTERFMT4= put(AcceptedCmp4,BEST.);
2146815   +length _FILTERNORM4  $32;
MPRINT(EM_DIAGRAM):   length _FILTERNORM4 $32;
2146816   +drop _FILTERNORM4 ;
MPRINT(EM_DIAGRAM):   drop _FILTERNORM4 ;
2146817   +%dmnormcp(_FILTERFMT4,_FILTERNORM4);
MPRINT(DMNORMCP):   _FILTERNORM4=dmnorm(_FILTERFMT4,
MPRINT(DMNORLEN):  32
MPRINT(DMNORMCP):  );
MPRINT(EM_DIAGRAM):  ;
2146818   +
2146819   +
2146820   +length _FILTERFMT5  $200;
MPRINT(EM_DIAGRAM):   length _FILTERFMT5 $200;
2146821   +drop _FILTERFMT5 ;
MPRINT(EM_DIAGRAM):   drop _FILTERFMT5 ;
2146822   +_FILTERFMT5= put(AcceptedCmp5,BEST.);
MPRINT(EM_DIAGRAM):   _FILTERFMT5= put(AcceptedCmp5,BEST.);
2146823   +length _FILTERNORM5  $32;
MPRINT(EM_DIAGRAM):   length _FILTERNORM5 $32;
2146824   +drop _FILTERNORM5 ;
MPRINT(EM_DIAGRAM):   drop _FILTERNORM5 ;
2146825   +%dmnormcp(_FILTERFMT5,_FILTERNORM5);
MPRINT(DMNORMCP):   _FILTERNORM5=dmnorm(_FILTERFMT5,
MPRINT(DMNORLEN):  32
MPRINT(DMNORMCP):  );
MPRINT(EM_DIAGRAM):  ;
2146826   +
2146827   +
2146828   +length _FILTERFMT6  $200;
MPRINT(EM_DIAGRAM):   length _FILTERFMT6 $200;
2146829   +drop _FILTERFMT6 ;
MPRINT(EM_DIAGRAM):   drop _FILTERFMT6 ;
2146830   +_FILTERFMT6= put(Complain,BEST.);
MPRINT(EM_DIAGRAM):   _FILTERFMT6= put(Complain,BEST.);
2146831   +length _FILTERNORM6  $32;
MPRINT(EM_DIAGRAM):   length _FILTERNORM6 $32;
2146832   +drop _FILTERNORM6 ;
MPRINT(EM_DIAGRAM):   drop _FILTERNORM6 ;
2146833   +%dmnormcp(_FILTERFMT6,_FILTERNORM6);
MPRINT(DMNORMCP):   _FILTERNORM6=dmnorm(_FILTERFMT6,
MPRINT(DMNORLEN):  32
MPRINT(DMNORMCP):  );
MPRINT(EM_DIAGRAM):  ;
2146834   +
2146835   +
2146836   +length _FILTERFMT7  $200;
MPRINT(EM_DIAGRAM):   length _FILTERFMT7 $200;
2146837   +drop _FILTERFMT7 ;
MPRINT(EM_DIAGRAM):   drop _FILTERFMT7 ;
2146838   +_FILTERFMT7= put(Education,$10.0);
MPRINT(EM_DIAGRAM):   _FILTERFMT7= put(Education,$10.0);
2146839   +length _FILTERNORM7  $32;
MPRINT(EM_DIAGRAM):   length _FILTERNORM7 $32;
2146840   +drop _FILTERNORM7 ;
MPRINT(EM_DIAGRAM):   drop _FILTERNORM7 ;
2146841   +%dmnormcp(_FILTERFMT7,_FILTERNORM7);
MPRINT(DMNORMCP):   _FILTERNORM7=dmnorm(_FILTERFMT7,
MPRINT(DMNORLEN):  32
MPRINT(DMNORMCP):  );
MPRINT(EM_DIAGRAM):  ;
2146842   +
2146843   +
2146844   +length _FILTERFMT8  $200;
MPRINT(EM_DIAGRAM):   length _FILTERFMT8 $200;
2146845   +drop _FILTERFMT8 ;
MPRINT(EM_DIAGRAM):   drop _FILTERFMT8 ;
2146846   +_FILTERFMT8= put(Marital_Status,$8.0);
MPRINT(EM_DIAGRAM):   _FILTERFMT8= put(Marital_Status,$8.0);
2146847   +length _FILTERNORM8  $32;
MPRINT(EM_DIAGRAM):   length _FILTERNORM8 $32;
2146848   +drop _FILTERNORM8 ;
MPRINT(EM_DIAGRAM):   drop _FILTERNORM8 ;
2146849   +%dmnormcp(_FILTERFMT8,_FILTERNORM8);
MPRINT(DMNORMCP):   _FILTERNORM8=dmnorm(_FILTERFMT8,
MPRINT(DMNORLEN):  32
MPRINT(DMNORMCP):  );
MPRINT(EM_DIAGRAM):  ;
2146850   +if
2146851   +_FILTERNORM1 not in ( '.')
2146852   + and
2146853   +_FILTERNORM2 not in ( '.')
2146854   + and
2146855   +_FILTERNORM3 not in ( '.')
2146856   + and
2146857   +_FILTERNORM4 not in ( '.')
2146858   + and
2146859   +_FILTERNORM5 not in ( '.')
2146860   + and
2146861   +_FILTERNORM6 not in ( '.')
2146862   + and
2146863   +_FILTERNORM7 not in ( ' ')
2146864   + and
2146865   +_FILTERNORM8 not in ( ' ')
2146866   +and
2146867   +( Dt_Customer ne .)
2146868   +and ( Income ne . and (Income<=107000))
2146869   +and ( Kidhome ne .)
2146870   +and ( MntFishProducts ne .)
2146871   +and ( MntFruits ne .)
2146872   +and ( MntGoldProds ne .)
2146873   +and ( MntMeatProducts ne . and (MntMeatProducts<=964))
2146874   +and ( MntSweetProducts ne .)
2146875   +and ( MntWines ne .)
2146876   +and ( NumCatalogPurchases ne . and (NumCatalogPurchases<=14))
2146877   +and ( NumDealsPurchases ne . and (NumDealsPurchases<=10.5))
2146878   +and ( NumStorePurchases ne .)
2146879   +and ( NumWebPurchases ne .)
2146880   +and ( NumWebVisitsMonth ne . and (NumWebVisitsMonth<=13.42))
2146881   +and ( Recency ne .)
2146882   +and ( Teenhome ne .)
2146883   +and ( Year_Birth ne .)
2146884   +then do;
MPRINT(EM_DIAGRAM):   if _FILTERNORM1 not in ( '.') and _FILTERNORM2 not in ( '.') and 
_FILTERNORM3 not in ( '.') and _FILTERNORM4 not in ( '.') and _FILTERNORM5 not in ( '.') and 
_FILTERNORM6 not in ( '.') and _FILTERNORM7 not in ( ' ') and _FILTERNORM8 not in ( ' ') and ( 
Dt_Customer ne .) and ( Income ne . and (Income<=107000)) and ( Kidhome ne .) and ( 
MntFishProducts ne .) and ( MntFruits ne .) and ( MntGoldProds ne .) and ( MntMeatProducts ne 
. and (MntMeatProducts<=964)) and ( MntSweetProducts ne .) and ( MntWines ne .) and ( 
NumCatalogPurchases ne . and (NumCatalogPurchases<=14)) and ( NumDealsPurchases ne . and 
(NumDealsPurchases<=10.5)) and ( NumStorePurchases ne .) and ( NumWebPurchases ne .) and ( 
NumWebVisitsMonth ne . and (NumWebVisitsMonth<=13.42)) and ( Recency ne .) and ( Teenhome ne 
.) and ( Year_Birth ne .) then do;
2146885   +if M_FILTER eq . then M_FILTER = 0;
MPRINT(EM_DIAGRAM):   if M_FILTER eq . then M_FILTER = 0;
2146886   +else M_FILTER = M_FILTER + 0;
MPRINT(EM_DIAGRAM):   else M_FILTER = M_FILTER + 0;
2146887   +end;
MPRINT(EM_DIAGRAM):   end;
2146888   +else M_FILTER = 1;
MPRINT(EM_DIAGRAM):   else M_FILTER = 1;
2146889   +label M_FILTER = 'Filtered Indicator';
MPRINT(EM_DIAGRAM):   label M_FILTER = 'Filtered Indicator';
NOTE: %INCLUDE (level 1) ending.
MPRINT(EM_DIAGRAM):   run;
2146890    run;

NOTE: Dependency structure written to data set _TEMP.
NOTE: PROCEDURE FCMP used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

MPRINT(EM_DIAGRAM):   quit;
2146891    quit;
2146892    filename _pref;
MPRINT(EM_DIAGRAM):   filename _pref;
NOTE: Fileref _PREF has been deassigned.
2146893    data _temp(rename=(RHS=NAME));
MPRINT(EM_DIAGRAM):   data _temp(rename=(RHS=NAME));
2146894    length Node $32;
MPRINT(EM_DIAGRAM):   length Node $32;
2146895    retain ID 7 Node "Filter";
MPRINT(EM_DIAGRAM):   retain ID 7 Node "Filter";
2146896    set _temp;
MPRINT(EM_DIAGRAM):   set _temp;
2146897    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 110 observations read from the data set WORK._TEMP.
NOTE: The data set WORK._TEMP has 110 observations and 14 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

2146898    proc sort data=_temp;
MPRINT(EM_DIAGRAM):   proc sort data=_temp;
2146899    by NAME;
MPRINT(EM_DIAGRAM):   by NAME;
2146900    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 110 observations read from the data set WORK._TEMP.
NOTE: The data set WORK._TEMP has 110 observations and 14 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

2146901    proc sort data=EMWS8.Filter_variableset out=_temp2(keep=NAME CREATOR);
MPRINT(EM_DIAGRAM):   proc sort data=EMWS8.Filter_variableset out=_temp2(keep=NAME CREATOR);
2146902    by NAME;
MPRINT(EM_DIAGRAM):   by NAME;
2146903    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 26 observations read from the data set EMWS8.FILTER_VARIABLESET.
NOTE: The data set WORK._TEMP2 has 26 observations and 2 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

2146904    data _temp2;
MPRINT(EM_DIAGRAM):   data _temp2;
2146905    length CREATOR $32;
MPRINT(EM_DIAGRAM):   length CREATOR $32;
2146906    set _temp2;
MPRINT(EM_DIAGRAM):   set _temp2;
2146907    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 26 observations read from the data set WORK._TEMP2.
NOTE: The data set WORK._TEMP2 has 26 observations and 2 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

2146908    proc contents data=EMWS8.Filter_train out=_meta(keep=NAME) noprint;
MPRINT(EM_DIAGRAM):   proc contents data=EMWS8.Filter_train out=_meta(keep=NAME) noprint;
2146909    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: The data set WORK._META has 34 observations and 1 variables.
NOTE: PROCEDURE CONTENTS used (Total process time):
      real time           0.02 seconds
      cpu time            0.01 seconds
      

2146910    proc sort data=_meta;
MPRINT(EM_DIAGRAM):   proc sort data=_meta;
2146911    by NAME;
MPRINT(EM_DIAGRAM):   by NAME;
2146912    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 34 observations read from the data set WORK._META.
NOTE: The data set WORK._META has 34 observations and 1 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

2146913    data _temp2;
MPRINT(EM_DIAGRAM):   data _temp2;
2146914    merge _meta _temp2;
MPRINT(EM_DIAGRAM):   merge _meta _temp2;
2146915    by NAME;
MPRINT(EM_DIAGRAM):   by NAME;
2146916    run;
MPRINT(EM_DIAGRAM):   run;

WARNING: Multiple lengths were specified for the BY variable NAME by input data sets. This may 
         cause unexpected results.
NOTE: There were 34 observations read from the data set WORK._META.
NOTE: There were 26 observations read from the data set WORK._TEMP2.
NOTE: The data set WORK._TEMP2 has 34 observations and 2 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

2146917    proc sql;
MPRINT(EM_DIAGRAM):   proc sql;
2146918    create table _tempx as select p.node, p.lhs, p.id , p2.name, p2.CREATOR from
2146918  ! work._temp p, work._temp2 p2 where upcase(p.NAME)=upcase(p2.NAME);
MPRINT(EM_DIAGRAM):   create table _tempx as select p.node, p.lhs, p.id , p2.name, p2.CREATOR 
from work._temp p, work._temp2 p2 where upcase(p.NAME)=upcase(p2.NAME);
NOTE: Table WORK._TEMPX created, with 66 rows and 5 columns.

2146919    quit;
MPRINT(EM_DIAGRAM):   quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

2146920    proc append base=EMWS8.Ensmbl23_FCMP data=_tempx;
MPRINT(EM_DIAGRAM):   proc append base=EMWS8.Ensmbl23_FCMP data=_tempx;
2146921    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: Appending WORK._TEMPX to EMWS8.ENSMBL23_FCMP.
NOTE: There were 66 observations read from the data set WORK._TEMPX.
NOTE: 66 observations added.
NOTE: The data set EMWS8.ENSMBL23_FCMP has 1196 observations and 5 variables.
NOTE: PROCEDURE APPEND used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

2146922    %macro varDept(fcmpdata=,id=);
2146923    %global nobs&id scoreFlag&id;
2146924    %let scoreFlag&id = 0;
2146925    %if &id=1 or ^&fcmpStart %then %do;
2146926    proc sort data=&fcmpdata out=_temp&id nodupkey;
2146927    by NAME;
2146928    where id=&id and LHS in( %let j=1;
2146929    %do %while(%scan(_WARN_ I_DepVar P_DepVar1 P_DepVar0, &j) ne );
2146930    %let var = %scan(_WARN_ I_DepVar P_DepVar1 P_DepVar0, &j);
2146931    "&var" %let j = %eval(&j+1);
2146932    %end;
2146933    );
2146934    run;
2146935    %let dsid = %sysfunc(open(_temp&id));
2146936    %let nobs&id = %sysfunc(attrn(&dsid, NLOBSF));
2146937    %let dsid = %sysfunc(close(&dsid));
2146938    %if &&nobs&id %then %do;
2146939    %let scoreFlag&id = 1;
2146940    %let fcmpStart = 1;
2146941    %end;
2146942    %else %let fcmpStart = 0;
2146943    %end;
2146944    %else %do;
2146945    proc sort data=&fcmpdata out=_tempid;
2146946    where id=&id;
2146947    by LHS;
2146948    run;
2146949    %let dsid = %sysfunc(open(_tempid));
2146950    %let nobs&id = %sysfunc(attrn(&dsid, NLOBSF));
2146951    %let dsid = %sysfunc(close(&dsid));
2146952    %if ^&&nobs&id %then %do;
2146953    proc datasets lib=work nolist;
2146954    delete _tempid;
2146955    run;
2146956    quit;
2146957    %end;
2146958    %else %do;
2146959    data _tempAll;
2146960    set %let j=%eval(&id-1);
2146961    %do x=1 %to &j;
2146962    %if &&nobs&x %then %do;
2146963    _temp&x %end;
2146964    %end;
2146965    ;
2146966    run;
2146967    proc sql;
2146968    create table _temp&id as select p2.lhs, p2.name, p2.Node from work._tempAll p,
2146968  ! work._tempid p2 where p.name=p2.lhs;
2146969    quit;
2146970    data _temp&id;
2146971    set _temp&id;
2146972    where LHS ne '' and NAME ne '' and Node ne '';
2146973    run;
2146974    proc datasets lib=work nolist;
2146975    delete _tempAll;
2146976    run;
2146977    %let dsid = %sysfunc(open(_temp&id));
2146978    %let nobs&id = %sysfunc(attrn(&dsid, NLOBSF));
2146979    %let dsid = %sysfunc(close(&dsid));
2146980    %if ^&&nobs&id %then %do;
2146981    proc datasets lib=work nolist;
2146982    delete _temp&id;
2146983    run;
2146984    quit;
2146985    %end;
2146986    %else %do;
2146987    %let scoreFlag&id = 1;
2146988    data _temp&id;
2146989    set _temp&id;
2146990    where LHS ne NAME and node ne '';
2146991    run;
2146992    %let dsid = %sysfunc(open(_temp&id));
2146993    %let nobs&id = %sysfunc(attrn(&dsid, NLOBSF));
2146994    %let dsid = %sysfunc(close(&dsid));
2146995    %if ^&&nobs&id %then %do;
2146996    proc datasets lib=work nolist;
2146997    delete _temp&id;
2146998    run;
2146999    quit;
2147000    %end;
2147001    %else %do;
2147002    proc sort data=_temp&id nodupkey;
2147003    by LHS NAME;
2147004    run;
2147005    %end;
2147006    %end;
2147007    %end;
2147008    %end;
2147009    %mend varDept;
2147010    %macro optCode(outdata=fcmpdata);
2147011    %global fcmpStart;
2147012    %let fcmpStart = 0;
2147013    %let outputVars = _WARN_ I_DepVar P_DepVar1 P_DepVar0;
2147014    %let NumNodes=9;
2147015    %do k=1 %to &NumNodes;
2147016    %vardept(fcmpdata=&outdata, id=&k);
2147017    %end;
2147018    %mend optCode;
2147019    %optcode(outData=EMWS8.Ensmbl23_FCMP);
MPRINT(EM_DIAGRAM):   
MPRINT(VARDEPT):   proc sort data=EMWS8.Ensmbl23_FCMP out=_temp1 nodupkey;
MPRINT(VARDEPT):   by NAME;
MPRINT(VARDEPT):   where id=1 and LHS in( "_WARN_" "I_DepVar" "P_DepVar1" "P_DepVar0" );
MPRINT(VARDEPT):   run;

NOTE: Input data set is empty.
NOTE: 0 observations with duplicate key values were deleted.
NOTE: There were 0 observations read from the data set EMWS8.ENSMBL23_FCMP.
      WHERE (id=1) and LHS in ('I_DepVar', 'P_DepVar0', 'P_DepVar1', '_WARN_');
NOTE: The data set WORK._TEMP1 has 0 observations and 5 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

MPRINT(OPTCODE):  ;
MPRINT(VARDEPT):   proc sort data=EMWS8.Ensmbl23_FCMP out=_temp2 nodupkey;
MPRINT(VARDEPT):   by NAME;
MPRINT(VARDEPT):   where id=2 and LHS in( "_WARN_" "I_DepVar" "P_DepVar1" "P_DepVar0" );
MPRINT(VARDEPT):   run;

NOTE: There were 106 observations read from the data set EMWS8.ENSMBL23_FCMP.
      WHERE (id=2) and LHS in ('I_DepVar', 'P_DepVar0', 'P_DepVar1', '_WARN_');
NOTE: 79 observations with duplicate key values were deleted.
NOTE: The data set WORK._TEMP2 has 27 observations and 5 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

MPRINT(OPTCODE):  ;
MPRINT(VARDEPT):   proc sort data=EMWS8.Ensmbl23_FCMP out=_tempid;
MPRINT(VARDEPT):   where id=3;
MPRINT(VARDEPT):   by LHS;
MPRINT(VARDEPT):   run;

NOTE: Input data set is empty.
NOTE: There were 0 observations read from the data set EMWS8.ENSMBL23_FCMP.
      WHERE id=3;
NOTE: The data set WORK._TEMPID has 0 observations and 5 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

MPRINT(VARDEPT):   proc datasets lib=work nolist;
MPRINT(VARDEPT):   delete _tempid;
MPRINT(VARDEPT):   run;

NOTE: Deleting WORK._TEMPID (memtype=DATA).
MPRINT(VARDEPT):   quit;

NOTE: PROCEDURE DATASETS used (Total process time):
      real time           0.04 seconds
      cpu time            0.04 seconds
      

MPRINT(OPTCODE):  ;
MPRINT(VARDEPT):   proc sort data=EMWS8.Ensmbl23_FCMP out=_tempid;
MPRINT(VARDEPT):   where id=4;
MPRINT(VARDEPT):   by LHS;
MPRINT(VARDEPT):   run;

NOTE: Input data set is empty.
NOTE: There were 0 observations read from the data set EMWS8.ENSMBL23_FCMP.
      WHERE id=4;
NOTE: The data set WORK._TEMPID has 0 observations and 5 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

MPRINT(VARDEPT):   proc datasets lib=work nolist;
MPRINT(VARDEPT):   delete _tempid;
MPRINT(VARDEPT):   run;

NOTE: Deleting WORK._TEMPID (memtype=DATA).
MPRINT(VARDEPT):   quit;

NOTE: PROCEDURE DATASETS used (Total process time):
      real time           0.04 seconds
      cpu time            0.04 seconds
      

MPRINT(OPTCODE):  ;
MPRINT(VARDEPT):   proc sort data=EMWS8.Ensmbl23_FCMP out=_tempid;
MPRINT(VARDEPT):   where id=5;
MPRINT(VARDEPT):   by LHS;
MPRINT(VARDEPT):   run;

NOTE: There were 4 observations read from the data set EMWS8.ENSMBL23_FCMP.
      WHERE id=5;
NOTE: The data set WORK._TEMPID has 4 observations and 5 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

MPRINT(VARDEPT):   data _tempAll;
MPRINT(VARDEPT):   set _temp2 ;
MPRINT(VARDEPT):   run;

NOTE: There were 27 observations read from the data set WORK._TEMP2.
NOTE: The data set WORK._TEMPALL has 27 observations and 5 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

MPRINT(VARDEPT):   proc sql;
MPRINT(VARDEPT):   create table _temp5 as select p2.lhs, p2.name, p2.Node from work._tempAll 
p, work._tempid p2 where p.name=p2.lhs;
NOTE: Table WORK._TEMP5 created, with 2 rows and 3 columns.

MPRINT(VARDEPT):   quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

MPRINT(VARDEPT):   data _temp5;
MPRINT(VARDEPT):   set _temp5;
MPRINT(VARDEPT):   where LHS ne '' and NAME ne '' and Node ne '';
MPRINT(VARDEPT):   run;

NOTE: There were 2 observations read from the data set WORK._TEMP5.
      WHERE (LHS not = ' ') and (NAME not = ' ') and (Node not = ' ');
NOTE: The data set WORK._TEMP5 has 2 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

MPRINT(VARDEPT):   proc datasets lib=work nolist;
MPRINT(VARDEPT):   delete _tempAll;
MPRINT(VARDEPT):   run;

NOTE: Deleting WORK._TEMPALL (memtype=DATA).

NOTE: PROCEDURE DATASETS used (Total process time):
      real time           0.04 seconds
      cpu time            0.04 seconds
      

MPRINT(VARDEPT):   data _temp5;
MPRINT(VARDEPT):   set _temp5;
MPRINT(VARDEPT):   where LHS ne NAME and node ne '';
MPRINT(VARDEPT):   run;

NOTE: There were 2 observations read from the data set WORK._TEMP5.
      WHERE (LHS not = NAME) and (node not = ' ');
NOTE: The data set WORK._TEMP5 has 2 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

MPRINT(VARDEPT):   proc sort data=_temp5 nodupkey;
MPRINT(VARDEPT):   by LHS NAME;
MPRINT(VARDEPT):   run;

NOTE: There were 2 observations read from the data set WORK._TEMP5.
NOTE: 0 observations with duplicate key values were deleted.
NOTE: The data set WORK._TEMP5 has 2 observations and 3 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

MPRINT(OPTCODE):  ;
MPRINT(VARDEPT):   proc sort data=EMWS8.Ensmbl23_FCMP out=_tempid;
MPRINT(VARDEPT):   where id=6;
MPRINT(VARDEPT):   by LHS;
MPRINT(VARDEPT):   run;

NOTE: There were 39 observations read from the data set EMWS8.ENSMBL23_FCMP.
      WHERE id=6;
NOTE: The data set WORK._TEMPID has 39 observations and 5 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

MPRINT(VARDEPT):   data _tempAll;
MPRINT(VARDEPT):   set _temp2 _temp5 ;
MPRINT(VARDEPT):   run;

NOTE: There were 27 observations read from the data set WORK._TEMP2.
NOTE: There were 2 observations read from the data set WORK._TEMP5.
NOTE: The data set WORK._TEMPALL has 29 observations and 5 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

MPRINT(VARDEPT):   proc sql;
MPRINT(VARDEPT):   create table _temp6 as select p2.lhs, p2.name, p2.Node from work._tempAll 
p, work._tempid p2 where p.name=p2.lhs;
NOTE: Table WORK._TEMP6 created, with 33 rows and 3 columns.

MPRINT(VARDEPT):   quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

MPRINT(VARDEPT):   data _temp6;
MPRINT(VARDEPT):   set _temp6;
MPRINT(VARDEPT):   where LHS ne '' and NAME ne '' and Node ne '';
MPRINT(VARDEPT):   run;

NOTE: There were 33 observations read from the data set WORK._TEMP6.
      WHERE (LHS not = ' ') and (NAME not = ' ') and (Node not = ' ');
NOTE: The data set WORK._TEMP6 has 33 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

MPRINT(VARDEPT):   proc datasets lib=work nolist;
MPRINT(VARDEPT):   delete _tempAll;
MPRINT(VARDEPT):   run;

NOTE: Deleting WORK._TEMPALL (memtype=DATA).

NOTE: PROCEDURE DATASETS used (Total process time):
      real time           0.04 seconds
      cpu time            0.04 seconds
      

MPRINT(VARDEPT):   data _temp6;
MPRINT(VARDEPT):   set _temp6;
MPRINT(VARDEPT):   where LHS ne NAME and node ne '';
MPRINT(VARDEPT):   run;

NOTE: There were 33 observations read from the data set WORK._TEMP6.
      WHERE (LHS not = NAME) and (node not = ' ');
NOTE: The data set WORK._TEMP6 has 33 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

MPRINT(VARDEPT):   proc sort data=_temp6 nodupkey;
MPRINT(VARDEPT):   by LHS NAME;
MPRINT(VARDEPT):   run;

NOTE: There were 33 observations read from the data set WORK._TEMP6.
NOTE: 0 observations with duplicate key values were deleted.
NOTE: The data set WORK._TEMP6 has 33 observations and 3 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

MPRINT(OPTCODE):  ;
MPRINT(VARDEPT):   proc sort data=EMWS8.Ensmbl23_FCMP out=_tempid;
MPRINT(VARDEPT):   where id=7;
MPRINT(VARDEPT):   by LHS;
MPRINT(VARDEPT):   run;

NOTE: There were 66 observations read from the data set EMWS8.ENSMBL23_FCMP.
      WHERE id=7;
NOTE: The data set WORK._TEMPID has 66 observations and 5 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

MPRINT(VARDEPT):   data _tempAll;
MPRINT(VARDEPT):   set _temp2 _temp5 _temp6 ;
MPRINT(VARDEPT):   run;

NOTE: There were 27 observations read from the data set WORK._TEMP2.
NOTE: There were 2 observations read from the data set WORK._TEMP5.
NOTE: There were 33 observations read from the data set WORK._TEMP6.
NOTE: The data set WORK._TEMPALL has 62 observations and 5 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

MPRINT(VARDEPT):   proc sql;
MPRINT(VARDEPT):   create table _temp7 as select p2.lhs, p2.name, p2.Node from work._tempAll 
p, work._tempid p2 where p.name=p2.lhs;
NOTE: Table WORK._TEMP7 created, with 0 rows and 3 columns.

MPRINT(VARDEPT):   quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

MPRINT(VARDEPT):   data _temp7;
MPRINT(VARDEPT):   set _temp7;
MPRINT(VARDEPT):   where LHS ne '' and NAME ne '' and Node ne '';
MPRINT(VARDEPT):   run;

NOTE: There were 0 observations read from the data set WORK._TEMP7.
      WHERE (LHS not = ' ') and (NAME not = ' ') and (Node not = ' ');
NOTE: The data set WORK._TEMP7 has 0 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

MPRINT(VARDEPT):   proc datasets lib=work nolist;
MPRINT(VARDEPT):   delete _tempAll;
MPRINT(VARDEPT):   run;

NOTE: Deleting WORK._TEMPALL (memtype=DATA).

NOTE: PROCEDURE DATASETS used (Total process time):
      real time           0.04 seconds
      cpu time            0.04 seconds
      

MPRINT(VARDEPT):   proc datasets lib=work nolist;
MPRINT(VARDEPT):   delete _temp7;
MPRINT(VARDEPT):   run;

NOTE: Deleting WORK._TEMP7 (memtype=DATA).
MPRINT(VARDEPT):   quit;

NOTE: PROCEDURE DATASETS used (Total process time):
      real time           0.04 seconds
      cpu time            0.04 seconds
      

MPRINT(OPTCODE):  ;
MPRINT(VARDEPT):   proc sort data=EMWS8.Ensmbl23_FCMP out=_tempid;
MPRINT(VARDEPT):   where id=8;
MPRINT(VARDEPT):   by LHS;
MPRINT(VARDEPT):   run;

NOTE: Input data set is empty.
NOTE: There were 0 observations read from the data set EMWS8.ENSMBL23_FCMP.
      WHERE id=8;
NOTE: The data set WORK._TEMPID has 0 observations and 5 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

MPRINT(VARDEPT):   proc datasets lib=work nolist;
MPRINT(VARDEPT):   delete _tempid;
MPRINT(VARDEPT):   run;

NOTE: Deleting WORK._TEMPID (memtype=DATA).
MPRINT(VARDEPT):   quit;

NOTE: PROCEDURE DATASETS used (Total process time):
      real time           0.04 seconds
      cpu time            0.04 seconds
      

MPRINT(OPTCODE):  ;
MPRINT(VARDEPT):   proc sort data=EMWS8.Ensmbl23_FCMP out=_tempid;
MPRINT(VARDEPT):   where id=9;
MPRINT(VARDEPT):   by LHS;
MPRINT(VARDEPT):   run;

NOTE: Input data set is empty.
NOTE: There were 0 observations read from the data set EMWS8.ENSMBL23_FCMP.
      WHERE id=9;
NOTE: The data set WORK._TEMPID has 0 observations and 5 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

MPRINT(VARDEPT):   proc datasets lib=work nolist;
MPRINT(VARDEPT):   delete _tempid;
MPRINT(VARDEPT):   run;

NOTE: Deleting WORK._TEMPID (memtype=DATA).
MPRINT(VARDEPT):   quit;

NOTE: PROCEDURE DATASETS used (Total process time):
      real time           0.28 seconds
      cpu time            0.04 seconds
      

MPRINT(OPTCODE):  ;
MPRINT(EM_DIAGRAM):  ;

2147020    data _all_;
MPRINT(EM_DIAGRAM):    data _all_;
2147021    set EMWS8.Trans_EMSCOREVAR;
MPRINT(EM_DIAGRAM):   set EMWS8.Trans_EMSCOREVAR;
2147022    where NAME='' and file ne '' and ^index(file, '_POSTALL_.sas');
MPRINT(EM_DIAGRAM):   where NAME='' and file ne '' and ^index(file, '_POSTALL_.sas');
2147023    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 0 observations read from the data set EMWS8.TRANS_EMSCOREVAR.
      WHERE (NAME=' ') and (file not = ' ') and (not INDEX(file, '_POSTALL_.sas'));
NOTE: The data set WORK._ALL_ has 0 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

2147024    data _postall_;
MPRINT(EM_DIAGRAM):   data _postall_;
2147025    set EMWS8.Trans_EMSCOREVAR;
MPRINT(EM_DIAGRAM):   set EMWS8.Trans_EMSCOREVAR;
2147026    where NAME='' and file ne '' and index(file, '_POSTALL_.sas');
MPRINT(EM_DIAGRAM):   where NAME='' and file ne '' and index(file, '_POSTALL_.sas');
2147027    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 0 observations read from the data set EMWS8.TRANS_EMSCOREVAR.
      WHERE (NAME=' ') and (file not = ' ') and INDEX(file, '_POSTALL_.sas');
NOTE: The data set WORK._POSTALL_ has 0 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

2147028    proc sql;
MPRINT(EM_DIAGRAM):   proc sql;
2147029    create table _CodeVar5 as select p.lhs, p2.formula, p2.file from _temp5 p,
2147029  ! EMWS8.Trans_EMSCOREVAR p2 where upcase(p.LHS)=upcase(p2.NAME) order by p.lhs;
MPRINT(EM_DIAGRAM):   create table _CodeVar5 as select p.lhs, p2.formula, p2.file from _temp5 
p, EMWS8.Trans_EMSCOREVAR p2 where upcase(p.LHS)=upcase(p2.NAME) order by p.lhs;
NOTE: Table WORK._CODEVAR5 created, with 2 rows and 3 columns.

2147030    quit;
MPRINT(EM_DIAGRAM):   quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

2147031    data _CodeVar5;
MPRINT(EM_DIAGRAM):   data _CodeVar5;
2147032    set _all_ _CodeVar5 _postall_;
MPRINT(EM_DIAGRAM):   set _all_ _CodeVar5 _postall_;
2147033    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 0 observations read from the data set WORK._ALL_.
NOTE: There were 2 observations read from the data set WORK._CODEVAR5.
NOTE: There were 0 observations read from the data set WORK._POSTALL_.
NOTE: The data set WORK._CODEVAR5 has 2 observations and 4 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

2147034    filename _pref
2147034  ! "C:\\predictive-models-project\Workspaces\EMWS8\Neural40\EMPUBLISHSCORE.sas";
MPRINT(EM_DIAGRAM):    filename _pref 
"C:\\predictive-models-project\Workspaces\EMWS8\Neural40\EMPUBLISHSCORE.sas";
2147035    proc FCMP NOEXECUTE IMPUTEDDEPS OUTDEPS=_temp;
MPRINT(EM_DIAGRAM):   proc FCMP NOEXECUTE IMPUTEDDEPS OUTDEPS=_temp;
2147036    %INCLUDE _pref;
NOTE: %INCLUDE (level 1) file _PREF is file 
      C:\\predictive-models-project\Workspaces\EMWS8\Neural40\EMPUBLISHSCORE.sas.
2147037   +***********************************;
MPRINT(EM_DIAGRAM):   ***********************************;
2147038   +*** Begin Scoring Code for Neural;
MPRINT(EM_DIAGRAM):   *** Begin Scoring Code for Neural;
2147039   +***********************************;
MPRINT(EM_DIAGRAM):   ***********************************;
2147040   +DROP _DM_BAD _EPS _NOCL_ _MAX_ _MAXP_ _SUM_ _NTRIALS;
MPRINT(EM_DIAGRAM):   DROP _DM_BAD _EPS _NOCL_ _MAX_ _MAXP_ _SUM_ _NTRIALS;
2147041   + _DM_BAD = 0;
MPRINT(EM_DIAGRAM):   _DM_BAD = 0;
2147042   + _NOCL_ = .;
MPRINT(EM_DIAGRAM):   _NOCL_ = .;
2147043   + _MAX_ = .;
MPRINT(EM_DIAGRAM):   _MAX_ = .;
2147044   + _MAXP_ = .;
MPRINT(EM_DIAGRAM):   _MAXP_ = .;
2147045   + _SUM_ = .;
MPRINT(EM_DIAGRAM):   _SUM_ = .;
2147046   + _NTRIALS = .;
MPRINT(EM_DIAGRAM):   _NTRIALS = .;
2147047   + _EPS =                1E-10;
MPRINT(EM_DIAGRAM):   _EPS = 1E-10;
2147048   +LENGTH _WARN_ $4
2147049   +;
MPRINT(EM_DIAGRAM):   LENGTH _WARN_ $4 ;
2147050   +      label S_AcceptedCmpTotal = 'Standard: AcceptedCmpTotal' ;
MPRINT(EM_DIAGRAM):   label S_AcceptedCmpTotal = 'Standard: AcceptedCmpTotal' ;
2147051   +
2147052   +      label S_Age = 'Standard: Age' ;
MPRINT(EM_DIAGRAM):   label S_Age = 'Standard: Age' ;
2147053   +
2147054   +      label S_Frq = 'Standard: Frq' ;
MPRINT(EM_DIAGRAM):   label S_Frq = 'Standard: Frq' ;
2147055   +
2147056   +      label S_Income = 'Standard: Income' ;
MPRINT(EM_DIAGRAM):   label S_Income = 'Standard: Income' ;
2147057   +
2147058   +      label S_Kidhome = 'Standard: Kidhome' ;
MPRINT(EM_DIAGRAM):   label S_Kidhome = 'Standard: Kidhome' ;
2147059   +
2147060   +      label S_MntFishProducts = 'Standard: MntFishProducts' ;
MPRINT(EM_DIAGRAM):   label S_MntFishProducts = 'Standard: MntFishProducts' ;
2147061   +
2147062   +      label S_MntFruits = 'Standard: MntFruits' ;
MPRINT(EM_DIAGRAM):   label S_MntFruits = 'Standard: MntFruits' ;
2147063   +
2147064   +      label S_MntGoldProds = 'Standard: MntGoldProds' ;
MPRINT(EM_DIAGRAM):   label S_MntGoldProds = 'Standard: MntGoldProds' ;
2147065   +
2147066   +      label S_MntSweetProducts = 'Standard: MntSweetProducts' ;
MPRINT(EM_DIAGRAM):   label S_MntSweetProducts = 'Standard: MntSweetProducts' ;
2147067   +
2147068   +      label S_MonthsAsCustomer = 'Standard: MonthsAsCustomer' ;
MPRINT(EM_DIAGRAM):   label S_MonthsAsCustomer = 'Standard: MonthsAsCustomer' ;
2147069   +
2147070   +      label S_NumDealsPurchases = 'Standard: NumDealsPurchases' ;
MPRINT(EM_DIAGRAM):   label S_NumDealsPurchases = 'Standard: NumDealsPurchases' ;
2147071   +
2147072   +      label S_NumWebVisitsMonth = 'Standard: NumWebVisitsMonth' ;
MPRINT(EM_DIAGRAM):   label S_NumWebVisitsMonth = 'Standard: NumWebVisitsMonth' ;
2147073   +
2147074   +      label S_RFMstat = 'Standard: RFMstat' ;
MPRINT(EM_DIAGRAM):   label S_RFMstat = 'Standard: RFMstat' ;
2147075   +
2147076   +      label S_RMntFrq = 'Standard: RMntFrq' ;
MPRINT(EM_DIAGRAM):   label S_RMntFrq = 'Standard: RMntFrq' ;
2147077   +
2147078   +      label S_Recency = 'Standard: Recency' ;
MPRINT(EM_DIAGRAM):   label S_Recency = 'Standard: Recency' ;
2147079   +
2147080   +      label S_Teenhome = 'Standard: Teenhome' ;
MPRINT(EM_DIAGRAM):   label S_Teenhome = 'Standard: Teenhome' ;
2147081   +
2147082   +      label AcceptedCmp10 = 'Dummy: AcceptedCmp1=0' ;
MPRINT(EM_DIAGRAM):   label AcceptedCmp10 = 'Dummy: AcceptedCmp1=0' ;
2147083   +
2147084   +      label AcceptedCmp20 = 'Dummy: AcceptedCmp2=0' ;
MPRINT(EM_DIAGRAM):   label AcceptedCmp20 = 'Dummy: AcceptedCmp2=0' ;
2147085   +
2147086   +      label AcceptedCmp30 = 'Dummy: AcceptedCmp3=0' ;
MPRINT(EM_DIAGRAM):   label AcceptedCmp30 = 'Dummy: AcceptedCmp3=0' ;
2147087   +
2147088   +      label AcceptedCmp40 = 'Dummy: AcceptedCmp4=0' ;
MPRINT(EM_DIAGRAM):   label AcceptedCmp40 = 'Dummy: AcceptedCmp4=0' ;
2147089   +
2147090   +      label AcceptedCmp50 = 'Dummy: AcceptedCmp5=0' ;
MPRINT(EM_DIAGRAM):   label AcceptedCmp50 = 'Dummy: AcceptedCmp5=0' ;
2147091   +
2147092   +      label Complain0 = 'Dummy: Complain=0' ;
MPRINT(EM_DIAGRAM):   label Complain0 = 'Dummy: Complain=0' ;
2147093   +
2147094   +      label HigherEducationBinary0 = 'Dummy: HigherEducationBinary=0' ;
MPRINT(EM_DIAGRAM):   label HigherEducationBinary0 = 'Dummy: HigherEducationBinary=0' ;
2147095   +
2147096   +      label Education2n_Cycle = 'Dummy: Education=2n Cycle' ;
MPRINT(EM_DIAGRAM):   label Education2n_Cycle = 'Dummy: Education=2n Cycle' ;
2147097   +
2147098   +      label EducationBasic = 'Dummy: Education=Basic' ;
MPRINT(EM_DIAGRAM):   label EducationBasic = 'Dummy: Education=Basic' ;
2147099   +
2147100   +      label EducationGraduation = 'Dummy: Education=Graduation' ;
MPRINT(EM_DIAGRAM):   label EducationGraduation = 'Dummy: Education=Graduation' ;
2147101   +
2147102   +      label EducationMaster = 'Dummy: Education=Master' ;
MPRINT(EM_DIAGRAM):   label EducationMaster = 'Dummy: Education=Master' ;
2147103   +
2147104   +      label Marital_StatusDivorced = 'Dummy: Marital_Status=Divorced' ;
MPRINT(EM_DIAGRAM):   label Marital_StatusDivorced = 'Dummy: Marital_Status=Divorced' ;
2147105   +
2147106   +      label Marital_StatusMarried = 'Dummy: Marital_Status=Married' ;
MPRINT(EM_DIAGRAM):   label Marital_StatusMarried = 'Dummy: Marital_Status=Married' ;
2147107   +
2147108   +      label Marital_StatusSingle = 'Dummy: Marital_Status=Single' ;
MPRINT(EM_DIAGRAM):   label Marital_StatusSingle = 'Dummy: Marital_Status=Single' ;
2147109   +
2147110   +      label Marital_StatusTogether = 'Dummy: Marital_Status=Together' ;
MPRINT(EM_DIAGRAM):   label Marital_StatusTogether = 'Dummy: Marital_Status=Together' ;
2147111   +
2147112   +      label H11 = 'Hidden: H1=1' ;
MPRINT(EM_DIAGRAM):   label H11 = 'Hidden: H1=1' ;
2147113   +
2147114   +      label H12 = 'Hidden: H1=2' ;
MPRINT(EM_DIAGRAM):   label H12 = 'Hidden: H1=2' ;
2147115   +
2147116   +      label H13 = 'Hidden: H1=3' ;
MPRINT(EM_DIAGRAM):   label H13 = 'Hidden: H1=3' ;
2147117   +
2147118   +      label H14 = 'Hidden: H1=4' ;
MPRINT(EM_DIAGRAM):   label H14 = 'Hidden: H1=4' ;
2147119   +
2147120   +      label H15 = 'Hidden: H1=5' ;
MPRINT(EM_DIAGRAM):   label H15 = 'Hidden: H1=5' ;
2147121   +
2147122   +      label I_DepVar = 'Into: DepVar' ;
MPRINT(EM_DIAGRAM):   label I_DepVar = 'Into: DepVar' ;
2147123   +
2147124   +      label U_DepVar = 'Unnormalized Into: DepVar' ;
MPRINT(EM_DIAGRAM):   label U_DepVar = 'Unnormalized Into: DepVar' ;
2147125   +
2147126   +      label P_DepVar1 = 'Predicted: DepVar=1' ;
MPRINT(EM_DIAGRAM):   label P_DepVar1 = 'Predicted: DepVar=1' ;
2147127   +
2147128   +      label P_DepVar0 = 'Predicted: DepVar=0' ;
MPRINT(EM_DIAGRAM):   label P_DepVar0 = 'Predicted: DepVar=0' ;
2147129   +
2147130   +      label  _WARN_ = "Warnings";
MPRINT(EM_DIAGRAM):   label _WARN_ = "Warnings";
2147131   +
2147132   +*** Generate dummy variables for AcceptedCmp1 ;
MPRINT(EM_DIAGRAM):   *** Generate dummy variables for AcceptedCmp1 ;
2147133   +drop AcceptedCmp10 ;
MPRINT(EM_DIAGRAM):   drop AcceptedCmp10 ;
2147134   +if missing( AcceptedCmp1 ) then do;
MPRINT(EM_DIAGRAM):   if missing( AcceptedCmp1 ) then do;
2147135   +   AcceptedCmp10 = .;
MPRINT(EM_DIAGRAM):   AcceptedCmp10 = .;
2147136   +   substr(_warn_,1,1) = 'M';
MPRINT(EM_DIAGRAM):   substr(_warn_,1,1) = 'M';
2147137   +   _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2147138   +end;
MPRINT(EM_DIAGRAM):   end;
2147139   +else do;
MPRINT(EM_DIAGRAM):   else do;
2147140   +   length _dm12 $ 12; drop _dm12 ;
MPRINT(EM_DIAGRAM):   length _dm12 $ 12;
MPRINT(EM_DIAGRAM):   drop _dm12 ;
2147141   +   _dm12 = put( AcceptedCmp1 , BEST. );
MPRINT(EM_DIAGRAM):   _dm12 = put( AcceptedCmp1 , BEST. );
2147142   +   %DMNORMIP( _dm12 )
MPRINT(DMNORMIP):   call dmnorm(_dm12,
MPRINT(DMNORLEN):  32
MPRINT(DMNORMIP):  );
2147143   +   if _dm12 = '0'  then do;
MPRINT(EM_DIAGRAM):   if _dm12 = '0' then do;
2147144   +      AcceptedCmp10 = 1;
MPRINT(EM_DIAGRAM):   AcceptedCmp10 = 1;
2147145   +   end;
MPRINT(EM_DIAGRAM):   end;
2147146   +   else if _dm12 = '1'  then do;
MPRINT(EM_DIAGRAM):   else if _dm12 = '1' then do;
2147147   +      AcceptedCmp10 = -1;
MPRINT(EM_DIAGRAM):   AcceptedCmp10 = -1;
2147148   +   end;
MPRINT(EM_DIAGRAM):   end;
2147149   +   else do;
MPRINT(EM_DIAGRAM):   else do;
2147150   +      AcceptedCmp10 = .;
MPRINT(EM_DIAGRAM):   AcceptedCmp10 = .;
2147151   +      substr(_warn_,2,1) = 'U';
MPRINT(EM_DIAGRAM):   substr(_warn_,2,1) = 'U';
2147152   +      _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2147153   +   end;
MPRINT(EM_DIAGRAM):   end;
2147154   +end;
MPRINT(EM_DIAGRAM):   end;
2147155   +
2147156   +*** Generate dummy variables for AcceptedCmp2 ;
MPRINT(EM_DIAGRAM):   *** Generate dummy variables for AcceptedCmp2 ;
2147157   +drop AcceptedCmp20 ;
MPRINT(EM_DIAGRAM):   drop AcceptedCmp20 ;
2147158   +if missing( AcceptedCmp2 ) then do;
MPRINT(EM_DIAGRAM):   if missing( AcceptedCmp2 ) then do;
2147159   +   AcceptedCmp20 = .;
MPRINT(EM_DIAGRAM):   AcceptedCmp20 = .;
2147160   +   substr(_warn_,1,1) = 'M';
MPRINT(EM_DIAGRAM):   substr(_warn_,1,1) = 'M';
2147161   +   _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2147162   +end;
MPRINT(EM_DIAGRAM):   end;
2147163   +else do;
MPRINT(EM_DIAGRAM):   else do;
2147164   +   length _dm12 $ 12; drop _dm12 ;
MPRINT(EM_DIAGRAM):   length _dm12 $ 12;
MPRINT(EM_DIAGRAM):   drop _dm12 ;
2147165   +   _dm12 = put( AcceptedCmp2 , BEST. );
MPRINT(EM_DIAGRAM):   _dm12 = put( AcceptedCmp2 , BEST. );
2147166   +   %DMNORMIP( _dm12 )
MPRINT(DMNORMIP):   call dmnorm(_dm12,
MPRINT(DMNORLEN):  32
MPRINT(DMNORMIP):  );
2147167   +   if _dm12 = '0'  then do;
MPRINT(EM_DIAGRAM):   if _dm12 = '0' then do;
2147168   +      AcceptedCmp20 = 1;
MPRINT(EM_DIAGRAM):   AcceptedCmp20 = 1;
2147169   +   end;
MPRINT(EM_DIAGRAM):   end;
2147170   +   else if _dm12 = '1'  then do;
MPRINT(EM_DIAGRAM):   else if _dm12 = '1' then do;
2147171   +      AcceptedCmp20 = -1;
MPRINT(EM_DIAGRAM):   AcceptedCmp20 = -1;
2147172   +   end;
MPRINT(EM_DIAGRAM):   end;
2147173   +   else do;
MPRINT(EM_DIAGRAM):   else do;
2147174   +      AcceptedCmp20 = .;
MPRINT(EM_DIAGRAM):   AcceptedCmp20 = .;
2147175   +      substr(_warn_,2,1) = 'U';
MPRINT(EM_DIAGRAM):   substr(_warn_,2,1) = 'U';
2147176   +      _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2147177   +   end;
MPRINT(EM_DIAGRAM):   end;
2147178   +end;
MPRINT(EM_DIAGRAM):   end;
2147179   +
2147180   +*** Generate dummy variables for AcceptedCmp3 ;
MPRINT(EM_DIAGRAM):   *** Generate dummy variables for AcceptedCmp3 ;
2147181   +drop AcceptedCmp30 ;
MPRINT(EM_DIAGRAM):   drop AcceptedCmp30 ;
2147182   +if missing( AcceptedCmp3 ) then do;
MPRINT(EM_DIAGRAM):   if missing( AcceptedCmp3 ) then do;
2147183   +   AcceptedCmp30 = .;
MPRINT(EM_DIAGRAM):   AcceptedCmp30 = .;
2147184   +   substr(_warn_,1,1) = 'M';
MPRINT(EM_DIAGRAM):   substr(_warn_,1,1) = 'M';
2147185   +   _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2147186   +end;
MPRINT(EM_DIAGRAM):   end;
2147187   +else do;
MPRINT(EM_DIAGRAM):   else do;
2147188   +   length _dm12 $ 12; drop _dm12 ;
MPRINT(EM_DIAGRAM):   length _dm12 $ 12;
MPRINT(EM_DIAGRAM):   drop _dm12 ;
2147189   +   _dm12 = put( AcceptedCmp3 , BEST. );
MPRINT(EM_DIAGRAM):   _dm12 = put( AcceptedCmp3 , BEST. );
2147190   +   %DMNORMIP( _dm12 )
MPRINT(DMNORMIP):   call dmnorm(_dm12,
MPRINT(DMNORLEN):  32
MPRINT(DMNORMIP):  );
2147191   +   if _dm12 = '0'  then do;
MPRINT(EM_DIAGRAM):   if _dm12 = '0' then do;
2147192   +      AcceptedCmp30 = 1;
MPRINT(EM_DIAGRAM):   AcceptedCmp30 = 1;
2147193   +   end;
MPRINT(EM_DIAGRAM):   end;
2147194   +   else if _dm12 = '1'  then do;
MPRINT(EM_DIAGRAM):   else if _dm12 = '1' then do;
2147195   +      AcceptedCmp30 = -1;
MPRINT(EM_DIAGRAM):   AcceptedCmp30 = -1;
2147196   +   end;
MPRINT(EM_DIAGRAM):   end;
2147197   +   else do;
MPRINT(EM_DIAGRAM):   else do;
2147198   +      AcceptedCmp30 = .;
MPRINT(EM_DIAGRAM):   AcceptedCmp30 = .;
2147199   +      substr(_warn_,2,1) = 'U';
MPRINT(EM_DIAGRAM):   substr(_warn_,2,1) = 'U';
2147200   +      _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2147201   +   end;
MPRINT(EM_DIAGRAM):   end;
2147202   +end;
MPRINT(EM_DIAGRAM):   end;
2147203   +
2147204   +*** Generate dummy variables for AcceptedCmp4 ;
MPRINT(EM_DIAGRAM):   *** Generate dummy variables for AcceptedCmp4 ;
2147205   +drop AcceptedCmp40 ;
MPRINT(EM_DIAGRAM):   drop AcceptedCmp40 ;
2147206   +if missing( AcceptedCmp4 ) then do;
MPRINT(EM_DIAGRAM):   if missing( AcceptedCmp4 ) then do;
2147207   +   AcceptedCmp40 = .;
MPRINT(EM_DIAGRAM):   AcceptedCmp40 = .;
2147208   +   substr(_warn_,1,1) = 'M';
MPRINT(EM_DIAGRAM):   substr(_warn_,1,1) = 'M';
2147209   +   _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2147210   +end;
MPRINT(EM_DIAGRAM):   end;
2147211   +else do;
MPRINT(EM_DIAGRAM):   else do;
2147212   +   length _dm12 $ 12; drop _dm12 ;
MPRINT(EM_DIAGRAM):   length _dm12 $ 12;
MPRINT(EM_DIAGRAM):   drop _dm12 ;
2147213   +   _dm12 = put( AcceptedCmp4 , BEST. );
MPRINT(EM_DIAGRAM):   _dm12 = put( AcceptedCmp4 , BEST. );
2147214   +   %DMNORMIP( _dm12 )
MPRINT(DMNORMIP):   call dmnorm(_dm12,
MPRINT(DMNORLEN):  32
MPRINT(DMNORMIP):  );
2147215   +   if _dm12 = '0'  then do;
MPRINT(EM_DIAGRAM):   if _dm12 = '0' then do;
2147216   +      AcceptedCmp40 = 1;
MPRINT(EM_DIAGRAM):   AcceptedCmp40 = 1;
2147217   +   end;
MPRINT(EM_DIAGRAM):   end;
2147218   +   else if _dm12 = '1'  then do;
MPRINT(EM_DIAGRAM):   else if _dm12 = '1' then do;
2147219   +      AcceptedCmp40 = -1;
MPRINT(EM_DIAGRAM):   AcceptedCmp40 = -1;
2147220   +   end;
MPRINT(EM_DIAGRAM):   end;
2147221   +   else do;
MPRINT(EM_DIAGRAM):   else do;
2147222   +      AcceptedCmp40 = .;
MPRINT(EM_DIAGRAM):   AcceptedCmp40 = .;
2147223   +      substr(_warn_,2,1) = 'U';
MPRINT(EM_DIAGRAM):   substr(_warn_,2,1) = 'U';
2147224   +      _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2147225   +   end;
MPRINT(EM_DIAGRAM):   end;
2147226   +end;
MPRINT(EM_DIAGRAM):   end;
2147227   +
2147228   +*** Generate dummy variables for AcceptedCmp5 ;
MPRINT(EM_DIAGRAM):   *** Generate dummy variables for AcceptedCmp5 ;
2147229   +drop AcceptedCmp50 ;
MPRINT(EM_DIAGRAM):   drop AcceptedCmp50 ;
2147230   +if missing( AcceptedCmp5 ) then do;
MPRINT(EM_DIAGRAM):   if missing( AcceptedCmp5 ) then do;
2147231   +   AcceptedCmp50 = .;
MPRINT(EM_DIAGRAM):   AcceptedCmp50 = .;
2147232   +   substr(_warn_,1,1) = 'M';
MPRINT(EM_DIAGRAM):   substr(_warn_,1,1) = 'M';
2147233   +   _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2147234   +end;
MPRINT(EM_DIAGRAM):   end;
2147235   +else do;
MPRINT(EM_DIAGRAM):   else do;
2147236   +   length _dm12 $ 12; drop _dm12 ;
MPRINT(EM_DIAGRAM):   length _dm12 $ 12;
MPRINT(EM_DIAGRAM):   drop _dm12 ;
2147237   +   _dm12 = put( AcceptedCmp5 , BEST. );
MPRINT(EM_DIAGRAM):   _dm12 = put( AcceptedCmp5 , BEST. );
2147238   +   %DMNORMIP( _dm12 )
MPRINT(DMNORMIP):   call dmnorm(_dm12,
MPRINT(DMNORLEN):  32
MPRINT(DMNORMIP):  );
2147239   +   if _dm12 = '0'  then do;
MPRINT(EM_DIAGRAM):   if _dm12 = '0' then do;
2147240   +      AcceptedCmp50 = 1;
MPRINT(EM_DIAGRAM):   AcceptedCmp50 = 1;
2147241   +   end;
MPRINT(EM_DIAGRAM):   end;
2147242   +   else if _dm12 = '1'  then do;
MPRINT(EM_DIAGRAM):   else if _dm12 = '1' then do;
2147243   +      AcceptedCmp50 = -1;
MPRINT(EM_DIAGRAM):   AcceptedCmp50 = -1;
2147244   +   end;
MPRINT(EM_DIAGRAM):   end;
2147245   +   else do;
MPRINT(EM_DIAGRAM):   else do;
2147246   +      AcceptedCmp50 = .;
MPRINT(EM_DIAGRAM):   AcceptedCmp50 = .;
2147247   +      substr(_warn_,2,1) = 'U';
MPRINT(EM_DIAGRAM):   substr(_warn_,2,1) = 'U';
2147248   +      _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2147249   +   end;
MPRINT(EM_DIAGRAM):   end;
2147250   +end;
MPRINT(EM_DIAGRAM):   end;
2147251   +
2147252   +*** Generate dummy variables for Complain ;
MPRINT(EM_DIAGRAM):   *** Generate dummy variables for Complain ;
2147253   +drop Complain0 ;
MPRINT(EM_DIAGRAM):   drop Complain0 ;
2147254   +if missing( Complain ) then do;
MPRINT(EM_DIAGRAM):   if missing( Complain ) then do;
2147255   +   Complain0 = .;
MPRINT(EM_DIAGRAM):   Complain0 = .;
2147256   +   substr(_warn_,1,1) = 'M';
MPRINT(EM_DIAGRAM):   substr(_warn_,1,1) = 'M';
2147257   +   _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2147258   +end;
MPRINT(EM_DIAGRAM):   end;
2147259   +else do;
MPRINT(EM_DIAGRAM):   else do;
2147260   +   length _dm12 $ 12; drop _dm12 ;
MPRINT(EM_DIAGRAM):   length _dm12 $ 12;
MPRINT(EM_DIAGRAM):   drop _dm12 ;
2147261   +   _dm12 = put( Complain , BEST. );
MPRINT(EM_DIAGRAM):   _dm12 = put( Complain , BEST. );
2147262   +   %DMNORMIP( _dm12 )
MPRINT(DMNORMIP):   call dmnorm(_dm12,
MPRINT(DMNORLEN):  32
MPRINT(DMNORMIP):  );
2147263   +   if _dm12 = '0'  then do;
MPRINT(EM_DIAGRAM):   if _dm12 = '0' then do;
2147264   +      Complain0 = 1;
MPRINT(EM_DIAGRAM):   Complain0 = 1;
2147265   +   end;
MPRINT(EM_DIAGRAM):   end;
2147266   +   else if _dm12 = '1'  then do;
MPRINT(EM_DIAGRAM):   else if _dm12 = '1' then do;
2147267   +      Complain0 = -1;
MPRINT(EM_DIAGRAM):   Complain0 = -1;
2147268   +   end;
MPRINT(EM_DIAGRAM):   end;
2147269   +   else do;
MPRINT(EM_DIAGRAM):   else do;
2147270   +      Complain0 = .;
MPRINT(EM_DIAGRAM):   Complain0 = .;
2147271   +      substr(_warn_,2,1) = 'U';
MPRINT(EM_DIAGRAM):   substr(_warn_,2,1) = 'U';
2147272   +      _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2147273   +   end;
MPRINT(EM_DIAGRAM):   end;
2147274   +end;
MPRINT(EM_DIAGRAM):   end;
2147275   +
2147276   +*** Generate dummy variables for HigherEducationBinary ;
MPRINT(EM_DIAGRAM):   *** Generate dummy variables for HigherEducationBinary ;
2147277   +drop HigherEducationBinary0 ;
MPRINT(EM_DIAGRAM):   drop HigherEducationBinary0 ;
2147278   +if missing( HigherEducationBinary ) then do;
MPRINT(EM_DIAGRAM):   if missing( HigherEducationBinary ) then do;
2147279   +   HigherEducationBinary0 = .;
MPRINT(EM_DIAGRAM):   HigherEducationBinary0 = .;
2147280   +   substr(_warn_,1,1) = 'M';
MPRINT(EM_DIAGRAM):   substr(_warn_,1,1) = 'M';
2147281   +   _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2147282   +end;
MPRINT(EM_DIAGRAM):   end;
2147283   +else do;
MPRINT(EM_DIAGRAM):   else do;
2147284   +   length _dm12 $ 12; drop _dm12 ;
MPRINT(EM_DIAGRAM):   length _dm12 $ 12;
MPRINT(EM_DIAGRAM):   drop _dm12 ;
2147285   +   _dm12 = put( HigherEducationBinary , BEST12. );
MPRINT(EM_DIAGRAM):   _dm12 = put( HigherEducationBinary , BEST12. );
2147286   +   %DMNORMIP( _dm12 )
MPRINT(DMNORMIP):   call dmnorm(_dm12,
MPRINT(DMNORLEN):  32
MPRINT(DMNORMIP):  );
2147287   +   if _dm12 = '1'  then do;
MPRINT(EM_DIAGRAM):   if _dm12 = '1' then do;
2147288   +      HigherEducationBinary0 = -1;
MPRINT(EM_DIAGRAM):   HigherEducationBinary0 = -1;
2147289   +   end;
MPRINT(EM_DIAGRAM):   end;
2147290   +   else if _dm12 = '0'  then do;
MPRINT(EM_DIAGRAM):   else if _dm12 = '0' then do;
2147291   +      HigherEducationBinary0 = 1;
MPRINT(EM_DIAGRAM):   HigherEducationBinary0 = 1;
2147292   +   end;
MPRINT(EM_DIAGRAM):   end;
2147293   +   else do;
MPRINT(EM_DIAGRAM):   else do;
2147294   +      HigherEducationBinary0 = .;
MPRINT(EM_DIAGRAM):   HigherEducationBinary0 = .;
2147295   +      substr(_warn_,2,1) = 'U';
MPRINT(EM_DIAGRAM):   substr(_warn_,2,1) = 'U';
2147296   +      _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2147297   +   end;
MPRINT(EM_DIAGRAM):   end;
2147298   +end;
MPRINT(EM_DIAGRAM):   end;
2147299   +
2147300   +*** Generate dummy variables for Education ;
MPRINT(EM_DIAGRAM):   *** Generate dummy variables for Education ;
2147301   +drop Education2n_Cycle EducationBasic EducationGraduation EducationMaster ;
MPRINT(EM_DIAGRAM):   drop Education2n_Cycle EducationBasic EducationGraduation 
EducationMaster ;
2147302   +*** encoding is sparse, initialize to zero;
MPRINT(EM_DIAGRAM):   *** encoding is sparse, initialize to zero;
2147303   +Education2n_Cycle = 0;
MPRINT(EM_DIAGRAM):   Education2n_Cycle = 0;
2147304   +EducationBasic = 0;
MPRINT(EM_DIAGRAM):   EducationBasic = 0;
2147305   +EducationGraduation = 0;
MPRINT(EM_DIAGRAM):   EducationGraduation = 0;
2147306   +EducationMaster = 0;
MPRINT(EM_DIAGRAM):   EducationMaster = 0;
2147307   +if missing( Education ) then do;
MPRINT(EM_DIAGRAM):   if missing( Education ) then do;
2147308   +   Education2n_Cycle = .;
MPRINT(EM_DIAGRAM):   Education2n_Cycle = .;
2147309   +   EducationBasic = .;
MPRINT(EM_DIAGRAM):   EducationBasic = .;
2147310   +   EducationGraduation = .;
MPRINT(EM_DIAGRAM):   EducationGraduation = .;
2147311   +   EducationMaster = .;
MPRINT(EM_DIAGRAM):   EducationMaster = .;
2147312   +   substr(_warn_,1,1) = 'M';
MPRINT(EM_DIAGRAM):   substr(_warn_,1,1) = 'M';
2147313   +   _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2147314   +end;
MPRINT(EM_DIAGRAM):   end;
2147315   +else do;
MPRINT(EM_DIAGRAM):   else do;
2147316   +   length _dm10 $ 10; drop _dm10 ;
MPRINT(EM_DIAGRAM):   length _dm10 $ 10;
MPRINT(EM_DIAGRAM):   drop _dm10 ;
2147317   +   _dm10 = put( Education , $10. );
MPRINT(EM_DIAGRAM):   _dm10 = put( Education , $10. );
2147318   +   %DMNORMIP( _dm10 )
MPRINT(DMNORMIP):   call dmnorm(_dm10,
MPRINT(DMNORLEN):  32
MPRINT(DMNORMIP):  );
2147319   +   if _dm10 = 'GRADUATION'  then do;
MPRINT(EM_DIAGRAM):   if _dm10 = 'GRADUATION' then do;
2147320   +      EducationGraduation = 1;
MPRINT(EM_DIAGRAM):   EducationGraduation = 1;
2147321   +   end;
MPRINT(EM_DIAGRAM):   end;
2147322   +   else if _dm10 = 'PHD'  then do;
MPRINT(EM_DIAGRAM):   else if _dm10 = 'PHD' then do;
2147323   +      Education2n_Cycle = -1;
MPRINT(EM_DIAGRAM):   Education2n_Cycle = -1;
2147324   +      EducationBasic = -1;
MPRINT(EM_DIAGRAM):   EducationBasic = -1;
2147325   +      EducationGraduation = -1;
MPRINT(EM_DIAGRAM):   EducationGraduation = -1;
2147326   +      EducationMaster = -1;
MPRINT(EM_DIAGRAM):   EducationMaster = -1;
2147327   +   end;
MPRINT(EM_DIAGRAM):   end;
2147328   +   else if _dm10 = 'MASTER'  then do;
MPRINT(EM_DIAGRAM):   else if _dm10 = 'MASTER' then do;
2147329   +      EducationMaster = 1;
MPRINT(EM_DIAGRAM):   EducationMaster = 1;
2147330   +   end;
MPRINT(EM_DIAGRAM):   end;
2147331   +   else if _dm10 = '2N CYCLE'  then do;
MPRINT(EM_DIAGRAM):   else if _dm10 = '2N CYCLE' then do;
2147332   +      Education2n_Cycle = 1;
MPRINT(EM_DIAGRAM):   Education2n_Cycle = 1;
2147333   +   end;
MPRINT(EM_DIAGRAM):   end;
2147334   +   else if _dm10 = 'BASIC'  then do;
MPRINT(EM_DIAGRAM):   else if _dm10 = 'BASIC' then do;
2147335   +      EducationBasic = 1;
MPRINT(EM_DIAGRAM):   EducationBasic = 1;
2147336   +   end;
MPRINT(EM_DIAGRAM):   end;
2147337   +   else do;
MPRINT(EM_DIAGRAM):   else do;
2147338   +      Education2n_Cycle = .;
MPRINT(EM_DIAGRAM):   Education2n_Cycle = .;
2147339   +      EducationBasic = .;
MPRINT(EM_DIAGRAM):   EducationBasic = .;
2147340   +      EducationGraduation = .;
MPRINT(EM_DIAGRAM):   EducationGraduation = .;
2147341   +      EducationMaster = .;
MPRINT(EM_DIAGRAM):   EducationMaster = .;
2147342   +      substr(_warn_,2,1) = 'U';
MPRINT(EM_DIAGRAM):   substr(_warn_,2,1) = 'U';
2147343   +      _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2147344   +   end;
MPRINT(EM_DIAGRAM):   end;
2147345   +end;
MPRINT(EM_DIAGRAM):   end;
2147346   +
2147347   +*** Generate dummy variables for Marital_Status ;
MPRINT(EM_DIAGRAM):   *** Generate dummy variables for Marital_Status ;
2147348   +drop Marital_StatusDivorced Marital_StatusMarried Marital_StatusSingle
2147349   +        Marital_StatusTogether ;
MPRINT(EM_DIAGRAM):   drop Marital_StatusDivorced Marital_StatusMarried Marital_StatusSingle 
Marital_StatusTogether ;
2147350   +*** encoding is sparse, initialize to zero;
MPRINT(EM_DIAGRAM):   *** encoding is sparse, initialize to zero;
2147351   +Marital_StatusDivorced = 0;
MPRINT(EM_DIAGRAM):   Marital_StatusDivorced = 0;
2147352   +Marital_StatusMarried = 0;
MPRINT(EM_DIAGRAM):   Marital_StatusMarried = 0;
2147353   +Marital_StatusSingle = 0;
MPRINT(EM_DIAGRAM):   Marital_StatusSingle = 0;
2147354   +Marital_StatusTogether = 0;
MPRINT(EM_DIAGRAM):   Marital_StatusTogether = 0;
2147355   +if missing( Marital_Status ) then do;
MPRINT(EM_DIAGRAM):   if missing( Marital_Status ) then do;
2147356   +   Marital_StatusDivorced = .;
MPRINT(EM_DIAGRAM):   Marital_StatusDivorced = .;
2147357   +   Marital_StatusMarried = .;
MPRINT(EM_DIAGRAM):   Marital_StatusMarried = .;
2147358   +   Marital_StatusSingle = .;
MPRINT(EM_DIAGRAM):   Marital_StatusSingle = .;
2147359   +   Marital_StatusTogether = .;
MPRINT(EM_DIAGRAM):   Marital_StatusTogether = .;
2147360   +   substr(_warn_,1,1) = 'M';
MPRINT(EM_DIAGRAM):   substr(_warn_,1,1) = 'M';
2147361   +   _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2147362   +end;
MPRINT(EM_DIAGRAM):   end;
2147363   +else do;
MPRINT(EM_DIAGRAM):   else do;
2147364   +   length _dm8 $ 8; drop _dm8 ;
MPRINT(EM_DIAGRAM):   length _dm8 $ 8;
MPRINT(EM_DIAGRAM):   drop _dm8 ;
2147365   +   _dm8 = put( Marital_Status , $8. );
MPRINT(EM_DIAGRAM):   _dm8 = put( Marital_Status , $8. );
2147366   +   %DMNORMIP( _dm8 )
MPRINT(DMNORMIP):   call dmnorm(_dm8,
MPRINT(DMNORLEN):  32
MPRINT(DMNORMIP):  );
2147367   +   _dm_find = 0; drop _dm_find;
MPRINT(EM_DIAGRAM):   _dm_find = 0;
MPRINT(EM_DIAGRAM):   drop _dm_find;
2147368   +   if _dm8 <= 'SINGLE'  then do;
MPRINT(EM_DIAGRAM):   if _dm8 <= 'SINGLE' then do;
2147369   +      if _dm8 <= 'MARRIED'  then do;
MPRINT(EM_DIAGRAM):   if _dm8 <= 'MARRIED' then do;
2147370   +         if _dm8 = 'DIVORCED'  then do;
MPRINT(EM_DIAGRAM):   if _dm8 = 'DIVORCED' then do;
2147371   +            Marital_StatusDivorced = 1;
MPRINT(EM_DIAGRAM):   Marital_StatusDivorced = 1;
2147372   +            _dm_find = 1;
MPRINT(EM_DIAGRAM):   _dm_find = 1;
2147373   +         end;
MPRINT(EM_DIAGRAM):   end;
2147374   +         else do;
MPRINT(EM_DIAGRAM):   else do;
2147375   +            if _dm8 = 'MARRIED'  then do;
MPRINT(EM_DIAGRAM):   if _dm8 = 'MARRIED' then do;
2147376   +               Marital_StatusMarried = 1;
MPRINT(EM_DIAGRAM):   Marital_StatusMarried = 1;
2147377   +               _dm_find = 1;
MPRINT(EM_DIAGRAM):   _dm_find = 1;
2147378   +            end;
MPRINT(EM_DIAGRAM):   end;
2147379   +         end;
MPRINT(EM_DIAGRAM):   end;
2147380   +      end;
MPRINT(EM_DIAGRAM):   end;
2147381   +      else do;
MPRINT(EM_DIAGRAM):   else do;
2147382   +         if _dm8 = 'SINGLE'  then do;
MPRINT(EM_DIAGRAM):   if _dm8 = 'SINGLE' then do;
2147383   +            Marital_StatusSingle = 1;
MPRINT(EM_DIAGRAM):   Marital_StatusSingle = 1;
2147384   +            _dm_find = 1;
MPRINT(EM_DIAGRAM):   _dm_find = 1;
2147385   +         end;
MPRINT(EM_DIAGRAM):   end;
2147386   +      end;
MPRINT(EM_DIAGRAM):   end;
2147387   +   end;
MPRINT(EM_DIAGRAM):   end;
2147388   +   else do;
MPRINT(EM_DIAGRAM):   else do;
2147389   +      if _dm8 = 'TOGETHER'  then do;
MPRINT(EM_DIAGRAM):   if _dm8 = 'TOGETHER' then do;
2147390   +         Marital_StatusTogether = 1;
MPRINT(EM_DIAGRAM):   Marital_StatusTogether = 1;
2147391   +         _dm_find = 1;
MPRINT(EM_DIAGRAM):   _dm_find = 1;
2147392   +      end;
MPRINT(EM_DIAGRAM):   end;
2147393   +      else do;
MPRINT(EM_DIAGRAM):   else do;
2147394   +         if _dm8 = 'WIDOW'  then do;
MPRINT(EM_DIAGRAM):   if _dm8 = 'WIDOW' then do;
2147395   +            Marital_StatusDivorced = -1;
MPRINT(EM_DIAGRAM):   Marital_StatusDivorced = -1;
2147396   +            Marital_StatusMarried = -1;
MPRINT(EM_DIAGRAM):   Marital_StatusMarried = -1;
2147397   +            Marital_StatusSingle = -1;
MPRINT(EM_DIAGRAM):   Marital_StatusSingle = -1;
2147398   +            Marital_StatusTogether = -1;
MPRINT(EM_DIAGRAM):   Marital_StatusTogether = -1;
2147399   +            _dm_find = 1;
MPRINT(EM_DIAGRAM):   _dm_find = 1;
2147400   +         end;
MPRINT(EM_DIAGRAM):   end;
2147401   +      end;
MPRINT(EM_DIAGRAM):   end;
2147402   +   end;
MPRINT(EM_DIAGRAM):   end;
2147403   +   if not _dm_find then do;
MPRINT(EM_DIAGRAM):   if not _dm_find then do;
2147404   +      Marital_StatusDivorced = .;
MPRINT(EM_DIAGRAM):   Marital_StatusDivorced = .;
2147405   +      Marital_StatusMarried = .;
MPRINT(EM_DIAGRAM):   Marital_StatusMarried = .;
2147406   +      Marital_StatusSingle = .;
MPRINT(EM_DIAGRAM):   Marital_StatusSingle = .;
2147407   +      Marital_StatusTogether = .;
MPRINT(EM_DIAGRAM):   Marital_StatusTogether = .;
2147408   +      substr(_warn_,2,1) = 'U';
MPRINT(EM_DIAGRAM):   substr(_warn_,2,1) = 'U';
2147409   +      _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2147410   +   end;
MPRINT(EM_DIAGRAM):   end;
2147411   +end;
MPRINT(EM_DIAGRAM):   end;
2147412   +
2147413   +*** *************************;
MPRINT(EM_DIAGRAM):   *** *************************;
2147414   +*** Checking missing input Interval
2147415   +*** *************************;
MPRINT(EM_DIAGRAM):   *** Checking missing input Interval *** *************************;
2147416   +
2147417   +IF NMISS(
2147418   +   AcceptedCmpTotal ,
2147419   +   Age ,
2147420   +   Frq ,
2147421   +   Income ,
2147422   +   Kidhome ,
2147423   +   MntFishProducts ,
2147424   +   MntFruits ,
2147425   +   MntGoldProds ,
2147426   +   MntSweetProducts ,
2147427   +   MonthsAsCustomer ,
2147428   +   NumDealsPurchases ,
2147429   +   NumWebVisitsMonth ,
2147430   +   RFMstat ,
2147431   +   RMntFrq ,
2147432   +   Recency ,
2147433   +   Teenhome   ) THEN DO;
MPRINT(EM_DIAGRAM):   IF NMISS( AcceptedCmpTotal , Age , Frq , Income , Kidhome , 
MntFishProducts , MntFruits , MntGoldProds , MntSweetProducts , MonthsAsCustomer , 
NumDealsPurchases , NumWebVisitsMonth , RFMstat , RMntFrq , Recency , Teenhome ) THEN DO;
2147434   +   SUBSTR(_WARN_, 1, 1) = 'M';
MPRINT(EM_DIAGRAM):   SUBSTR(_WARN_, 1, 1) = 'M';
2147435   +
2147436   +   _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2147437   +END;
MPRINT(EM_DIAGRAM):   END;
2147438   +*** *************************;
MPRINT(EM_DIAGRAM):   *** *************************;
2147439   +*** Writing the Node intvl ;
MPRINT(EM_DIAGRAM):   *** Writing the Node intvl ;
2147440   +*** *************************;
MPRINT(EM_DIAGRAM):   *** *************************;
2147441   +IF _DM_BAD EQ 0 THEN DO;
MPRINT(EM_DIAGRAM):   IF _DM_BAD EQ 0 THEN DO;
2147442   +   S_AcceptedCmpTotal  =    -0.46762909508827 +      1.4961610131261 *
2147443   +        AcceptedCmpTotal ;
MPRINT(EM_DIAGRAM):   S_AcceptedCmpTotal = -0.46762909508827 + 1.4961610131261 * 
AcceptedCmpTotal ;
2147444   +   S_Age  =    -3.91319138389466 +     0.08289609202857 * Age ;
MPRINT(EM_DIAGRAM):   S_Age = -3.91319138389466 + 0.08289609202857 * Age ;
2147445   +   S_Frq  =     -1.7674482809159 +     0.13966853800993 * Frq ;
MPRINT(EM_DIAGRAM):   S_Frq = -1.7674482809159 + 0.13966853800993 * Frq ;
2147446   +   S_Income  =    -2.48883438787018 +     0.00004789669836 * Income ;
MPRINT(EM_DIAGRAM):   S_Income = -2.48883438787018 + 0.00004789669836 * Income ;
2147447   +   S_Kidhome  =    -0.81505958668041 +     1.87132636245581 * Kidhome ;
MPRINT(EM_DIAGRAM):   S_Kidhome = -0.81505958668041 + 1.87132636245581 * Kidhome ;
2147448   +   S_MntFishProducts  =    -0.69884925989448 +     0.01914942799914 *
2147449   +        MntFishProducts ;
MPRINT(EM_DIAGRAM):   S_MntFishProducts = -0.69884925989448 + 0.01914942799914 * 
MntFishProducts ;
2147450   +   S_MntFruits  =    -0.68347542544545 +     0.02517057319714 * MntFruits ;
MPRINT(EM_DIAGRAM):   S_MntFruits = -0.68347542544545 + 0.02517057319714 * MntFruits ;
2147451   +   S_MntGoldProds  =     -0.8611213764608 +     0.01954474499711 *
2147452   +        MntGoldProds ;
MPRINT(EM_DIAGRAM):   S_MntGoldProds = -0.8611213764608 + 0.01954474499711 * MntGoldProds ;
2147453   +   S_MntSweetProducts  =    -0.69020047720885 +     0.02548703406327 *
2147454   +        MntSweetProducts ;
MPRINT(EM_DIAGRAM):   S_MntSweetProducts = -0.69020047720885 + 0.02548703406327 * 
MntSweetProducts ;
2147455   +   S_MonthsAsCustomer  =    -4.93133031507839 +     0.05900664899872 *
2147456   +        MonthsAsCustomer ;
MPRINT(EM_DIAGRAM):   S_MonthsAsCustomer = -4.93133031507839 + 0.05900664899872 * 
MonthsAsCustomer ;
2147457   +   S_NumDealsPurchases  =    -1.34788949552081 +     0.59766336614987 *
2147458   +        NumDealsPurchases ;
MPRINT(EM_DIAGRAM):   S_NumDealsPurchases = -1.34788949552081 + 0.59766336614987 * 
NumDealsPurchases ;
2147459   +   S_NumWebVisitsMonth  =    -2.24769875596018 +     0.42876953368015 *
2147460   +        NumWebVisitsMonth ;
MPRINT(EM_DIAGRAM):   S_NumWebVisitsMonth = -2.24769875596018 + 0.42876953368015 * 
NumWebVisitsMonth ;
2147461   +   S_RFMstat  =    -0.33944380186973 +     0.00063877635032 * RFMstat ;
MPRINT(EM_DIAGRAM):   S_RFMstat = -0.33944380186973 + 0.00063877635032 * RFMstat ;
2147462   +   S_RMntFrq  =    -1.25743573075922 +     0.03326204244626 * RMntFrq ;
MPRINT(EM_DIAGRAM):   S_RMntFrq = -1.25743573075922 + 0.03326204244626 * RMntFrq ;
2147463   +   S_Recency  =    -1.69222845719633 +     0.03469514083585 * Recency ;
MPRINT(EM_DIAGRAM):   S_Recency = -1.69222845719633 + 0.03469514083585 * Recency ;
2147464   +   S_Teenhome  =    -0.88382230606631 +     1.81661831567223 * Teenhome ;
MPRINT(EM_DIAGRAM):   S_Teenhome = -0.88382230606631 + 1.81661831567223 * Teenhome ;
2147465   +END;
MPRINT(EM_DIAGRAM):   END;
2147466   +ELSE DO;
MPRINT(EM_DIAGRAM):   ELSE DO;
2147467   +   IF MISSING( AcceptedCmpTotal ) THEN S_AcceptedCmpTotal  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( AcceptedCmpTotal ) THEN S_AcceptedCmpTotal = . ;
2147468   +   ELSE S_AcceptedCmpTotal  =    -0.46762909508827 +      1.4961610131261 *
2147469   +        AcceptedCmpTotal ;
MPRINT(EM_DIAGRAM):   ELSE S_AcceptedCmpTotal = -0.46762909508827 + 1.4961610131261 * 
AcceptedCmpTotal ;
2147470   +   IF MISSING( Age ) THEN S_Age  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( Age ) THEN S_Age = . ;
2147471   +   ELSE S_Age  =    -3.91319138389466 +     0.08289609202857 * Age ;
MPRINT(EM_DIAGRAM):   ELSE S_Age = -3.91319138389466 + 0.08289609202857 * Age ;
2147472   +   IF MISSING( Frq ) THEN S_Frq  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( Frq ) THEN S_Frq = . ;
2147473   +   ELSE S_Frq  =     -1.7674482809159 +     0.13966853800993 * Frq ;
MPRINT(EM_DIAGRAM):   ELSE S_Frq = -1.7674482809159 + 0.13966853800993 * Frq ;
2147474   +   IF MISSING( Income ) THEN S_Income  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( Income ) THEN S_Income = . ;
2147475   +   ELSE S_Income  =    -2.48883438787018 +     0.00004789669836 * Income ;
MPRINT(EM_DIAGRAM):   ELSE S_Income = -2.48883438787018 + 0.00004789669836 * Income ;
2147476   +   IF MISSING( Kidhome ) THEN S_Kidhome  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( Kidhome ) THEN S_Kidhome = . ;
2147477   +   ELSE S_Kidhome  =    -0.81505958668041 +     1.87132636245581 * Kidhome ;
MPRINT(EM_DIAGRAM):   ELSE S_Kidhome = -0.81505958668041 + 1.87132636245581 * Kidhome ;
2147478   +   IF MISSING( MntFishProducts ) THEN S_MntFishProducts  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( MntFishProducts ) THEN S_MntFishProducts = . ;
2147479   +   ELSE S_MntFishProducts  =    -0.69884925989448 +     0.01914942799914 *
2147480   +        MntFishProducts ;
MPRINT(EM_DIAGRAM):   ELSE S_MntFishProducts = -0.69884925989448 + 0.01914942799914 * 
MntFishProducts ;
2147481   +   IF MISSING( MntFruits ) THEN S_MntFruits  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( MntFruits ) THEN S_MntFruits = . ;
2147482   +   ELSE S_MntFruits  =    -0.68347542544545 +     0.02517057319714 * MntFruits
2147483   +         ;
MPRINT(EM_DIAGRAM):   ELSE S_MntFruits = -0.68347542544545 + 0.02517057319714 * MntFruits ;
2147484   +   IF MISSING( MntGoldProds ) THEN S_MntGoldProds  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( MntGoldProds ) THEN S_MntGoldProds = . ;
2147485   +   ELSE S_MntGoldProds  =     -0.8611213764608 +     0.01954474499711 *
2147486   +        MntGoldProds ;
MPRINT(EM_DIAGRAM):   ELSE S_MntGoldProds = -0.8611213764608 + 0.01954474499711 * MntGoldProds 
;
2147487   +   IF MISSING( MntSweetProducts ) THEN S_MntSweetProducts  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( MntSweetProducts ) THEN S_MntSweetProducts = . ;
2147488   +   ELSE S_MntSweetProducts  =    -0.69020047720885 +     0.02548703406327 *
2147489   +        MntSweetProducts ;
MPRINT(EM_DIAGRAM):   ELSE S_MntSweetProducts = -0.69020047720885 + 0.02548703406327 * 
MntSweetProducts ;
2147490   +   IF MISSING( MonthsAsCustomer ) THEN S_MonthsAsCustomer  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( MonthsAsCustomer ) THEN S_MonthsAsCustomer = . ;
2147491   +   ELSE S_MonthsAsCustomer  =    -4.93133031507839 +     0.05900664899872 *
2147492   +        MonthsAsCustomer ;
MPRINT(EM_DIAGRAM):   ELSE S_MonthsAsCustomer = -4.93133031507839 + 0.05900664899872 * 
MonthsAsCustomer ;
2147493   +   IF MISSING( NumDealsPurchases ) THEN S_NumDealsPurchases  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( NumDealsPurchases ) THEN S_NumDealsPurchases = . ;
2147494   +   ELSE S_NumDealsPurchases  =    -1.34788949552081 +     0.59766336614987 *
2147495   +        NumDealsPurchases ;
MPRINT(EM_DIAGRAM):   ELSE S_NumDealsPurchases = -1.34788949552081 + 0.59766336614987 * 
NumDealsPurchases ;
2147496   +   IF MISSING( NumWebVisitsMonth ) THEN S_NumWebVisitsMonth  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( NumWebVisitsMonth ) THEN S_NumWebVisitsMonth = . ;
2147497   +   ELSE S_NumWebVisitsMonth  =    -2.24769875596018 +     0.42876953368015 *
2147498   +        NumWebVisitsMonth ;
MPRINT(EM_DIAGRAM):   ELSE S_NumWebVisitsMonth = -2.24769875596018 + 0.42876953368015 * 
NumWebVisitsMonth ;
2147499   +   IF MISSING( RFMstat ) THEN S_RFMstat  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( RFMstat ) THEN S_RFMstat = . ;
2147500   +   ELSE S_RFMstat  =    -0.33944380186973 +     0.00063877635032 * RFMstat ;
MPRINT(EM_DIAGRAM):   ELSE S_RFMstat = -0.33944380186973 + 0.00063877635032 * RFMstat ;
2147501   +   IF MISSING( RMntFrq ) THEN S_RMntFrq  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( RMntFrq ) THEN S_RMntFrq = . ;
2147502   +   ELSE S_RMntFrq  =    -1.25743573075922 +     0.03326204244626 * RMntFrq ;
MPRINT(EM_DIAGRAM):   ELSE S_RMntFrq = -1.25743573075922 + 0.03326204244626 * RMntFrq ;
2147503   +   IF MISSING( Recency ) THEN S_Recency  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( Recency ) THEN S_Recency = . ;
2147504   +   ELSE S_Recency  =    -1.69222845719633 +     0.03469514083585 * Recency ;
MPRINT(EM_DIAGRAM):   ELSE S_Recency = -1.69222845719633 + 0.03469514083585 * Recency ;
2147505   +   IF MISSING( Teenhome ) THEN S_Teenhome  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( Teenhome ) THEN S_Teenhome = . ;
2147506   +   ELSE S_Teenhome  =    -0.88382230606631 +     1.81661831567223 * Teenhome ;
MPRINT(EM_DIAGRAM):   ELSE S_Teenhome = -0.88382230606631 + 1.81661831567223 * Teenhome ;
2147507   +END;
MPRINT(EM_DIAGRAM):   END;
2147508   +*** *************************;
MPRINT(EM_DIAGRAM):   *** *************************;
2147509   +*** Writing the Node bin ;
MPRINT(EM_DIAGRAM):   *** Writing the Node bin ;
2147510   +*** *************************;
MPRINT(EM_DIAGRAM):   *** *************************;
2147511   +*** *************************;
MPRINT(EM_DIAGRAM):   *** *************************;
2147512   +*** Writing the Node nom ;
MPRINT(EM_DIAGRAM):   *** Writing the Node nom ;
2147513   +*** *************************;
MPRINT(EM_DIAGRAM):   *** *************************;
2147514   +*** *************************;
MPRINT(EM_DIAGRAM):   *** *************************;
2147515   +*** Writing the Node H1 ;
MPRINT(EM_DIAGRAM):   *** Writing the Node H1 ;
2147516   +*** *************************;
MPRINT(EM_DIAGRAM):   *** *************************;
2147517   +IF _DM_BAD EQ 0 THEN DO;
MPRINT(EM_DIAGRAM):   IF _DM_BAD EQ 0 THEN DO;
2147518   +   H11  =     0.02151728870806 * S_AcceptedCmpTotal  +     0.05254894554809 *
2147519   +        S_Age  +    -0.16973386556377 * S_Frq  +    -0.82728779491682 *
2147520   +        S_Income  +     0.39903592539043 * S_Kidhome
2147521   +          +    -0.04460924056526 * S_MntFishProducts
2147522   +          +     0.02733683231833 * S_MntFruits  +     0.05011896594494 *
2147523   +        S_MntGoldProds  +     0.19517504324129 * S_MntSweetProducts
2147524   +          +    -0.13600486461772 * S_MonthsAsCustomer
2147525   +          +    -0.00505319277464 * S_NumDealsPurchases
2147526   +          +    -0.02131770482252 * S_NumWebVisitsMonth
2147527   +          +     0.00524769837231 * S_RFMstat  +    -0.21746675829719 *
2147528   +        S_RMntFrq  +     0.54271297675327 * S_Recency
2147529   +          +      0.5568869219643 * S_Teenhome ;
MPRINT(EM_DIAGRAM):   H11 = 0.02151728870806 * S_AcceptedCmpTotal + 0.05254894554809 * S_Age + 
-0.16973386556377 * S_Frq + -0.82728779491682 * S_Income + 0.39903592539043 * S_Kidhome + 
-0.04460924056526 * S_MntFishProducts + 0.02733683231833 * S_MntFruits + 0.05011896594494 * 
S_MntGoldProds + 0.19517504324129 * S_MntSweetProducts + -0.13600486461772 * 
S_MonthsAsCustomer + -0.00505319277464 * S_NumDealsPurchases + -0.02131770482252 * 
S_NumWebVisitsMonth + 0.00524769837231 * S_RFMstat + -0.21746675829719 * S_RMntFrq + 
0.54271297675327 * S_Recency + 0.5568869219643 * S_Teenhome ;
2147530   +   H12  =    -0.31677356986514 * S_AcceptedCmpTotal  +    -0.13636654958991 *
2147531   +        S_Age  +    -0.12127604451874 * S_Frq  +    -0.03912727186842 *
2147532   +        S_Income  +     0.31541271020596 * S_Kidhome
2147533   +          +    -0.06070575535455 * S_MntFishProducts
2147534   +          +     0.04717351357982 * S_MntFruits  +     0.20035627551608 *
2147535   +        S_MntGoldProds  +     0.34661630810838 * S_MntSweetProducts
2147536   +          +    -0.49660266591157 * S_MonthsAsCustomer
2147537   +          +     0.31834511850835 * S_NumDealsPurchases
2147538   +          +     0.24781307795044 * S_NumWebVisitsMonth
2147539   +          +      0.2962065441422 * S_RFMstat  +    -0.00931536368325 *
2147540   +        S_RMntFrq  +     -0.4887066152184 * S_Recency
2147541   +          +    -0.31733549884932 * S_Teenhome ;
The SAS System

MPRINT(EM_DIAGRAM):   H12 = -0.31677356986514 * S_AcceptedCmpTotal + -0.13636654958991 * S_Age 
+ -0.12127604451874 * S_Frq + -0.03912727186842 * S_Income + 0.31541271020596 * S_Kidhome + 
-0.06070575535455 * S_MntFishProducts + 0.04717351357982 * S_MntFruits + 0.20035627551608 * 
S_MntGoldProds + 0.34661630810838 * S_MntSweetProducts + -0.49660266591157 * 
S_MonthsAsCustomer + 0.31834511850835 * S_NumDealsPurchases + 0.24781307795044 * 
S_NumWebVisitsMonth + 0.2962065441422 * S_RFMstat + -0.00931536368325 * S_RMntFrq + 
-0.4887066152184 * S_Recency + -0.31733549884932 * S_Teenhome ;
2147542   +   H13  =    -0.67923945541429 * S_AcceptedCmpTotal  +     -0.1600759141845 *
2147543   +        S_Age  +    -0.32206936571155 * S_Frq  +    -0.42231968918367 *
2147544   +        S_Income  +    -0.48980326576867 * S_Kidhome
2147545   +          +     0.16754214531813 * S_MntFishProducts
2147546   +          +     0.07042633274724 * S_MntFruits  +    -0.54860029741519 *
2147547   +        S_MntGoldProds  +    -0.02870819733746 * S_MntSweetProducts
2147548   +          +    -0.09017520473136 * S_MonthsAsCustomer
2147549   +          +    -0.45842921605242 * S_NumDealsPurchases
2147550   +          +    -0.51952177798857 * S_NumWebVisitsMonth
2147551   +          +    -0.31466002172051 * S_RFMstat  +    -0.48848348436254 *
2147552   +        S_RMntFrq  +     0.79178959337864 * S_Recency
2147553   +          +    -0.01573946454754 * S_Teenhome ;
MPRINT(EM_DIAGRAM):   H13 = -0.67923945541429 * S_AcceptedCmpTotal + -0.1600759141845 * S_Age 
+ -0.32206936571155 * S_Frq + -0.42231968918367 * S_Income + -0.48980326576867 * S_Kidhome + 
0.16754214531813 * S_MntFishProducts + 0.07042633274724 * S_MntFruits + -0.54860029741519 * 
S_MntGoldProds + -0.02870819733746 * S_MntSweetProducts + -0.09017520473136 * 
S_MonthsAsCustomer + -0.45842921605242 * S_NumDealsPurchases + -0.51952177798857 * 
S_NumWebVisitsMonth + -0.31466002172051 * S_RFMstat + -0.48848348436254 * S_RMntFrq + 
0.79178959337864 * S_Recency + -0.01573946454754 * S_Teenhome ;
2147554   +   H14  =     0.38562838138579 * S_AcceptedCmpTotal  +     0.07260700845897 *
2147555   +        S_Age  +     0.06970375186829 * S_Frq  +     0.14363271673316 *
2147556   +        S_Income  +    -0.63270966560605 * S_Kidhome
2147557   +          +    -0.08814987977037 * S_MntFishProducts
2147558   +          +    -0.16742996280424 * S_MntFruits  +     -0.0048241161297 *
2147559   +        S_MntGoldProds  +    -0.29868881598251 * S_MntSweetProducts
2147560   +          +    -0.04826032378728 * S_MonthsAsCustomer
2147561   +          +     0.01599853180114 * S_NumDealsPurchases
2147562   +          +     0.60119173038714 * S_NumWebVisitsMonth
2147563   +          +     0.24192512657122 * S_RFMstat  +    -0.16600268948701 *
2147564   +        S_RMntFrq  +    -0.74024886149073 * S_Recency
2147565   +          +    -0.33502330424595 * S_Teenhome ;
MPRINT(EM_DIAGRAM):   H14 = 0.38562838138579 * S_AcceptedCmpTotal + 0.07260700845897 * S_Age + 
0.06970375186829 * S_Frq + 0.14363271673316 * S_Income + -0.63270966560605 * S_Kidhome + 
-0.08814987977037 * S_MntFishProducts + -0.16742996280424 * S_MntFruits + -0.0048241161297 * 
S_MntGoldProds + -0.29868881598251 * S_MntSweetProducts + -0.04826032378728 * 
S_MonthsAsCustomer + 0.01599853180114 * S_NumDealsPurchases + 0.60119173038714 * 
S_NumWebVisitsMonth + 0.24192512657122 * S_RFMstat + -0.16600268948701 * S_RMntFrq + 
-0.74024886149073 * S_Recency + -0.33502330424595 * S_Teenhome ;
2147566   +   H15  =    -0.34311356733661 * S_AcceptedCmpTotal  +     0.16235616443826 *
2147567   +        S_Age  +     0.94382517748399 * S_Frq  +      0.2748531338861 *
2147568   +        S_Income  +    -0.02219671454546 * S_Kidhome
2147569   +          +    -0.15542333204257 * S_MntFishProducts
2147570   +          +     0.05860799445207 * S_MntFruits  +      0.0164088007412 *
2147571   +        S_MntGoldProds  +    -0.12449090470408 * S_MntSweetProducts
2147572   +          +     0.03737130526687 * S_MonthsAsCustomer
2147573   +          +    -0.55633092697691 * S_NumDealsPurchases
2147574   +          +     -0.5935978122359 * S_NumWebVisitsMonth
2147575   +          +    -0.06684824395733 * S_RFMstat  +    -0.17365329607203 *
2147576   +        S_RMntFrq  +      0.6764486616945 * S_Recency
2147577   +          +     -0.1892667221599 * S_Teenhome ;
MPRINT(EM_DIAGRAM):   H15 = -0.34311356733661 * S_AcceptedCmpTotal + 0.16235616443826 * S_Age 
+ 0.94382517748399 * S_Frq + 0.2748531338861 * S_Income + -0.02219671454546 * S_Kidhome + 
-0.15542333204257 * S_MntFishProducts + 0.05860799445207 * S_MntFruits + 0.0164088007412 * 
S_MntGoldProds + -0.12449090470408 * S_MntSweetProducts + 0.03737130526687 * 
S_MonthsAsCustomer + -0.55633092697691 * S_NumDealsPurchases + -0.5935978122359 * 
S_NumWebVisitsMonth + -0.06684824395733 * S_RFMstat + -0.17365329607203 * S_RMntFrq + 
0.6764486616945 * S_Recency + -0.1892667221599 * S_Teenhome ;
2147578   +   H11  = H11  +     0.32339671285779 * AcceptedCmp10
2147579   +          +     0.40704039360735 * AcceptedCmp20  +     0.30956684671901 *
2147580   +        AcceptedCmp30  +     0.31438728866768 * AcceptedCmp40
2147581   +          +     0.23235496545772 * AcceptedCmp50  +     0.16248155382451 *
2147582   +        Complain0  +    -0.30696195142475 * HigherEducationBinary0 ;
MPRINT(EM_DIAGRAM):   H11 = H11 + 0.32339671285779 * AcceptedCmp10 + 0.40704039360735 * 
AcceptedCmp20 + 0.30956684671901 * AcceptedCmp30 + 0.31438728866768 * AcceptedCmp40 + 
0.23235496545772 * AcceptedCmp50 + 0.16248155382451 * Complain0 + -0.30696195142475 * 
HigherEducationBinary0 ;
2147583   +   H12  = H12  +     0.15468195814719 * AcceptedCmp10
2147584   +          +    -0.01658463628305 * AcceptedCmp20  +    -0.18284432439766 *
2147585   +        AcceptedCmp30  +     0.10412487730599 * AcceptedCmp40
2147586   +          +      0.2784347604012 * AcceptedCmp50  +     0.21341015945758 *
2147587   +        Complain0  +     0.26769837741874 * HigherEducationBinary0 ;
MPRINT(EM_DIAGRAM):   H12 = H12 + 0.15468195814719 * AcceptedCmp10 + -0.01658463628305 * 
AcceptedCmp20 + -0.18284432439766 * AcceptedCmp30 + 0.10412487730599 * AcceptedCmp40 + 
0.2784347604012 * AcceptedCmp50 + 0.21341015945758 * Complain0 + 0.26769837741874 * 
HigherEducationBinary0 ;
2147588   +   H13  = H13  +    -0.11177158752481 * AcceptedCmp10
2147589   +          +    -0.13739486515218 * AcceptedCmp20  +     0.15972072685818 *
2147590   +        AcceptedCmp30  +    -0.09073450388158 * AcceptedCmp40
2147591   +          +     0.20479045598357 * AcceptedCmp50  +    -0.28874847014038 *
2147592   +        Complain0  +     0.12082289787754 * HigherEducationBinary0 ;
MPRINT(EM_DIAGRAM):   H13 = H13 + -0.11177158752481 * AcceptedCmp10 + -0.13739486515218 * 
AcceptedCmp20 + 0.15972072685818 * AcceptedCmp30 + -0.09073450388158 * AcceptedCmp40 + 
0.20479045598357 * AcceptedCmp50 + -0.28874847014038 * Complain0 + 0.12082289787754 * 
HigherEducationBinary0 ;
2147593   +   H14  = H14  +     0.22760562650379 * AcceptedCmp10
2147594   +          +    -0.01066432835565 * AcceptedCmp20  +    -0.32053666689899 *
2147595   +        AcceptedCmp30  +     0.01405337529301 * AcceptedCmp40
2147596   +          +     0.00690669937705 * AcceptedCmp50  +     0.18207401895977 *
2147597   +        Complain0  +     0.02728138057211 * HigherEducationBinary0 ;
MPRINT(EM_DIAGRAM):   H14 = H14 + 0.22760562650379 * AcceptedCmp10 + -0.01066432835565 * 
AcceptedCmp20 + -0.32053666689899 * AcceptedCmp30 + 0.01405337529301 * AcceptedCmp40 + 
0.00690669937705 * AcceptedCmp50 + 0.18207401895977 * Complain0 + 0.02728138057211 * 
HigherEducationBinary0 ;
2147598   +   H15  = H15  +     0.53146690040164 * AcceptedCmp10
2147599   +          +     0.02061647343682 * AcceptedCmp20  +     0.47331796914114 *
2147600   +        AcceptedCmp30  +    -0.05515580192077 * AcceptedCmp40
2147601   +          +     0.29161268499344 * AcceptedCmp50  +     0.05844301388229 *
2147602   +        Complain0  +      0.1779848505105 * HigherEducationBinary0 ;
MPRINT(EM_DIAGRAM):   H15 = H15 + 0.53146690040164 * AcceptedCmp10 + 0.02061647343682 * 
AcceptedCmp20 + 0.47331796914114 * AcceptedCmp30 + -0.05515580192077 * AcceptedCmp40 + 
0.29161268499344 * AcceptedCmp50 + 0.05844301388229 * Complain0 + 0.1779848505105 * 
HigherEducationBinary0 ;
2147603   +   H11  = H11  +     0.03097010145548 * Education2n_Cycle
2147604   +          +    -0.13406554569598 * EducationBasic  +    -0.09871242696608 *
2147605   +        EducationGraduation  +     0.23998958645262 * EducationMaster
2147606   +          +    -0.42082033749096 * Marital_StatusDivorced
2147607   +          +     0.66219400411029 * Marital_StatusMarried
2147608   +          +     -0.5319693170402 * Marital_StatusSingle
2147609   +          +     0.70748197229966 * Marital_StatusTogether ;
MPRINT(EM_DIAGRAM):   H11 = H11 + 0.03097010145548 * Education2n_Cycle + -0.13406554569598 * 
EducationBasic + -0.09871242696608 * EducationGraduation + 0.23998958645262 * EducationMaster 
+ -0.42082033749096 * Marital_StatusDivorced + 0.66219400411029 * Marital_StatusMarried + 
-0.5319693170402 * Marital_StatusSingle + 0.70748197229966 * Marital_StatusTogether ;
2147610   +   H12  = H12  +    -0.18240954892125 * Education2n_Cycle
2147611   +          +      -0.040279707928 * EducationBasic  +     0.26318151864922 *
2147612   +        EducationGraduation  +     0.04495546932118 * EducationMaster
2147613   +          +      -0.322040509013 * Marital_StatusDivorced
2147614   +          +     0.15587841196747 * Marital_StatusMarried
2147615   +          +     0.28814320146342 * Marital_StatusSingle
2147616   +          +    -0.31522150769005 * Marital_StatusTogether ;
MPRINT(EM_DIAGRAM):   H12 = H12 + -0.18240954892125 * Education2n_Cycle + -0.040279707928 * 
EducationBasic + 0.26318151864922 * EducationGraduation + 0.04495546932118 * EducationMaster + 
-0.322040509013 * Marital_StatusDivorced + 0.15587841196747 * Marital_StatusMarried + 
0.28814320146342 * Marital_StatusSingle + -0.31522150769005 * Marital_StatusTogether ;
2147617   +   H13  = H13  +     0.03294796280016 * Education2n_Cycle
2147618   +          +     0.16865870867242 * EducationBasic  +    -0.24783622415669 *
2147619   +        EducationGraduation  +    -0.16728377319058 * EducationMaster
2147620   +          +    -0.06468619863793 * Marital_StatusDivorced
2147621   +          +    -0.01423713588549 * Marital_StatusMarried
2147622   +          +    -0.04729389811247 * Marital_StatusSingle
2147623   +          +    -0.15198305020182 * Marital_StatusTogether ;
MPRINT(EM_DIAGRAM):   H13 = H13 + 0.03294796280016 * Education2n_Cycle + 0.16865870867242 * 
EducationBasic + -0.24783622415669 * EducationGraduation + -0.16728377319058 * EducationMaster 
+ -0.06468619863793 * Marital_StatusDivorced + -0.01423713588549 * Marital_StatusMarried + 
-0.04729389811247 * Marital_StatusSingle + -0.15198305020182 * Marital_StatusTogether ;
2147624   +   H14  = H14  +      0.0429131340472 * Education2n_Cycle
2147625   +          +     0.09798160258855 * EducationBasic  +     0.23808953197663 *
2147626   +        EducationGraduation  +    -0.18027397340106 * EducationMaster
2147627   +          +     0.20711724648422 * Marital_StatusDivorced
2147628   +          +    -0.52428656670194 * Marital_StatusMarried
2147629   +          +     0.50784243935214 * Marital_StatusSingle
2147630   +          +    -0.15093459229255 * Marital_StatusTogether ;
MPRINT(EM_DIAGRAM):   H14 = H14 + 0.0429131340472 * Education2n_Cycle + 0.09798160258855 * 
EducationBasic + 0.23808953197663 * EducationGraduation + -0.18027397340106 * EducationMaster 
+ 0.20711724648422 * Marital_StatusDivorced + -0.52428656670194 * Marital_StatusMarried + 
0.50784243935214 * Marital_StatusSingle + -0.15093459229255 * Marital_StatusTogether ;
2147631   +   H15  = H15  +    -0.07839732345604 * Education2n_Cycle
2147632   +          +     0.23809754868431 * EducationBasic  +     0.00672017411768 *
2147633   +        EducationGraduation  +     0.02815790747137 * EducationMaster
2147634   +          +    -0.13878251101316 * Marital_StatusDivorced
2147635   +          +     -0.1763810748285 * Marital_StatusMarried
2147636   +          +     0.09863670564728 * Marital_StatusSingle
2147637   +          +     0.03752805463412 * Marital_StatusTogether ;
MPRINT(EM_DIAGRAM):   H15 = H15 + -0.07839732345604 * Education2n_Cycle + 0.23809754868431 * 
EducationBasic + 0.00672017411768 * EducationGraduation + 0.02815790747137 * EducationMaster + 
-0.13878251101316 * Marital_StatusDivorced + -0.1763810748285 * Marital_StatusMarried + 
0.09863670564728 * Marital_StatusSingle + 0.03752805463412 * Marital_StatusTogether ;
2147638   +   H11  =     0.45564602198436 + H11 ;
MPRINT(EM_DIAGRAM):   H11 = 0.45564602198436 + H11 ;
2147639   +   H12  =    -0.95855185996396 + H12 ;
MPRINT(EM_DIAGRAM):   H12 = -0.95855185996396 + H12 ;
2147640   +   H13  =    -0.44150964212393 + H13 ;
MPRINT(EM_DIAGRAM):   H13 = -0.44150964212393 + H13 ;
2147641   +   H14  =     0.53989079832138 + H14 ;
MPRINT(EM_DIAGRAM):   H14 = 0.53989079832138 + H14 ;
2147642   +   H15  =     0.82844095622763 + H15 ;
MPRINT(EM_DIAGRAM):   H15 = 0.82844095622763 + H15 ;
2147643   +   H11  = TANH(H11 );
MPRINT(EM_DIAGRAM):   H11 = TANH(H11 );
2147644   +   H12  = TANH(H12 );
MPRINT(EM_DIAGRAM):   H12 = TANH(H12 );
2147645   +   H13  = TANH(H13 );
MPRINT(EM_DIAGRAM):   H13 = TANH(H13 );
2147646   +   H14  = TANH(H14 );
MPRINT(EM_DIAGRAM):   H14 = TANH(H14 );
2147647   +   H15  = TANH(H15 );
MPRINT(EM_DIAGRAM):   H15 = TANH(H15 );
2147648   +END;
MPRINT(EM_DIAGRAM):   END;
2147649   +ELSE DO;
MPRINT(EM_DIAGRAM):   ELSE DO;
2147650   +   H11  = .;
MPRINT(EM_DIAGRAM):   H11 = .;
2147651   +   H12  = .;
MPRINT(EM_DIAGRAM):   H12 = .;
2147652   +   H13  = .;
MPRINT(EM_DIAGRAM):   H13 = .;
2147653   +   H14  = .;
MPRINT(EM_DIAGRAM):   H14 = .;
2147654   +   H15  = .;
MPRINT(EM_DIAGRAM):   H15 = .;
2147655   +END;
MPRINT(EM_DIAGRAM):   END;
2147656   +*** *************************;
MPRINT(EM_DIAGRAM):   *** *************************;
2147657   +*** Writing the Node DepVar ;
MPRINT(EM_DIAGRAM):   *** Writing the Node DepVar ;
2147658   +*** *************************;
MPRINT(EM_DIAGRAM):   *** *************************;
2147659   +IF _DM_BAD EQ 0 THEN DO;
MPRINT(EM_DIAGRAM):   IF _DM_BAD EQ 0 THEN DO;
2147660   +   P_DepVar1  =    -3.08524657689897 * H11  +     0.90135731546766 * H12
2147661   +          +    -2.65297083917138 * H13  +     1.47809334967539 * H14
2147662   +          +    -1.92897922289298 * H15 ;
MPRINT(EM_DIAGRAM):   P_DepVar1 = -3.08524657689897 * H11 + 0.90135731546766 * H12 + 
-2.65297083917138 * H13 + 1.47809334967539 * H14 + -1.92897922289298 * H15 ;
2147663   +   P_DepVar1  =    -1.84374798036079 + P_DepVar1 ;
MPRINT(EM_DIAGRAM):   P_DepVar1 = -1.84374798036079 + P_DepVar1 ;
2147664   +   P_DepVar0  = 0;
MPRINT(EM_DIAGRAM):   P_DepVar0 = 0;
2147665   +   _MAX_ = MAX (P_DepVar1 , P_DepVar0 );
MPRINT(EM_DIAGRAM):   _MAX_ = MAX (P_DepVar1 , P_DepVar0 );
2147666   +   _SUM_ = 0.;
MPRINT(EM_DIAGRAM):   _SUM_ = 0.;
2147667   +   P_DepVar1  = EXP(P_DepVar1  - _MAX_);
MPRINT(EM_DIAGRAM):   P_DepVar1 = EXP(P_DepVar1 - _MAX_);
2147668   +   _SUM_ = _SUM_ + P_DepVar1 ;
MPRINT(EM_DIAGRAM):   _SUM_ = _SUM_ + P_DepVar1 ;
2147669   +   P_DepVar0  = EXP(P_DepVar0  - _MAX_);
MPRINT(EM_DIAGRAM):   P_DepVar0 = EXP(P_DepVar0 - _MAX_);
2147670   +   _SUM_ = _SUM_ + P_DepVar0 ;
MPRINT(EM_DIAGRAM):   _SUM_ = _SUM_ + P_DepVar0 ;
2147671   +   P_DepVar1  = P_DepVar1  / _SUM_;
MPRINT(EM_DIAGRAM):   P_DepVar1 = P_DepVar1 / _SUM_;
2147672   +   P_DepVar0  = P_DepVar0  / _SUM_;
MPRINT(EM_DIAGRAM):   P_DepVar0 = P_DepVar0 / _SUM_;
2147673   +END;
MPRINT(EM_DIAGRAM):   END;
2147674   +ELSE DO;
MPRINT(EM_DIAGRAM):   ELSE DO;
2147675   +   P_DepVar1  = .;
MPRINT(EM_DIAGRAM):   P_DepVar1 = .;
2147676   +   P_DepVar0  = .;
MPRINT(EM_DIAGRAM):   P_DepVar0 = .;
2147677   +END;
MPRINT(EM_DIAGRAM):   END;
2147678   +IF _DM_BAD EQ 1 THEN DO;
MPRINT(EM_DIAGRAM):   IF _DM_BAD EQ 1 THEN DO;
2147679   +   P_DepVar1  =     0.15122156697556;
MPRINT(EM_DIAGRAM):   P_DepVar1 = 0.15122156697556;
2147680   +   P_DepVar0  =     0.84877843302443;
MPRINT(EM_DIAGRAM):   P_DepVar0 = 0.84877843302443;
2147681   +END;
MPRINT(EM_DIAGRAM):   END;
2147682   +*** *************************;
MPRINT(EM_DIAGRAM):   *** *************************;
2147683   +*** Writing the I_DepVar  AND U_DepVar ;
MPRINT(EM_DIAGRAM):   *** Writing the I_DepVar AND U_DepVar ;
2147684   +*** *************************;
MPRINT(EM_DIAGRAM):   *** *************************;
2147685   +_MAXP_ = P_DepVar1 ;
MPRINT(EM_DIAGRAM):   _MAXP_ = P_DepVar1 ;
2147686   +I_DepVar  = "1           " ;
MPRINT(EM_DIAGRAM):   I_DepVar = "1           " ;
2147687   +U_DepVar  =                    1;
MPRINT(EM_DIAGRAM):   U_DepVar = 1;
2147688   +IF( _MAXP_ LT P_DepVar0  ) THEN DO;
MPRINT(EM_DIAGRAM):   IF( _MAXP_ LT P_DepVar0 ) THEN DO;
2147689   +   _MAXP_ = P_DepVar0 ;
MPRINT(EM_DIAGRAM):   _MAXP_ = P_DepVar0 ;
2147690   +   I_DepVar  = "0           " ;
MPRINT(EM_DIAGRAM):   I_DepVar = "0           " ;
2147691   +   U_DepVar  =                    0;
MPRINT(EM_DIAGRAM):   U_DepVar = 0;
2147692   +END;
MPRINT(EM_DIAGRAM):   END;
2147693   +********************************;
MPRINT(EM_DIAGRAM):   ********************************;
2147694   +*** End Scoring Code for Neural;
MPRINT(EM_DIAGRAM):   *** End Scoring Code for Neural;
2147695   +********************************;
MPRINT(EM_DIAGRAM):   ********************************;
2147696   +drop
2147697   +H11
2147698   +H12
2147699   +H13
2147700   +H14
2147701   +H15
2147702   +;
MPRINT(EM_DIAGRAM):   drop H11 H12 H13 H14 H15 ;
2147703   +drop S_:;
MPRINT(EM_DIAGRAM):   drop S_:;
NOTE: %INCLUDE (level 1) ending.
MPRINT(EM_DIAGRAM):   run;
2147704    run;

NOTE: Dependency structure written to data set _TEMP.
NOTE: PROCEDURE FCMP used (Total process time):
      real time           0.02 seconds
      cpu time            0.03 seconds
      

MPRINT(EM_DIAGRAM):   quit;
2147705    quit;
2147706    filename _pref;
MPRINT(EM_DIAGRAM):   filename _pref;
NOTE: Fileref _PREF has been deassigned.
2147707    data _temp(rename=(RHS=NAME));
MPRINT(EM_DIAGRAM):   data _temp(rename=(RHS=NAME));
2147708    length Node $32;
MPRINT(EM_DIAGRAM):   length Node $32;
2147709    retain ID 2 Node "Neural40";
MPRINT(EM_DIAGRAM):   retain ID 2 Node "Neural40";
2147710    set _temp;
MPRINT(EM_DIAGRAM):   set _temp;
2147711    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 2037 observations read from the data set WORK._TEMP.
NOTE: The data set WORK._TEMP has 2037 observations and 14 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

2147712    proc sort data=_temp;
MPRINT(EM_DIAGRAM):   proc sort data=_temp;
2147713    by NAME;
MPRINT(EM_DIAGRAM):   by NAME;
2147714    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 2037 observations read from the data set WORK._TEMP.
NOTE: The data set WORK._TEMP has 2037 observations and 14 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

2147715    proc sort data=EMWS8.Neural40_variableset out=_temp2(keep=NAME CREATOR);
MPRINT(EM_DIAGRAM):   proc sort data=EMWS8.Neural40_variableset out=_temp2(keep=NAME CREATOR);
2147716    by NAME;
MPRINT(EM_DIAGRAM):   by NAME;
2147717    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 34 observations read from the data set EMWS8.NEURAL40_VARIABLESET.
NOTE: The data set WORK._TEMP2 has 34 observations and 2 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

2147718    data _temp2;
MPRINT(EM_DIAGRAM):   data _temp2;
2147719    length CREATOR $32;
MPRINT(EM_DIAGRAM):   length CREATOR $32;
2147720    set _temp2;
MPRINT(EM_DIAGRAM):   set _temp2;
2147721    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 34 observations read from the data set WORK._TEMP2.
NOTE: The data set WORK._TEMP2 has 34 observations and 2 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

2147722    proc contents data=EMWS8.Neural40_train out=_meta(keep=NAME) noprint;
MPRINT(EM_DIAGRAM):   proc contents data=EMWS8.Neural40_train out=_meta(keep=NAME) noprint;
2147723    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: The data set WORK._META has 53 observations and 1 variables.
NOTE: PROCEDURE CONTENTS used (Total process time):
      real time           0.02 seconds
      cpu time            0.01 seconds
      

2147724    proc sort data=_meta;
MPRINT(EM_DIAGRAM):   proc sort data=_meta;
2147725    by NAME;
MPRINT(EM_DIAGRAM):   by NAME;
2147726    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 53 observations read from the data set WORK._META.
NOTE: The data set WORK._META has 53 observations and 1 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

2147727    data _temp2;
MPRINT(EM_DIAGRAM):   data _temp2;
2147728    merge _meta _temp2;
MPRINT(EM_DIAGRAM):   merge _meta _temp2;
2147729    by NAME;
MPRINT(EM_DIAGRAM):   by NAME;
2147730    run;
MPRINT(EM_DIAGRAM):   run;

WARNING: Multiple lengths were specified for the BY variable NAME by input data sets. This may 
         cause unexpected results.
NOTE: There were 53 observations read from the data set WORK._META.
NOTE: There were 34 observations read from the data set WORK._TEMP2.
NOTE: The data set WORK._TEMP2 has 53 observations and 2 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

2147731    proc sql;
MPRINT(EM_DIAGRAM):   proc sql;
2147732    create table _tempx as select p.node, p.lhs, p.id , p2.name, p2.CREATOR from
2147732  ! work._temp p, work._temp2 p2 where upcase(p.NAME)=upcase(p2.NAME);
MPRINT(EM_DIAGRAM):   create table _tempx as select p.node, p.lhs, p.id , p2.name, p2.CREATOR 
from work._temp p, work._temp2 p2 where upcase(p.NAME)=upcase(p2.NAME);
NOTE: Table WORK._TEMPX created, with 1037 rows and 5 columns.

2147733    quit;
MPRINT(EM_DIAGRAM):   quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

2147734    proc append base=EMWS8.Ensmbl23_FCMP data=_tempx;
MPRINT(EM_DIAGRAM):   proc append base=EMWS8.Ensmbl23_FCMP data=_tempx;
2147735    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: Appending WORK._TEMPX to EMWS8.ENSMBL23_FCMP.
NOTE: BASE data set does not exist. DATA file is being copied to BASE file.
NOTE: There were 1037 observations read from the data set WORK._TEMPX.
NOTE: The data set EMWS8.ENSMBL23_FCMP has 1037 observations and 5 variables.
NOTE: PROCEDURE APPEND used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

2147736    filename _pref
2147736  ! "C:\\predictive-models-project\Workspaces\EMWS8\Trans\EMPUBLISHSCORE.sas";
MPRINT(EM_DIAGRAM):    filename _pref 
"C:\\predictive-models-project\Workspaces\EMWS8\Trans\EMPUBLISHSCORE.sas";
2147737    proc FCMP NOEXECUTE IMPUTEDDEPS OUTDEPS=_temp;
MPRINT(EM_DIAGRAM):   proc FCMP NOEXECUTE IMPUTEDDEPS OUTDEPS=_temp;
2147738    %INCLUDE _pref;
NOTE: %INCLUDE (level 1) file _PREF is file 
      C:\\predictive-models-project\Workspaces\EMWS8\Trans\EMPUBLISHSCORE.sas.
2147739   +*------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
2147740   +* Formula Code;
MPRINT(EM_DIAGRAM):   * Formula Code;
2147741   +*------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
2147742   +MonthsAsCustomer =int((today()-Dt_Customer)/12) ;
MPRINT(EM_DIAGRAM):   MonthsAsCustomer =int((today()-Dt_Customer)/12) ;
2147743   +HigherEducationBinary =HigherEducation ;
MPRINT(EM_DIAGRAM):   HigherEducationBinary =HigherEducation ;
2147744   +NumDistPurchases =NumCatalogPurchases + NumWebPurchases ;
MPRINT(EM_DIAGRAM):   NumDistPurchases =NumCatalogPurchases + NumWebPurchases ;
NOTE: %INCLUDE (level 1) ending.
MPRINT(EM_DIAGRAM):   run;
2147745    run;

NOTE: Dependency structure written to data set _TEMP.
NOTE: PROCEDURE FCMP used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

MPRINT(EM_DIAGRAM):   quit;
2147746    quit;
2147747    filename _pref;
MPRINT(EM_DIAGRAM):   filename _pref;
NOTE: Fileref _PREF has been deassigned.
2147748    data _temp(rename=(RHS=NAME));
MPRINT(EM_DIAGRAM):   data _temp(rename=(RHS=NAME));
2147749    length Node $32;
MPRINT(EM_DIAGRAM):   length Node $32;
2147750    retain ID 5 Node "Trans";
MPRINT(EM_DIAGRAM):   retain ID 5 Node "Trans";
2147751    set _temp;
MPRINT(EM_DIAGRAM):   set _temp;
2147752    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 4 observations read from the data set WORK._TEMP.
NOTE: The data set WORK._TEMP has 4 observations and 14 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

2147753    proc sort data=_temp;
MPRINT(EM_DIAGRAM):   proc sort data=_temp;
2147754    by NAME;
MPRINT(EM_DIAGRAM):   by NAME;
2147755    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 4 observations read from the data set WORK._TEMP.
NOTE: The data set WORK._TEMP has 4 observations and 14 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

2147756    proc sort data=EMWS8.Trans_variableset out=_temp2(keep=NAME CREATOR);
MPRINT(EM_DIAGRAM):   proc sort data=EMWS8.Trans_variableset out=_temp2(keep=NAME CREATOR);
2147757    by NAME;
MPRINT(EM_DIAGRAM):   by NAME;
2147758    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 33 observations read from the data set EMWS8.TRANS_VARIABLESET.
NOTE: The data set WORK._TEMP2 has 33 observations and 2 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

2147759    data _temp2;
MPRINT(EM_DIAGRAM):   data _temp2;
2147760    length CREATOR $32;
MPRINT(EM_DIAGRAM):   length CREATOR $32;
2147761    set _temp2;
MPRINT(EM_DIAGRAM):   set _temp2;
2147762    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 33 observations read from the data set WORK._TEMP2.
NOTE: The data set WORK._TEMP2 has 33 observations and 2 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

2147763    proc contents data=EMWS8.Trans_train out=_meta(keep=NAME) noprint;
MPRINT(EM_DIAGRAM):   proc contents data=EMWS8.Trans_train out=_meta(keep=NAME) noprint;
2147764    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: The data set WORK._META has 44 observations and 1 variables.
NOTE: PROCEDURE CONTENTS used (Total process time):
      real time           0.02 seconds
      cpu time            0.03 seconds
      

2147765    proc sort data=_meta;
MPRINT(EM_DIAGRAM):   proc sort data=_meta;
2147766    by NAME;
MPRINT(EM_DIAGRAM):   by NAME;
2147767    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 44 observations read from the data set WORK._META.
NOTE: The data set WORK._META has 44 observations and 1 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

2147768    data _temp2;
MPRINT(EM_DIAGRAM):   data _temp2;
2147769    merge _meta _temp2;
MPRINT(EM_DIAGRAM):   merge _meta _temp2;
2147770    by NAME;
MPRINT(EM_DIAGRAM):   by NAME;
2147771    run;
MPRINT(EM_DIAGRAM):   run;

WARNING: Multiple lengths were specified for the BY variable NAME by input data sets. This may 
         cause unexpected results.
NOTE: There were 44 observations read from the data set WORK._META.
NOTE: There were 33 observations read from the data set WORK._TEMP2.
NOTE: The data set WORK._TEMP2 has 44 observations and 2 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

2147772    proc sql;
MPRINT(EM_DIAGRAM):   proc sql;
2147773    create table _tempx as select p.node, p.lhs, p.id , p2.name, p2.CREATOR from
2147773  ! work._temp p, work._temp2 p2 where upcase(p.NAME)=upcase(p2.NAME);
MPRINT(EM_DIAGRAM):   create table _tempx as select p.node, p.lhs, p.id , p2.name, p2.CREATOR 
from work._temp p, work._temp2 p2 where upcase(p.NAME)=upcase(p2.NAME);
NOTE: Table WORK._TEMPX created, with 4 rows and 5 columns.

2147774    quit;
MPRINT(EM_DIAGRAM):   quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

2147775    proc append base=EMWS8.Ensmbl23_FCMP data=_tempx;
MPRINT(EM_DIAGRAM):   proc append base=EMWS8.Ensmbl23_FCMP data=_tempx;
2147776    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: Appending WORK._TEMPX to EMWS8.ENSMBL23_FCMP.
NOTE: There were 4 observations read from the data set WORK._TEMPX.
NOTE: 4 observations added.
NOTE: The data set EMWS8.ENSMBL23_FCMP has 1041 observations and 5 variables.
NOTE: PROCEDURE APPEND used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

2147777    filename _pref
2147777  ! "C:\\predictive-models-project\Workspaces\EMWS8\EMCODE4\EMPUBLISHSCORE.sas";
MPRINT(EM_DIAGRAM):    filename _pref 
"C:\\predictive-models-project\Workspaces\EMWS8\EMCODE4\EMPUBLISHSCORE.sas";
2147778    proc FCMP NOEXECUTE IMPUTEDDEPS OUTDEPS=_temp;
MPRINT(EM_DIAGRAM):   proc FCMP NOEXECUTE IMPUTEDDEPS OUTDEPS=_temp;
2147779    %INCLUDE _pref;
NOTE: %INCLUDE (level 1) file _PREF is file 
      C:\\predictive-models-project\Workspaces\EMWS8\EMCODE4\EMPUBLISHSCORE.sas.
2147780   +
2147781   +  Frq=NumStorePurchases+NumWebPurchases+NumCatalogPurchases;
MPRINT(EM_DIAGRAM):   Frq=NumStorePurchases+NumWebPurchases+NumCatalogPurchases;
2147782   +  Mnt=MntFishProducts+MntFruits+MntGoldProds+MntMeatProducts+MntSweetProducts+MntWin
2147782  !+es;
MPRINT(EM_DIAGRAM):   
Mnt=MntFishProducts+MntFruits+MntGoldProds+MntMeatProducts+MntSweetProducts+MntWines;
2147783   +  RMntFrq=Mnt/Frq;
MPRINT(EM_DIAGRAM):   RMntFrq=Mnt/Frq;
2147784   +  RFMstat=(Mnt*Frq)/(Recency+1);
MPRINT(EM_DIAGRAM):   RFMstat=(Mnt*Frq)/(Recency+1);
2147785   +  HigherEducation=1*(upcase(Education) in ("GRADUATION","MASTER","PHD"));
MPRINT(EM_DIAGRAM):   HigherEducation=1*(upcase(Education) in ("GRADUATION","MASTER","PHD"));
2147786   +  Age = year(today())-Year_Birth;
MPRINT(EM_DIAGRAM):   Age = year(today())-Year_Birth;
2147787   +  AcceptedCmpTotal=AcceptedCmp1+AcceptedCmp2+AcceptedCmp3+AcceptedCmp4+AcceptedCmp5;
MPRINT(EM_DIAGRAM):   
AcceptedCmpTotal=AcceptedCmp1+AcceptedCmp2+AcceptedCmp3+AcceptedCmp4+AcceptedCmp5;
NOTE: %INCLUDE (level 1) ending.
MPRINT(EM_DIAGRAM):   run;
2147788    run;

NOTE: Dependency structure written to data set _TEMP.
NOTE: PROCEDURE FCMP used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

MPRINT(EM_DIAGRAM):   quit;
2147789    quit;
2147790    filename _pref;
MPRINT(EM_DIAGRAM):   filename _pref;
NOTE: Fileref _PREF has been deassigned.
2147791    data _temp(rename=(RHS=NAME));
MPRINT(EM_DIAGRAM):   data _temp(rename=(RHS=NAME));
2147792    length Node $32;
MPRINT(EM_DIAGRAM):   length Node $32;
2147793    retain ID 6 Node "EMCODE4";
MPRINT(EM_DIAGRAM):   retain ID 6 Node "EMCODE4";
2147794    set _temp;
MPRINT(EM_DIAGRAM):   set _temp;
2147795    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 39 observations read from the data set WORK._TEMP.
NOTE: The data set WORK._TEMP has 39 observations and 14 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

2147796    proc sort data=_temp;
MPRINT(EM_DIAGRAM):   proc sort data=_temp;
2147797    by NAME;
MPRINT(EM_DIAGRAM):   by NAME;
2147798    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 39 observations read from the data set WORK._TEMP.
NOTE: The data set WORK._TEMP has 39 observations and 14 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

2147799    proc sort data=EMWS8.EMCODE4_variableset out=_temp2(keep=NAME CREATOR);
MPRINT(EM_DIAGRAM):   proc sort data=EMWS8.EMCODE4_variableset out=_temp2(keep=NAME CREATOR);
2147800    by NAME;
MPRINT(EM_DIAGRAM):   by NAME;
2147801    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 27 observations read from the data set EMWS8.EMCODE4_VARIABLESET.
NOTE: The data set WORK._TEMP2 has 27 observations and 2 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

2147802    data _temp2;
MPRINT(EM_DIAGRAM):   data _temp2;
2147803    length CREATOR $32;
MPRINT(EM_DIAGRAM):   length CREATOR $32;
2147804    set _temp2;
MPRINT(EM_DIAGRAM):   set _temp2;
2147805    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 27 observations read from the data set WORK._TEMP2.
NOTE: The data set WORK._TEMP2 has 27 observations and 2 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

2147806    proc contents data=EMWS8.EMCODE4_train out=_meta(keep=NAME) noprint;
MPRINT(EM_DIAGRAM):   proc contents data=EMWS8.EMCODE4_train out=_meta(keep=NAME) noprint;
2147807    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: The data set WORK._META has 41 observations and 1 variables.
NOTE: PROCEDURE CONTENTS used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

2147808    proc sort data=_meta;
MPRINT(EM_DIAGRAM):   proc sort data=_meta;
2147809    by NAME;
MPRINT(EM_DIAGRAM):   by NAME;
2147810    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 41 observations read from the data set WORK._META.
NOTE: The data set WORK._META has 41 observations and 1 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

2147811    data _temp2;
MPRINT(EM_DIAGRAM):   data _temp2;
2147812    merge _meta _temp2;
MPRINT(EM_DIAGRAM):   merge _meta _temp2;
2147813    by NAME;
MPRINT(EM_DIAGRAM):   by NAME;
2147814    run;
MPRINT(EM_DIAGRAM):   run;

WARNING: Multiple lengths were specified for the BY variable NAME by input data sets. This may 
         cause unexpected results.
NOTE: There were 41 observations read from the data set WORK._META.
NOTE: There were 27 observations read from the data set WORK._TEMP2.
NOTE: The data set WORK._TEMP2 has 41 observations and 2 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

2147815    proc sql;
MPRINT(EM_DIAGRAM):   proc sql;
2147816    create table _tempx as select p.node, p.lhs, p.id , p2.name, p2.CREATOR from
2147816  ! work._temp p, work._temp2 p2 where upcase(p.NAME)=upcase(p2.NAME);
MPRINT(EM_DIAGRAM):   create table _tempx as select p.node, p.lhs, p.id , p2.name, p2.CREATOR 
from work._temp p, work._temp2 p2 where upcase(p.NAME)=upcase(p2.NAME);
NOTE: Table WORK._TEMPX created, with 39 rows and 5 columns.

2147817    quit;
MPRINT(EM_DIAGRAM):   quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

2147818    proc append base=EMWS8.Ensmbl23_FCMP data=_tempx;
MPRINT(EM_DIAGRAM):   proc append base=EMWS8.Ensmbl23_FCMP data=_tempx;
2147819    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: Appending WORK._TEMPX to EMWS8.ENSMBL23_FCMP.
NOTE: There were 39 observations read from the data set WORK._TEMPX.
NOTE: 39 observations added.
NOTE: The data set EMWS8.ENSMBL23_FCMP has 1080 observations and 5 variables.
NOTE: PROCEDURE APPEND used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

2147820    filename _pref
2147820  ! "C:\\predictive-models-project\Workspaces\EMWS8\Filter\EMPUBLISHSCORE.sas";
MPRINT(EM_DIAGRAM):    filename _pref 
"C:\\predictive-models-project\Workspaces\EMWS8\Filter\EMPUBLISHSCORE.sas";
2147821    proc FCMP NOEXECUTE IMPUTEDDEPS OUTDEPS=_temp;
MPRINT(EM_DIAGRAM):   proc FCMP NOEXECUTE IMPUTEDDEPS OUTDEPS=_temp;
2147822    %INCLUDE _pref;
NOTE: %INCLUDE (level 1) file _PREF is file 
      C:\\predictive-models-project\Workspaces\EMWS8\Filter\EMPUBLISHSCORE.sas.
2147823   +
2147824   +
2147825   +length _FILTERFMT1  $200;
MPRINT(EM_DIAGRAM):   length _FILTERFMT1 $200;
2147826   +drop _FILTERFMT1 ;
MPRINT(EM_DIAGRAM):   drop _FILTERFMT1 ;
2147827   +_FILTERFMT1= put(AcceptedCmp1,BEST.);
MPRINT(EM_DIAGRAM):   _FILTERFMT1= put(AcceptedCmp1,BEST.);
2147828   +length _FILTERNORM1  $32;
MPRINT(EM_DIAGRAM):   length _FILTERNORM1 $32;
2147829   +drop _FILTERNORM1 ;
MPRINT(EM_DIAGRAM):   drop _FILTERNORM1 ;
2147830   +%dmnormcp(_FILTERFMT1,_FILTERNORM1);
MPRINT(DMNORMCP):   _FILTERNORM1=dmnorm(_FILTERFMT1,
MPRINT(DMNORLEN):  32
MPRINT(DMNORMCP):  );
MPRINT(EM_DIAGRAM):  ;
2147831   +
2147832   +
2147833   +length _FILTERFMT2  $200;
MPRINT(EM_DIAGRAM):   length _FILTERFMT2 $200;
2147834   +drop _FILTERFMT2 ;
MPRINT(EM_DIAGRAM):   drop _FILTERFMT2 ;
2147835   +_FILTERFMT2= put(AcceptedCmp2,BEST.);
MPRINT(EM_DIAGRAM):   _FILTERFMT2= put(AcceptedCmp2,BEST.);
2147836   +length _FILTERNORM2  $32;
MPRINT(EM_DIAGRAM):   length _FILTERNORM2 $32;
2147837   +drop _FILTERNORM2 ;
MPRINT(EM_DIAGRAM):   drop _FILTERNORM2 ;
2147838   +%dmnormcp(_FILTERFMT2,_FILTERNORM2);
MPRINT(DMNORMCP):   _FILTERNORM2=dmnorm(_FILTERFMT2,
MPRINT(DMNORLEN):  32
MPRINT(DMNORMCP):  );
MPRINT(EM_DIAGRAM):  ;
2147839   +
2147840   +
2147841   +length _FILTERFMT3  $200;
MPRINT(EM_DIAGRAM):   length _FILTERFMT3 $200;
2147842   +drop _FILTERFMT3 ;
MPRINT(EM_DIAGRAM):   drop _FILTERFMT3 ;
2147843   +_FILTERFMT3= put(AcceptedCmp3,BEST.);
MPRINT(EM_DIAGRAM):   _FILTERFMT3= put(AcceptedCmp3,BEST.);
2147844   +length _FILTERNORM3  $32;
MPRINT(EM_DIAGRAM):   length _FILTERNORM3 $32;
2147845   +drop _FILTERNORM3 ;
MPRINT(EM_DIAGRAM):   drop _FILTERNORM3 ;
2147846   +%dmnormcp(_FILTERFMT3,_FILTERNORM3);
MPRINT(DMNORMCP):   _FILTERNORM3=dmnorm(_FILTERFMT3,
MPRINT(DMNORLEN):  32
MPRINT(DMNORMCP):  );
MPRINT(EM_DIAGRAM):  ;
2147847   +
2147848   +
2147849   +length _FILTERFMT4  $200;
MPRINT(EM_DIAGRAM):   length _FILTERFMT4 $200;
2147850   +drop _FILTERFMT4 ;
MPRINT(EM_DIAGRAM):   drop _FILTERFMT4 ;
2147851   +_FILTERFMT4= put(AcceptedCmp4,BEST.);
MPRINT(EM_DIAGRAM):   _FILTERFMT4= put(AcceptedCmp4,BEST.);
2147852   +length _FILTERNORM4  $32;
MPRINT(EM_DIAGRAM):   length _FILTERNORM4 $32;
2147853   +drop _FILTERNORM4 ;
MPRINT(EM_DIAGRAM):   drop _FILTERNORM4 ;
2147854   +%dmnormcp(_FILTERFMT4,_FILTERNORM4);
MPRINT(DMNORMCP):   _FILTERNORM4=dmnorm(_FILTERFMT4,
MPRINT(DMNORLEN):  32
MPRINT(DMNORMCP):  );
MPRINT(EM_DIAGRAM):  ;
2147855   +
2147856   +
2147857   +length _FILTERFMT5  $200;
MPRINT(EM_DIAGRAM):   length _FILTERFMT5 $200;
2147858   +drop _FILTERFMT5 ;
MPRINT(EM_DIAGRAM):   drop _FILTERFMT5 ;
2147859   +_FILTERFMT5= put(AcceptedCmp5,BEST.);
MPRINT(EM_DIAGRAM):   _FILTERFMT5= put(AcceptedCmp5,BEST.);
2147860   +length _FILTERNORM5  $32;
MPRINT(EM_DIAGRAM):   length _FILTERNORM5 $32;
2147861   +drop _FILTERNORM5 ;
MPRINT(EM_DIAGRAM):   drop _FILTERNORM5 ;
2147862   +%dmnormcp(_FILTERFMT5,_FILTERNORM5);
MPRINT(DMNORMCP):   _FILTERNORM5=dmnorm(_FILTERFMT5,
MPRINT(DMNORLEN):  32
MPRINT(DMNORMCP):  );
MPRINT(EM_DIAGRAM):  ;
2147863   +
2147864   +
2147865   +length _FILTERFMT6  $200;
MPRINT(EM_DIAGRAM):   length _FILTERFMT6 $200;
2147866   +drop _FILTERFMT6 ;
MPRINT(EM_DIAGRAM):   drop _FILTERFMT6 ;
2147867   +_FILTERFMT6= put(Complain,BEST.);
MPRINT(EM_DIAGRAM):   _FILTERFMT6= put(Complain,BEST.);
2147868   +length _FILTERNORM6  $32;
MPRINT(EM_DIAGRAM):   length _FILTERNORM6 $32;
2147869   +drop _FILTERNORM6 ;
MPRINT(EM_DIAGRAM):   drop _FILTERNORM6 ;
2147870   +%dmnormcp(_FILTERFMT6,_FILTERNORM6);
MPRINT(DMNORMCP):   _FILTERNORM6=dmnorm(_FILTERFMT6,
MPRINT(DMNORLEN):  32
MPRINT(DMNORMCP):  );
MPRINT(EM_DIAGRAM):  ;
2147871   +
2147872   +
2147873   +length _FILTERFMT7  $200;
MPRINT(EM_DIAGRAM):   length _FILTERFMT7 $200;
2147874   +drop _FILTERFMT7 ;
MPRINT(EM_DIAGRAM):   drop _FILTERFMT7 ;
2147875   +_FILTERFMT7= put(Education,$10.0);
MPRINT(EM_DIAGRAM):   _FILTERFMT7= put(Education,$10.0);
2147876   +length _FILTERNORM7  $32;
MPRINT(EM_DIAGRAM):   length _FILTERNORM7 $32;
2147877   +drop _FILTERNORM7 ;
MPRINT(EM_DIAGRAM):   drop _FILTERNORM7 ;
2147878   +%dmnormcp(_FILTERFMT7,_FILTERNORM7);
MPRINT(DMNORMCP):   _FILTERNORM7=dmnorm(_FILTERFMT7,
MPRINT(DMNORLEN):  32
MPRINT(DMNORMCP):  );
MPRINT(EM_DIAGRAM):  ;
2147879   +
2147880   +
2147881   +length _FILTERFMT8  $200;
MPRINT(EM_DIAGRAM):   length _FILTERFMT8 $200;
2147882   +drop _FILTERFMT8 ;
MPRINT(EM_DIAGRAM):   drop _FILTERFMT8 ;
2147883   +_FILTERFMT8= put(Marital_Status,$8.0);
MPRINT(EM_DIAGRAM):   _FILTERFMT8= put(Marital_Status,$8.0);
2147884   +length _FILTERNORM8  $32;
MPRINT(EM_DIAGRAM):   length _FILTERNORM8 $32;
2147885   +drop _FILTERNORM8 ;
MPRINT(EM_DIAGRAM):   drop _FILTERNORM8 ;
2147886   +%dmnormcp(_FILTERFMT8,_FILTERNORM8);
MPRINT(DMNORMCP):   _FILTERNORM8=dmnorm(_FILTERFMT8,
MPRINT(DMNORLEN):  32
MPRINT(DMNORMCP):  );
MPRINT(EM_DIAGRAM):  ;
2147887   +if
2147888   +_FILTERNORM1 not in ( '.')
2147889   + and
2147890   +_FILTERNORM2 not in ( '.')
2147891   + and
2147892   +_FILTERNORM3 not in ( '.')
2147893   + and
2147894   +_FILTERNORM4 not in ( '.')
2147895   + and
2147896   +_FILTERNORM5 not in ( '.')
2147897   + and
2147898   +_FILTERNORM6 not in ( '.')
2147899   + and
2147900   +_FILTERNORM7 not in ( ' ')
2147901   + and
2147902   +_FILTERNORM8 not in ( ' ')
2147903   +and
2147904   +( Dt_Customer ne .)
2147905   +and ( Income ne . and (Income<=107000))
2147906   +and ( Kidhome ne .)
2147907   +and ( MntFishProducts ne .)
2147908   +and ( MntFruits ne .)
2147909   +and ( MntGoldProds ne .)
2147910   +and ( MntMeatProducts ne . and (MntMeatProducts<=964))
2147911   +and ( MntSweetProducts ne .)
2147912   +and ( MntWines ne .)
2147913   +and ( NumCatalogPurchases ne . and (NumCatalogPurchases<=14))
2147914   +and ( NumDealsPurchases ne . and (NumDealsPurchases<=10.5))
2147915   +and ( NumStorePurchases ne .)
2147916   +and ( NumWebPurchases ne .)
2147917   +and ( NumWebVisitsMonth ne . and (NumWebVisitsMonth<=13.42))
2147918   +and ( Recency ne .)
2147919   +and ( Teenhome ne .)
2147920   +and ( Year_Birth ne .)
2147921   +then do;
MPRINT(EM_DIAGRAM):   if _FILTERNORM1 not in ( '.') and _FILTERNORM2 not in ( '.') and 
_FILTERNORM3 not in ( '.') and _FILTERNORM4 not in ( '.') and _FILTERNORM5 not in ( '.') and 
_FILTERNORM6 not in ( '.') and _FILTERNORM7 not in ( ' ') and _FILTERNORM8 not in ( ' ') and ( 
Dt_Customer ne .) and ( Income ne . and (Income<=107000)) and ( Kidhome ne .) and ( 
MntFishProducts ne .) and ( MntFruits ne .) and ( MntGoldProds ne .) and ( MntMeatProducts ne 
. and (MntMeatProducts<=964)) and ( MntSweetProducts ne .) and ( MntWines ne .) and ( 
NumCatalogPurchases ne . and (NumCatalogPurchases<=14)) and ( NumDealsPurchases ne . and 
(NumDealsPurchases<=10.5)) and ( NumStorePurchases ne .) and ( NumWebPurchases ne .) and ( 
NumWebVisitsMonth ne . and (NumWebVisitsMonth<=13.42)) and ( Recency ne .) and ( Teenhome ne 
.) and ( Year_Birth ne .) then do;
2147922   +if M_FILTER eq . then M_FILTER = 0;
MPRINT(EM_DIAGRAM):   if M_FILTER eq . then M_FILTER = 0;
2147923   +else M_FILTER = M_FILTER + 0;
MPRINT(EM_DIAGRAM):   else M_FILTER = M_FILTER + 0;
2147924   +end;
MPRINT(EM_DIAGRAM):   end;
2147925   +else M_FILTER = 1;
MPRINT(EM_DIAGRAM):   else M_FILTER = 1;
2147926   +label M_FILTER = 'Filtered Indicator';
MPRINT(EM_DIAGRAM):   label M_FILTER = 'Filtered Indicator';
NOTE: %INCLUDE (level 1) ending.
MPRINT(EM_DIAGRAM):   run;
2147927    run;

NOTE: Dependency structure written to data set _TEMP.
NOTE: PROCEDURE FCMP used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

MPRINT(EM_DIAGRAM):   quit;
2147928    quit;
2147929    filename _pref;
MPRINT(EM_DIAGRAM):   filename _pref;
NOTE: Fileref _PREF has been deassigned.
2147930    data _temp(rename=(RHS=NAME));
MPRINT(EM_DIAGRAM):   data _temp(rename=(RHS=NAME));
2147931    length Node $32;
MPRINT(EM_DIAGRAM):   length Node $32;
2147932    retain ID 7 Node "Filter";
MPRINT(EM_DIAGRAM):   retain ID 7 Node "Filter";
2147933    set _temp;
MPRINT(EM_DIAGRAM):   set _temp;
2147934    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 110 observations read from the data set WORK._TEMP.
NOTE: The data set WORK._TEMP has 110 observations and 14 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

2147935    proc sort data=_temp;
MPRINT(EM_DIAGRAM):   proc sort data=_temp;
2147936    by NAME;
MPRINT(EM_DIAGRAM):   by NAME;
2147937    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 110 observations read from the data set WORK._TEMP.
NOTE: The data set WORK._TEMP has 110 observations and 14 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

2147938    proc sort data=EMWS8.Filter_variableset out=_temp2(keep=NAME CREATOR);
MPRINT(EM_DIAGRAM):   proc sort data=EMWS8.Filter_variableset out=_temp2(keep=NAME CREATOR);
2147939    by NAME;
MPRINT(EM_DIAGRAM):   by NAME;
2147940    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 26 observations read from the data set EMWS8.FILTER_VARIABLESET.
NOTE: The data set WORK._TEMP2 has 26 observations and 2 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

2147941    data _temp2;
MPRINT(EM_DIAGRAM):   data _temp2;
2147942    length CREATOR $32;
MPRINT(EM_DIAGRAM):   length CREATOR $32;
2147943    set _temp2;
MPRINT(EM_DIAGRAM):   set _temp2;
2147944    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 26 observations read from the data set WORK._TEMP2.
NOTE: The data set WORK._TEMP2 has 26 observations and 2 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

2147945    proc contents data=EMWS8.Filter_train out=_meta(keep=NAME) noprint;
MPRINT(EM_DIAGRAM):   proc contents data=EMWS8.Filter_train out=_meta(keep=NAME) noprint;
2147946    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: The data set WORK._META has 34 observations and 1 variables.
NOTE: PROCEDURE CONTENTS used (Total process time):
      real time           0.02 seconds
      cpu time            0.01 seconds
      

2147947    proc sort data=_meta;
MPRINT(EM_DIAGRAM):   proc sort data=_meta;
2147948    by NAME;
MPRINT(EM_DIAGRAM):   by NAME;
2147949    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 34 observations read from the data set WORK._META.
NOTE: The data set WORK._META has 34 observations and 1 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

2147950    data _temp2;
MPRINT(EM_DIAGRAM):   data _temp2;
2147951    merge _meta _temp2;
MPRINT(EM_DIAGRAM):   merge _meta _temp2;
2147952    by NAME;
MPRINT(EM_DIAGRAM):   by NAME;
2147953    run;
MPRINT(EM_DIAGRAM):   run;

WARNING: Multiple lengths were specified for the BY variable NAME by input data sets. This may 
         cause unexpected results.
NOTE: There were 34 observations read from the data set WORK._META.
NOTE: There were 26 observations read from the data set WORK._TEMP2.
NOTE: The data set WORK._TEMP2 has 34 observations and 2 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

2147954    proc sql;
MPRINT(EM_DIAGRAM):   proc sql;
2147955    create table _tempx as select p.node, p.lhs, p.id , p2.name, p2.CREATOR from
2147955  ! work._temp p, work._temp2 p2 where upcase(p.NAME)=upcase(p2.NAME);
MPRINT(EM_DIAGRAM):   create table _tempx as select p.node, p.lhs, p.id , p2.name, p2.CREATOR 
from work._temp p, work._temp2 p2 where upcase(p.NAME)=upcase(p2.NAME);
NOTE: Table WORK._TEMPX created, with 66 rows and 5 columns.

2147956    quit;
MPRINT(EM_DIAGRAM):   quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

2147957    proc append base=EMWS8.Ensmbl23_FCMP data=_tempx;
MPRINT(EM_DIAGRAM):   proc append base=EMWS8.Ensmbl23_FCMP data=_tempx;
2147958    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: Appending WORK._TEMPX to EMWS8.ENSMBL23_FCMP.
NOTE: There were 66 observations read from the data set WORK._TEMPX.
NOTE: 66 observations added.
NOTE: The data set EMWS8.ENSMBL23_FCMP has 1146 observations and 5 variables.
NOTE: PROCEDURE APPEND used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

2147959    %macro varDept(fcmpdata=,id=);
2147960    %global nobs&id scoreFlag&id;
2147961    %let scoreFlag&id = 0;
2147962    %if &id=1 or ^&fcmpStart %then %do;
2147963    proc sort data=&fcmpdata out=_temp&id nodupkey;
2147964    by NAME;
2147965    where id=&id and LHS in( %let j=1;
2147966    %do %while(%scan(_WARN_ I_DepVar P_DepVar1 P_DepVar0, &j) ne );
2147967    %let var = %scan(_WARN_ I_DepVar P_DepVar1 P_DepVar0, &j);
2147968    "&var" %let j = %eval(&j+1);
2147969    %end;
2147970    );
2147971    run;
2147972    %let dsid = %sysfunc(open(_temp&id));
2147973    %let nobs&id = %sysfunc(attrn(&dsid, NLOBSF));
2147974    %let dsid = %sysfunc(close(&dsid));
2147975    %if &&nobs&id %then %do;
2147976    %let scoreFlag&id = 1;
2147977    %let fcmpStart = 1;
2147978    %end;
2147979    %else %let fcmpStart = 0;
2147980    %end;
2147981    %else %do;
2147982    proc sort data=&fcmpdata out=_tempid;
2147983    where id=&id;
2147984    by LHS;
2147985    run;
2147986    %let dsid = %sysfunc(open(_tempid));
2147987    %let nobs&id = %sysfunc(attrn(&dsid, NLOBSF));
2147988    %let dsid = %sysfunc(close(&dsid));
2147989    %if ^&&nobs&id %then %do;
2147990    proc datasets lib=work nolist;
2147991    delete _tempid;
2147992    run;
2147993    quit;
2147994    %end;
2147995    %else %do;
2147996    data _tempAll;
2147997    set %let j=%eval(&id-1);
2147998    %do x=1 %to &j;
2147999    %if &&nobs&x %then %do;
2148000    _temp&x %end;
2148001    %end;
2148002    ;
2148003    run;
2148004    proc sql;
2148005    create table _temp&id as select p2.lhs, p2.name, p2.Node from work._tempAll p,
2148005  ! work._tempid p2 where p.name=p2.lhs;
2148006    quit;
2148007    data _temp&id;
2148008    set _temp&id;
2148009    where LHS ne '' and NAME ne '' and Node ne '';
2148010    run;
2148011    proc datasets lib=work nolist;
2148012    delete _tempAll;
2148013    run;
2148014    %let dsid = %sysfunc(open(_temp&id));
2148015    %let nobs&id = %sysfunc(attrn(&dsid, NLOBSF));
2148016    %let dsid = %sysfunc(close(&dsid));
2148017    %if ^&&nobs&id %then %do;
2148018    proc datasets lib=work nolist;
2148019    delete _temp&id;
2148020    run;
2148021    quit;
2148022    %end;
2148023    %else %do;
2148024    %let scoreFlag&id = 1;
2148025    data _temp&id;
2148026    set _temp&id;
2148027    where LHS ne NAME and node ne '';
2148028    run;
2148029    %let dsid = %sysfunc(open(_temp&id));
2148030    %let nobs&id = %sysfunc(attrn(&dsid, NLOBSF));
2148031    %let dsid = %sysfunc(close(&dsid));
2148032    %if ^&&nobs&id %then %do;
2148033    proc datasets lib=work nolist;
2148034    delete _temp&id;
2148035    run;
2148036    quit;
2148037    %end;
2148038    %else %do;
2148039    proc sort data=_temp&id nodupkey;
2148040    by LHS NAME;
2148041    run;
2148042    %end;
2148043    %end;
2148044    %end;
2148045    %end;
2148046    %mend varDept;
2148047    %macro optCode(outdata=fcmpdata);
2148048    %global fcmpStart;
2148049    %let fcmpStart = 0;
2148050    %let outputVars = _WARN_ I_DepVar P_DepVar1 P_DepVar0;
2148051    %let NumNodes=9;
2148052    %do k=1 %to &NumNodes;
2148053    %vardept(fcmpdata=&outdata, id=&k);
2148054    %end;
2148055    %mend optCode;
2148056    %optcode(outData=EMWS8.Ensmbl23_FCMP);
MPRINT(EM_DIAGRAM):   
MPRINT(VARDEPT):   proc sort data=EMWS8.Ensmbl23_FCMP out=_temp1 nodupkey;
MPRINT(VARDEPT):   by NAME;
MPRINT(VARDEPT):   where id=1 and LHS in( "_WARN_" "I_DepVar" "P_DepVar1" "P_DepVar0" );
MPRINT(VARDEPT):   run;

NOTE: Input data set is empty.
NOTE: 0 observations with duplicate key values were deleted.
NOTE: There were 0 observations read from the data set EMWS8.ENSMBL23_FCMP.
      WHERE (id=1) and LHS in ('I_DepVar', 'P_DepVar0', 'P_DepVar1', '_WARN_');
NOTE: The data set WORK._TEMP1 has 0 observations and 5 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

MPRINT(OPTCODE):  ;
MPRINT(VARDEPT):   proc sort data=EMWS8.Ensmbl23_FCMP out=_temp2 nodupkey;
MPRINT(VARDEPT):   by NAME;
MPRINT(VARDEPT):   where id=2 and LHS in( "_WARN_" "I_DepVar" "P_DepVar1" "P_DepVar0" );
MPRINT(VARDEPT):   run;

NOTE: There were 106 observations read from the data set EMWS8.ENSMBL23_FCMP.
      WHERE (id=2) and LHS in ('I_DepVar', 'P_DepVar0', 'P_DepVar1', '_WARN_');
NOTE: 79 observations with duplicate key values were deleted.
NOTE: The data set WORK._TEMP2 has 27 observations and 5 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

MPRINT(OPTCODE):  ;
MPRINT(VARDEPT):   proc sort data=EMWS8.Ensmbl23_FCMP out=_tempid;
MPRINT(VARDEPT):   where id=3;
MPRINT(VARDEPT):   by LHS;
MPRINT(VARDEPT):   run;

NOTE: Input data set is empty.
NOTE: There were 0 observations read from the data set EMWS8.ENSMBL23_FCMP.
      WHERE id=3;
NOTE: The data set WORK._TEMPID has 0 observations and 5 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

MPRINT(VARDEPT):   proc datasets lib=work nolist;
MPRINT(VARDEPT):   delete _tempid;
MPRINT(VARDEPT):   run;

NOTE: Deleting WORK._TEMPID (memtype=DATA).
MPRINT(VARDEPT):   quit;

NOTE: PROCEDURE DATASETS used (Total process time):
      real time           0.04 seconds
      cpu time            0.04 seconds
      

MPRINT(OPTCODE):  ;
MPRINT(VARDEPT):   proc sort data=EMWS8.Ensmbl23_FCMP out=_tempid;
MPRINT(VARDEPT):   where id=4;
MPRINT(VARDEPT):   by LHS;
MPRINT(VARDEPT):   run;

NOTE: Input data set is empty.
NOTE: There were 0 observations read from the data set EMWS8.ENSMBL23_FCMP.
      WHERE id=4;
NOTE: The data set WORK._TEMPID has 0 observations and 5 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

MPRINT(VARDEPT):   proc datasets lib=work nolist;
MPRINT(VARDEPT):   delete _tempid;
MPRINT(VARDEPT):   run;

NOTE: Deleting WORK._TEMPID (memtype=DATA).
MPRINT(VARDEPT):   quit;

NOTE: PROCEDURE DATASETS used (Total process time):
      real time           0.04 seconds
      cpu time            0.04 seconds
      

MPRINT(OPTCODE):  ;
MPRINT(VARDEPT):   proc sort data=EMWS8.Ensmbl23_FCMP out=_tempid;
MPRINT(VARDEPT):   where id=5;
MPRINT(VARDEPT):   by LHS;
MPRINT(VARDEPT):   run;

NOTE: There were 4 observations read from the data set EMWS8.ENSMBL23_FCMP.
      WHERE id=5;
NOTE: The data set WORK._TEMPID has 4 observations and 5 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

MPRINT(VARDEPT):   data _tempAll;
MPRINT(VARDEPT):   set _temp2 ;
MPRINT(VARDEPT):   run;

NOTE: There were 27 observations read from the data set WORK._TEMP2.
NOTE: The data set WORK._TEMPALL has 27 observations and 5 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

MPRINT(VARDEPT):   proc sql;
MPRINT(VARDEPT):   create table _temp5 as select p2.lhs, p2.name, p2.Node from work._tempAll 
p, work._tempid p2 where p.name=p2.lhs;
NOTE: Table WORK._TEMP5 created, with 2 rows and 3 columns.

MPRINT(VARDEPT):   quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

MPRINT(VARDEPT):   data _temp5;
MPRINT(VARDEPT):   set _temp5;
MPRINT(VARDEPT):   where LHS ne '' and NAME ne '' and Node ne '';
MPRINT(VARDEPT):   run;

NOTE: There were 2 observations read from the data set WORK._TEMP5.
      WHERE (LHS not = ' ') and (NAME not = ' ') and (Node not = ' ');
NOTE: The data set WORK._TEMP5 has 2 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

MPRINT(VARDEPT):   proc datasets lib=work nolist;
MPRINT(VARDEPT):   delete _tempAll;
MPRINT(VARDEPT):   run;

NOTE: Deleting WORK._TEMPALL (memtype=DATA).

NOTE: PROCEDURE DATASETS used (Total process time):
      real time           0.04 seconds
      cpu time            0.04 seconds
      

MPRINT(VARDEPT):   data _temp5;
MPRINT(VARDEPT):   set _temp5;
MPRINT(VARDEPT):   where LHS ne NAME and node ne '';
MPRINT(VARDEPT):   run;

NOTE: There were 2 observations read from the data set WORK._TEMP5.
      WHERE (LHS not = NAME) and (node not = ' ');
NOTE: The data set WORK._TEMP5 has 2 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

MPRINT(VARDEPT):   proc sort data=_temp5 nodupkey;
MPRINT(VARDEPT):   by LHS NAME;
MPRINT(VARDEPT):   run;

NOTE: There were 2 observations read from the data set WORK._TEMP5.
NOTE: 0 observations with duplicate key values were deleted.
NOTE: The data set WORK._TEMP5 has 2 observations and 3 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

MPRINT(OPTCODE):  ;
MPRINT(VARDEPT):   proc sort data=EMWS8.Ensmbl23_FCMP out=_tempid;
MPRINT(VARDEPT):   where id=6;
MPRINT(VARDEPT):   by LHS;
MPRINT(VARDEPT):   run;

NOTE: There were 39 observations read from the data set EMWS8.ENSMBL23_FCMP.
      WHERE id=6;
NOTE: The data set WORK._TEMPID has 39 observations and 5 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

MPRINT(VARDEPT):   data _tempAll;
MPRINT(VARDEPT):   set _temp2 _temp5 ;
MPRINT(VARDEPT):   run;

NOTE: There were 27 observations read from the data set WORK._TEMP2.
NOTE: There were 2 observations read from the data set WORK._TEMP5.
NOTE: The data set WORK._TEMPALL has 29 observations and 5 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

MPRINT(VARDEPT):   proc sql;
MPRINT(VARDEPT):   create table _temp6 as select p2.lhs, p2.name, p2.Node from work._tempAll 
p, work._tempid p2 where p.name=p2.lhs;
NOTE: Table WORK._TEMP6 created, with 33 rows and 3 columns.

MPRINT(VARDEPT):   quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

MPRINT(VARDEPT):   data _temp6;
MPRINT(VARDEPT):   set _temp6;
MPRINT(VARDEPT):   where LHS ne '' and NAME ne '' and Node ne '';
MPRINT(VARDEPT):   run;

NOTE: There were 33 observations read from the data set WORK._TEMP6.
      WHERE (LHS not = ' ') and (NAME not = ' ') and (Node not = ' ');
NOTE: The data set WORK._TEMP6 has 33 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

MPRINT(VARDEPT):   proc datasets lib=work nolist;
MPRINT(VARDEPT):   delete _tempAll;
MPRINT(VARDEPT):   run;

NOTE: Deleting WORK._TEMPALL (memtype=DATA).

NOTE: PROCEDURE DATASETS used (Total process time):
      real time           0.04 seconds
      cpu time            0.04 seconds
      

MPRINT(VARDEPT):   data _temp6;
MPRINT(VARDEPT):   set _temp6;
MPRINT(VARDEPT):   where LHS ne NAME and node ne '';
MPRINT(VARDEPT):   run;

NOTE: There were 33 observations read from the data set WORK._TEMP6.
      WHERE (LHS not = NAME) and (node not = ' ');
NOTE: The data set WORK._TEMP6 has 33 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

MPRINT(VARDEPT):   proc sort data=_temp6 nodupkey;
MPRINT(VARDEPT):   by LHS NAME;
MPRINT(VARDEPT):   run;

NOTE: There were 33 observations read from the data set WORK._TEMP6.
NOTE: 0 observations with duplicate key values were deleted.
NOTE: The data set WORK._TEMP6 has 33 observations and 3 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

MPRINT(OPTCODE):  ;
MPRINT(VARDEPT):   proc sort data=EMWS8.Ensmbl23_FCMP out=_tempid;
MPRINT(VARDEPT):   where id=7;
MPRINT(VARDEPT):   by LHS;
MPRINT(VARDEPT):   run;

NOTE: There were 66 observations read from the data set EMWS8.ENSMBL23_FCMP.
      WHERE id=7;
NOTE: The data set WORK._TEMPID has 66 observations and 5 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

MPRINT(VARDEPT):   data _tempAll;
MPRINT(VARDEPT):   set _temp2 _temp5 _temp6 ;
MPRINT(VARDEPT):   run;

NOTE: There were 27 observations read from the data set WORK._TEMP2.
NOTE: There were 2 observations read from the data set WORK._TEMP5.
NOTE: There were 33 observations read from the data set WORK._TEMP6.
NOTE: The data set WORK._TEMPALL has 62 observations and 5 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

MPRINT(VARDEPT):   proc sql;
MPRINT(VARDEPT):   create table _temp7 as select p2.lhs, p2.name, p2.Node from work._tempAll 
p, work._tempid p2 where p.name=p2.lhs;
NOTE: Table WORK._TEMP7 created, with 0 rows and 3 columns.

MPRINT(VARDEPT):   quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

MPRINT(VARDEPT):   data _temp7;
MPRINT(VARDEPT):   set _temp7;
MPRINT(VARDEPT):   where LHS ne '' and NAME ne '' and Node ne '';
MPRINT(VARDEPT):   run;

NOTE: There were 0 observations read from the data set WORK._TEMP7.
      WHERE (LHS not = ' ') and (NAME not = ' ') and (Node not = ' ');
NOTE: The data set WORK._TEMP7 has 0 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

MPRINT(VARDEPT):   proc datasets lib=work nolist;
MPRINT(VARDEPT):   delete _tempAll;
MPRINT(VARDEPT):   run;

NOTE: Deleting WORK._TEMPALL (memtype=DATA).

NOTE: PROCEDURE DATASETS used (Total process time):
      real time           0.04 seconds
      cpu time            0.04 seconds
      

MPRINT(VARDEPT):   proc datasets lib=work nolist;
MPRINT(VARDEPT):   delete _temp7;
MPRINT(VARDEPT):   run;

NOTE: Deleting WORK._TEMP7 (memtype=DATA).
MPRINT(VARDEPT):   quit;

NOTE: PROCEDURE DATASETS used (Total process time):
      real time           0.04 seconds
      cpu time            0.04 seconds
      

MPRINT(OPTCODE):  ;
MPRINT(VARDEPT):   proc sort data=EMWS8.Ensmbl23_FCMP out=_tempid;
MPRINT(VARDEPT):   where id=8;
MPRINT(VARDEPT):   by LHS;
MPRINT(VARDEPT):   run;

NOTE: Input data set is empty.
NOTE: There were 0 observations read from the data set EMWS8.ENSMBL23_FCMP.
      WHERE id=8;
NOTE: The data set WORK._TEMPID has 0 observations and 5 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

MPRINT(VARDEPT):   proc datasets lib=work nolist;
MPRINT(VARDEPT):   delete _tempid;
MPRINT(VARDEPT):   run;

NOTE: Deleting WORK._TEMPID (memtype=DATA).
MPRINT(VARDEPT):   quit;

NOTE: PROCEDURE DATASETS used (Total process time):
      real time           0.04 seconds
      cpu time            0.04 seconds
      

MPRINT(OPTCODE):  ;
MPRINT(VARDEPT):   proc sort data=EMWS8.Ensmbl23_FCMP out=_tempid;
MPRINT(VARDEPT):   where id=9;
MPRINT(VARDEPT):   by LHS;
MPRINT(VARDEPT):   run;

NOTE: Input data set is empty.
NOTE: There were 0 observations read from the data set EMWS8.ENSMBL23_FCMP.
      WHERE id=9;
NOTE: The data set WORK._TEMPID has 0 observations and 5 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

MPRINT(VARDEPT):   proc datasets lib=work nolist;
MPRINT(VARDEPT):   delete _tempid;
MPRINT(VARDEPT):   run;

NOTE: Deleting WORK._TEMPID (memtype=DATA).
MPRINT(VARDEPT):   quit;

NOTE: PROCEDURE DATASETS used (Total process time):
      real time           0.04 seconds
      cpu time            0.04 seconds
      

MPRINT(OPTCODE):  ;
MPRINT(EM_DIAGRAM):  ;

2148057    data _all_;
MPRINT(EM_DIAGRAM):    data _all_;
2148058    set EMWS8.Trans_EMSCOREVAR;
MPRINT(EM_DIAGRAM):   set EMWS8.Trans_EMSCOREVAR;
2148059    where NAME='' and file ne '' and ^index(file, '_POSTALL_.sas');
MPRINT(EM_DIAGRAM):   where NAME='' and file ne '' and ^index(file, '_POSTALL_.sas');
2148060    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 0 observations read from the data set EMWS8.TRANS_EMSCOREVAR.
      WHERE (NAME=' ') and (file not = ' ') and (not INDEX(file, '_POSTALL_.sas'));
NOTE: The data set WORK._ALL_ has 0 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

2148061    data _postall_;
MPRINT(EM_DIAGRAM):   data _postall_;
2148062    set EMWS8.Trans_EMSCOREVAR;
MPRINT(EM_DIAGRAM):   set EMWS8.Trans_EMSCOREVAR;
2148063    where NAME='' and file ne '' and index(file, '_POSTALL_.sas');
MPRINT(EM_DIAGRAM):   where NAME='' and file ne '' and index(file, '_POSTALL_.sas');
2148064    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 0 observations read from the data set EMWS8.TRANS_EMSCOREVAR.
      WHERE (NAME=' ') and (file not = ' ') and INDEX(file, '_POSTALL_.sas');
NOTE: The data set WORK._POSTALL_ has 0 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

2148065    proc sql;
MPRINT(EM_DIAGRAM):   proc sql;
2148066    create table _CodeVar5 as select p.lhs, p2.formula, p2.file from _temp5 p,
2148066  ! EMWS8.Trans_EMSCOREVAR p2 where upcase(p.LHS)=upcase(p2.NAME) order by p.lhs;
MPRINT(EM_DIAGRAM):   create table _CodeVar5 as select p.lhs, p2.formula, p2.file from _temp5 
p, EMWS8.Trans_EMSCOREVAR p2 where upcase(p.LHS)=upcase(p2.NAME) order by p.lhs;
NOTE: Table WORK._CODEVAR5 created, with 2 rows and 3 columns.

2148067    quit;
MPRINT(EM_DIAGRAM):   quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

2148068    data _CodeVar5;
MPRINT(EM_DIAGRAM):   data _CodeVar5;
2148069    set _all_ _CodeVar5 _postall_;
MPRINT(EM_DIAGRAM):   set _all_ _CodeVar5 _postall_;
2148070    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 0 observations read from the data set WORK._ALL_.
NOTE: There were 2 observations read from the data set WORK._CODEVAR5.
NOTE: There were 0 observations read from the data set WORK._POSTALL_.
NOTE: The data set WORK._CODEVAR5 has 2 observations and 4 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

2148071    filename _pref
2148071  ! "C:\\predictive-models-project\Workspaces\EMWS8\Neural39\EMPUBLISHSCORE.sas";
MPRINT(EM_DIAGRAM):    filename _pref 
"C:\\predictive-models-project\Workspaces\EMWS8\Neural39\EMPUBLISHSCORE.sas";
2148072    proc FCMP NOEXECUTE IMPUTEDDEPS OUTDEPS=_temp;
MPRINT(EM_DIAGRAM):   proc FCMP NOEXECUTE IMPUTEDDEPS OUTDEPS=_temp;
2148073    %INCLUDE _pref;
NOTE: %INCLUDE (level 1) file _PREF is file 
      C:\\predictive-models-project\Workspaces\EMWS8\Neural39\EMPUBLISHSCORE.sas.
2148074   +***********************************;
MPRINT(EM_DIAGRAM):   ***********************************;
2148075   +*** Begin Scoring Code for Neural;
MPRINT(EM_DIAGRAM):   *** Begin Scoring Code for Neural;
2148076   +***********************************;
MPRINT(EM_DIAGRAM):   ***********************************;
2148077   +DROP _DM_BAD _EPS _NOCL_ _MAX_ _MAXP_ _SUM_ _NTRIALS;
MPRINT(EM_DIAGRAM):   DROP _DM_BAD _EPS _NOCL_ _MAX_ _MAXP_ _SUM_ _NTRIALS;
2148078   + _DM_BAD = 0;
MPRINT(EM_DIAGRAM):   _DM_BAD = 0;
2148079   + _NOCL_ = .;
MPRINT(EM_DIAGRAM):   _NOCL_ = .;
2148080   + _MAX_ = .;
MPRINT(EM_DIAGRAM):   _MAX_ = .;
2148081   + _MAXP_ = .;
MPRINT(EM_DIAGRAM):   _MAXP_ = .;
2148082   + _SUM_ = .;
MPRINT(EM_DIAGRAM):   _SUM_ = .;
2148083   + _NTRIALS = .;
MPRINT(EM_DIAGRAM):   _NTRIALS = .;
2148084   + _EPS =                1E-10;
MPRINT(EM_DIAGRAM):   _EPS = 1E-10;
2148085   +LENGTH _WARN_ $4
2148086   +;
MPRINT(EM_DIAGRAM):   LENGTH _WARN_ $4 ;
2148087   +      label S_AcceptedCmpTotal = 'Standard: AcceptedCmpTotal' ;
MPRINT(EM_DIAGRAM):   label S_AcceptedCmpTotal = 'Standard: AcceptedCmpTotal' ;
2148088   +
2148089   +      label S_Age = 'Standard: Age' ;
MPRINT(EM_DIAGRAM):   label S_Age = 'Standard: Age' ;
2148090   +
2148091   +      label S_Frq = 'Standard: Frq' ;
MPRINT(EM_DIAGRAM):   label S_Frq = 'Standard: Frq' ;
2148092   +
2148093   +      label S_Income = 'Standard: Income' ;
MPRINT(EM_DIAGRAM):   label S_Income = 'Standard: Income' ;
2148094   +
2148095   +      label S_Kidhome = 'Standard: Kidhome' ;
MPRINT(EM_DIAGRAM):   label S_Kidhome = 'Standard: Kidhome' ;
2148096   +
2148097   +      label S_MntFishProducts = 'Standard: MntFishProducts' ;
MPRINT(EM_DIAGRAM):   label S_MntFishProducts = 'Standard: MntFishProducts' ;
2148098   +
2148099   +      label S_MntFruits = 'Standard: MntFruits' ;
MPRINT(EM_DIAGRAM):   label S_MntFruits = 'Standard: MntFruits' ;
2148100   +
2148101   +      label S_MntGoldProds = 'Standard: MntGoldProds' ;
MPRINT(EM_DIAGRAM):   label S_MntGoldProds = 'Standard: MntGoldProds' ;
2148102   +
2148103   +      label S_MntSweetProducts = 'Standard: MntSweetProducts' ;
MPRINT(EM_DIAGRAM):   label S_MntSweetProducts = 'Standard: MntSweetProducts' ;
2148104   +
2148105   +      label S_MonthsAsCustomer = 'Standard: MonthsAsCustomer' ;
MPRINT(EM_DIAGRAM):   label S_MonthsAsCustomer = 'Standard: MonthsAsCustomer' ;
2148106   +
2148107   +      label S_NumDealsPurchases = 'Standard: NumDealsPurchases' ;
MPRINT(EM_DIAGRAM):   label S_NumDealsPurchases = 'Standard: NumDealsPurchases' ;
2148108   +
2148109   +      label S_NumWebVisitsMonth = 'Standard: NumWebVisitsMonth' ;
MPRINT(EM_DIAGRAM):   label S_NumWebVisitsMonth = 'Standard: NumWebVisitsMonth' ;
2148110   +
2148111   +      label S_RFMstat = 'Standard: RFMstat' ;
MPRINT(EM_DIAGRAM):   label S_RFMstat = 'Standard: RFMstat' ;
2148112   +
2148113   +      label S_RMntFrq = 'Standard: RMntFrq' ;
MPRINT(EM_DIAGRAM):   label S_RMntFrq = 'Standard: RMntFrq' ;
2148114   +
2148115   +      label S_Recency = 'Standard: Recency' ;
MPRINT(EM_DIAGRAM):   label S_Recency = 'Standard: Recency' ;
2148116   +
2148117   +      label S_Teenhome = 'Standard: Teenhome' ;
MPRINT(EM_DIAGRAM):   label S_Teenhome = 'Standard: Teenhome' ;
2148118   +
2148119   +      label AcceptedCmp10 = 'Dummy: AcceptedCmp1=0' ;
MPRINT(EM_DIAGRAM):   label AcceptedCmp10 = 'Dummy: AcceptedCmp1=0' ;
2148120   +
2148121   +      label AcceptedCmp20 = 'Dummy: AcceptedCmp2=0' ;
MPRINT(EM_DIAGRAM):   label AcceptedCmp20 = 'Dummy: AcceptedCmp2=0' ;
2148122   +
2148123   +      label AcceptedCmp30 = 'Dummy: AcceptedCmp3=0' ;
MPRINT(EM_DIAGRAM):   label AcceptedCmp30 = 'Dummy: AcceptedCmp3=0' ;
2148124   +
2148125   +      label AcceptedCmp40 = 'Dummy: AcceptedCmp4=0' ;
MPRINT(EM_DIAGRAM):   label AcceptedCmp40 = 'Dummy: AcceptedCmp4=0' ;
2148126   +
2148127   +      label AcceptedCmp50 = 'Dummy: AcceptedCmp5=0' ;
MPRINT(EM_DIAGRAM):   label AcceptedCmp50 = 'Dummy: AcceptedCmp5=0' ;
2148128   +
2148129   +      label Complain0 = 'Dummy: Complain=0' ;
MPRINT(EM_DIAGRAM):   label Complain0 = 'Dummy: Complain=0' ;
2148130   +
2148131   +      label HigherEducationBinary0 = 'Dummy: HigherEducationBinary=0' ;
MPRINT(EM_DIAGRAM):   label HigherEducationBinary0 = 'Dummy: HigherEducationBinary=0' ;
2148132   +
2148133   +      label Education2n_Cycle = 'Dummy: Education=2n Cycle' ;
MPRINT(EM_DIAGRAM):   label Education2n_Cycle = 'Dummy: Education=2n Cycle' ;
2148134   +
2148135   +      label EducationBasic = 'Dummy: Education=Basic' ;
MPRINT(EM_DIAGRAM):   label EducationBasic = 'Dummy: Education=Basic' ;
2148136   +
2148137   +      label EducationGraduation = 'Dummy: Education=Graduation' ;
MPRINT(EM_DIAGRAM):   label EducationGraduation = 'Dummy: Education=Graduation' ;
2148138   +
2148139   +      label EducationMaster = 'Dummy: Education=Master' ;
MPRINT(EM_DIAGRAM):   label EducationMaster = 'Dummy: Education=Master' ;
2148140   +
2148141   +      label Marital_StatusDivorced = 'Dummy: Marital_Status=Divorced' ;
MPRINT(EM_DIAGRAM):   label Marital_StatusDivorced = 'Dummy: Marital_Status=Divorced' ;
2148142   +
2148143   +      label Marital_StatusMarried = 'Dummy: Marital_Status=Married' ;
MPRINT(EM_DIAGRAM):   label Marital_StatusMarried = 'Dummy: Marital_Status=Married' ;
2148144   +
2148145   +      label Marital_StatusSingle = 'Dummy: Marital_Status=Single' ;
MPRINT(EM_DIAGRAM):   label Marital_StatusSingle = 'Dummy: Marital_Status=Single' ;
2148146   +
2148147   +      label Marital_StatusTogether = 'Dummy: Marital_Status=Together' ;
MPRINT(EM_DIAGRAM):   label Marital_StatusTogether = 'Dummy: Marital_Status=Together' ;
2148148   +
2148149   +      label H11 = 'Hidden: H1=1' ;
MPRINT(EM_DIAGRAM):   label H11 = 'Hidden: H1=1' ;
2148150   +
2148151   +      label H12 = 'Hidden: H1=2' ;
MPRINT(EM_DIAGRAM):   label H12 = 'Hidden: H1=2' ;
2148152   +
2148153   +      label H13 = 'Hidden: H1=3' ;
MPRINT(EM_DIAGRAM):   label H13 = 'Hidden: H1=3' ;
2148154   +
2148155   +      label H14 = 'Hidden: H1=4' ;
MPRINT(EM_DIAGRAM):   label H14 = 'Hidden: H1=4' ;
2148156   +
2148157   +      label I_DepVar = 'Into: DepVar' ;
MPRINT(EM_DIAGRAM):   label I_DepVar = 'Into: DepVar' ;
2148158   +
2148159   +      label U_DepVar = 'Unnormalized Into: DepVar' ;
MPRINT(EM_DIAGRAM):   label U_DepVar = 'Unnormalized Into: DepVar' ;
2148160   +
2148161   +      label P_DepVar1 = 'Predicted: DepVar=1' ;
MPRINT(EM_DIAGRAM):   label P_DepVar1 = 'Predicted: DepVar=1' ;
2148162   +
2148163   +      label P_DepVar0 = 'Predicted: DepVar=0' ;
MPRINT(EM_DIAGRAM):   label P_DepVar0 = 'Predicted: DepVar=0' ;
2148164   +
2148165   +      label  _WARN_ = "Warnings";
MPRINT(EM_DIAGRAM):   label _WARN_ = "Warnings";
2148166   +
2148167   +*** Generate dummy variables for AcceptedCmp1 ;
MPRINT(EM_DIAGRAM):   *** Generate dummy variables for AcceptedCmp1 ;
2148168   +drop AcceptedCmp10 ;
MPRINT(EM_DIAGRAM):   drop AcceptedCmp10 ;
2148169   +if missing( AcceptedCmp1 ) then do;
MPRINT(EM_DIAGRAM):   if missing( AcceptedCmp1 ) then do;
2148170   +   AcceptedCmp10 = .;
MPRINT(EM_DIAGRAM):   AcceptedCmp10 = .;
2148171   +   substr(_warn_,1,1) = 'M';
MPRINT(EM_DIAGRAM):   substr(_warn_,1,1) = 'M';
2148172   +   _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2148173   +end;
MPRINT(EM_DIAGRAM):   end;
2148174   +else do;
MPRINT(EM_DIAGRAM):   else do;
2148175   +   length _dm12 $ 12; drop _dm12 ;
MPRINT(EM_DIAGRAM):   length _dm12 $ 12;
MPRINT(EM_DIAGRAM):   drop _dm12 ;
2148176   +   _dm12 = put( AcceptedCmp1 , BEST. );
MPRINT(EM_DIAGRAM):   _dm12 = put( AcceptedCmp1 , BEST. );
2148177   +   %DMNORMIP( _dm12 )
MPRINT(DMNORMIP):   call dmnorm(_dm12,
MPRINT(DMNORLEN):  32
MPRINT(DMNORMIP):  );
2148178   +   if _dm12 = '0'  then do;
MPRINT(EM_DIAGRAM):   if _dm12 = '0' then do;
2148179   +      AcceptedCmp10 = 1;
MPRINT(EM_DIAGRAM):   AcceptedCmp10 = 1;
2148180   +   end;
MPRINT(EM_DIAGRAM):   end;
2148181   +   else if _dm12 = '1'  then do;
MPRINT(EM_DIAGRAM):   else if _dm12 = '1' then do;
2148182   +      AcceptedCmp10 = -1;
MPRINT(EM_DIAGRAM):   AcceptedCmp10 = -1;
2148183   +   end;
MPRINT(EM_DIAGRAM):   end;
2148184   +   else do;
MPRINT(EM_DIAGRAM):   else do;
2148185   +      AcceptedCmp10 = .;
MPRINT(EM_DIAGRAM):   AcceptedCmp10 = .;
2148186   +      substr(_warn_,2,1) = 'U';
MPRINT(EM_DIAGRAM):   substr(_warn_,2,1) = 'U';
2148187   +      _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2148188   +   end;
MPRINT(EM_DIAGRAM):   end;
2148189   +end;
MPRINT(EM_DIAGRAM):   end;
2148190   +
2148191   +*** Generate dummy variables for AcceptedCmp2 ;
MPRINT(EM_DIAGRAM):   *** Generate dummy variables for AcceptedCmp2 ;
2148192   +drop AcceptedCmp20 ;
MPRINT(EM_DIAGRAM):   drop AcceptedCmp20 ;
2148193   +if missing( AcceptedCmp2 ) then do;
MPRINT(EM_DIAGRAM):   if missing( AcceptedCmp2 ) then do;
2148194   +   AcceptedCmp20 = .;
MPRINT(EM_DIAGRAM):   AcceptedCmp20 = .;
2148195   +   substr(_warn_,1,1) = 'M';
MPRINT(EM_DIAGRAM):   substr(_warn_,1,1) = 'M';
2148196   +   _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2148197   +end;
MPRINT(EM_DIAGRAM):   end;
2148198   +else do;
MPRINT(EM_DIAGRAM):   else do;
2148199   +   length _dm12 $ 12; drop _dm12 ;
MPRINT(EM_DIAGRAM):   length _dm12 $ 12;
MPRINT(EM_DIAGRAM):   drop _dm12 ;
2148200   +   _dm12 = put( AcceptedCmp2 , BEST. );
MPRINT(EM_DIAGRAM):   _dm12 = put( AcceptedCmp2 , BEST. );
2148201   +   %DMNORMIP( _dm12 )
MPRINT(DMNORMIP):   call dmnorm(_dm12,
MPRINT(DMNORLEN):  32
MPRINT(DMNORMIP):  );
2148202   +   if _dm12 = '0'  then do;
MPRINT(EM_DIAGRAM):   if _dm12 = '0' then do;
2148203   +      AcceptedCmp20 = 1;
MPRINT(EM_DIAGRAM):   AcceptedCmp20 = 1;
2148204   +   end;
MPRINT(EM_DIAGRAM):   end;
2148205   +   else if _dm12 = '1'  then do;
MPRINT(EM_DIAGRAM):   else if _dm12 = '1' then do;
2148206   +      AcceptedCmp20 = -1;
MPRINT(EM_DIAGRAM):   AcceptedCmp20 = -1;
2148207   +   end;
MPRINT(EM_DIAGRAM):   end;
2148208   +   else do;
MPRINT(EM_DIAGRAM):   else do;
2148209   +      AcceptedCmp20 = .;
MPRINT(EM_DIAGRAM):   AcceptedCmp20 = .;
2148210   +      substr(_warn_,2,1) = 'U';
MPRINT(EM_DIAGRAM):   substr(_warn_,2,1) = 'U';
2148211   +      _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2148212   +   end;
MPRINT(EM_DIAGRAM):   end;
2148213   +end;
MPRINT(EM_DIAGRAM):   end;
2148214   +
2148215   +*** Generate dummy variables for AcceptedCmp3 ;
MPRINT(EM_DIAGRAM):   *** Generate dummy variables for AcceptedCmp3 ;
2148216   +drop AcceptedCmp30 ;
MPRINT(EM_DIAGRAM):   drop AcceptedCmp30 ;
2148217   +if missing( AcceptedCmp3 ) then do;
MPRINT(EM_DIAGRAM):   if missing( AcceptedCmp3 ) then do;
2148218   +   AcceptedCmp30 = .;
MPRINT(EM_DIAGRAM):   AcceptedCmp30 = .;
2148219   +   substr(_warn_,1,1) = 'M';
MPRINT(EM_DIAGRAM):   substr(_warn_,1,1) = 'M';
2148220   +   _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2148221   +end;
MPRINT(EM_DIAGRAM):   end;
2148222   +else do;
MPRINT(EM_DIAGRAM):   else do;
2148223   +   length _dm12 $ 12; drop _dm12 ;
MPRINT(EM_DIAGRAM):   length _dm12 $ 12;
MPRINT(EM_DIAGRAM):   drop _dm12 ;
2148224   +   _dm12 = put( AcceptedCmp3 , BEST. );
MPRINT(EM_DIAGRAM):   _dm12 = put( AcceptedCmp3 , BEST. );
2148225   +   %DMNORMIP( _dm12 )
MPRINT(DMNORMIP):   call dmnorm(_dm12,
MPRINT(DMNORLEN):  32
MPRINT(DMNORMIP):  );
2148226   +   if _dm12 = '0'  then do;
MPRINT(EM_DIAGRAM):   if _dm12 = '0' then do;
2148227   +      AcceptedCmp30 = 1;
MPRINT(EM_DIAGRAM):   AcceptedCmp30 = 1;
2148228   +   end;
MPRINT(EM_DIAGRAM):   end;
2148229   +   else if _dm12 = '1'  then do;
MPRINT(EM_DIAGRAM):   else if _dm12 = '1' then do;
2148230   +      AcceptedCmp30 = -1;
MPRINT(EM_DIAGRAM):   AcceptedCmp30 = -1;
2148231   +   end;
MPRINT(EM_DIAGRAM):   end;
2148232   +   else do;
MPRINT(EM_DIAGRAM):   else do;
2148233   +      AcceptedCmp30 = .;
MPRINT(EM_DIAGRAM):   AcceptedCmp30 = .;
2148234   +      substr(_warn_,2,1) = 'U';
MPRINT(EM_DIAGRAM):   substr(_warn_,2,1) = 'U';
2148235   +      _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2148236   +   end;
MPRINT(EM_DIAGRAM):   end;
2148237   +end;
MPRINT(EM_DIAGRAM):   end;
2148238   +
2148239   +*** Generate dummy variables for AcceptedCmp4 ;
MPRINT(EM_DIAGRAM):   *** Generate dummy variables for AcceptedCmp4 ;
2148240   +drop AcceptedCmp40 ;
MPRINT(EM_DIAGRAM):   drop AcceptedCmp40 ;
2148241   +if missing( AcceptedCmp4 ) then do;
MPRINT(EM_DIAGRAM):   if missing( AcceptedCmp4 ) then do;
2148242   +   AcceptedCmp40 = .;
MPRINT(EM_DIAGRAM):   AcceptedCmp40 = .;
2148243   +   substr(_warn_,1,1) = 'M';
MPRINT(EM_DIAGRAM):   substr(_warn_,1,1) = 'M';
2148244   +   _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2148245   +end;
MPRINT(EM_DIAGRAM):   end;
2148246   +else do;
MPRINT(EM_DIAGRAM):   else do;
2148247   +   length _dm12 $ 12; drop _dm12 ;
MPRINT(EM_DIAGRAM):   length _dm12 $ 12;
MPRINT(EM_DIAGRAM):   drop _dm12 ;
2148248   +   _dm12 = put( AcceptedCmp4 , BEST. );
MPRINT(EM_DIAGRAM):   _dm12 = put( AcceptedCmp4 , BEST. );
2148249   +   %DMNORMIP( _dm12 )
MPRINT(DMNORMIP):   call dmnorm(_dm12,
MPRINT(DMNORLEN):  32
MPRINT(DMNORMIP):  );
2148250   +   if _dm12 = '0'  then do;
MPRINT(EM_DIAGRAM):   if _dm12 = '0' then do;
2148251   +      AcceptedCmp40 = 1;
MPRINT(EM_DIAGRAM):   AcceptedCmp40 = 1;
2148252   +   end;
MPRINT(EM_DIAGRAM):   end;
2148253   +   else if _dm12 = '1'  then do;
MPRINT(EM_DIAGRAM):   else if _dm12 = '1' then do;
2148254   +      AcceptedCmp40 = -1;
MPRINT(EM_DIAGRAM):   AcceptedCmp40 = -1;
2148255   +   end;
MPRINT(EM_DIAGRAM):   end;
2148256   +   else do;
MPRINT(EM_DIAGRAM):   else do;
2148257   +      AcceptedCmp40 = .;
MPRINT(EM_DIAGRAM):   AcceptedCmp40 = .;
2148258   +      substr(_warn_,2,1) = 'U';
MPRINT(EM_DIAGRAM):   substr(_warn_,2,1) = 'U';
2148259   +      _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2148260   +   end;
MPRINT(EM_DIAGRAM):   end;
2148261   +end;
MPRINT(EM_DIAGRAM):   end;
2148262   +
2148263   +*** Generate dummy variables for AcceptedCmp5 ;
MPRINT(EM_DIAGRAM):   *** Generate dummy variables for AcceptedCmp5 ;
2148264   +drop AcceptedCmp50 ;
MPRINT(EM_DIAGRAM):   drop AcceptedCmp50 ;
2148265   +if missing( AcceptedCmp5 ) then do;
MPRINT(EM_DIAGRAM):   if missing( AcceptedCmp5 ) then do;
2148266   +   AcceptedCmp50 = .;
MPRINT(EM_DIAGRAM):   AcceptedCmp50 = .;
2148267   +   substr(_warn_,1,1) = 'M';
MPRINT(EM_DIAGRAM):   substr(_warn_,1,1) = 'M';
2148268   +   _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2148269   +end;
MPRINT(EM_DIAGRAM):   end;
2148270   +else do;
MPRINT(EM_DIAGRAM):   else do;
2148271   +   length _dm12 $ 12; drop _dm12 ;
MPRINT(EM_DIAGRAM):   length _dm12 $ 12;
MPRINT(EM_DIAGRAM):   drop _dm12 ;
2148272   +   _dm12 = put( AcceptedCmp5 , BEST. );
MPRINT(EM_DIAGRAM):   _dm12 = put( AcceptedCmp5 , BEST. );
2148273   +   %DMNORMIP( _dm12 )
MPRINT(DMNORMIP):   call dmnorm(_dm12,
MPRINT(DMNORLEN):  32
MPRINT(DMNORMIP):  );
2148274   +   if _dm12 = '0'  then do;
MPRINT(EM_DIAGRAM):   if _dm12 = '0' then do;
2148275   +      AcceptedCmp50 = 1;
MPRINT(EM_DIAGRAM):   AcceptedCmp50 = 1;
2148276   +   end;
MPRINT(EM_DIAGRAM):   end;
2148277   +   else if _dm12 = '1'  then do;
MPRINT(EM_DIAGRAM):   else if _dm12 = '1' then do;
2148278   +      AcceptedCmp50 = -1;
MPRINT(EM_DIAGRAM):   AcceptedCmp50 = -1;
2148279   +   end;
MPRINT(EM_DIAGRAM):   end;
2148280   +   else do;
MPRINT(EM_DIAGRAM):   else do;
2148281   +      AcceptedCmp50 = .;
MPRINT(EM_DIAGRAM):   AcceptedCmp50 = .;
2148282   +      substr(_warn_,2,1) = 'U';
MPRINT(EM_DIAGRAM):   substr(_warn_,2,1) = 'U';
2148283   +      _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2148284   +   end;
MPRINT(EM_DIAGRAM):   end;
2148285   +end;
MPRINT(EM_DIAGRAM):   end;
2148286   +
2148287   +*** Generate dummy variables for Complain ;
MPRINT(EM_DIAGRAM):   *** Generate dummy variables for Complain ;
2148288   +drop Complain0 ;
MPRINT(EM_DIAGRAM):   drop Complain0 ;
2148289   +if missing( Complain ) then do;
MPRINT(EM_DIAGRAM):   if missing( Complain ) then do;
2148290   +   Complain0 = .;
MPRINT(EM_DIAGRAM):   Complain0 = .;
2148291   +   substr(_warn_,1,1) = 'M';
MPRINT(EM_DIAGRAM):   substr(_warn_,1,1) = 'M';
2148292   +   _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2148293   +end;
MPRINT(EM_DIAGRAM):   end;
2148294   +else do;
MPRINT(EM_DIAGRAM):   else do;
2148295   +   length _dm12 $ 12; drop _dm12 ;
MPRINT(EM_DIAGRAM):   length _dm12 $ 12;
MPRINT(EM_DIAGRAM):   drop _dm12 ;
2148296   +   _dm12 = put( Complain , BEST. );
MPRINT(EM_DIAGRAM):   _dm12 = put( Complain , BEST. );
2148297   +   %DMNORMIP( _dm12 )
MPRINT(DMNORMIP):   call dmnorm(_dm12,
MPRINT(DMNORLEN):  32
MPRINT(DMNORMIP):  );
2148298   +   if _dm12 = '0'  then do;
MPRINT(EM_DIAGRAM):   if _dm12 = '0' then do;
2148299   +      Complain0 = 1;
MPRINT(EM_DIAGRAM):   Complain0 = 1;
2148300   +   end;
MPRINT(EM_DIAGRAM):   end;
2148301   +   else if _dm12 = '1'  then do;
MPRINT(EM_DIAGRAM):   else if _dm12 = '1' then do;
2148302   +      Complain0 = -1;
MPRINT(EM_DIAGRAM):   Complain0 = -1;
2148303   +   end;
MPRINT(EM_DIAGRAM):   end;
2148304   +   else do;
MPRINT(EM_DIAGRAM):   else do;
2148305   +      Complain0 = .;
MPRINT(EM_DIAGRAM):   Complain0 = .;
2148306   +      substr(_warn_,2,1) = 'U';
MPRINT(EM_DIAGRAM):   substr(_warn_,2,1) = 'U';
2148307   +      _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2148308   +   end;
MPRINT(EM_DIAGRAM):   end;
2148309   +end;
MPRINT(EM_DIAGRAM):   end;
2148310   +
2148311   +*** Generate dummy variables for HigherEducationBinary ;
MPRINT(EM_DIAGRAM):   *** Generate dummy variables for HigherEducationBinary ;
2148312   +drop HigherEducationBinary0 ;
MPRINT(EM_DIAGRAM):   drop HigherEducationBinary0 ;
2148313   +if missing( HigherEducationBinary ) then do;
MPRINT(EM_DIAGRAM):   if missing( HigherEducationBinary ) then do;
2148314   +   HigherEducationBinary0 = .;
MPRINT(EM_DIAGRAM):   HigherEducationBinary0 = .;
2148315   +   substr(_warn_,1,1) = 'M';
MPRINT(EM_DIAGRAM):   substr(_warn_,1,1) = 'M';
2148316   +   _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2148317   +end;
MPRINT(EM_DIAGRAM):   end;
2148318   +else do;
MPRINT(EM_DIAGRAM):   else do;
2148319   +   length _dm12 $ 12; drop _dm12 ;
MPRINT(EM_DIAGRAM):   length _dm12 $ 12;
MPRINT(EM_DIAGRAM):   drop _dm12 ;
2148320   +   _dm12 = put( HigherEducationBinary , BEST12. );
MPRINT(EM_DIAGRAM):   _dm12 = put( HigherEducationBinary , BEST12. );
2148321   +   %DMNORMIP( _dm12 )
MPRINT(DMNORMIP):   call dmnorm(_dm12,
MPRINT(DMNORLEN):  32
MPRINT(DMNORMIP):  );
2148322   +   if _dm12 = '1'  then do;
MPRINT(EM_DIAGRAM):   if _dm12 = '1' then do;
2148323   +      HigherEducationBinary0 = -1;
MPRINT(EM_DIAGRAM):   HigherEducationBinary0 = -1;
2148324   +   end;
MPRINT(EM_DIAGRAM):   end;
2148325   +   else if _dm12 = '0'  then do;
MPRINT(EM_DIAGRAM):   else if _dm12 = '0' then do;
2148326   +      HigherEducationBinary0 = 1;
MPRINT(EM_DIAGRAM):   HigherEducationBinary0 = 1;
2148327   +   end;
MPRINT(EM_DIAGRAM):   end;
2148328   +   else do;
MPRINT(EM_DIAGRAM):   else do;
2148329   +      HigherEducationBinary0 = .;
MPRINT(EM_DIAGRAM):   HigherEducationBinary0 = .;
2148330   +      substr(_warn_,2,1) = 'U';
MPRINT(EM_DIAGRAM):   substr(_warn_,2,1) = 'U';
2148331   +      _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2148332   +   end;
MPRINT(EM_DIAGRAM):   end;
2148333   +end;
MPRINT(EM_DIAGRAM):   end;
2148334   +
2148335   +*** Generate dummy variables for Education ;
MPRINT(EM_DIAGRAM):   *** Generate dummy variables for Education ;
2148336   +drop Education2n_Cycle EducationBasic EducationGraduation EducationMaster ;
MPRINT(EM_DIAGRAM):   drop Education2n_Cycle EducationBasic EducationGraduation 
EducationMaster ;
2148337   +*** encoding is sparse, initialize to zero;
MPRINT(EM_DIAGRAM):   *** encoding is sparse, initialize to zero;
2148338   +Education2n_Cycle = 0;
MPRINT(EM_DIAGRAM):   Education2n_Cycle = 0;
2148339   +EducationBasic = 0;
MPRINT(EM_DIAGRAM):   EducationBasic = 0;
2148340   +EducationGraduation = 0;
MPRINT(EM_DIAGRAM):   EducationGraduation = 0;
2148341   +EducationMaster = 0;
MPRINT(EM_DIAGRAM):   EducationMaster = 0;
2148342   +if missing( Education ) then do;
MPRINT(EM_DIAGRAM):   if missing( Education ) then do;
2148343   +   Education2n_Cycle = .;
MPRINT(EM_DIAGRAM):   Education2n_Cycle = .;
2148344   +   EducationBasic = .;
MPRINT(EM_DIAGRAM):   EducationBasic = .;
2148345   +   EducationGraduation = .;
MPRINT(EM_DIAGRAM):   EducationGraduation = .;
2148346   +   EducationMaster = .;
MPRINT(EM_DIAGRAM):   EducationMaster = .;
2148347   +   substr(_warn_,1,1) = 'M';
MPRINT(EM_DIAGRAM):   substr(_warn_,1,1) = 'M';
2148348   +   _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2148349   +end;
MPRINT(EM_DIAGRAM):   end;
2148350   +else do;
MPRINT(EM_DIAGRAM):   else do;
2148351   +   length _dm10 $ 10; drop _dm10 ;
MPRINT(EM_DIAGRAM):   length _dm10 $ 10;
MPRINT(EM_DIAGRAM):   drop _dm10 ;
2148352   +   _dm10 = put( Education , $10. );
MPRINT(EM_DIAGRAM):   _dm10 = put( Education , $10. );
2148353   +   %DMNORMIP( _dm10 )
MPRINT(DMNORMIP):   call dmnorm(_dm10,
MPRINT(DMNORLEN):  32
MPRINT(DMNORMIP):  );
2148354   +   if _dm10 = 'GRADUATION'  then do;
MPRINT(EM_DIAGRAM):   if _dm10 = 'GRADUATION' then do;
2148355   +      EducationGraduation = 1;
MPRINT(EM_DIAGRAM):   EducationGraduation = 1;
2148356   +   end;
MPRINT(EM_DIAGRAM):   end;
2148357   +   else if _dm10 = 'PHD'  then do;
MPRINT(EM_DIAGRAM):   else if _dm10 = 'PHD' then do;
2148358   +      Education2n_Cycle = -1;
MPRINT(EM_DIAGRAM):   Education2n_Cycle = -1;
2148359   +      EducationBasic = -1;
MPRINT(EM_DIAGRAM):   EducationBasic = -1;
2148360   +      EducationGraduation = -1;
MPRINT(EM_DIAGRAM):   EducationGraduation = -1;
2148361   +      EducationMaster = -1;
MPRINT(EM_DIAGRAM):   EducationMaster = -1;
2148362   +   end;
MPRINT(EM_DIAGRAM):   end;
2148363   +   else if _dm10 = 'MASTER'  then do;
MPRINT(EM_DIAGRAM):   else if _dm10 = 'MASTER' then do;
2148364   +      EducationMaster = 1;
MPRINT(EM_DIAGRAM):   EducationMaster = 1;
2148365   +   end;
MPRINT(EM_DIAGRAM):   end;
2148366   +   else if _dm10 = '2N CYCLE'  then do;
MPRINT(EM_DIAGRAM):   else if _dm10 = '2N CYCLE' then do;
2148367   +      Education2n_Cycle = 1;
MPRINT(EM_DIAGRAM):   Education2n_Cycle = 1;
2148368   +   end;
MPRINT(EM_DIAGRAM):   end;
2148369   +   else if _dm10 = 'BASIC'  then do;
MPRINT(EM_DIAGRAM):   else if _dm10 = 'BASIC' then do;
2148370   +      EducationBasic = 1;
MPRINT(EM_DIAGRAM):   EducationBasic = 1;
2148371   +   end;
MPRINT(EM_DIAGRAM):   end;
2148372   +   else do;
MPRINT(EM_DIAGRAM):   else do;
2148373   +      Education2n_Cycle = .;
MPRINT(EM_DIAGRAM):   Education2n_Cycle = .;
2148374   +      EducationBasic = .;
MPRINT(EM_DIAGRAM):   EducationBasic = .;
2148375   +      EducationGraduation = .;
MPRINT(EM_DIAGRAM):   EducationGraduation = .;
2148376   +      EducationMaster = .;
MPRINT(EM_DIAGRAM):   EducationMaster = .;
2148377   +      substr(_warn_,2,1) = 'U';
MPRINT(EM_DIAGRAM):   substr(_warn_,2,1) = 'U';
2148378   +      _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2148379   +   end;
MPRINT(EM_DIAGRAM):   end;
2148380   +end;
MPRINT(EM_DIAGRAM):   end;
2148381   +
2148382   +*** Generate dummy variables for Marital_Status ;
MPRINT(EM_DIAGRAM):   *** Generate dummy variables for Marital_Status ;
2148383   +drop Marital_StatusDivorced Marital_StatusMarried Marital_StatusSingle
2148384   +        Marital_StatusTogether ;
MPRINT(EM_DIAGRAM):   drop Marital_StatusDivorced Marital_StatusMarried Marital_StatusSingle 
Marital_StatusTogether ;
2148385   +*** encoding is sparse, initialize to zero;
MPRINT(EM_DIAGRAM):   *** encoding is sparse, initialize to zero;
2148386   +Marital_StatusDivorced = 0;
MPRINT(EM_DIAGRAM):   Marital_StatusDivorced = 0;
2148387   +Marital_StatusMarried = 0;
MPRINT(EM_DIAGRAM):   Marital_StatusMarried = 0;
2148388   +Marital_StatusSingle = 0;
MPRINT(EM_DIAGRAM):   Marital_StatusSingle = 0;
2148389   +Marital_StatusTogether = 0;
MPRINT(EM_DIAGRAM):   Marital_StatusTogether = 0;
2148390   +if missing( Marital_Status ) then do;
MPRINT(EM_DIAGRAM):   if missing( Marital_Status ) then do;
2148391   +   Marital_StatusDivorced = .;
MPRINT(EM_DIAGRAM):   Marital_StatusDivorced = .;
2148392   +   Marital_StatusMarried = .;
MPRINT(EM_DIAGRAM):   Marital_StatusMarried = .;
2148393   +   Marital_StatusSingle = .;
MPRINT(EM_DIAGRAM):   Marital_StatusSingle = .;
2148394   +   Marital_StatusTogether = .;
MPRINT(EM_DIAGRAM):   Marital_StatusTogether = .;
2148395   +   substr(_warn_,1,1) = 'M';
MPRINT(EM_DIAGRAM):   substr(_warn_,1,1) = 'M';
2148396   +   _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2148397   +end;
MPRINT(EM_DIAGRAM):   end;
2148398   +else do;
MPRINT(EM_DIAGRAM):   else do;
2148399   +   length _dm8 $ 8; drop _dm8 ;
MPRINT(EM_DIAGRAM):   length _dm8 $ 8;
MPRINT(EM_DIAGRAM):   drop _dm8 ;
2148400   +   _dm8 = put( Marital_Status , $8. );
MPRINT(EM_DIAGRAM):   _dm8 = put( Marital_Status , $8. );
2148401   +   %DMNORMIP( _dm8 )
MPRINT(DMNORMIP):   call dmnorm(_dm8,
MPRINT(DMNORLEN):  32
MPRINT(DMNORMIP):  );
2148402   +   _dm_find = 0; drop _dm_find;
MPRINT(EM_DIAGRAM):   _dm_find = 0;
MPRINT(EM_DIAGRAM):   drop _dm_find;
2148403   +   if _dm8 <= 'SINGLE'  then do;
MPRINT(EM_DIAGRAM):   if _dm8 <= 'SINGLE' then do;
2148404   +      if _dm8 <= 'MARRIED'  then do;
MPRINT(EM_DIAGRAM):   if _dm8 <= 'MARRIED' then do;
2148405   +         if _dm8 = 'DIVORCED'  then do;
MPRINT(EM_DIAGRAM):   if _dm8 = 'DIVORCED' then do;
2148406   +            Marital_StatusDivorced = 1;
MPRINT(EM_DIAGRAM):   Marital_StatusDivorced = 1;
2148407   +            _dm_find = 1;
MPRINT(EM_DIAGRAM):   _dm_find = 1;
2148408   +         end;
MPRINT(EM_DIAGRAM):   end;
2148409   +         else do;
MPRINT(EM_DIAGRAM):   else do;
2148410   +            if _dm8 = 'MARRIED'  then do;
MPRINT(EM_DIAGRAM):   if _dm8 = 'MARRIED' then do;
2148411   +               Marital_StatusMarried = 1;
MPRINT(EM_DIAGRAM):   Marital_StatusMarried = 1;
2148412   +               _dm_find = 1;
MPRINT(EM_DIAGRAM):   _dm_find = 1;
2148413   +            end;
MPRINT(EM_DIAGRAM):   end;
2148414   +         end;
MPRINT(EM_DIAGRAM):   end;
2148415   +      end;
MPRINT(EM_DIAGRAM):   end;
2148416   +      else do;
MPRINT(EM_DIAGRAM):   else do;
2148417   +         if _dm8 = 'SINGLE'  then do;
MPRINT(EM_DIAGRAM):   if _dm8 = 'SINGLE' then do;
2148418   +            Marital_StatusSingle = 1;
MPRINT(EM_DIAGRAM):   Marital_StatusSingle = 1;
2148419   +            _dm_find = 1;
MPRINT(EM_DIAGRAM):   _dm_find = 1;
2148420   +         end;
MPRINT(EM_DIAGRAM):   end;
2148421   +      end;
MPRINT(EM_DIAGRAM):   end;
2148422   +   end;
MPRINT(EM_DIAGRAM):   end;
2148423   +   else do;
MPRINT(EM_DIAGRAM):   else do;
2148424   +      if _dm8 = 'TOGETHER'  then do;
MPRINT(EM_DIAGRAM):   if _dm8 = 'TOGETHER' then do;
2148425   +         Marital_StatusTogether = 1;
MPRINT(EM_DIAGRAM):   Marital_StatusTogether = 1;
2148426   +         _dm_find = 1;
MPRINT(EM_DIAGRAM):   _dm_find = 1;
2148427   +      end;
MPRINT(EM_DIAGRAM):   end;
2148428   +      else do;
MPRINT(EM_DIAGRAM):   else do;
2148429   +         if _dm8 = 'WIDOW'  then do;
MPRINT(EM_DIAGRAM):   if _dm8 = 'WIDOW' then do;
2148430   +            Marital_StatusDivorced = -1;
MPRINT(EM_DIAGRAM):   Marital_StatusDivorced = -1;
2148431   +            Marital_StatusMarried = -1;
MPRINT(EM_DIAGRAM):   Marital_StatusMarried = -1;
2148432   +            Marital_StatusSingle = -1;
MPRINT(EM_DIAGRAM):   Marital_StatusSingle = -1;
2148433   +            Marital_StatusTogether = -1;
MPRINT(EM_DIAGRAM):   Marital_StatusTogether = -1;
2148434   +            _dm_find = 1;
MPRINT(EM_DIAGRAM):   _dm_find = 1;
2148435   +         end;
MPRINT(EM_DIAGRAM):   end;
2148436   +      end;
MPRINT(EM_DIAGRAM):   end;
2148437   +   end;
MPRINT(EM_DIAGRAM):   end;
2148438   +   if not _dm_find then do;
MPRINT(EM_DIAGRAM):   if not _dm_find then do;
2148439   +      Marital_StatusDivorced = .;
MPRINT(EM_DIAGRAM):   Marital_StatusDivorced = .;
2148440   +      Marital_StatusMarried = .;
MPRINT(EM_DIAGRAM):   Marital_StatusMarried = .;
2148441   +      Marital_StatusSingle = .;
MPRINT(EM_DIAGRAM):   Marital_StatusSingle = .;
2148442   +      Marital_StatusTogether = .;
MPRINT(EM_DIAGRAM):   Marital_StatusTogether = .;
2148443   +      substr(_warn_,2,1) = 'U';
MPRINT(EM_DIAGRAM):   substr(_warn_,2,1) = 'U';
2148444   +      _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2148445   +   end;
MPRINT(EM_DIAGRAM):   end;
2148446   +end;
MPRINT(EM_DIAGRAM):   end;
2148447   +
2148448   +*** *************************;
MPRINT(EM_DIAGRAM):   *** *************************;
2148449   +*** Checking missing input Interval
2148450   +*** *************************;
MPRINT(EM_DIAGRAM):   *** Checking missing input Interval *** *************************;
2148451   +
2148452   +IF NMISS(
2148453   +   AcceptedCmpTotal ,
2148454   +   Age ,
2148455   +   Frq ,
2148456   +   Income ,
2148457   +   Kidhome ,
2148458   +   MntFishProducts ,
2148459   +   MntFruits ,
2148460   +   MntGoldProds ,
2148461   +   MntSweetProducts ,
2148462   +   MonthsAsCustomer ,
2148463   +   NumDealsPurchases ,
2148464   +   NumWebVisitsMonth ,
2148465   +   RFMstat ,
2148466   +   RMntFrq ,
2148467   +   Recency ,
2148468   +   Teenhome   ) THEN DO;
MPRINT(EM_DIAGRAM):   IF NMISS( AcceptedCmpTotal , Age , Frq , Income , Kidhome , 
MntFishProducts , MntFruits , MntGoldProds , MntSweetProducts , MonthsAsCustomer , 
NumDealsPurchases , NumWebVisitsMonth , RFMstat , RMntFrq , Recency , Teenhome ) THEN DO;
2148469   +   SUBSTR(_WARN_, 1, 1) = 'M';
MPRINT(EM_DIAGRAM):   SUBSTR(_WARN_, 1, 1) = 'M';
2148470   +
2148471   +   _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2148472   +END;
MPRINT(EM_DIAGRAM):   END;
2148473   +*** *************************;
MPRINT(EM_DIAGRAM):   *** *************************;
2148474   +*** Writing the Node intvl ;
MPRINT(EM_DIAGRAM):   *** Writing the Node intvl ;
2148475   +*** *************************;
MPRINT(EM_DIAGRAM):   *** *************************;
2148476   +IF _DM_BAD EQ 0 THEN DO;
MPRINT(EM_DIAGRAM):   IF _DM_BAD EQ 0 THEN DO;
2148477   +   S_AcceptedCmpTotal  =    -0.46762909508827 +      1.4961610131261 *
2148478   +        AcceptedCmpTotal ;
MPRINT(EM_DIAGRAM):   S_AcceptedCmpTotal = -0.46762909508827 + 1.4961610131261 * 
AcceptedCmpTotal ;
2148479   +   S_Age  =    -3.91319138389466 +     0.08289609202857 * Age ;
MPRINT(EM_DIAGRAM):   S_Age = -3.91319138389466 + 0.08289609202857 * Age ;
2148480   +   S_Frq  =     -1.7674482809159 +     0.13966853800993 * Frq ;
MPRINT(EM_DIAGRAM):   S_Frq = -1.7674482809159 + 0.13966853800993 * Frq ;
2148481   +   S_Income  =    -2.48883438787018 +     0.00004789669836 * Income ;
MPRINT(EM_DIAGRAM):   S_Income = -2.48883438787018 + 0.00004789669836 * Income ;
2148482   +   S_Kidhome  =    -0.81505958668041 +     1.87132636245581 * Kidhome ;
MPRINT(EM_DIAGRAM):   S_Kidhome = -0.81505958668041 + 1.87132636245581 * Kidhome ;
2148483   +   S_MntFishProducts  =    -0.69884925989448 +     0.01914942799914 *
2148484   +        MntFishProducts ;
MPRINT(EM_DIAGRAM):   S_MntFishProducts = -0.69884925989448 + 0.01914942799914 * 
MntFishProducts ;
2148485   +   S_MntFruits  =    -0.68347542544545 +     0.02517057319714 * MntFruits ;
MPRINT(EM_DIAGRAM):   S_MntFruits = -0.68347542544545 + 0.02517057319714 * MntFruits ;
2148486   +   S_MntGoldProds  =     -0.8611213764608 +     0.01954474499711 *
2148487   +        MntGoldProds ;
MPRINT(EM_DIAGRAM):   S_MntGoldProds = -0.8611213764608 + 0.01954474499711 * MntGoldProds ;
2148488   +   S_MntSweetProducts  =    -0.69020047720885 +     0.02548703406327 *
2148489   +        MntSweetProducts ;
MPRINT(EM_DIAGRAM):   S_MntSweetProducts = -0.69020047720885 + 0.02548703406327 * 
MntSweetProducts ;
2148490   +   S_MonthsAsCustomer  =    -4.93133031507839 +     0.05900664899872 *
2148491   +        MonthsAsCustomer ;
MPRINT(EM_DIAGRAM):   S_MonthsAsCustomer = -4.93133031507839 + 0.05900664899872 * 
MonthsAsCustomer ;
2148492   +   S_NumDealsPurchases  =    -1.34788949552081 +     0.59766336614987 *
2148493   +        NumDealsPurchases ;
MPRINT(EM_DIAGRAM):   S_NumDealsPurchases = -1.34788949552081 + 0.59766336614987 * 
NumDealsPurchases ;
2148494   +   S_NumWebVisitsMonth  =    -2.24769875596018 +     0.42876953368015 *
2148495   +        NumWebVisitsMonth ;
MPRINT(EM_DIAGRAM):   S_NumWebVisitsMonth = -2.24769875596018 + 0.42876953368015 * 
NumWebVisitsMonth ;
2148496   +   S_RFMstat  =    -0.33944380186973 +     0.00063877635032 * RFMstat ;
MPRINT(EM_DIAGRAM):   S_RFMstat = -0.33944380186973 + 0.00063877635032 * RFMstat ;
2148497   +   S_RMntFrq  =    -1.25743573075922 +     0.03326204244626 * RMntFrq ;
MPRINT(EM_DIAGRAM):   S_RMntFrq = -1.25743573075922 + 0.03326204244626 * RMntFrq ;
2148498   +   S_Recency  =    -1.69222845719633 +     0.03469514083585 * Recency ;
MPRINT(EM_DIAGRAM):   S_Recency = -1.69222845719633 + 0.03469514083585 * Recency ;
2148499   +   S_Teenhome  =    -0.88382230606631 +     1.81661831567223 * Teenhome ;
MPRINT(EM_DIAGRAM):   S_Teenhome = -0.88382230606631 + 1.81661831567223 * Teenhome ;
2148500   +END;
MPRINT(EM_DIAGRAM):   END;
2148501   +ELSE DO;
MPRINT(EM_DIAGRAM):   ELSE DO;
2148502   +   IF MISSING( AcceptedCmpTotal ) THEN S_AcceptedCmpTotal  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( AcceptedCmpTotal ) THEN S_AcceptedCmpTotal = . ;
2148503   +   ELSE S_AcceptedCmpTotal  =    -0.46762909508827 +      1.4961610131261 *
2148504   +        AcceptedCmpTotal ;
MPRINT(EM_DIAGRAM):   ELSE S_AcceptedCmpTotal = -0.46762909508827 + 1.4961610131261 * 
AcceptedCmpTotal ;
2148505   +   IF MISSING( Age ) THEN S_Age  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( Age ) THEN S_Age = . ;
2148506   +   ELSE S_Age  =    -3.91319138389466 +     0.08289609202857 * Age ;
MPRINT(EM_DIAGRAM):   ELSE S_Age = -3.91319138389466 + 0.08289609202857 * Age ;
2148507   +   IF MISSING( Frq ) THEN S_Frq  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( Frq ) THEN S_Frq = . ;
2148508   +   ELSE S_Frq  =     -1.7674482809159 +     0.13966853800993 * Frq ;
MPRINT(EM_DIAGRAM):   ELSE S_Frq = -1.7674482809159 + 0.13966853800993 * Frq ;
2148509   +   IF MISSING( Income ) THEN S_Income  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( Income ) THEN S_Income = . ;
2148510   +   ELSE S_Income  =    -2.48883438787018 +     0.00004789669836 * Income ;
MPRINT(EM_DIAGRAM):   ELSE S_Income = -2.48883438787018 + 0.00004789669836 * Income ;
2148511   +   IF MISSING( Kidhome ) THEN S_Kidhome  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( Kidhome ) THEN S_Kidhome = . ;
2148512   +   ELSE S_Kidhome  =    -0.81505958668041 +     1.87132636245581 * Kidhome ;
MPRINT(EM_DIAGRAM):   ELSE S_Kidhome = -0.81505958668041 + 1.87132636245581 * Kidhome ;
2148513   +   IF MISSING( MntFishProducts ) THEN S_MntFishProducts  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( MntFishProducts ) THEN S_MntFishProducts = . ;
2148514   +   ELSE S_MntFishProducts  =    -0.69884925989448 +     0.01914942799914 *
2148515   +        MntFishProducts ;
MPRINT(EM_DIAGRAM):   ELSE S_MntFishProducts = -0.69884925989448 + 0.01914942799914 * 
MntFishProducts ;
2148516   +   IF MISSING( MntFruits ) THEN S_MntFruits  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( MntFruits ) THEN S_MntFruits = . ;
2148517   +   ELSE S_MntFruits  =    -0.68347542544545 +     0.02517057319714 * MntFruits
2148518   +         ;
MPRINT(EM_DIAGRAM):   ELSE S_MntFruits = -0.68347542544545 + 0.02517057319714 * MntFruits ;
2148519   +   IF MISSING( MntGoldProds ) THEN S_MntGoldProds  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( MntGoldProds ) THEN S_MntGoldProds = . ;
2148520   +   ELSE S_MntGoldProds  =     -0.8611213764608 +     0.01954474499711 *
2148521   +        MntGoldProds ;
MPRINT(EM_DIAGRAM):   ELSE S_MntGoldProds = -0.8611213764608 + 0.01954474499711 * MntGoldProds 
;
2148522   +   IF MISSING( MntSweetProducts ) THEN S_MntSweetProducts  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( MntSweetProducts ) THEN S_MntSweetProducts = . ;
2148523   +   ELSE S_MntSweetProducts  =    -0.69020047720885 +     0.02548703406327 *
2148524   +        MntSweetProducts ;
MPRINT(EM_DIAGRAM):   ELSE S_MntSweetProducts = -0.69020047720885 + 0.02548703406327 * 
MntSweetProducts ;
2148525   +   IF MISSING( MonthsAsCustomer ) THEN S_MonthsAsCustomer  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( MonthsAsCustomer ) THEN S_MonthsAsCustomer = . ;
2148526   +   ELSE S_MonthsAsCustomer  =    -4.93133031507839 +     0.05900664899872 *
2148527   +        MonthsAsCustomer ;
MPRINT(EM_DIAGRAM):   ELSE S_MonthsAsCustomer = -4.93133031507839 + 0.05900664899872 * 
MonthsAsCustomer ;
2148528   +   IF MISSING( NumDealsPurchases ) THEN S_NumDealsPurchases  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( NumDealsPurchases ) THEN S_NumDealsPurchases = . ;
2148529   +   ELSE S_NumDealsPurchases  =    -1.34788949552081 +     0.59766336614987 *
2148530   +        NumDealsPurchases ;
MPRINT(EM_DIAGRAM):   ELSE S_NumDealsPurchases = -1.34788949552081 + 0.59766336614987 * 
NumDealsPurchases ;
2148531   +   IF MISSING( NumWebVisitsMonth ) THEN S_NumWebVisitsMonth  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( NumWebVisitsMonth ) THEN S_NumWebVisitsMonth = . ;
2148532   +   ELSE S_NumWebVisitsMonth  =    -2.24769875596018 +     0.42876953368015 *
2148533   +        NumWebVisitsMonth ;
MPRINT(EM_DIAGRAM):   ELSE S_NumWebVisitsMonth = -2.24769875596018 + 0.42876953368015 * 
NumWebVisitsMonth ;
2148534   +   IF MISSING( RFMstat ) THEN S_RFMstat  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( RFMstat ) THEN S_RFMstat = . ;
2148535   +   ELSE S_RFMstat  =    -0.33944380186973 +     0.00063877635032 * RFMstat ;
MPRINT(EM_DIAGRAM):   ELSE S_RFMstat = -0.33944380186973 + 0.00063877635032 * RFMstat ;
2148536   +   IF MISSING( RMntFrq ) THEN S_RMntFrq  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( RMntFrq ) THEN S_RMntFrq = . ;
2148537   +   ELSE S_RMntFrq  =    -1.25743573075922 +     0.03326204244626 * RMntFrq ;
MPRINT(EM_DIAGRAM):   ELSE S_RMntFrq = -1.25743573075922 + 0.03326204244626 * RMntFrq ;
2148538   +   IF MISSING( Recency ) THEN S_Recency  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( Recency ) THEN S_Recency = . ;
2148539   +   ELSE S_Recency  =    -1.69222845719633 +     0.03469514083585 * Recency ;
MPRINT(EM_DIAGRAM):   ELSE S_Recency = -1.69222845719633 + 0.03469514083585 * Recency ;
2148540   +   IF MISSING( Teenhome ) THEN S_Teenhome  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( Teenhome ) THEN S_Teenhome = . ;
2148541   +   ELSE S_Teenhome  =    -0.88382230606631 +     1.81661831567223 * Teenhome ;
MPRINT(EM_DIAGRAM):   ELSE S_Teenhome = -0.88382230606631 + 1.81661831567223 * Teenhome ;
2148542   +END;
MPRINT(EM_DIAGRAM):   END;
2148543   +*** *************************;
MPRINT(EM_DIAGRAM):   *** *************************;
2148544   +*** Writing the Node bin ;
MPRINT(EM_DIAGRAM):   *** Writing the Node bin ;
2148545   +*** *************************;
MPRINT(EM_DIAGRAM):   *** *************************;
2148546   +*** *************************;
MPRINT(EM_DIAGRAM):   *** *************************;
2148547   +*** Writing the Node nom ;
MPRINT(EM_DIAGRAM):   *** Writing the Node nom ;
2148548   +*** *************************;
MPRINT(EM_DIAGRAM):   *** *************************;
2148549   +*** *************************;
MPRINT(EM_DIAGRAM):   *** *************************;
2148550   +*** Writing the Node H1 ;
MPRINT(EM_DIAGRAM):   *** Writing the Node H1 ;
2148551   +*** *************************;
MPRINT(EM_DIAGRAM):   *** *************************;
2148552   +IF _DM_BAD EQ 0 THEN DO;
MPRINT(EM_DIAGRAM):   IF _DM_BAD EQ 0 THEN DO;
2148553   +   H11  =    -0.59455727552731 * S_AcceptedCmpTotal  +    -0.08167191943092 *
2148554   +        S_Age  +     0.34904063109008 * S_Frq  +     0.08433673871857 *
2148555   +        S_Income  +     0.23959806833358 * S_Kidhome
2148556   +          +    -0.01518037416881 * S_MntFishProducts
2148557   +          +     0.10484256743602 * S_MntFruits  +     0.18738600021461 *
2148558   +        S_MntGoldProds  +     0.12927048058846 * S_MntSweetProducts
2148559   +          +    -0.27670454990341 * S_MonthsAsCustomer
2148560   +          +    -0.57117018330921 * S_NumDealsPurchases
2148561   +          +    -0.36419456228524 * S_NumWebVisitsMonth
2148562   +          +    -0.07695281325888 * S_RFMstat  +     0.26913561397665 *
2148563   +        S_RMntFrq  +     0.69534731451792 * S_Recency
2148564   +          +     0.12556011393839 * S_Teenhome ;
MPRINT(EM_DIAGRAM):   H11 = -0.59455727552731 * S_AcceptedCmpTotal + -0.08167191943092 * S_Age 
+ 0.34904063109008 * S_Frq + 0.08433673871857 * S_Income + 0.23959806833358 * S_Kidhome + 
-0.01518037416881 * S_MntFishProducts + 0.10484256743602 * S_MntFruits + 0.18738600021461 * 
S_MntGoldProds + 0.12927048058846 * S_MntSweetProducts + -0.27670454990341 * 
S_MonthsAsCustomer + -0.57117018330921 * S_NumDealsPurchases + -0.36419456228524 * 
S_NumWebVisitsMonth + -0.07695281325888 * S_RFMstat + 0.26913561397665 * S_RMntFrq + 
0.69534731451792 * S_Recency + 0.12556011393839 * S_Teenhome ;
2148565   +   H12  =    -0.18355037756752 * S_AcceptedCmpTotal  +     0.50880964309834 *
2148566   +        S_Age  +     0.98855915357544 * S_Frq  +     0.36315803091135 *
2148567   +        S_Income  +      0.0790487270089 * S_Kidhome
2148568   +          +    -0.20277009052533 * S_MntFishProducts
2148569   +          +     0.02639378411424 * S_MntFruits  +    -0.05188435065088 *
2148570   +        S_MntGoldProds  +    -0.37906951561993 * S_MntSweetProducts
2148571   +          +     0.29927988116433 * S_MonthsAsCustomer
2148572   +          +    -0.50520073910306 * S_NumDealsPurchases
2148573   +          +    -0.73222137406072 * S_NumWebVisitsMonth
2148574   +          +    -0.21742553055925 * S_RFMstat  +    -0.50891089702382 *
2148575   +        S_RMntFrq  +      1.0541732913714 * S_Recency
2148576   +          +    -0.19121741055236 * S_Teenhome ;
MPRINT(EM_DIAGRAM):   H12 = -0.18355037756752 * S_AcceptedCmpTotal + 0.50880964309834 * S_Age 
+ 0.98855915357544 * S_Frq + 0.36315803091135 * S_Income + 0.0790487270089 * S_Kidhome + 
-0.20277009052533 * S_MntFishProducts + 0.02639378411424 * S_MntFruits + -0.05188435065088 * 
S_MntGoldProds + -0.37906951561993 * S_MntSweetProducts + 0.29927988116433 * 
S_MonthsAsCustomer + -0.50520073910306 * S_NumDealsPurchases + -0.73222137406072 * 
S_NumWebVisitsMonth + -0.21742553055925 * S_RFMstat + -0.50891089702382 * S_RMntFrq + 
1.0541732913714 * S_Recency + -0.19121741055236 * S_Teenhome ;
2148577   +   H13  =    -0.47520371973992 * S_AcceptedCmpTotal  +    -0.17643530808934 *
2148578   +        S_Age  +    -0.02342355849303 * S_Frq  +    -0.76780370828396 *
2148579   +        S_Income  +    -0.64136231731673 * S_Kidhome
2148580   +          +     0.21288725603028 * S_MntFishProducts
2148581   +          +    -0.07945341031035 * S_MntFruits  +    -0.37983532218736 *
2148582   +        S_MntGoldProds  +      0.0246071335741 * S_MntSweetProducts
2148583   +          +     -0.0690174805795 * S_MonthsAsCustomer
2148584   +          +    -0.30254439479517 * S_NumDealsPurchases
2148585   +          +    -0.57976591777746 * S_NumWebVisitsMonth
2148586   +          +    -0.08986007311299 * S_RFMstat  +    -0.21859201021696 *
2148587   +        S_RMntFrq  +     0.80196185579181 * S_Recency
2148588   +          +     0.34243610231239 * S_Teenhome ;
MPRINT(EM_DIAGRAM):   H13 = -0.47520371973992 * S_AcceptedCmpTotal + -0.17643530808934 * S_Age 
+ -0.02342355849303 * S_Frq + -0.76780370828396 * S_Income + -0.64136231731673 * S_Kidhome + 
0.21288725603028 * S_MntFishProducts + -0.07945341031035 * S_MntFruits + -0.37983532218736 * 
S_MntGoldProds + 0.0246071335741 * S_MntSweetProducts + -0.0690174805795 * S_MonthsAsCustomer 
+ -0.30254439479517 * S_NumDealsPurchases + -0.57976591777746 * S_NumWebVisitsMonth + 
-0.08986007311299 * S_RFMstat + -0.21859201021696 * S_RMntFrq + 0.80196185579181 * S_Recency + 
0.34243610231239 * S_Teenhome ;
2148589   +   H14  =    -0.11942815753227 * S_AcceptedCmpTotal  +     0.09419423122981 *
2148590   +        S_Age  +    -0.58989090056574 * S_Frq  +    -0.97241848188885 *
2148591   +        S_Income  +     0.66642589823561 * S_Kidhome
2148592   +          +    -0.02898422978622 * S_MntFishProducts
2148593   +          +      0.2190266457824 * S_MntFruits  +     0.03869102340694 *
2148594   +        S_MntGoldProds  +     0.27016627270688 * S_MntSweetProducts
2148595   +          +     -0.1522807134985 * S_MonthsAsCustomer
2148596   +          +     0.23369239293049 * S_NumDealsPurchases
2148597   +          +     0.14730037601616 * S_NumWebVisitsMonth
2148598   +          +    -0.03493628078299 * S_RFMstat  +    -0.29981204072854 *
2148599   +        S_RMntFrq  +     0.72995078547996 * S_Recency
2148600   +          +     0.51545897916716 * S_Teenhome ;
MPRINT(EM_DIAGRAM):   H14 = -0.11942815753227 * S_AcceptedCmpTotal + 0.09419423122981 * S_Age 
+ -0.58989090056574 * S_Frq + -0.97241848188885 * S_Income + 0.66642589823561 * S_Kidhome + 
-0.02898422978622 * S_MntFishProducts + 0.2190266457824 * S_MntFruits + 0.03869102340694 * 
S_MntGoldProds + 0.27016627270688 * S_MntSweetProducts + -0.1522807134985 * S_MonthsAsCustomer 
+ 0.23369239293049 * S_NumDealsPurchases + 0.14730037601616 * S_NumWebVisitsMonth + 
-0.03493628078299 * S_RFMstat + -0.29981204072854 * S_RMntFrq + 0.72995078547996 * S_Recency + 
0.51545897916716 * S_Teenhome ;
2148601   +   H11  = H11  +     0.21532563526921 * AcceptedCmp10
2148602   +          +     0.04617627623677 * AcceptedCmp20  +     0.18097818457801 *
2148603   +        AcceptedCmp30  +     0.02250864169523 * AcceptedCmp40
2148604   +          +     0.57128562538825 * AcceptedCmp50  +    -0.13476267382061 *
2148605   +        Complain0  +     0.04848312577533 * HigherEducationBinary0 ;
MPRINT(EM_DIAGRAM):   H11 = H11 + 0.21532563526921 * AcceptedCmp10 + 0.04617627623677 * 
AcceptedCmp20 + 0.18097818457801 * AcceptedCmp30 + 0.02250864169523 * AcceptedCmp40 + 
0.57128562538825 * AcceptedCmp50 + -0.13476267382061 * Complain0 + 0.04848312577533 * 
HigherEducationBinary0 ;
2148606   +   H12  = H12  +     0.49790938305741 * AcceptedCmp10
2148607   +          +        0.28100162725 * AcceptedCmp20  +     0.53516835657705 *
2148608   +        AcceptedCmp30  +      0.2731055683853 * AcceptedCmp40
2148609   +          +     0.08872244973216 * AcceptedCmp50  +    -0.14524762871188 *
2148610   +        Complain0  +     0.13433570395362 * HigherEducationBinary0 ;
MPRINT(EM_DIAGRAM):   H12 = H12 + 0.49790938305741 * AcceptedCmp10 + 0.28100162725 * 
AcceptedCmp20 + 0.53516835657705 * AcceptedCmp30 + 0.2731055683853 * AcceptedCmp40 + 
0.08872244973216 * AcceptedCmp50 + -0.14524762871188 * Complain0 + 0.13433570395362 * 
HigherEducationBinary0 ;
2148611   +   H13  = H13  +     0.09295121106092 * AcceptedCmp10
2148612   +          +     0.03551087675679 * AcceptedCmp20  +     0.48068530009647 *
2148613   +        AcceptedCmp30  +     -0.7573607772958 * AcceptedCmp40
2148614   +          +     0.44431160694171 * AcceptedCmp50  +    -0.28053968379046 *
2148615   +        Complain0  +     0.08868233512421 * HigherEducationBinary0 ;
MPRINT(EM_DIAGRAM):   H13 = H13 + 0.09295121106092 * AcceptedCmp10 + 0.03551087675679 * 
AcceptedCmp20 + 0.48068530009647 * AcceptedCmp30 + -0.7573607772958 * AcceptedCmp40 + 
0.44431160694171 * AcceptedCmp50 + -0.28053968379046 * Complain0 + 0.08868233512421 * 
HigherEducationBinary0 ;
2148616   +   H14  = H14  +     0.19910269634608 * AcceptedCmp10
2148617   +          +     0.11664271215883 * AcceptedCmp20  +     0.29519310368658 *
2148618   +        AcceptedCmp30  +     0.50294025882261 * AcceptedCmp40
2148619   +          +    -0.13765389029233 * AcceptedCmp50  +     0.25128367938074 *
2148620   +        Complain0  +    -0.46697322419144 * HigherEducationBinary0 ;
MPRINT(EM_DIAGRAM):   H14 = H14 + 0.19910269634608 * AcceptedCmp10 + 0.11664271215883 * 
AcceptedCmp20 + 0.29519310368658 * AcceptedCmp30 + 0.50294025882261 * AcceptedCmp40 + 
-0.13765389029233 * AcceptedCmp50 + 0.25128367938074 * Complain0 + -0.46697322419144 * 
HigherEducationBinary0 ;
2148621   +   H11  = H11  +     -0.1475625455323 * Education2n_Cycle
2148622   +          +     0.01119870242835 * EducationBasic  +    -0.05699503612035 *
2148623   +        EducationGraduation  +    -0.03551408731462 * EducationMaster
2148624   +          +     0.05796662179857 * Marital_StatusDivorced
2148625   +          +    -0.08181120425686 * Marital_StatusMarried
2148626   +          +      0.4284636120807 * Marital_StatusSingle
2148627   +          +     0.39673224936003 * Marital_StatusTogether ;
MPRINT(EM_DIAGRAM):   H11 = H11 + -0.1475625455323 * Education2n_Cycle + 0.01119870242835 * 
EducationBasic + -0.05699503612035 * EducationGraduation + -0.03551408731462 * EducationMaster 
+ 0.05796662179857 * Marital_StatusDivorced + -0.08181120425686 * Marital_StatusMarried + 
0.4284636120807 * Marital_StatusSingle + 0.39673224936003 * Marital_StatusTogether ;
2148628   +   H12  = H12  +     0.29455368575629 * Education2n_Cycle
2148629   +          +    -0.01641080294584 * EducationBasic  +    -0.10263336811703 *
2148630   +        EducationGraduation  +    -0.14981964719806 * EducationMaster
2148631   +          +    -0.13203345238763 * Marital_StatusDivorced
2148632   +          +     0.10923067927942 * Marital_StatusMarried
2148633   +          +     0.02213145916128 * Marital_StatusSingle
2148634   +          +     0.13743874933445 * Marital_StatusTogether ;
MPRINT(EM_DIAGRAM):   H12 = H12 + 0.29455368575629 * Education2n_Cycle + -0.01641080294584 * 
EducationBasic + -0.10263336811703 * EducationGraduation + -0.14981964719806 * EducationMaster 
+ -0.13203345238763 * Marital_StatusDivorced + 0.10923067927942 * Marital_StatusMarried + 
0.02213145916128 * Marital_StatusSingle + 0.13743874933445 * Marital_StatusTogether ;
2148635   +   H13  = H13  +     0.01805834793656 * Education2n_Cycle
2148636   +          +     0.42785728964985 * EducationBasic  +    -0.32070493640323 *
2148637   +        EducationGraduation  +     0.06311193021026 * EducationMaster
2148638   +          +    -0.22903332135187 * Marital_StatusDivorced
2148639   +          +     0.12718454820375 * Marital_StatusMarried
2148640   +          +    -0.33610403764223 * Marital_StatusSingle
2148641   +          +     -0.1600429716422 * Marital_StatusTogether ;
MPRINT(EM_DIAGRAM):   H13 = H13 + 0.01805834793656 * Education2n_Cycle + 0.42785728964985 * 
EducationBasic + -0.32070493640323 * EducationGraduation + 0.06311193021026 * EducationMaster 
+ -0.22903332135187 * Marital_StatusDivorced + 0.12718454820375 * Marital_StatusMarried + 
-0.33610403764223 * Marital_StatusSingle + -0.1600429716422 * Marital_StatusTogether ;
2148642   +   H14  = H14  +    -0.14389790536326 * Education2n_Cycle
2148643   +          +      0.1160422333785 * EducationBasic  +    -0.22913940929096 *
2148644   +        EducationGraduation  +     0.25383554942249 * EducationMaster
2148645   +          +    -0.20380298917683 * Marital_StatusDivorced
2148646   +          +     1.08032097869696 * Marital_StatusMarried
2148647   +          +    -0.79644537171645 * Marital_StatusSingle
2148648   +          +     0.87920058104376 * Marital_StatusTogether ;
MPRINT(EM_DIAGRAM):   H14 = H14 + -0.14389790536326 * Education2n_Cycle + 0.1160422333785 * 
EducationBasic + -0.22913940929096 * EducationGraduation + 0.25383554942249 * EducationMaster 
+ -0.20380298917683 * Marital_StatusDivorced + 1.08032097869696 * Marital_StatusMarried + 
-0.79644537171645 * Marital_StatusSingle + 0.87920058104376 * Marital_StatusTogether ;
2148649   +   H11  =     0.69018111185452 + H11 ;
MPRINT(EM_DIAGRAM):   H11 = 0.69018111185452 + H11 ;
2148650   +   H12  =     0.88319279467723 + H12 ;
MPRINT(EM_DIAGRAM):   H12 = 0.88319279467723 + H12 ;
2148651   +   H13  =    -0.22379946661781 + H13 ;
MPRINT(EM_DIAGRAM):   H13 = -0.22379946661781 + H13 ;
2148652   +   H14  =      1.5443460617033 + H14 ;
MPRINT(EM_DIAGRAM):   H14 = 1.5443460617033 + H14 ;
2148653   +   H11  = TANH(H11 );
MPRINT(EM_DIAGRAM):   H11 = TANH(H11 );
2148654   +   H12  = TANH(H12 );
MPRINT(EM_DIAGRAM):   H12 = TANH(H12 );
2148655   +   H13  = TANH(H13 );
MPRINT(EM_DIAGRAM):   H13 = TANH(H13 );
2148656   +   H14  = TANH(H14 );
MPRINT(EM_DIAGRAM):   H14 = TANH(H14 );
2148657   +END;
MPRINT(EM_DIAGRAM):   END;
2148658   +ELSE DO;
MPRINT(EM_DIAGRAM):   ELSE DO;
2148659   +   H11  = .;
MPRINT(EM_DIAGRAM):   H11 = .;
2148660   +   H12  = .;
MPRINT(EM_DIAGRAM):   H12 = .;
2148661   +   H13  = .;
MPRINT(EM_DIAGRAM):   H13 = .;
2148662   +   H14  = .;
MPRINT(EM_DIAGRAM):   H14 = .;
2148663   +END;
MPRINT(EM_DIAGRAM):   END;
2148664   +*** *************************;
MPRINT(EM_DIAGRAM):   *** *************************;
2148665   +*** Writing the Node DepVar ;
MPRINT(EM_DIAGRAM):   *** Writing the Node DepVar ;
2148666   +*** *************************;
MPRINT(EM_DIAGRAM):   *** *************************;
2148667   +IF _DM_BAD EQ 0 THEN DO;
MPRINT(EM_DIAGRAM):   IF _DM_BAD EQ 0 THEN DO;
2148668   +   P_DepVar1  =      -1.051307515754 * H11  +    -1.81265117956856 * H12
2148669   +          +    -2.69912557985855 * H13  +    -2.43296856252593 * H14 ;
MPRINT(EM_DIAGRAM):   P_DepVar1 = -1.051307515754 * H11 + -1.81265117956856 * H12 + 
-2.69912557985855 * H13 + -2.43296856252593 * H14 ;
2148670   +   P_DepVar1  =    -0.88296375077361 + P_DepVar1 ;
MPRINT(EM_DIAGRAM):   P_DepVar1 = -0.88296375077361 + P_DepVar1 ;
2148671   +   P_DepVar0  = 0;
MPRINT(EM_DIAGRAM):   P_DepVar0 = 0;
2148672   +   _MAX_ = MAX (P_DepVar1 , P_DepVar0 );
MPRINT(EM_DIAGRAM):   _MAX_ = MAX (P_DepVar1 , P_DepVar0 );
2148673   +   _SUM_ = 0.;
MPRINT(EM_DIAGRAM):   _SUM_ = 0.;
2148674   +   P_DepVar1  = EXP(P_DepVar1  - _MAX_);
MPRINT(EM_DIAGRAM):   P_DepVar1 = EXP(P_DepVar1 - _MAX_);
2148675   +   _SUM_ = _SUM_ + P_DepVar1 ;
MPRINT(EM_DIAGRAM):   _SUM_ = _SUM_ + P_DepVar1 ;
2148676   +   P_DepVar0  = EXP(P_DepVar0  - _MAX_);
MPRINT(EM_DIAGRAM):   P_DepVar0 = EXP(P_DepVar0 - _MAX_);
2148677   +   _SUM_ = _SUM_ + P_DepVar0 ;
MPRINT(EM_DIAGRAM):   _SUM_ = _SUM_ + P_DepVar0 ;
2148678   +   P_DepVar1  = P_DepVar1  / _SUM_;
MPRINT(EM_DIAGRAM):   P_DepVar1 = P_DepVar1 / _SUM_;
2148679   +   P_DepVar0  = P_DepVar0  / _SUM_;
MPRINT(EM_DIAGRAM):   P_DepVar0 = P_DepVar0 / _SUM_;
2148680   +END;
MPRINT(EM_DIAGRAM):   END;
2148681   +ELSE DO;
MPRINT(EM_DIAGRAM):   ELSE DO;
2148682   +   P_DepVar1  = .;
MPRINT(EM_DIAGRAM):   P_DepVar1 = .;
2148683   +   P_DepVar0  = .;
MPRINT(EM_DIAGRAM):   P_DepVar0 = .;
2148684   +END;
MPRINT(EM_DIAGRAM):   END;
2148685   +IF _DM_BAD EQ 1 THEN DO;
MPRINT(EM_DIAGRAM):   IF _DM_BAD EQ 1 THEN DO;
2148686   +   P_DepVar1  =     0.15122156697556;
MPRINT(EM_DIAGRAM):   P_DepVar1 = 0.15122156697556;
2148687   +   P_DepVar0  =     0.84877843302443;
MPRINT(EM_DIAGRAM):   P_DepVar0 = 0.84877843302443;
2148688   +END;
MPRINT(EM_DIAGRAM):   END;
2148689   +*** *************************;
MPRINT(EM_DIAGRAM):   *** *************************;
2148690   +*** Writing the I_DepVar  AND U_DepVar ;
MPRINT(EM_DIAGRAM):   *** Writing the I_DepVar AND U_DepVar ;
2148691   +*** *************************;
MPRINT(EM_DIAGRAM):   *** *************************;
2148692   +_MAXP_ = P_DepVar1 ;
MPRINT(EM_DIAGRAM):   _MAXP_ = P_DepVar1 ;
2148693   +I_DepVar  = "1           " ;
MPRINT(EM_DIAGRAM):   I_DepVar = "1           " ;
2148694   +U_DepVar  =                    1;
MPRINT(EM_DIAGRAM):   U_DepVar = 1;
2148695   +IF( _MAXP_ LT P_DepVar0  ) THEN DO;
MPRINT(EM_DIAGRAM):   IF( _MAXP_ LT P_DepVar0 ) THEN DO;
2148696   +   _MAXP_ = P_DepVar0 ;
MPRINT(EM_DIAGRAM):   _MAXP_ = P_DepVar0 ;
2148697   +   I_DepVar  = "0           " ;
MPRINT(EM_DIAGRAM):   I_DepVar = "0           " ;
2148698   +   U_DepVar  =                    0;
MPRINT(EM_DIAGRAM):   U_DepVar = 0;
2148699   +END;
MPRINT(EM_DIAGRAM):   END;
2148700   +********************************;
MPRINT(EM_DIAGRAM):   ********************************;
2148701   +*** End Scoring Code for Neural;
MPRINT(EM_DIAGRAM):   *** End Scoring Code for Neural;
2148702   +********************************;
MPRINT(EM_DIAGRAM):   ********************************;
2148703   +drop
2148704   +H11
2148705   +H12
2148706   +H13
2148707   +H14
2148708   +;
MPRINT(EM_DIAGRAM):   drop H11 H12 H13 H14 ;
2148709   +drop S_:;
MPRINT(EM_DIAGRAM):   drop S_:;
NOTE: %INCLUDE (level 1) ending.
MPRINT(EM_DIAGRAM):   run;
2148710    run;

NOTE: Dependency structure written to data set _TEMP.
NOTE: PROCEDURE FCMP used (Total process time):
      real time           0.02 seconds
      cpu time            0.03 seconds
      

MPRINT(EM_DIAGRAM):   quit;
2148711    quit;
2148712    filename _pref;
MPRINT(EM_DIAGRAM):   filename _pref;
NOTE: Fileref _PREF has been deassigned.
2148713    data _temp(rename=(RHS=NAME));
MPRINT(EM_DIAGRAM):   data _temp(rename=(RHS=NAME));
2148714    length Node $32;
MPRINT(EM_DIAGRAM):   length Node $32;
2148715    retain ID 2 Node "Neural39";
MPRINT(EM_DIAGRAM):   retain ID 2 Node "Neural39";
2148716    set _temp;
MPRINT(EM_DIAGRAM):   set _temp;
2148717    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 1891 observations read from the data set WORK._TEMP.
NOTE: The data set WORK._TEMP has 1891 observations and 14 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

2148718    proc sort data=_temp;
MPRINT(EM_DIAGRAM):   proc sort data=_temp;
2148719    by NAME;
MPRINT(EM_DIAGRAM):   by NAME;
2148720    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 1891 observations read from the data set WORK._TEMP.
NOTE: The data set WORK._TEMP has 1891 observations and 14 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

2148721    proc sort data=EMWS8.Neural39_variableset out=_temp2(keep=NAME CREATOR);
MPRINT(EM_DIAGRAM):   proc sort data=EMWS8.Neural39_variableset out=_temp2(keep=NAME CREATOR);
2148722    by NAME;
MPRINT(EM_DIAGRAM):   by NAME;
2148723    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 34 observations read from the data set EMWS8.NEURAL39_VARIABLESET.
NOTE: The data set WORK._TEMP2 has 34 observations and 2 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

2148724    data _temp2;
MPRINT(EM_DIAGRAM):   data _temp2;
2148725    length CREATOR $32;
MPRINT(EM_DIAGRAM):   length CREATOR $32;
2148726    set _temp2;
MPRINT(EM_DIAGRAM):   set _temp2;
2148727    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 34 observations read from the data set WORK._TEMP2.
NOTE: The data set WORK._TEMP2 has 34 observations and 2 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

2148728    proc contents data=EMWS8.Neural39_train out=_meta(keep=NAME) noprint;
MPRINT(EM_DIAGRAM):   proc contents data=EMWS8.Neural39_train out=_meta(keep=NAME) noprint;
2148729    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: The data set WORK._META has 53 observations and 1 variables.
NOTE: PROCEDURE CONTENTS used (Total process time):
      real time           0.02 seconds
      cpu time            0.01 seconds
      

2148730    proc sort data=_meta;
MPRINT(EM_DIAGRAM):   proc sort data=_meta;
2148731    by NAME;
MPRINT(EM_DIAGRAM):   by NAME;
2148732    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 53 observations read from the data set WORK._META.
NOTE: The data set WORK._META has 53 observations and 1 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

2148733    data _temp2;
MPRINT(EM_DIAGRAM):   data _temp2;
2148734    merge _meta _temp2;
MPRINT(EM_DIAGRAM):   merge _meta _temp2;
2148735    by NAME;
MPRINT(EM_DIAGRAM):   by NAME;
2148736    run;
MPRINT(EM_DIAGRAM):   run;

WARNING: Multiple lengths were specified for the BY variable NAME by input data sets. This may 
         cause unexpected results.
NOTE: There were 53 observations read from the data set WORK._META.
NOTE: There were 34 observations read from the data set WORK._TEMP2.
NOTE: The data set WORK._TEMP2 has 53 observations and 2 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

2148737    proc sql;
MPRINT(EM_DIAGRAM):   proc sql;
2148738    create table _tempx as select p.node, p.lhs, p.id , p2.name, p2.CREATOR from
2148738  ! work._temp p, work._temp2 p2 where upcase(p.NAME)=upcase(p2.NAME);
MPRINT(EM_DIAGRAM):   create table _tempx as select p.node, p.lhs, p.id , p2.name, p2.CREATOR 
from work._temp p, work._temp2 p2 where upcase(p.NAME)=upcase(p2.NAME);
NOTE: Table WORK._TEMPX created, with 987 rows and 5 columns.

2148739    quit;
MPRINT(EM_DIAGRAM):   quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

2148740    proc append base=EMWS8.Ensmbl23_FCMP data=_tempx;
MPRINT(EM_DIAGRAM):   proc append base=EMWS8.Ensmbl23_FCMP data=_tempx;
2148741    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: Appending WORK._TEMPX to EMWS8.ENSMBL23_FCMP.
NOTE: BASE data set does not exist. DATA file is being copied to BASE file.
NOTE: There were 987 observations read from the data set WORK._TEMPX.
NOTE: The data set EMWS8.ENSMBL23_FCMP has 987 observations and 5 variables.
NOTE: PROCEDURE APPEND used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

2148742    filename _pref
2148742  ! "C:\\predictive-models-project\Workspaces\EMWS8\Trans\EMPUBLISHSCORE.sas";
MPRINT(EM_DIAGRAM):    filename _pref 
"C:\\predictive-models-project\Workspaces\EMWS8\Trans\EMPUBLISHSCORE.sas";
2148743    proc FCMP NOEXECUTE IMPUTEDDEPS OUTDEPS=_temp;
MPRINT(EM_DIAGRAM):   proc FCMP NOEXECUTE IMPUTEDDEPS OUTDEPS=_temp;
2148744    %INCLUDE _pref;
NOTE: %INCLUDE (level 1) file _PREF is file 
      C:\\predictive-models-project\Workspaces\EMWS8\Trans\EMPUBLISHSCORE.sas.
2148745   +*------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
2148746   +* Formula Code;
MPRINT(EM_DIAGRAM):   * Formula Code;
2148747   +*------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
2148748   +MonthsAsCustomer =int((today()-Dt_Customer)/12) ;
MPRINT(EM_DIAGRAM):   MonthsAsCustomer =int((today()-Dt_Customer)/12) ;
2148749   +HigherEducationBinary =HigherEducation ;
MPRINT(EM_DIAGRAM):   HigherEducationBinary =HigherEducation ;
2148750   +NumDistPurchases =NumCatalogPurchases + NumWebPurchases ;
MPRINT(EM_DIAGRAM):   NumDistPurchases =NumCatalogPurchases + NumWebPurchases ;
NOTE: %INCLUDE (level 1) ending.
MPRINT(EM_DIAGRAM):   run;
2148751    run;

NOTE: Dependency structure written to data set _TEMP.
NOTE: PROCEDURE FCMP used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      

MPRINT(EM_DIAGRAM):   quit;
2148752    quit;
2148753    filename _pref;
MPRINT(EM_DIAGRAM):   filename _pref;
NOTE: Fileref _PREF has been deassigned.
2148754    data _temp(rename=(RHS=NAME));
MPRINT(EM_DIAGRAM):   data _temp(rename=(RHS=NAME));
2148755    length Node $32;
MPRINT(EM_DIAGRAM):   length Node $32;
2148756    retain ID 5 Node "Trans";
MPRINT(EM_DIAGRAM):   retain ID 5 Node "Trans";
2148757    set _temp;
MPRINT(EM_DIAGRAM):   set _temp;
2148758    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 4 observations read from the data set WORK._TEMP.
NOTE: The data set WORK._TEMP has 4 observations and 14 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

2148759    proc sort data=_temp;
MPRINT(EM_DIAGRAM):   proc sort data=_temp;
2148760    by NAME;
MPRINT(EM_DIAGRAM):   by NAME;
2148761    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 4 observations read from the data set WORK._TEMP.
NOTE: The data set WORK._TEMP has 4 observations and 14 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

2148762    proc sort data=EMWS8.Trans_variableset out=_temp2(keep=NAME CREATOR);
MPRINT(EM_DIAGRAM):   proc sort data=EMWS8.Trans_variableset out=_temp2(keep=NAME CREATOR);
2148763    by NAME;
MPRINT(EM_DIAGRAM):   by NAME;
2148764    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 33 observations read from the data set EMWS8.TRANS_VARIABLESET.
NOTE: The data set WORK._TEMP2 has 33 observations and 2 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

2148765    data _temp2;
MPRINT(EM_DIAGRAM):   data _temp2;
2148766    length CREATOR $32;
MPRINT(EM_DIAGRAM):   length CREATOR $32;
2148767    set _temp2;
MPRINT(EM_DIAGRAM):   set _temp2;
2148768    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 33 observations read from the data set WORK._TEMP2.
NOTE: The data set WORK._TEMP2 has 33 observations and 2 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

2148769    proc contents data=EMWS8.Trans_train out=_meta(keep=NAME) noprint;
MPRINT(EM_DIAGRAM):   proc contents data=EMWS8.Trans_train out=_meta(keep=NAME) noprint;
2148770    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: The data set WORK._META has 44 observations and 1 variables.
NOTE: PROCEDURE CONTENTS used (Total process time):
      real time           0.02 seconds
      cpu time            0.01 seconds
      

2148771    proc sort data=_meta;
MPRINT(EM_DIAGRAM):   proc sort data=_meta;
2148772    by NAME;
MPRINT(EM_DIAGRAM):   by NAME;
2148773    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 44 observations read from the data set WORK._META.
NOTE: The data set WORK._META has 44 observations and 1 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

2148774    data _temp2;
MPRINT(EM_DIAGRAM):   data _temp2;
2148775    merge _meta _temp2;
MPRINT(EM_DIAGRAM):   merge _meta _temp2;
2148776    by NAME;
MPRINT(EM_DIAGRAM):   by NAME;
2148777    run;
MPRINT(EM_DIAGRAM):   run;

WARNING: Multiple lengths were specified for the BY variable NAME by input data sets. This may 
         cause unexpected results.
NOTE: There were 44 observations read from the data set WORK._META.
NOTE: There were 33 observations read from the data set WORK._TEMP2.
NOTE: The data set WORK._TEMP2 has 44 observations and 2 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

2148778    proc sql;
MPRINT(EM_DIAGRAM):   proc sql;
2148779    create table _tempx as select p.node, p.lhs, p.id , p2.name, p2.CREATOR from
2148779  ! work._temp p, work._temp2 p2 where upcase(p.NAME)=upcase(p2.NAME);
MPRINT(EM_DIAGRAM):   create table _tempx as select p.node, p.lhs, p.id , p2.name, p2.CREATOR 
from work._temp p, work._temp2 p2 where upcase(p.NAME)=upcase(p2.NAME);
NOTE: Table WORK._TEMPX created, with 4 rows and 5 columns.

2148780    quit;
MPRINT(EM_DIAGRAM):   quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

2148781    proc append base=EMWS8.Ensmbl23_FCMP data=_tempx;
MPRINT(EM_DIAGRAM):   proc append base=EMWS8.Ensmbl23_FCMP data=_tempx;
2148782    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: Appending WORK._TEMPX to EMWS8.ENSMBL23_FCMP.
NOTE: There were 4 observations read from the data set WORK._TEMPX.
NOTE: 4 observations added.
NOTE: The data set EMWS8.ENSMBL23_FCMP has 991 observations and 5 variables.
NOTE: PROCEDURE APPEND used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

2148783    filename _pref
2148783  ! "C:\\predictive-models-project\Workspaces\EMWS8\EMCODE4\EMPUBLISHSCORE.sas";
MPRINT(EM_DIAGRAM):    filename _pref 
"C:\\predictive-models-project\Workspaces\EMWS8\EMCODE4\EMPUBLISHSCORE.sas";
2148784    proc FCMP NOEXECUTE IMPUTEDDEPS OUTDEPS=_temp;
MPRINT(EM_DIAGRAM):   proc FCMP NOEXECUTE IMPUTEDDEPS OUTDEPS=_temp;
2148785    %INCLUDE _pref;
NOTE: %INCLUDE (level 1) file _PREF is file 
      C:\\predictive-models-project\Workspaces\EMWS8\EMCODE4\EMPUBLISHSCORE.sas.
2148786   +
2148787   +  Frq=NumStorePurchases+NumWebPurchases+NumCatalogPurchases;
MPRINT(EM_DIAGRAM):   Frq=NumStorePurchases+NumWebPurchases+NumCatalogPurchases;
2148788   +  Mnt=MntFishProducts+MntFruits+MntGoldProds+MntMeatProducts+MntSweetProducts+MntWin
2148788  !+es;
MPRINT(EM_DIAGRAM):   
Mnt=MntFishProducts+MntFruits+MntGoldProds+MntMeatProducts+MntSweetProducts+MntWines;
2148789   +  RMntFrq=Mnt/Frq;
MPRINT(EM_DIAGRAM):   RMntFrq=Mnt/Frq;
2148790   +  RFMstat=(Mnt*Frq)/(Recency+1);
MPRINT(EM_DIAGRAM):   RFMstat=(Mnt*Frq)/(Recency+1);
2148791   +  HigherEducation=1*(upcase(Education) in ("GRADUATION","MASTER","PHD"));
MPRINT(EM_DIAGRAM):   HigherEducation=1*(upcase(Education) in ("GRADUATION","MASTER","PHD"));
2148792   +  Age = year(today())-Year_Birth;
MPRINT(EM_DIAGRAM):   Age = year(today())-Year_Birth;
2148793   +  AcceptedCmpTotal=AcceptedCmp1+AcceptedCmp2+AcceptedCmp3+AcceptedCmp4+AcceptedCmp5;
MPRINT(EM_DIAGRAM):   
AcceptedCmpTotal=AcceptedCmp1+AcceptedCmp2+AcceptedCmp3+AcceptedCmp4+AcceptedCmp5;
NOTE: %INCLUDE (level 1) ending.
MPRINT(EM_DIAGRAM):   run;
2148794    run;

NOTE: Dependency structure written to data set _TEMP.
NOTE: PROCEDURE FCMP used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

MPRINT(EM_DIAGRAM):   quit;
2148795    quit;
2148796    filename _pref;
MPRINT(EM_DIAGRAM):   filename _pref;
NOTE: Fileref _PREF has been deassigned.
2148797    data _temp(rename=(RHS=NAME));
MPRINT(EM_DIAGRAM):   data _temp(rename=(RHS=NAME));
2148798    length Node $32;
MPRINT(EM_DIAGRAM):   length Node $32;
2148799    retain ID 6 Node "EMCODE4";
MPRINT(EM_DIAGRAM):   retain ID 6 Node "EMCODE4";
2148800    set _temp;
MPRINT(EM_DIAGRAM):   set _temp;
2148801    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 39 observations read from the data set WORK._TEMP.
NOTE: The data set WORK._TEMP has 39 observations and 14 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

2148802    proc sort data=_temp;
MPRINT(EM_DIAGRAM):   proc sort data=_temp;
2148803    by NAME;
MPRINT(EM_DIAGRAM):   by NAME;
2148804    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 39 observations read from the data set WORK._TEMP.
NOTE: The data set WORK._TEMP has 39 observations and 14 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

2148805    proc sort data=EMWS8.EMCODE4_variableset out=_temp2(keep=NAME CREATOR);
MPRINT(EM_DIAGRAM):   proc sort data=EMWS8.EMCODE4_variableset out=_temp2(keep=NAME CREATOR);
2148806    by NAME;
MPRINT(EM_DIAGRAM):   by NAME;
2148807    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 27 observations read from the data set EMWS8.EMCODE4_VARIABLESET.
NOTE: The data set WORK._TEMP2 has 27 observations and 2 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

2148808    data _temp2;
MPRINT(EM_DIAGRAM):   data _temp2;
2148809    length CREATOR $32;
MPRINT(EM_DIAGRAM):   length CREATOR $32;
2148810    set _temp2;
MPRINT(EM_DIAGRAM):   set _temp2;
2148811    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 27 observations read from the data set WORK._TEMP2.
NOTE: The data set WORK._TEMP2 has 27 observations and 2 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

2148812    proc contents data=EMWS8.EMCODE4_train out=_meta(keep=NAME) noprint;
MPRINT(EM_DIAGRAM):   proc contents data=EMWS8.EMCODE4_train out=_meta(keep=NAME) noprint;
2148813    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: The data set WORK._META has 41 observations and 1 variables.
NOTE: PROCEDURE CONTENTS used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

2148814    proc sort data=_meta;
MPRINT(EM_DIAGRAM):   proc sort data=_meta;
2148815    by NAME;
MPRINT(EM_DIAGRAM):   by NAME;
2148816    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 41 observations read from the data set WORK._META.
NOTE: The data set WORK._META has 41 observations and 1 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

2148817    data _temp2;
MPRINT(EM_DIAGRAM):   data _temp2;
2148818    merge _meta _temp2;
MPRINT(EM_DIAGRAM):   merge _meta _temp2;
2148819    by NAME;
MPRINT(EM_DIAGRAM):   by NAME;
2148820    run;
MPRINT(EM_DIAGRAM):   run;

WARNING: Multiple lengths were specified for the BY variable NAME by input data sets. This may 
         cause unexpected results.
NOTE: There were 41 observations read from the data set WORK._META.
NOTE: There were 27 observations read from the data set WORK._TEMP2.
NOTE: The data set WORK._TEMP2 has 41 observations and 2 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

2148821    proc sql;
MPRINT(EM_DIAGRAM):   proc sql;
2148822    create table _tempx as select p.node, p.lhs, p.id , p2.name, p2.CREATOR from
2148822  ! work._temp p, work._temp2 p2 where upcase(p.NAME)=upcase(p2.NAME);
MPRINT(EM_DIAGRAM):   create table _tempx as select p.node, p.lhs, p.id , p2.name, p2.CREATOR 
from work._temp p, work._temp2 p2 where upcase(p.NAME)=upcase(p2.NAME);
NOTE: Table WORK._TEMPX created, with 39 rows and 5 columns.

2148823    quit;
MPRINT(EM_DIAGRAM):   quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

2148824    proc append base=EMWS8.Ensmbl23_FCMP data=_tempx;
MPRINT(EM_DIAGRAM):   proc append base=EMWS8.Ensmbl23_FCMP data=_tempx;
2148825    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: Appending WORK._TEMPX to EMWS8.ENSMBL23_FCMP.
NOTE: There were 39 observations read from the data set WORK._TEMPX.
NOTE: 39 observations added.
NOTE: The data set EMWS8.ENSMBL23_FCMP has 1030 observations and 5 variables.
NOTE: PROCEDURE APPEND used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

2148826    filename _pref
2148826  ! "C:\\predictive-models-project\Workspaces\EMWS8\Filter\EMPUBLISHSCORE.sas";
MPRINT(EM_DIAGRAM):    filename _pref 
"C:\\predictive-models-project\Workspaces\EMWS8\Filter\EMPUBLISHSCORE.sas";
2148827    proc FCMP NOEXECUTE IMPUTEDDEPS OUTDEPS=_temp;
MPRINT(EM_DIAGRAM):   proc FCMP NOEXECUTE IMPUTEDDEPS OUTDEPS=_temp;
2148828    %INCLUDE _pref;
NOTE: %INCLUDE (level 1) file _PREF is file 
      C:\\predictive-models-project\Workspaces\EMWS8\Filter\EMPUBLISHSCORE.sas.
2148829   +
2148830   +
2148831   +length _FILTERFMT1  $200;
MPRINT(EM_DIAGRAM):   length _FILTERFMT1 $200;
2148832   +drop _FILTERFMT1 ;
MPRINT(EM_DIAGRAM):   drop _FILTERFMT1 ;
2148833   +_FILTERFMT1= put(AcceptedCmp1,BEST.);
MPRINT(EM_DIAGRAM):   _FILTERFMT1= put(AcceptedCmp1,BEST.);
2148834   +length _FILTERNORM1  $32;
MPRINT(EM_DIAGRAM):   length _FILTERNORM1 $32;
2148835   +drop _FILTERNORM1 ;
MPRINT(EM_DIAGRAM):   drop _FILTERNORM1 ;
2148836   +%dmnormcp(_FILTERFMT1,_FILTERNORM1);
MPRINT(DMNORMCP):   _FILTERNORM1=dmnorm(_FILTERFMT1,
MPRINT(DMNORLEN):  32
MPRINT(DMNORMCP):  );
MPRINT(EM_DIAGRAM):  ;
2148837   +
2148838   +
2148839   +length _FILTERFMT2  $200;
MPRINT(EM_DIAGRAM):   length _FILTERFMT2 $200;
2148840   +drop _FILTERFMT2 ;
MPRINT(EM_DIAGRAM):   drop _FILTERFMT2 ;
2148841   +_FILTERFMT2= put(AcceptedCmp2,BEST.);
MPRINT(EM_DIAGRAM):   _FILTERFMT2= put(AcceptedCmp2,BEST.);
2148842   +length _FILTERNORM2  $32;
MPRINT(EM_DIAGRAM):   length _FILTERNORM2 $32;
2148843   +drop _FILTERNORM2 ;
MPRINT(EM_DIAGRAM):   drop _FILTERNORM2 ;
2148844   +%dmnormcp(_FILTERFMT2,_FILTERNORM2);
MPRINT(DMNORMCP):   _FILTERNORM2=dmnorm(_FILTERFMT2,
MPRINT(DMNORLEN):  32
MPRINT(DMNORMCP):  );
MPRINT(EM_DIAGRAM):  ;
2148845   +
2148846   +
2148847   +length _FILTERFMT3  $200;
MPRINT(EM_DIAGRAM):   length _FILTERFMT3 $200;
2148848   +drop _FILTERFMT3 ;
MPRINT(EM_DIAGRAM):   drop _FILTERFMT3 ;
2148849   +_FILTERFMT3= put(AcceptedCmp3,BEST.);
MPRINT(EM_DIAGRAM):   _FILTERFMT3= put(AcceptedCmp3,BEST.);
2148850   +length _FILTERNORM3  $32;
MPRINT(EM_DIAGRAM):   length _FILTERNORM3 $32;
2148851   +drop _FILTERNORM3 ;
MPRINT(EM_DIAGRAM):   drop _FILTERNORM3 ;
2148852   +%dmnormcp(_FILTERFMT3,_FILTERNORM3);
MPRINT(DMNORMCP):   _FILTERNORM3=dmnorm(_FILTERFMT3,
MPRINT(DMNORLEN):  32
MPRINT(DMNORMCP):  );
MPRINT(EM_DIAGRAM):  ;
2148853   +
2148854   +
2148855   +length _FILTERFMT4  $200;
MPRINT(EM_DIAGRAM):   length _FILTERFMT4 $200;
2148856   +drop _FILTERFMT4 ;
MPRINT(EM_DIAGRAM):   drop _FILTERFMT4 ;
2148857   +_FILTERFMT4= put(AcceptedCmp4,BEST.);
MPRINT(EM_DIAGRAM):   _FILTERFMT4= put(AcceptedCmp4,BEST.);
2148858   +length _FILTERNORM4  $32;
MPRINT(EM_DIAGRAM):   length _FILTERNORM4 $32;
2148859   +drop _FILTERNORM4 ;
MPRINT(EM_DIAGRAM):   drop _FILTERNORM4 ;
2148860   +%dmnormcp(_FILTERFMT4,_FILTERNORM4);
MPRINT(DMNORMCP):   _FILTERNORM4=dmnorm(_FILTERFMT4,
MPRINT(DMNORLEN):  32
MPRINT(DMNORMCP):  );
MPRINT(EM_DIAGRAM):  ;
2148861   +
2148862   +
2148863   +length _FILTERFMT5  $200;
MPRINT(EM_DIAGRAM):   length _FILTERFMT5 $200;
2148864   +drop _FILTERFMT5 ;
MPRINT(EM_DIAGRAM):   drop _FILTERFMT5 ;
2148865   +_FILTERFMT5= put(AcceptedCmp5,BEST.);
MPRINT(EM_DIAGRAM):   _FILTERFMT5= put(AcceptedCmp5,BEST.);
2148866   +length _FILTERNORM5  $32;
MPRINT(EM_DIAGRAM):   length _FILTERNORM5 $32;
2148867   +drop _FILTERNORM5 ;
MPRINT(EM_DIAGRAM):   drop _FILTERNORM5 ;
2148868   +%dmnormcp(_FILTERFMT5,_FILTERNORM5);
MPRINT(DMNORMCP):   _FILTERNORM5=dmnorm(_FILTERFMT5,
MPRINT(DMNORLEN):  32
MPRINT(DMNORMCP):  );
MPRINT(EM_DIAGRAM):  ;
2148869   +
2148870   +
2148871   +length _FILTERFMT6  $200;
MPRINT(EM_DIAGRAM):   length _FILTERFMT6 $200;
2148872   +drop _FILTERFMT6 ;
MPRINT(EM_DIAGRAM):   drop _FILTERFMT6 ;
2148873   +_FILTERFMT6= put(Complain,BEST.);
MPRINT(EM_DIAGRAM):   _FILTERFMT6= put(Complain,BEST.);
2148874   +length _FILTERNORM6  $32;
MPRINT(EM_DIAGRAM):   length _FILTERNORM6 $32;
2148875   +drop _FILTERNORM6 ;
MPRINT(EM_DIAGRAM):   drop _FILTERNORM6 ;
2148876   +%dmnormcp(_FILTERFMT6,_FILTERNORM6);
MPRINT(DMNORMCP):   _FILTERNORM6=dmnorm(_FILTERFMT6,
MPRINT(DMNORLEN):  32
MPRINT(DMNORMCP):  );
MPRINT(EM_DIAGRAM):  ;
2148877   +
2148878   +
2148879   +length _FILTERFMT7  $200;
MPRINT(EM_DIAGRAM):   length _FILTERFMT7 $200;
2148880   +drop _FILTERFMT7 ;
MPRINT(EM_DIAGRAM):   drop _FILTERFMT7 ;
2148881   +_FILTERFMT7= put(Education,$10.0);
MPRINT(EM_DIAGRAM):   _FILTERFMT7= put(Education,$10.0);
2148882   +length _FILTERNORM7  $32;
MPRINT(EM_DIAGRAM):   length _FILTERNORM7 $32;
2148883   +drop _FILTERNORM7 ;
MPRINT(EM_DIAGRAM):   drop _FILTERNORM7 ;
2148884   +%dmnormcp(_FILTERFMT7,_FILTERNORM7);
MPRINT(DMNORMCP):   _FILTERNORM7=dmnorm(_FILTERFMT7,
MPRINT(DMNORLEN):  32
MPRINT(DMNORMCP):  );
MPRINT(EM_DIAGRAM):  ;
2148885   +
2148886   +
2148887   +length _FILTERFMT8  $200;
MPRINT(EM_DIAGRAM):   length _FILTERFMT8 $200;
2148888   +drop _FILTERFMT8 ;
MPRINT(EM_DIAGRAM):   drop _FILTERFMT8 ;
2148889   +_FILTERFMT8= put(Marital_Status,$8.0);
MPRINT(EM_DIAGRAM):   _FILTERFMT8= put(Marital_Status,$8.0);
2148890   +length _FILTERNORM8  $32;
MPRINT(EM_DIAGRAM):   length _FILTERNORM8 $32;
2148891   +drop _FILTERNORM8 ;
MPRINT(EM_DIAGRAM):   drop _FILTERNORM8 ;
2148892   +%dmnormcp(_FILTERFMT8,_FILTERNORM8);
MPRINT(DMNORMCP):   _FILTERNORM8=dmnorm(_FILTERFMT8,
MPRINT(DMNORLEN):  32
MPRINT(DMNORMCP):  );
MPRINT(EM_DIAGRAM):  ;
2148893   +if
2148894   +_FILTERNORM1 not in ( '.')
2148895   + and
2148896   +_FILTERNORM2 not in ( '.')
2148897   + and
2148898   +_FILTERNORM3 not in ( '.')
2148899   + and
2148900   +_FILTERNORM4 not in ( '.')
2148901   + and
2148902   +_FILTERNORM5 not in ( '.')
2148903   + and
2148904   +_FILTERNORM6 not in ( '.')
2148905   + and
2148906   +_FILTERNORM7 not in ( ' ')
2148907   + and
2148908   +_FILTERNORM8 not in ( ' ')
2148909   +and
2148910   +( Dt_Customer ne .)
2148911   +and ( Income ne . and (Income<=107000))
2148912   +and ( Kidhome ne .)
2148913   +and ( MntFishProducts ne .)
2148914   +and ( MntFruits ne .)
2148915   +and ( MntGoldProds ne .)
2148916   +and ( MntMeatProducts ne . and (MntMeatProducts<=964))
2148917   +and ( MntSweetProducts ne .)
2148918   +and ( MntWines ne .)
2148919   +and ( NumCatalogPurchases ne . and (NumCatalogPurchases<=14))
2148920   +and ( NumDealsPurchases ne . and (NumDealsPurchases<=10.5))
2148921   +and ( NumStorePurchases ne .)
2148922   +and ( NumWebPurchases ne .)
2148923   +and ( NumWebVisitsMonth ne . and (NumWebVisitsMonth<=13.42))
2148924   +and ( Recency ne .)
2148925   +and ( Teenhome ne .)
2148926   +and ( Year_Birth ne .)
2148927   +then do;
MPRINT(EM_DIAGRAM):   if _FILTERNORM1 not in ( '.') and _FILTERNORM2 not in ( '.') and 
_FILTERNORM3 not in ( '.') and _FILTERNORM4 not in ( '.') and _FILTERNORM5 not in ( '.') and 
_FILTERNORM6 not in ( '.') and _FILTERNORM7 not in ( ' ') and _FILTERNORM8 not in ( ' ') and ( 
Dt_Customer ne .) and ( Income ne . and (Income<=107000)) and ( Kidhome ne .) and ( 
MntFishProducts ne .) and ( MntFruits ne .) and ( MntGoldProds ne .) and ( MntMeatProducts ne 
. and (MntMeatProducts<=964)) and ( MntSweetProducts ne .) and ( MntWines ne .) and ( 
NumCatalogPurchases ne . and (NumCatalogPurchases<=14)) and ( NumDealsPurchases ne . and 
(NumDealsPurchases<=10.5)) and ( NumStorePurchases ne .) and ( NumWebPurchases ne .) and ( 
NumWebVisitsMonth ne . and (NumWebVisitsMonth<=13.42)) and ( Recency ne .) and ( Teenhome ne 
.) and ( Year_Birth ne .) then do;
2148928   +if M_FILTER eq . then M_FILTER = 0;
MPRINT(EM_DIAGRAM):   if M_FILTER eq . then M_FILTER = 0;
2148929   +else M_FILTER = M_FILTER + 0;
MPRINT(EM_DIAGRAM):   else M_FILTER = M_FILTER + 0;
2148930   +end;
MPRINT(EM_DIAGRAM):   end;
2148931   +else M_FILTER = 1;
MPRINT(EM_DIAGRAM):   else M_FILTER = 1;
2148932   +label M_FILTER = 'Filtered Indicator';
MPRINT(EM_DIAGRAM):   label M_FILTER = 'Filtered Indicator';
NOTE: %INCLUDE (level 1) ending.
MPRINT(EM_DIAGRAM):   run;
2148933    run;

NOTE: Dependency structure written to data set _TEMP.
NOTE: PROCEDURE FCMP used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

MPRINT(EM_DIAGRAM):   quit;
2148934    quit;
2148935    filename _pref;
MPRINT(EM_DIAGRAM):   filename _pref;
NOTE: Fileref _PREF has been deassigned.
2148936    data _temp(rename=(RHS=NAME));
MPRINT(EM_DIAGRAM):   data _temp(rename=(RHS=NAME));
2148937    length Node $32;
MPRINT(EM_DIAGRAM):   length Node $32;
2148938    retain ID 7 Node "Filter";
MPRINT(EM_DIAGRAM):   retain ID 7 Node "Filter";
2148939    set _temp;
MPRINT(EM_DIAGRAM):   set _temp;
2148940    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 110 observations read from the data set WORK._TEMP.
NOTE: The data set WORK._TEMP has 110 observations and 14 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

2148941    proc sort data=_temp;
MPRINT(EM_DIAGRAM):   proc sort data=_temp;
2148942    by NAME;
MPRINT(EM_DIAGRAM):   by NAME;
2148943    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 110 observations read from the data set WORK._TEMP.
NOTE: The data set WORK._TEMP has 110 observations and 14 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

2148944    proc sort data=EMWS8.Filter_variableset out=_temp2(keep=NAME CREATOR);
MPRINT(EM_DIAGRAM):   proc sort data=EMWS8.Filter_variableset out=_temp2(keep=NAME CREATOR);
2148945    by NAME;
MPRINT(EM_DIAGRAM):   by NAME;
2148946    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 26 observations read from the data set EMWS8.FILTER_VARIABLESET.
NOTE: The data set WORK._TEMP2 has 26 observations and 2 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

2148947    data _temp2;
MPRINT(EM_DIAGRAM):   data _temp2;
2148948    length CREATOR $32;
MPRINT(EM_DIAGRAM):   length CREATOR $32;
2148949    set _temp2;
MPRINT(EM_DIAGRAM):   set _temp2;
2148950    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 26 observations read from the data set WORK._TEMP2.
NOTE: The data set WORK._TEMP2 has 26 observations and 2 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

2148951    proc contents data=EMWS8.Filter_train out=_meta(keep=NAME) noprint;
MPRINT(EM_DIAGRAM):   proc contents data=EMWS8.Filter_train out=_meta(keep=NAME) noprint;
2148952    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: The data set WORK._META has 34 observations and 1 variables.
NOTE: PROCEDURE CONTENTS used (Total process time):
      real time           0.02 seconds
      cpu time            0.01 seconds
      

2148953    proc sort data=_meta;
MPRINT(EM_DIAGRAM):   proc sort data=_meta;
2148954    by NAME;
MPRINT(EM_DIAGRAM):   by NAME;
2148955    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 34 observations read from the data set WORK._META.
NOTE: The data set WORK._META has 34 observations and 1 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

2148956    data _temp2;
MPRINT(EM_DIAGRAM):   data _temp2;
2148957    merge _meta _temp2;
MPRINT(EM_DIAGRAM):   merge _meta _temp2;
2148958    by NAME;
MPRINT(EM_DIAGRAM):   by NAME;
2148959    run;
MPRINT(EM_DIAGRAM):   run;

WARNING: Multiple lengths were specified for the BY variable NAME by input data sets. This may 
         cause unexpected results.
NOTE: There were 34 observations read from the data set WORK._META.
NOTE: There were 26 observations read from the data set WORK._TEMP2.
NOTE: The data set WORK._TEMP2 has 34 observations and 2 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

2148960    proc sql;
MPRINT(EM_DIAGRAM):   proc sql;
2148961    create table _tempx as select p.node, p.lhs, p.id , p2.name, p2.CREATOR from
2148961  ! work._temp p, work._temp2 p2 where upcase(p.NAME)=upcase(p2.NAME);
MPRINT(EM_DIAGRAM):   create table _tempx as select p.node, p.lhs, p.id , p2.name, p2.CREATOR 
from work._temp p, work._temp2 p2 where upcase(p.NAME)=upcase(p2.NAME);
NOTE: Table WORK._TEMPX created, with 66 rows and 5 columns.

2148962    quit;
MPRINT(EM_DIAGRAM):   quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

2148963    proc append base=EMWS8.Ensmbl23_FCMP data=_tempx;
MPRINT(EM_DIAGRAM):   proc append base=EMWS8.Ensmbl23_FCMP data=_tempx;
2148964    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: Appending WORK._TEMPX to EMWS8.ENSMBL23_FCMP.
NOTE: There were 66 observations read from the data set WORK._TEMPX.
NOTE: 66 observations added.
NOTE: The data set EMWS8.ENSMBL23_FCMP has 1096 observations and 5 variables.
NOTE: PROCEDURE APPEND used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

2148965    %macro varDept(fcmpdata=,id=);
2148966    %global nobs&id scoreFlag&id;
2148967    %let scoreFlag&id = 0;
2148968    %if &id=1 or ^&fcmpStart %then %do;
2148969    proc sort data=&fcmpdata out=_temp&id nodupkey;
2148970    by NAME;
2148971    where id=&id and LHS in( %let j=1;
2148972    %do %while(%scan(_WARN_ I_DepVar P_DepVar1 P_DepVar0, &j) ne );
2148973    %let var = %scan(_WARN_ I_DepVar P_DepVar1 P_DepVar0, &j);
2148974    "&var" %let j = %eval(&j+1);
2148975    %end;
2148976    );
2148977    run;
2148978    %let dsid = %sysfunc(open(_temp&id));
2148979    %let nobs&id = %sysfunc(attrn(&dsid, NLOBSF));
2148980    %let dsid = %sysfunc(close(&dsid));
2148981    %if &&nobs&id %then %do;
2148982    %let scoreFlag&id = 1;
2148983    %let fcmpStart = 1;
2148984    %end;
2148985    %else %let fcmpStart = 0;
2148986    %end;
2148987    %else %do;
2148988    proc sort data=&fcmpdata out=_tempid;
2148989    where id=&id;
2148990    by LHS;
2148991    run;
2148992    %let dsid = %sysfunc(open(_tempid));
2148993    %let nobs&id = %sysfunc(attrn(&dsid, NLOBSF));
2148994    %let dsid = %sysfunc(close(&dsid));
2148995    %if ^&&nobs&id %then %do;
2148996    proc datasets lib=work nolist;
2148997    delete _tempid;
2148998    run;
2148999    quit;
2149000    %end;
2149001    %else %do;
2149002    data _tempAll;
2149003    set %let j=%eval(&id-1);
2149004    %do x=1 %to &j;
2149005    %if &&nobs&x %then %do;
2149006    _temp&x %end;
2149007    %end;
2149008    ;
2149009    run;
2149010    proc sql;
2149011    create table _temp&id as select p2.lhs, p2.name, p2.Node from work._tempAll p,
2149011  ! work._tempid p2 where p.name=p2.lhs;
2149012    quit;
2149013    data _temp&id;
2149014    set _temp&id;
2149015    where LHS ne '' and NAME ne '' and Node ne '';
2149016    run;
2149017    proc datasets lib=work nolist;
2149018    delete _tempAll;
2149019    run;
2149020    %let dsid = %sysfunc(open(_temp&id));
2149021    %let nobs&id = %sysfunc(attrn(&dsid, NLOBSF));
2149022    %let dsid = %sysfunc(close(&dsid));
2149023    %if ^&&nobs&id %then %do;
2149024    proc datasets lib=work nolist;
2149025    delete _temp&id;
2149026    run;
2149027    quit;
2149028    %end;
2149029    %else %do;
2149030    %let scoreFlag&id = 1;
2149031    data _temp&id;
2149032    set _temp&id;
2149033    where LHS ne NAME and node ne '';
2149034    run;
2149035    %let dsid = %sysfunc(open(_temp&id));
2149036    %let nobs&id = %sysfunc(attrn(&dsid, NLOBSF));
2149037    %let dsid = %sysfunc(close(&dsid));
2149038    %if ^&&nobs&id %then %do;
2149039    proc datasets lib=work nolist;
2149040    delete _temp&id;
2149041    run;
2149042    quit;
2149043    %end;
2149044    %else %do;
2149045    proc sort data=_temp&id nodupkey;
2149046    by LHS NAME;
2149047    run;
2149048    %end;
2149049    %end;
2149050    %end;
2149051    %end;
2149052    %mend varDept;
2149053    %macro optCode(outdata=fcmpdata);
2149054    %global fcmpStart;
2149055    %let fcmpStart = 0;
2149056    %let outputVars = _WARN_ I_DepVar P_DepVar1 P_DepVar0;
2149057    %let NumNodes=9;
2149058    %do k=1 %to &NumNodes;
2149059    %vardept(fcmpdata=&outdata, id=&k);
2149060    %end;
2149061    %mend optCode;
2149062    %optcode(outData=EMWS8.Ensmbl23_FCMP);
MPRINT(EM_DIAGRAM):   
MPRINT(VARDEPT):   proc sort data=EMWS8.Ensmbl23_FCMP out=_temp1 nodupkey;
MPRINT(VARDEPT):   by NAME;
MPRINT(VARDEPT):   where id=1 and LHS in( "_WARN_" "I_DepVar" "P_DepVar1" "P_DepVar0" );
MPRINT(VARDEPT):   run;

NOTE: Input data set is empty.
NOTE: 0 observations with duplicate key values were deleted.
NOTE: There were 0 observations read from the data set EMWS8.ENSMBL23_FCMP.
      WHERE (id=1) and LHS in ('I_DepVar', 'P_DepVar0', 'P_DepVar1', '_WARN_');
NOTE: The data set WORK._TEMP1 has 0 observations and 5 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

MPRINT(OPTCODE):  ;
MPRINT(VARDEPT):   proc sort data=EMWS8.Ensmbl23_FCMP out=_temp2 nodupkey;
MPRINT(VARDEPT):   by NAME;
MPRINT(VARDEPT):   where id=2 and LHS in( "_WARN_" "I_DepVar" "P_DepVar1" "P_DepVar0" );
MPRINT(VARDEPT):   run;

NOTE: There were 106 observations read from the data set EMWS8.ENSMBL23_FCMP.
      WHERE (id=2) and LHS in ('I_DepVar', 'P_DepVar0', 'P_DepVar1', '_WARN_');
NOTE: 79 observations with duplicate key values were deleted.
NOTE: The data set WORK._TEMP2 has 27 observations and 5 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

MPRINT(OPTCODE):  ;
MPRINT(VARDEPT):   proc sort data=EMWS8.Ensmbl23_FCMP out=_tempid;
MPRINT(VARDEPT):   where id=3;
MPRINT(VARDEPT):   by LHS;
MPRINT(VARDEPT):   run;

NOTE: Input data set is empty.
NOTE: There were 0 observations read from the data set EMWS8.ENSMBL23_FCMP.
      WHERE id=3;
NOTE: The data set WORK._TEMPID has 0 observations and 5 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

MPRINT(VARDEPT):   proc datasets lib=work nolist;
MPRINT(VARDEPT):   delete _tempid;
MPRINT(VARDEPT):   run;

NOTE: Deleting WORK._TEMPID (memtype=DATA).
MPRINT(VARDEPT):   quit;

NOTE: PROCEDURE DATASETS used (Total process time):
      real time           0.04 seconds
      cpu time            0.04 seconds
      

MPRINT(OPTCODE):  ;
MPRINT(VARDEPT):   proc sort data=EMWS8.Ensmbl23_FCMP out=_tempid;
MPRINT(VARDEPT):   where id=4;
MPRINT(VARDEPT):   by LHS;
MPRINT(VARDEPT):   run;

NOTE: Input data set is empty.
NOTE: There were 0 observations read from the data set EMWS8.ENSMBL23_FCMP.
      WHERE id=4;
NOTE: The data set WORK._TEMPID has 0 observations and 5 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

MPRINT(VARDEPT):   proc datasets lib=work nolist;
MPRINT(VARDEPT):   delete _tempid;
MPRINT(VARDEPT):   run;

NOTE: Deleting WORK._TEMPID (memtype=DATA).
MPRINT(VARDEPT):   quit;

NOTE: PROCEDURE DATASETS used (Total process time):
      real time           0.04 seconds
      cpu time            0.04 seconds
      

MPRINT(OPTCODE):  ;
MPRINT(VARDEPT):   proc sort data=EMWS8.Ensmbl23_FCMP out=_tempid;
MPRINT(VARDEPT):   where id=5;
MPRINT(VARDEPT):   by LHS;
MPRINT(VARDEPT):   run;

NOTE: There were 4 observations read from the data set EMWS8.ENSMBL23_FCMP.
      WHERE id=5;
NOTE: The data set WORK._TEMPID has 4 observations and 5 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

MPRINT(VARDEPT):   data _tempAll;
MPRINT(VARDEPT):   set _temp2 ;
MPRINT(VARDEPT):   run;

NOTE: There were 27 observations read from the data set WORK._TEMP2.
NOTE: The data set WORK._TEMPALL has 27 observations and 5 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

MPRINT(VARDEPT):   proc sql;
MPRINT(VARDEPT):   create table _temp5 as select p2.lhs, p2.name, p2.Node from work._tempAll 
p, work._tempid p2 where p.name=p2.lhs;
NOTE: Table WORK._TEMP5 created, with 2 rows and 3 columns.

MPRINT(VARDEPT):   quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

MPRINT(VARDEPT):   data _temp5;
MPRINT(VARDEPT):   set _temp5;
MPRINT(VARDEPT):   where LHS ne '' and NAME ne '' and Node ne '';
MPRINT(VARDEPT):   run;

NOTE: There were 2 observations read from the data set WORK._TEMP5.
      WHERE (LHS not = ' ') and (NAME not = ' ') and (Node not = ' ');
NOTE: The data set WORK._TEMP5 has 2 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

MPRINT(VARDEPT):   proc datasets lib=work nolist;
MPRINT(VARDEPT):   delete _tempAll;
MPRINT(VARDEPT):   run;

NOTE: Deleting WORK._TEMPALL (memtype=DATA).

NOTE: PROCEDURE DATASETS used (Total process time):
      real time           0.04 seconds
      cpu time            0.04 seconds
      

MPRINT(VARDEPT):   data _temp5;
MPRINT(VARDEPT):   set _temp5;
MPRINT(VARDEPT):   where LHS ne NAME and node ne '';
MPRINT(VARDEPT):   run;

NOTE: There were 2 observations read from the data set WORK._TEMP5.
      WHERE (LHS not = NAME) and (node not = ' ');
NOTE: The data set WORK._TEMP5 has 2 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

MPRINT(VARDEPT):   proc sort data=_temp5 nodupkey;
MPRINT(VARDEPT):   by LHS NAME;
MPRINT(VARDEPT):   run;

NOTE: There were 2 observations read from the data set WORK._TEMP5.
NOTE: 0 observations with duplicate key values were deleted.
NOTE: The data set WORK._TEMP5 has 2 observations and 3 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

MPRINT(OPTCODE):  ;
MPRINT(VARDEPT):   proc sort data=EMWS8.Ensmbl23_FCMP out=_tempid;
MPRINT(VARDEPT):   where id=6;
MPRINT(VARDEPT):   by LHS;
MPRINT(VARDEPT):   run;

NOTE: There were 39 observations read from the data set EMWS8.ENSMBL23_FCMP.
      WHERE id=6;
NOTE: The data set WORK._TEMPID has 39 observations and 5 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

MPRINT(VARDEPT):   data _tempAll;
MPRINT(VARDEPT):   set _temp2 _temp5 ;
MPRINT(VARDEPT):   run;

NOTE: There were 27 observations read from the data set WORK._TEMP2.
NOTE: There were 2 observations read from the data set WORK._TEMP5.
NOTE: The data set WORK._TEMPALL has 29 observations and 5 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

MPRINT(VARDEPT):   proc sql;
MPRINT(VARDEPT):   create table _temp6 as select p2.lhs, p2.name, p2.Node from work._tempAll 
p, work._tempid p2 where p.name=p2.lhs;
NOTE: Table WORK._TEMP6 created, with 33 rows and 3 columns.

MPRINT(VARDEPT):   quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

MPRINT(VARDEPT):   data _temp6;
MPRINT(VARDEPT):   set _temp6;
MPRINT(VARDEPT):   where LHS ne '' and NAME ne '' and Node ne '';
MPRINT(VARDEPT):   run;

NOTE: There were 33 observations read from the data set WORK._TEMP6.
      WHERE (LHS not = ' ') and (NAME not = ' ') and (Node not = ' ');
NOTE: The data set WORK._TEMP6 has 33 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

MPRINT(VARDEPT):   proc datasets lib=work nolist;
MPRINT(VARDEPT):   delete _tempAll;
MPRINT(VARDEPT):   run;

NOTE: Deleting WORK._TEMPALL (memtype=DATA).

NOTE: PROCEDURE DATASETS used (Total process time):
      real time           0.04 seconds
      cpu time            0.03 seconds
      

MPRINT(VARDEPT):   data _temp6;
MPRINT(VARDEPT):   set _temp6;
MPRINT(VARDEPT):   where LHS ne NAME and node ne '';
MPRINT(VARDEPT):   run;

NOTE: There were 33 observations read from the data set WORK._TEMP6.
      WHERE (LHS not = NAME) and (node not = ' ');
NOTE: The data set WORK._TEMP6 has 33 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

MPRINT(VARDEPT):   proc sort data=_temp6 nodupkey;
MPRINT(VARDEPT):   by LHS NAME;
MPRINT(VARDEPT):   run;

NOTE: There were 33 observations read from the data set WORK._TEMP6.
NOTE: 0 observations with duplicate key values were deleted.
NOTE: The data set WORK._TEMP6 has 33 observations and 3 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

MPRINT(OPTCODE):  ;
MPRINT(VARDEPT):   proc sort data=EMWS8.Ensmbl23_FCMP out=_tempid;
MPRINT(VARDEPT):   where id=7;
MPRINT(VARDEPT):   by LHS;
MPRINT(VARDEPT):   run;

NOTE: There were 66 observations read from the data set EMWS8.ENSMBL23_FCMP.
      WHERE id=7;
NOTE: The data set WORK._TEMPID has 66 observations and 5 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

MPRINT(VARDEPT):   data _tempAll;
MPRINT(VARDEPT):   set _temp2 _temp5 _temp6 ;
MPRINT(VARDEPT):   run;

NOTE: There were 27 observations read from the data set WORK._TEMP2.
NOTE: There were 2 observations read from the data set WORK._TEMP5.
NOTE: There were 33 observations read from the data set WORK._TEMP6.
NOTE: The data set WORK._TEMPALL has 62 observations and 5 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

MPRINT(VARDEPT):   proc sql;
MPRINT(VARDEPT):   create table _temp7 as select p2.lhs, p2.name, p2.Node from work._tempAll 
p, work._tempid p2 where p.name=p2.lhs;
NOTE: Table WORK._TEMP7 created, with 0 rows and 3 columns.

MPRINT(VARDEPT):   quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

MPRINT(VARDEPT):   data _temp7;
MPRINT(VARDEPT):   set _temp7;
MPRINT(VARDEPT):   where LHS ne '' and NAME ne '' and Node ne '';
MPRINT(VARDEPT):   run;

NOTE: There were 0 observations read from the data set WORK._TEMP7.
      WHERE (LHS not = ' ') and (NAME not = ' ') and (Node not = ' ');
NOTE: The data set WORK._TEMP7 has 0 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

MPRINT(VARDEPT):   proc datasets lib=work nolist;
MPRINT(VARDEPT):   delete _tempAll;
MPRINT(VARDEPT):   run;

NOTE: Deleting WORK._TEMPALL (memtype=DATA).

NOTE: PROCEDURE DATASETS used (Total process time):
      real time           0.04 seconds
      cpu time            0.04 seconds
      

MPRINT(VARDEPT):   proc datasets lib=work nolist;
MPRINT(VARDEPT):   delete _temp7;
MPRINT(VARDEPT):   run;

NOTE: Deleting WORK._TEMP7 (memtype=DATA).
MPRINT(VARDEPT):   quit;

NOTE: PROCEDURE DATASETS used (Total process time):
      real time           0.04 seconds
      cpu time            0.04 seconds
      

MPRINT(OPTCODE):  ;
MPRINT(VARDEPT):   proc sort data=EMWS8.Ensmbl23_FCMP out=_tempid;
MPRINT(VARDEPT):   where id=8;
MPRINT(VARDEPT):   by LHS;
MPRINT(VARDEPT):   run;

NOTE: Input data set is empty.
NOTE: There were 0 observations read from the data set EMWS8.ENSMBL23_FCMP.
      WHERE id=8;
NOTE: The data set WORK._TEMPID has 0 observations and 5 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

MPRINT(VARDEPT):   proc datasets lib=work nolist;
MPRINT(VARDEPT):   delete _tempid;
MPRINT(VARDEPT):   run;

NOTE: Deleting WORK._TEMPID (memtype=DATA).
MPRINT(VARDEPT):   quit;

NOTE: PROCEDURE DATASETS used (Total process time):
      real time           0.04 seconds
      cpu time            0.04 seconds
      

MPRINT(OPTCODE):  ;
MPRINT(VARDEPT):   proc sort data=EMWS8.Ensmbl23_FCMP out=_tempid;
MPRINT(VARDEPT):   where id=9;
MPRINT(VARDEPT):   by LHS;
MPRINT(VARDEPT):   run;

NOTE: Input data set is empty.
NOTE: There were 0 observations read from the data set EMWS8.ENSMBL23_FCMP.
      WHERE id=9;
NOTE: The data set WORK._TEMPID has 0 observations and 5 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

MPRINT(VARDEPT):   proc datasets lib=work nolist;
MPRINT(VARDEPT):   delete _tempid;
MPRINT(VARDEPT):   run;

NOTE: Deleting WORK._TEMPID (memtype=DATA).
MPRINT(VARDEPT):   quit;

NOTE: PROCEDURE DATASETS used (Total process time):
      real time           0.04 seconds
      cpu time            0.04 seconds
      

MPRINT(OPTCODE):  ;
MPRINT(EM_DIAGRAM):  ;

2149063    data _all_;
MPRINT(EM_DIAGRAM):    data _all_;
2149064    set EMWS8.Trans_EMSCOREVAR;
MPRINT(EM_DIAGRAM):   set EMWS8.Trans_EMSCOREVAR;
2149065    where NAME='' and file ne '' and ^index(file, '_POSTALL_.sas');
MPRINT(EM_DIAGRAM):   where NAME='' and file ne '' and ^index(file, '_POSTALL_.sas');
2149066    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 0 observations read from the data set EMWS8.TRANS_EMSCOREVAR.
      WHERE (NAME=' ') and (file not = ' ') and (not INDEX(file, '_POSTALL_.sas'));
NOTE: The data set WORK._ALL_ has 0 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

2149067    data _postall_;
MPRINT(EM_DIAGRAM):   data _postall_;
2149068    set EMWS8.Trans_EMSCOREVAR;
MPRINT(EM_DIAGRAM):   set EMWS8.Trans_EMSCOREVAR;
2149069    where NAME='' and file ne '' and index(file, '_POSTALL_.sas');
MPRINT(EM_DIAGRAM):   where NAME='' and file ne '' and index(file, '_POSTALL_.sas');
2149070    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 0 observations read from the data set EMWS8.TRANS_EMSCOREVAR.
      WHERE (NAME=' ') and (file not = ' ') and INDEX(file, '_POSTALL_.sas');
NOTE: The data set WORK._POSTALL_ has 0 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

2149071    proc sql;
MPRINT(EM_DIAGRAM):   proc sql;
2149072    create table _CodeVar5 as select p.lhs, p2.formula, p2.file from _temp5 p,
2149072  ! EMWS8.Trans_EMSCOREVAR p2 where upcase(p.LHS)=upcase(p2.NAME) order by p.lhs;
MPRINT(EM_DIAGRAM):   create table _CodeVar5 as select p.lhs, p2.formula, p2.file from _temp5 
p, EMWS8.Trans_EMSCOREVAR p2 where upcase(p.LHS)=upcase(p2.NAME) order by p.lhs;
NOTE: Table WORK._CODEVAR5 created, with 2 rows and 3 columns.

2149073    quit;
MPRINT(EM_DIAGRAM):   quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

2149074    data _CodeVar5;
MPRINT(EM_DIAGRAM):   data _CodeVar5;
2149075    set _all_ _CodeVar5 _postall_;
MPRINT(EM_DIAGRAM):   set _all_ _CodeVar5 _postall_;
2149076    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 0 observations read from the data set WORK._ALL_.
NOTE: There were 2 observations read from the data set WORK._CODEVAR5.
NOTE: There were 0 observations read from the data set WORK._POSTALL_.
NOTE: The data set WORK._CODEVAR5 has 2 observations and 4 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

2149077    filename _pref
2149077  ! "C:\\predictive-models-project\Workspaces\EMWS8\Neural38\EMPUBLISHSCORE.sas";
MPRINT(EM_DIAGRAM):    filename _pref 
"C:\\predictive-models-project\Workspaces\EMWS8\Neural38\EMPUBLISHSCORE.sas";
2149078    proc FCMP NOEXECUTE IMPUTEDDEPS OUTDEPS=_temp;
MPRINT(EM_DIAGRAM):   proc FCMP NOEXECUTE IMPUTEDDEPS OUTDEPS=_temp;
2149079    %INCLUDE _pref;
NOTE: %INCLUDE (level 1) file _PREF is file 
      C:\\predictive-models-project\Workspaces\EMWS8\Neural38\EMPUBLISHSCORE.sas.
2149080   +***********************************;
MPRINT(EM_DIAGRAM):   ***********************************;
2149081   +*** Begin Scoring Code for Neural;
MPRINT(EM_DIAGRAM):   *** Begin Scoring Code for Neural;
2149082   +***********************************;
MPRINT(EM_DIAGRAM):   ***********************************;
2149083   +DROP _DM_BAD _EPS _NOCL_ _MAX_ _MAXP_ _SUM_ _NTRIALS;
MPRINT(EM_DIAGRAM):   DROP _DM_BAD _EPS _NOCL_ _MAX_ _MAXP_ _SUM_ _NTRIALS;
2149084   + _DM_BAD = 0;
MPRINT(EM_DIAGRAM):   _DM_BAD = 0;
2149085   + _NOCL_ = .;
MPRINT(EM_DIAGRAM):   _NOCL_ = .;
2149086   + _MAX_ = .;
MPRINT(EM_DIAGRAM):   _MAX_ = .;
2149087   + _MAXP_ = .;
MPRINT(EM_DIAGRAM):   _MAXP_ = .;
2149088   + _SUM_ = .;
MPRINT(EM_DIAGRAM):   _SUM_ = .;
2149089   + _NTRIALS = .;
MPRINT(EM_DIAGRAM):   _NTRIALS = .;
2149090   + _EPS =                1E-10;
MPRINT(EM_DIAGRAM):   _EPS = 1E-10;
2149091   +LENGTH _WARN_ $4
2149092   +;
MPRINT(EM_DIAGRAM):   LENGTH _WARN_ $4 ;
2149093   +      label S_AcceptedCmpTotal = 'Standard: AcceptedCmpTotal' ;
MPRINT(EM_DIAGRAM):   label S_AcceptedCmpTotal = 'Standard: AcceptedCmpTotal' ;
2149094   +
2149095   +      label S_Age = 'Standard: Age' ;
MPRINT(EM_DIAGRAM):   label S_Age = 'Standard: Age' ;
2149096   +
2149097   +      label S_Frq = 'Standard: Frq' ;
MPRINT(EM_DIAGRAM):   label S_Frq = 'Standard: Frq' ;
2149098   +
2149099   +      label S_Income = 'Standard: Income' ;
MPRINT(EM_DIAGRAM):   label S_Income = 'Standard: Income' ;
2149100   +
2149101   +      label S_Kidhome = 'Standard: Kidhome' ;
MPRINT(EM_DIAGRAM):   label S_Kidhome = 'Standard: Kidhome' ;
2149102   +
2149103   +      label S_MntFishProducts = 'Standard: MntFishProducts' ;
MPRINT(EM_DIAGRAM):   label S_MntFishProducts = 'Standard: MntFishProducts' ;
2149104   +
2149105   +      label S_MntFruits = 'Standard: MntFruits' ;
MPRINT(EM_DIAGRAM):   label S_MntFruits = 'Standard: MntFruits' ;
2149106   +
2149107   +      label S_MntGoldProds = 'Standard: MntGoldProds' ;
MPRINT(EM_DIAGRAM):   label S_MntGoldProds = 'Standard: MntGoldProds' ;
2149108   +
2149109   +      label S_MntSweetProducts = 'Standard: MntSweetProducts' ;
MPRINT(EM_DIAGRAM):   label S_MntSweetProducts = 'Standard: MntSweetProducts' ;
2149110   +
2149111   +      label S_MonthsAsCustomer = 'Standard: MonthsAsCustomer' ;
MPRINT(EM_DIAGRAM):   label S_MonthsAsCustomer = 'Standard: MonthsAsCustomer' ;
2149112   +
2149113   +      label S_NumDealsPurchases = 'Standard: NumDealsPurchases' ;
MPRINT(EM_DIAGRAM):   label S_NumDealsPurchases = 'Standard: NumDealsPurchases' ;
2149114   +
2149115   +      label S_NumWebVisitsMonth = 'Standard: NumWebVisitsMonth' ;
MPRINT(EM_DIAGRAM):   label S_NumWebVisitsMonth = 'Standard: NumWebVisitsMonth' ;
2149116   +
2149117   +      label S_RFMstat = 'Standard: RFMstat' ;
MPRINT(EM_DIAGRAM):   label S_RFMstat = 'Standard: RFMstat' ;
2149118   +
2149119   +      label S_RMntFrq = 'Standard: RMntFrq' ;
MPRINT(EM_DIAGRAM):   label S_RMntFrq = 'Standard: RMntFrq' ;
2149120   +
2149121   +      label S_Recency = 'Standard: Recency' ;
MPRINT(EM_DIAGRAM):   label S_Recency = 'Standard: Recency' ;
2149122   +
2149123   +      label S_Teenhome = 'Standard: Teenhome' ;
MPRINT(EM_DIAGRAM):   label S_Teenhome = 'Standard: Teenhome' ;
2149124   +
2149125   +      label AcceptedCmp10 = 'Dummy: AcceptedCmp1=0' ;
MPRINT(EM_DIAGRAM):   label AcceptedCmp10 = 'Dummy: AcceptedCmp1=0' ;
2149126   +
2149127   +      label AcceptedCmp20 = 'Dummy: AcceptedCmp2=0' ;
MPRINT(EM_DIAGRAM):   label AcceptedCmp20 = 'Dummy: AcceptedCmp2=0' ;
2149128   +
2149129   +      label AcceptedCmp30 = 'Dummy: AcceptedCmp3=0' ;
MPRINT(EM_DIAGRAM):   label AcceptedCmp30 = 'Dummy: AcceptedCmp3=0' ;
2149130   +
2149131   +      label AcceptedCmp40 = 'Dummy: AcceptedCmp4=0' ;
MPRINT(EM_DIAGRAM):   label AcceptedCmp40 = 'Dummy: AcceptedCmp4=0' ;
2149132   +
2149133   +      label AcceptedCmp50 = 'Dummy: AcceptedCmp5=0' ;
MPRINT(EM_DIAGRAM):   label AcceptedCmp50 = 'Dummy: AcceptedCmp5=0' ;
2149134   +
2149135   +      label Complain0 = 'Dummy: Complain=0' ;
MPRINT(EM_DIAGRAM):   label Complain0 = 'Dummy: Complain=0' ;
2149136   +
2149137   +      label HigherEducationBinary0 = 'Dummy: HigherEducationBinary=0' ;
MPRINT(EM_DIAGRAM):   label HigherEducationBinary0 = 'Dummy: HigherEducationBinary=0' ;
2149138   +
2149139   +      label Education2n_Cycle = 'Dummy: Education=2n Cycle' ;
MPRINT(EM_DIAGRAM):   label Education2n_Cycle = 'Dummy: Education=2n Cycle' ;
2149140   +
2149141   +      label EducationBasic = 'Dummy: Education=Basic' ;
MPRINT(EM_DIAGRAM):   label EducationBasic = 'Dummy: Education=Basic' ;
2149142   +
2149143   +      label EducationGraduation = 'Dummy: Education=Graduation' ;
MPRINT(EM_DIAGRAM):   label EducationGraduation = 'Dummy: Education=Graduation' ;
2149144   +
2149145   +      label EducationMaster = 'Dummy: Education=Master' ;
MPRINT(EM_DIAGRAM):   label EducationMaster = 'Dummy: Education=Master' ;
2149146   +
2149147   +      label Marital_StatusDivorced = 'Dummy: Marital_Status=Divorced' ;
MPRINT(EM_DIAGRAM):   label Marital_StatusDivorced = 'Dummy: Marital_Status=Divorced' ;
2149148   +
2149149   +      label Marital_StatusMarried = 'Dummy: Marital_Status=Married' ;
MPRINT(EM_DIAGRAM):   label Marital_StatusMarried = 'Dummy: Marital_Status=Married' ;
2149150   +
2149151   +      label Marital_StatusSingle = 'Dummy: Marital_Status=Single' ;
MPRINT(EM_DIAGRAM):   label Marital_StatusSingle = 'Dummy: Marital_Status=Single' ;
2149152   +
2149153   +      label Marital_StatusTogether = 'Dummy: Marital_Status=Together' ;
MPRINT(EM_DIAGRAM):   label Marital_StatusTogether = 'Dummy: Marital_Status=Together' ;
2149154   +
2149155   +      label H11 = 'Hidden: H1=1' ;
MPRINT(EM_DIAGRAM):   label H11 = 'Hidden: H1=1' ;
2149156   +
2149157   +      label H12 = 'Hidden: H1=2' ;
MPRINT(EM_DIAGRAM):   label H12 = 'Hidden: H1=2' ;
2149158   +
2149159   +      label H13 = 'Hidden: H1=3' ;
MPRINT(EM_DIAGRAM):   label H13 = 'Hidden: H1=3' ;
2149160   +
2149161   +      label I_DepVar = 'Into: DepVar' ;
MPRINT(EM_DIAGRAM):   label I_DepVar = 'Into: DepVar' ;
2149162   +
2149163   +      label U_DepVar = 'Unnormalized Into: DepVar' ;
MPRINT(EM_DIAGRAM):   label U_DepVar = 'Unnormalized Into: DepVar' ;
2149164   +
2149165   +      label P_DepVar1 = 'Predicted: DepVar=1' ;
MPRINT(EM_DIAGRAM):   label P_DepVar1 = 'Predicted: DepVar=1' ;
2149166   +
2149167   +      label P_DepVar0 = 'Predicted: DepVar=0' ;
MPRINT(EM_DIAGRAM):   label P_DepVar0 = 'Predicted: DepVar=0' ;
2149168   +
2149169   +      label  _WARN_ = "Warnings";
MPRINT(EM_DIAGRAM):   label _WARN_ = "Warnings";
2149170   +
2149171   +*** Generate dummy variables for AcceptedCmp1 ;
MPRINT(EM_DIAGRAM):   *** Generate dummy variables for AcceptedCmp1 ;
2149172   +drop AcceptedCmp10 ;
MPRINT(EM_DIAGRAM):   drop AcceptedCmp10 ;
2149173   +if missing( AcceptedCmp1 ) then do;
MPRINT(EM_DIAGRAM):   if missing( AcceptedCmp1 ) then do;
2149174   +   AcceptedCmp10 = .;
MPRINT(EM_DIAGRAM):   AcceptedCmp10 = .;
2149175   +   substr(_warn_,1,1) = 'M';
MPRINT(EM_DIAGRAM):   substr(_warn_,1,1) = 'M';
2149176   +   _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2149177   +end;
MPRINT(EM_DIAGRAM):   end;
2149178   +else do;
MPRINT(EM_DIAGRAM):   else do;
2149179   +   length _dm12 $ 12; drop _dm12 ;
MPRINT(EM_DIAGRAM):   length _dm12 $ 12;
MPRINT(EM_DIAGRAM):   drop _dm12 ;
2149180   +   _dm12 = put( AcceptedCmp1 , BEST. );
MPRINT(EM_DIAGRAM):   _dm12 = put( AcceptedCmp1 , BEST. );
2149181   +   %DMNORMIP( _dm12 )
MPRINT(DMNORMIP):   call dmnorm(_dm12,
MPRINT(DMNORLEN):  32
MPRINT(DMNORMIP):  );
2149182   +   if _dm12 = '0'  then do;
MPRINT(EM_DIAGRAM):   if _dm12 = '0' then do;
2149183   +      AcceptedCmp10 = 1;
MPRINT(EM_DIAGRAM):   AcceptedCmp10 = 1;
2149184   +   end;
MPRINT(EM_DIAGRAM):   end;
2149185   +   else if _dm12 = '1'  then do;
MPRINT(EM_DIAGRAM):   else if _dm12 = '1' then do;
2149186   +      AcceptedCmp10 = -1;
MPRINT(EM_DIAGRAM):   AcceptedCmp10 = -1;
2149187   +   end;
MPRINT(EM_DIAGRAM):   end;
2149188   +   else do;
MPRINT(EM_DIAGRAM):   else do;
2149189   +      AcceptedCmp10 = .;
MPRINT(EM_DIAGRAM):   AcceptedCmp10 = .;
2149190   +      substr(_warn_,2,1) = 'U';
MPRINT(EM_DIAGRAM):   substr(_warn_,2,1) = 'U';
2149191   +      _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2149192   +   end;
MPRINT(EM_DIAGRAM):   end;
2149193   +end;
MPRINT(EM_DIAGRAM):   end;
2149194   +
2149195   +*** Generate dummy variables for AcceptedCmp2 ;
MPRINT(EM_DIAGRAM):   *** Generate dummy variables for AcceptedCmp2 ;
2149196   +drop AcceptedCmp20 ;
MPRINT(EM_DIAGRAM):   drop AcceptedCmp20 ;
2149197   +if missing( AcceptedCmp2 ) then do;
MPRINT(EM_DIAGRAM):   if missing( AcceptedCmp2 ) then do;
2149198   +   AcceptedCmp20 = .;
MPRINT(EM_DIAGRAM):   AcceptedCmp20 = .;
2149199   +   substr(_warn_,1,1) = 'M';
MPRINT(EM_DIAGRAM):   substr(_warn_,1,1) = 'M';
2149200   +   _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2149201   +end;
MPRINT(EM_DIAGRAM):   end;
2149202   +else do;
MPRINT(EM_DIAGRAM):   else do;
2149203   +   length _dm12 $ 12; drop _dm12 ;
MPRINT(EM_DIAGRAM):   length _dm12 $ 12;
MPRINT(EM_DIAGRAM):   drop _dm12 ;
2149204   +   _dm12 = put( AcceptedCmp2 , BEST. );
MPRINT(EM_DIAGRAM):   _dm12 = put( AcceptedCmp2 , BEST. );
2149205   +   %DMNORMIP( _dm12 )
MPRINT(DMNORMIP):   call dmnorm(_dm12,
MPRINT(DMNORLEN):  32
MPRINT(DMNORMIP):  );
2149206   +   if _dm12 = '0'  then do;
MPRINT(EM_DIAGRAM):   if _dm12 = '0' then do;
2149207   +      AcceptedCmp20 = 1;
MPRINT(EM_DIAGRAM):   AcceptedCmp20 = 1;
2149208   +   end;
MPRINT(EM_DIAGRAM):   end;
2149209   +   else if _dm12 = '1'  then do;
MPRINT(EM_DIAGRAM):   else if _dm12 = '1' then do;
2149210   +      AcceptedCmp20 = -1;
MPRINT(EM_DIAGRAM):   AcceptedCmp20 = -1;
2149211   +   end;
MPRINT(EM_DIAGRAM):   end;
2149212   +   else do;
MPRINT(EM_DIAGRAM):   else do;
2149213   +      AcceptedCmp20 = .;
MPRINT(EM_DIAGRAM):   AcceptedCmp20 = .;
2149214   +      substr(_warn_,2,1) = 'U';
MPRINT(EM_DIAGRAM):   substr(_warn_,2,1) = 'U';
2149215   +      _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2149216   +   end;
MPRINT(EM_DIAGRAM):   end;
2149217   +end;
MPRINT(EM_DIAGRAM):   end;
2149218   +
2149219   +*** Generate dummy variables for AcceptedCmp3 ;
MPRINT(EM_DIAGRAM):   *** Generate dummy variables for AcceptedCmp3 ;
2149220   +drop AcceptedCmp30 ;
MPRINT(EM_DIAGRAM):   drop AcceptedCmp30 ;
2149221   +if missing( AcceptedCmp3 ) then do;
MPRINT(EM_DIAGRAM):   if missing( AcceptedCmp3 ) then do;
2149222   +   AcceptedCmp30 = .;
MPRINT(EM_DIAGRAM):   AcceptedCmp30 = .;
2149223   +   substr(_warn_,1,1) = 'M';
MPRINT(EM_DIAGRAM):   substr(_warn_,1,1) = 'M';
2149224   +   _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2149225   +end;
MPRINT(EM_DIAGRAM):   end;
2149226   +else do;
MPRINT(EM_DIAGRAM):   else do;
2149227   +   length _dm12 $ 12; drop _dm12 ;
MPRINT(EM_DIAGRAM):   length _dm12 $ 12;
MPRINT(EM_DIAGRAM):   drop _dm12 ;
2149228   +   _dm12 = put( AcceptedCmp3 , BEST. );
MPRINT(EM_DIAGRAM):   _dm12 = put( AcceptedCmp3 , BEST. );
2149229   +   %DMNORMIP( _dm12 )
MPRINT(DMNORMIP):   call dmnorm(_dm12,
MPRINT(DMNORLEN):  32
MPRINT(DMNORMIP):  );
2149230   +   if _dm12 = '0'  then do;
MPRINT(EM_DIAGRAM):   if _dm12 = '0' then do;
2149231   +      AcceptedCmp30 = 1;
MPRINT(EM_DIAGRAM):   AcceptedCmp30 = 1;
2149232   +   end;
MPRINT(EM_DIAGRAM):   end;
2149233   +   else if _dm12 = '1'  then do;
MPRINT(EM_DIAGRAM):   else if _dm12 = '1' then do;
2149234   +      AcceptedCmp30 = -1;
MPRINT(EM_DIAGRAM):   AcceptedCmp30 = -1;
2149235   +   end;
MPRINT(EM_DIAGRAM):   end;
2149236   +   else do;
MPRINT(EM_DIAGRAM):   else do;
2149237   +      AcceptedCmp30 = .;
MPRINT(EM_DIAGRAM):   AcceptedCmp30 = .;
2149238   +      substr(_warn_,2,1) = 'U';
MPRINT(EM_DIAGRAM):   substr(_warn_,2,1) = 'U';
2149239   +      _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2149240   +   end;
MPRINT(EM_DIAGRAM):   end;
2149241   +end;
MPRINT(EM_DIAGRAM):   end;
2149242   +
2149243   +*** Generate dummy variables for AcceptedCmp4 ;
MPRINT(EM_DIAGRAM):   *** Generate dummy variables for AcceptedCmp4 ;
2149244   +drop AcceptedCmp40 ;
MPRINT(EM_DIAGRAM):   drop AcceptedCmp40 ;
2149245   +if missing( AcceptedCmp4 ) then do;
MPRINT(EM_DIAGRAM):   if missing( AcceptedCmp4 ) then do;
2149246   +   AcceptedCmp40 = .;
MPRINT(EM_DIAGRAM):   AcceptedCmp40 = .;
2149247   +   substr(_warn_,1,1) = 'M';
MPRINT(EM_DIAGRAM):   substr(_warn_,1,1) = 'M';
2149248   +   _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2149249   +end;
MPRINT(EM_DIAGRAM):   end;
2149250   +else do;
MPRINT(EM_DIAGRAM):   else do;
2149251   +   length _dm12 $ 12; drop _dm12 ;
MPRINT(EM_DIAGRAM):   length _dm12 $ 12;
MPRINT(EM_DIAGRAM):   drop _dm12 ;
2149252   +   _dm12 = put( AcceptedCmp4 , BEST. );
MPRINT(EM_DIAGRAM):   _dm12 = put( AcceptedCmp4 , BEST. );
2149253   +   %DMNORMIP( _dm12 )
MPRINT(DMNORMIP):   call dmnorm(_dm12,
MPRINT(DMNORLEN):  32
MPRINT(DMNORMIP):  );
2149254   +   if _dm12 = '0'  then do;
MPRINT(EM_DIAGRAM):   if _dm12 = '0' then do;
2149255   +      AcceptedCmp40 = 1;
MPRINT(EM_DIAGRAM):   AcceptedCmp40 = 1;
2149256   +   end;
MPRINT(EM_DIAGRAM):   end;
2149257   +   else if _dm12 = '1'  then do;
MPRINT(EM_DIAGRAM):   else if _dm12 = '1' then do;
2149258   +      AcceptedCmp40 = -1;
MPRINT(EM_DIAGRAM):   AcceptedCmp40 = -1;
2149259   +   end;
MPRINT(EM_DIAGRAM):   end;
2149260   +   else do;
MPRINT(EM_DIAGRAM):   else do;
2149261   +      AcceptedCmp40 = .;
MPRINT(EM_DIAGRAM):   AcceptedCmp40 = .;
2149262   +      substr(_warn_,2,1) = 'U';
MPRINT(EM_DIAGRAM):   substr(_warn_,2,1) = 'U';
2149263   +      _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2149264   +   end;
MPRINT(EM_DIAGRAM):   end;
2149265   +end;
MPRINT(EM_DIAGRAM):   end;
2149266   +
2149267   +*** Generate dummy variables for AcceptedCmp5 ;
MPRINT(EM_DIAGRAM):   *** Generate dummy variables for AcceptedCmp5 ;
2149268   +drop AcceptedCmp50 ;
MPRINT(EM_DIAGRAM):   drop AcceptedCmp50 ;
2149269   +if missing( AcceptedCmp5 ) then do;
MPRINT(EM_DIAGRAM):   if missing( AcceptedCmp5 ) then do;
2149270   +   AcceptedCmp50 = .;
MPRINT(EM_DIAGRAM):   AcceptedCmp50 = .;
2149271   +   substr(_warn_,1,1) = 'M';
MPRINT(EM_DIAGRAM):   substr(_warn_,1,1) = 'M';
2149272   +   _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2149273   +end;
MPRINT(EM_DIAGRAM):   end;
2149274   +else do;
MPRINT(EM_DIAGRAM):   else do;
2149275   +   length _dm12 $ 12; drop _dm12 ;
MPRINT(EM_DIAGRAM):   length _dm12 $ 12;
MPRINT(EM_DIAGRAM):   drop _dm12 ;
2149276   +   _dm12 = put( AcceptedCmp5 , BEST. );
MPRINT(EM_DIAGRAM):   _dm12 = put( AcceptedCmp5 , BEST. );
2149277   +   %DMNORMIP( _dm12 )
MPRINT(DMNORMIP):   call dmnorm(_dm12,
MPRINT(DMNORLEN):  32
MPRINT(DMNORMIP):  );
2149278   +   if _dm12 = '0'  then do;
MPRINT(EM_DIAGRAM):   if _dm12 = '0' then do;
2149279   +      AcceptedCmp50 = 1;
MPRINT(EM_DIAGRAM):   AcceptedCmp50 = 1;
2149280   +   end;
MPRINT(EM_DIAGRAM):   end;
2149281   +   else if _dm12 = '1'  then do;
MPRINT(EM_DIAGRAM):   else if _dm12 = '1' then do;
2149282   +      AcceptedCmp50 = -1;
MPRINT(EM_DIAGRAM):   AcceptedCmp50 = -1;
2149283   +   end;
MPRINT(EM_DIAGRAM):   end;
2149284   +   else do;
MPRINT(EM_DIAGRAM):   else do;
2149285   +      AcceptedCmp50 = .;
MPRINT(EM_DIAGRAM):   AcceptedCmp50 = .;
2149286   +      substr(_warn_,2,1) = 'U';
MPRINT(EM_DIAGRAM):   substr(_warn_,2,1) = 'U';
2149287   +      _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2149288   +   end;
MPRINT(EM_DIAGRAM):   end;
2149289   +end;
MPRINT(EM_DIAGRAM):   end;
2149290   +
2149291   +*** Generate dummy variables for Complain ;
MPRINT(EM_DIAGRAM):   *** Generate dummy variables for Complain ;
2149292   +drop Complain0 ;
MPRINT(EM_DIAGRAM):   drop Complain0 ;
2149293   +if missing( Complain ) then do;
MPRINT(EM_DIAGRAM):   if missing( Complain ) then do;
2149294   +   Complain0 = .;
MPRINT(EM_DIAGRAM):   Complain0 = .;
2149295   +   substr(_warn_,1,1) = 'M';
MPRINT(EM_DIAGRAM):   substr(_warn_,1,1) = 'M';
2149296   +   _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2149297   +end;
MPRINT(EM_DIAGRAM):   end;
2149298   +else do;
MPRINT(EM_DIAGRAM):   else do;
2149299   +   length _dm12 $ 12; drop _dm12 ;
MPRINT(EM_DIAGRAM):   length _dm12 $ 12;
MPRINT(EM_DIAGRAM):   drop _dm12 ;
2149300   +   _dm12 = put( Complain , BEST. );
MPRINT(EM_DIAGRAM):   _dm12 = put( Complain , BEST. );
2149301   +   %DMNORMIP( _dm12 )
MPRINT(DMNORMIP):   call dmnorm(_dm12,
MPRINT(DMNORLEN):  32
MPRINT(DMNORMIP):  );
2149302   +   if _dm12 = '0'  then do;
MPRINT(EM_DIAGRAM):   if _dm12 = '0' then do;
2149303   +      Complain0 = 1;
MPRINT(EM_DIAGRAM):   Complain0 = 1;
2149304   +   end;
MPRINT(EM_DIAGRAM):   end;
2149305   +   else if _dm12 = '1'  then do;
MPRINT(EM_DIAGRAM):   else if _dm12 = '1' then do;
2149306   +      Complain0 = -1;
MPRINT(EM_DIAGRAM):   Complain0 = -1;
2149307   +   end;
MPRINT(EM_DIAGRAM):   end;
2149308   +   else do;
MPRINT(EM_DIAGRAM):   else do;
2149309   +      Complain0 = .;
MPRINT(EM_DIAGRAM):   Complain0 = .;
2149310   +      substr(_warn_,2,1) = 'U';
MPRINT(EM_DIAGRAM):   substr(_warn_,2,1) = 'U';
2149311   +      _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2149312   +   end;
MPRINT(EM_DIAGRAM):   end;
2149313   +end;
MPRINT(EM_DIAGRAM):   end;
2149314   +
2149315   +*** Generate dummy variables for HigherEducationBinary ;
MPRINT(EM_DIAGRAM):   *** Generate dummy variables for HigherEducationBinary ;
2149316   +drop HigherEducationBinary0 ;
MPRINT(EM_DIAGRAM):   drop HigherEducationBinary0 ;
2149317   +if missing( HigherEducationBinary ) then do;
MPRINT(EM_DIAGRAM):   if missing( HigherEducationBinary ) then do;
2149318   +   HigherEducationBinary0 = .;
MPRINT(EM_DIAGRAM):   HigherEducationBinary0 = .;
2149319   +   substr(_warn_,1,1) = 'M';
MPRINT(EM_DIAGRAM):   substr(_warn_,1,1) = 'M';
2149320   +   _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2149321   +end;
MPRINT(EM_DIAGRAM):   end;
2149322   +else do;
MPRINT(EM_DIAGRAM):   else do;
2149323   +   length _dm12 $ 12; drop _dm12 ;
MPRINT(EM_DIAGRAM):   length _dm12 $ 12;
MPRINT(EM_DIAGRAM):   drop _dm12 ;
2149324   +   _dm12 = put( HigherEducationBinary , BEST12. );
MPRINT(EM_DIAGRAM):   _dm12 = put( HigherEducationBinary , BEST12. );
2149325   +   %DMNORMIP( _dm12 )
MPRINT(DMNORMIP):   call dmnorm(_dm12,
MPRINT(DMNORLEN):  32
MPRINT(DMNORMIP):  );
2149326   +   if _dm12 = '1'  then do;
MPRINT(EM_DIAGRAM):   if _dm12 = '1' then do;
2149327   +      HigherEducationBinary0 = -1;
MPRINT(EM_DIAGRAM):   HigherEducationBinary0 = -1;
2149328   +   end;
MPRINT(EM_DIAGRAM):   end;
2149329   +   else if _dm12 = '0'  then do;
MPRINT(EM_DIAGRAM):   else if _dm12 = '0' then do;
2149330   +      HigherEducationBinary0 = 1;
MPRINT(EM_DIAGRAM):   HigherEducationBinary0 = 1;
2149331   +   end;
MPRINT(EM_DIAGRAM):   end;
2149332   +   else do;
MPRINT(EM_DIAGRAM):   else do;
2149333   +      HigherEducationBinary0 = .;
MPRINT(EM_DIAGRAM):   HigherEducationBinary0 = .;
2149334   +      substr(_warn_,2,1) = 'U';
MPRINT(EM_DIAGRAM):   substr(_warn_,2,1) = 'U';
2149335   +      _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2149336   +   end;
MPRINT(EM_DIAGRAM):   end;
2149337   +end;
MPRINT(EM_DIAGRAM):   end;
2149338   +
2149339   +*** Generate dummy variables for Education ;
MPRINT(EM_DIAGRAM):   *** Generate dummy variables for Education ;
2149340   +drop Education2n_Cycle EducationBasic EducationGraduation EducationMaster ;
MPRINT(EM_DIAGRAM):   drop Education2n_Cycle EducationBasic EducationGraduation 
EducationMaster ;
2149341   +*** encoding is sparse, initialize to zero;
MPRINT(EM_DIAGRAM):   *** encoding is sparse, initialize to zero;
2149342   +Education2n_Cycle = 0;
MPRINT(EM_DIAGRAM):   Education2n_Cycle = 0;
2149343   +EducationBasic = 0;
MPRINT(EM_DIAGRAM):   EducationBasic = 0;
2149344   +EducationGraduation = 0;
MPRINT(EM_DIAGRAM):   EducationGraduation = 0;
2149345   +EducationMaster = 0;
MPRINT(EM_DIAGRAM):   EducationMaster = 0;
2149346   +if missing( Education ) then do;
MPRINT(EM_DIAGRAM):   if missing( Education ) then do;
2149347   +   Education2n_Cycle = .;
MPRINT(EM_DIAGRAM):   Education2n_Cycle = .;
2149348   +   EducationBasic = .;
MPRINT(EM_DIAGRAM):   EducationBasic = .;
2149349   +   EducationGraduation = .;
MPRINT(EM_DIAGRAM):   EducationGraduation = .;
2149350   +   EducationMaster = .;
MPRINT(EM_DIAGRAM):   EducationMaster = .;
2149351   +   substr(_warn_,1,1) = 'M';
MPRINT(EM_DIAGRAM):   substr(_warn_,1,1) = 'M';
2149352   +   _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2149353   +end;
MPRINT(EM_DIAGRAM):   end;
2149354   +else do;
MPRINT(EM_DIAGRAM):   else do;
2149355   +   length _dm10 $ 10; drop _dm10 ;
MPRINT(EM_DIAGRAM):   length _dm10 $ 10;
MPRINT(EM_DIAGRAM):   drop _dm10 ;
2149356   +   _dm10 = put( Education , $10. );
MPRINT(EM_DIAGRAM):   _dm10 = put( Education , $10. );
2149357   +   %DMNORMIP( _dm10 )
MPRINT(DMNORMIP):   call dmnorm(_dm10,
MPRINT(DMNORLEN):  32
MPRINT(DMNORMIP):  );
2149358   +   if _dm10 = 'GRADUATION'  then do;
MPRINT(EM_DIAGRAM):   if _dm10 = 'GRADUATION' then do;
2149359   +      EducationGraduation = 1;
MPRINT(EM_DIAGRAM):   EducationGraduation = 1;
2149360   +   end;
MPRINT(EM_DIAGRAM):   end;
2149361   +   else if _dm10 = 'PHD'  then do;
MPRINT(EM_DIAGRAM):   else if _dm10 = 'PHD' then do;
2149362   +      Education2n_Cycle = -1;
MPRINT(EM_DIAGRAM):   Education2n_Cycle = -1;
2149363   +      EducationBasic = -1;
MPRINT(EM_DIAGRAM):   EducationBasic = -1;
2149364   +      EducationGraduation = -1;
MPRINT(EM_DIAGRAM):   EducationGraduation = -1;
2149365   +      EducationMaster = -1;
MPRINT(EM_DIAGRAM):   EducationMaster = -1;
2149366   +   end;
MPRINT(EM_DIAGRAM):   end;
2149367   +   else if _dm10 = 'MASTER'  then do;
MPRINT(EM_DIAGRAM):   else if _dm10 = 'MASTER' then do;
2149368   +      EducationMaster = 1;
MPRINT(EM_DIAGRAM):   EducationMaster = 1;
2149369   +   end;
MPRINT(EM_DIAGRAM):   end;
2149370   +   else if _dm10 = '2N CYCLE'  then do;
MPRINT(EM_DIAGRAM):   else if _dm10 = '2N CYCLE' then do;
2149371   +      Education2n_Cycle = 1;
MPRINT(EM_DIAGRAM):   Education2n_Cycle = 1;
2149372   +   end;
MPRINT(EM_DIAGRAM):   end;
2149373   +   else if _dm10 = 'BASIC'  then do;
MPRINT(EM_DIAGRAM):   else if _dm10 = 'BASIC' then do;
2149374   +      EducationBasic = 1;
MPRINT(EM_DIAGRAM):   EducationBasic = 1;
2149375   +   end;
MPRINT(EM_DIAGRAM):   end;
2149376   +   else do;
MPRINT(EM_DIAGRAM):   else do;
2149377   +      Education2n_Cycle = .;
MPRINT(EM_DIAGRAM):   Education2n_Cycle = .;
2149378   +      EducationBasic = .;
MPRINT(EM_DIAGRAM):   EducationBasic = .;
2149379   +      EducationGraduation = .;
MPRINT(EM_DIAGRAM):   EducationGraduation = .;
2149380   +      EducationMaster = .;
MPRINT(EM_DIAGRAM):   EducationMaster = .;
2149381   +      substr(_warn_,2,1) = 'U';
MPRINT(EM_DIAGRAM):   substr(_warn_,2,1) = 'U';
2149382   +      _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2149383   +   end;
MPRINT(EM_DIAGRAM):   end;
2149384   +end;
MPRINT(EM_DIAGRAM):   end;
2149385   +
2149386   +*** Generate dummy variables for Marital_Status ;
MPRINT(EM_DIAGRAM):   *** Generate dummy variables for Marital_Status ;
2149387   +drop Marital_StatusDivorced Marital_StatusMarried Marital_StatusSingle
2149388   +        Marital_StatusTogether ;
MPRINT(EM_DIAGRAM):   drop Marital_StatusDivorced Marital_StatusMarried Marital_StatusSingle 
Marital_StatusTogether ;
2149389   +*** encoding is sparse, initialize to zero;
MPRINT(EM_DIAGRAM):   *** encoding is sparse, initialize to zero;
2149390   +Marital_StatusDivorced = 0;
MPRINT(EM_DIAGRAM):   Marital_StatusDivorced = 0;
2149391   +Marital_StatusMarried = 0;
MPRINT(EM_DIAGRAM):   Marital_StatusMarried = 0;
2149392   +Marital_StatusSingle = 0;
MPRINT(EM_DIAGRAM):   Marital_StatusSingle = 0;
2149393   +Marital_StatusTogether = 0;
MPRINT(EM_DIAGRAM):   Marital_StatusTogether = 0;
2149394   +if missing( Marital_Status ) then do;
MPRINT(EM_DIAGRAM):   if missing( Marital_Status ) then do;
2149395   +   Marital_StatusDivorced = .;
MPRINT(EM_DIAGRAM):   Marital_StatusDivorced = .;
2149396   +   Marital_StatusMarried = .;
MPRINT(EM_DIAGRAM):   Marital_StatusMarried = .;
2149397   +   Marital_StatusSingle = .;
MPRINT(EM_DIAGRAM):   Marital_StatusSingle = .;
2149398   +   Marital_StatusTogether = .;
MPRINT(EM_DIAGRAM):   Marital_StatusTogether = .;
2149399   +   substr(_warn_,1,1) = 'M';
MPRINT(EM_DIAGRAM):   substr(_warn_,1,1) = 'M';
2149400   +   _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2149401   +end;
MPRINT(EM_DIAGRAM):   end;
2149402   +else do;
MPRINT(EM_DIAGRAM):   else do;
2149403   +   length _dm8 $ 8; drop _dm8 ;
MPRINT(EM_DIAGRAM):   length _dm8 $ 8;
MPRINT(EM_DIAGRAM):   drop _dm8 ;
2149404   +   _dm8 = put( Marital_Status , $8. );
MPRINT(EM_DIAGRAM):   _dm8 = put( Marital_Status , $8. );
2149405   +   %DMNORMIP( _dm8 )
MPRINT(DMNORMIP):   call dmnorm(_dm8,
MPRINT(DMNORLEN):  32
MPRINT(DMNORMIP):  );
2149406   +   _dm_find = 0; drop _dm_find;
MPRINT(EM_DIAGRAM):   _dm_find = 0;
MPRINT(EM_DIAGRAM):   drop _dm_find;
2149407   +   if _dm8 <= 'SINGLE'  then do;
MPRINT(EM_DIAGRAM):   if _dm8 <= 'SINGLE' then do;
2149408   +      if _dm8 <= 'MARRIED'  then do;
MPRINT(EM_DIAGRAM):   if _dm8 <= 'MARRIED' then do;
2149409   +         if _dm8 = 'DIVORCED'  then do;
MPRINT(EM_DIAGRAM):   if _dm8 = 'DIVORCED' then do;
2149410   +            Marital_StatusDivorced = 1;
MPRINT(EM_DIAGRAM):   Marital_StatusDivorced = 1;
2149411   +            _dm_find = 1;
MPRINT(EM_DIAGRAM):   _dm_find = 1;
2149412   +         end;
MPRINT(EM_DIAGRAM):   end;
2149413   +         else do;
MPRINT(EM_DIAGRAM):   else do;
2149414   +            if _dm8 = 'MARRIED'  then do;
MPRINT(EM_DIAGRAM):   if _dm8 = 'MARRIED' then do;
2149415   +               Marital_StatusMarried = 1;
MPRINT(EM_DIAGRAM):   Marital_StatusMarried = 1;
2149416   +               _dm_find = 1;
MPRINT(EM_DIAGRAM):   _dm_find = 1;
2149417   +            end;
MPRINT(EM_DIAGRAM):   end;
2149418   +         end;
MPRINT(EM_DIAGRAM):   end;
2149419   +      end;
MPRINT(EM_DIAGRAM):   end;
2149420   +      else do;
MPRINT(EM_DIAGRAM):   else do;
2149421   +         if _dm8 = 'SINGLE'  then do;
MPRINT(EM_DIAGRAM):   if _dm8 = 'SINGLE' then do;
2149422   +            Marital_StatusSingle = 1;
MPRINT(EM_DIAGRAM):   Marital_StatusSingle = 1;
2149423   +            _dm_find = 1;
MPRINT(EM_DIAGRAM):   _dm_find = 1;
2149424   +         end;
MPRINT(EM_DIAGRAM):   end;
2149425   +      end;
MPRINT(EM_DIAGRAM):   end;
2149426   +   end;
MPRINT(EM_DIAGRAM):   end;
2149427   +   else do;
MPRINT(EM_DIAGRAM):   else do;
2149428   +      if _dm8 = 'TOGETHER'  then do;
MPRINT(EM_DIAGRAM):   if _dm8 = 'TOGETHER' then do;
2149429   +         Marital_StatusTogether = 1;
MPRINT(EM_DIAGRAM):   Marital_StatusTogether = 1;
2149430   +         _dm_find = 1;
MPRINT(EM_DIAGRAM):   _dm_find = 1;
2149431   +      end;
MPRINT(EM_DIAGRAM):   end;
2149432   +      else do;
MPRINT(EM_DIAGRAM):   else do;
2149433   +         if _dm8 = 'WIDOW'  then do;
MPRINT(EM_DIAGRAM):   if _dm8 = 'WIDOW' then do;
2149434   +            Marital_StatusDivorced = -1;
MPRINT(EM_DIAGRAM):   Marital_StatusDivorced = -1;
2149435   +            Marital_StatusMarried = -1;
MPRINT(EM_DIAGRAM):   Marital_StatusMarried = -1;
2149436   +            Marital_StatusSingle = -1;
MPRINT(EM_DIAGRAM):   Marital_StatusSingle = -1;
2149437   +            Marital_StatusTogether = -1;
MPRINT(EM_DIAGRAM):   Marital_StatusTogether = -1;
2149438   +            _dm_find = 1;
MPRINT(EM_DIAGRAM):   _dm_find = 1;
2149439   +         end;
MPRINT(EM_DIAGRAM):   end;
2149440   +      end;
MPRINT(EM_DIAGRAM):   end;
2149441   +   end;
MPRINT(EM_DIAGRAM):   end;
2149442   +   if not _dm_find then do;
MPRINT(EM_DIAGRAM):   if not _dm_find then do;
2149443   +      Marital_StatusDivorced = .;
MPRINT(EM_DIAGRAM):   Marital_StatusDivorced = .;
2149444   +      Marital_StatusMarried = .;
MPRINT(EM_DIAGRAM):   Marital_StatusMarried = .;
2149445   +      Marital_StatusSingle = .;
MPRINT(EM_DIAGRAM):   Marital_StatusSingle = .;
2149446   +      Marital_StatusTogether = .;
MPRINT(EM_DIAGRAM):   Marital_StatusTogether = .;
2149447   +      substr(_warn_,2,1) = 'U';
MPRINT(EM_DIAGRAM):   substr(_warn_,2,1) = 'U';
2149448   +      _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2149449   +   end;
MPRINT(EM_DIAGRAM):   end;
2149450   +end;
MPRINT(EM_DIAGRAM):   end;
2149451   +
2149452   +*** *************************;
MPRINT(EM_DIAGRAM):   *** *************************;
2149453   +*** Checking missing input Interval
2149454   +*** *************************;
MPRINT(EM_DIAGRAM):   *** Checking missing input Interval *** *************************;
2149455   +
2149456   +IF NMISS(
2149457   +   AcceptedCmpTotal ,
2149458   +   Age ,
2149459   +   Frq ,
2149460   +   Income ,
2149461   +   Kidhome ,
2149462   +   MntFishProducts ,
2149463   +   MntFruits ,
2149464   +   MntGoldProds ,
2149465   +   MntSweetProducts ,
2149466   +   MonthsAsCustomer ,
2149467   +   NumDealsPurchases ,
2149468   +   NumWebVisitsMonth ,
2149469   +   RFMstat ,
2149470   +   RMntFrq ,
2149471   +   Recency ,
2149472   +   Teenhome   ) THEN DO;
MPRINT(EM_DIAGRAM):   IF NMISS( AcceptedCmpTotal , Age , Frq , Income , Kidhome , 
MntFishProducts , MntFruits , MntGoldProds , MntSweetProducts , MonthsAsCustomer , 
NumDealsPurchases , NumWebVisitsMonth , RFMstat , RMntFrq , Recency , Teenhome ) THEN DO;
2149473   +   SUBSTR(_WARN_, 1, 1) = 'M';
MPRINT(EM_DIAGRAM):   SUBSTR(_WARN_, 1, 1) = 'M';
2149474   +
2149475   +   _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2149476   +END;
MPRINT(EM_DIAGRAM):   END;
2149477   +*** *************************;
MPRINT(EM_DIAGRAM):   *** *************************;
2149478   +*** Writing the Node intvl ;
MPRINT(EM_DIAGRAM):   *** Writing the Node intvl ;
2149479   +*** *************************;
MPRINT(EM_DIAGRAM):   *** *************************;
2149480   +IF _DM_BAD EQ 0 THEN DO;
MPRINT(EM_DIAGRAM):   IF _DM_BAD EQ 0 THEN DO;
2149481   +   S_AcceptedCmpTotal  =    -0.46762909508827 +      1.4961610131261 *
2149482   +        AcceptedCmpTotal ;
MPRINT(EM_DIAGRAM):   S_AcceptedCmpTotal = -0.46762909508827 + 1.4961610131261 * 
AcceptedCmpTotal ;
2149483   +   S_Age  =    -3.91319138389466 +     0.08289609202857 * Age ;
MPRINT(EM_DIAGRAM):   S_Age = -3.91319138389466 + 0.08289609202857 * Age ;
2149484   +   S_Frq  =     -1.7674482809159 +     0.13966853800993 * Frq ;
MPRINT(EM_DIAGRAM):   S_Frq = -1.7674482809159 + 0.13966853800993 * Frq ;
2149485   +   S_Income  =    -2.48883438787018 +     0.00004789669836 * Income ;
MPRINT(EM_DIAGRAM):   S_Income = -2.48883438787018 + 0.00004789669836 * Income ;
2149486   +   S_Kidhome  =    -0.81505958668041 +     1.87132636245581 * Kidhome ;
MPRINT(EM_DIAGRAM):   S_Kidhome = -0.81505958668041 + 1.87132636245581 * Kidhome ;
2149487   +   S_MntFishProducts  =    -0.69884925989448 +     0.01914942799914 *
2149488   +        MntFishProducts ;
MPRINT(EM_DIAGRAM):   S_MntFishProducts = -0.69884925989448 + 0.01914942799914 * 
MntFishProducts ;
2149489   +   S_MntFruits  =    -0.68347542544545 +     0.02517057319714 * MntFruits ;
MPRINT(EM_DIAGRAM):   S_MntFruits = -0.68347542544545 + 0.02517057319714 * MntFruits ;
2149490   +   S_MntGoldProds  =     -0.8611213764608 +     0.01954474499711 *
2149491   +        MntGoldProds ;
MPRINT(EM_DIAGRAM):   S_MntGoldProds = -0.8611213764608 + 0.01954474499711 * MntGoldProds ;
2149492   +   S_MntSweetProducts  =    -0.69020047720885 +     0.02548703406327 *
2149493   +        MntSweetProducts ;
MPRINT(EM_DIAGRAM):   S_MntSweetProducts = -0.69020047720885 + 0.02548703406327 * 
MntSweetProducts ;
2149494   +   S_MonthsAsCustomer  =    -4.93133031507839 +     0.05900664899872 *
2149495   +        MonthsAsCustomer ;
MPRINT(EM_DIAGRAM):   S_MonthsAsCustomer = -4.93133031507839 + 0.05900664899872 * 
MonthsAsCustomer ;
2149496   +   S_NumDealsPurchases  =    -1.34788949552081 +     0.59766336614987 *
2149497   +        NumDealsPurchases ;
MPRINT(EM_DIAGRAM):   S_NumDealsPurchases = -1.34788949552081 + 0.59766336614987 * 
NumDealsPurchases ;
2149498   +   S_NumWebVisitsMonth  =    -2.24769875596018 +     0.42876953368015 *
2149499   +        NumWebVisitsMonth ;
MPRINT(EM_DIAGRAM):   S_NumWebVisitsMonth = -2.24769875596018 + 0.42876953368015 * 
NumWebVisitsMonth ;
2149500   +   S_RFMstat  =    -0.33944380186973 +     0.00063877635032 * RFMstat ;
MPRINT(EM_DIAGRAM):   S_RFMstat = -0.33944380186973 + 0.00063877635032 * RFMstat ;
2149501   +   S_RMntFrq  =    -1.25743573075922 +     0.03326204244626 * RMntFrq ;
MPRINT(EM_DIAGRAM):   S_RMntFrq = -1.25743573075922 + 0.03326204244626 * RMntFrq ;
2149502   +   S_Recency  =    -1.69222845719633 +     0.03469514083585 * Recency ;
MPRINT(EM_DIAGRAM):   S_Recency = -1.69222845719633 + 0.03469514083585 * Recency ;
2149503   +   S_Teenhome  =    -0.88382230606631 +     1.81661831567223 * Teenhome ;
MPRINT(EM_DIAGRAM):   S_Teenhome = -0.88382230606631 + 1.81661831567223 * Teenhome ;
2149504   +END;
MPRINT(EM_DIAGRAM):   END;
2149505   +ELSE DO;
MPRINT(EM_DIAGRAM):   ELSE DO;
2149506   +   IF MISSING( AcceptedCmpTotal ) THEN S_AcceptedCmpTotal  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( AcceptedCmpTotal ) THEN S_AcceptedCmpTotal = . ;
2149507   +   ELSE S_AcceptedCmpTotal  =    -0.46762909508827 +      1.4961610131261 *
2149508   +        AcceptedCmpTotal ;
MPRINT(EM_DIAGRAM):   ELSE S_AcceptedCmpTotal = -0.46762909508827 + 1.4961610131261 * 
AcceptedCmpTotal ;
2149509   +   IF MISSING( Age ) THEN S_Age  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( Age ) THEN S_Age = . ;
2149510   +   ELSE S_Age  =    -3.91319138389466 +     0.08289609202857 * Age ;
MPRINT(EM_DIAGRAM):   ELSE S_Age = -3.91319138389466 + 0.08289609202857 * Age ;
2149511   +   IF MISSING( Frq ) THEN S_Frq  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( Frq ) THEN S_Frq = . ;
2149512   +   ELSE S_Frq  =     -1.7674482809159 +     0.13966853800993 * Frq ;
MPRINT(EM_DIAGRAM):   ELSE S_Frq = -1.7674482809159 + 0.13966853800993 * Frq ;
2149513   +   IF MISSING( Income ) THEN S_Income  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( Income ) THEN S_Income = . ;
2149514   +   ELSE S_Income  =    -2.48883438787018 +     0.00004789669836 * Income ;
MPRINT(EM_DIAGRAM):   ELSE S_Income = -2.48883438787018 + 0.00004789669836 * Income ;
2149515   +   IF MISSING( Kidhome ) THEN S_Kidhome  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( Kidhome ) THEN S_Kidhome = . ;
2149516   +   ELSE S_Kidhome  =    -0.81505958668041 +     1.87132636245581 * Kidhome ;
MPRINT(EM_DIAGRAM):   ELSE S_Kidhome = -0.81505958668041 + 1.87132636245581 * Kidhome ;
2149517   +   IF MISSING( MntFishProducts ) THEN S_MntFishProducts  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( MntFishProducts ) THEN S_MntFishProducts = . ;
2149518   +   ELSE S_MntFishProducts  =    -0.69884925989448 +     0.01914942799914 *
2149519   +        MntFishProducts ;
MPRINT(EM_DIAGRAM):   ELSE S_MntFishProducts = -0.69884925989448 + 0.01914942799914 * 
MntFishProducts ;
2149520   +   IF MISSING( MntFruits ) THEN S_MntFruits  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( MntFruits ) THEN S_MntFruits = . ;
2149521   +   ELSE S_MntFruits  =    -0.68347542544545 +     0.02517057319714 * MntFruits
2149522   +         ;
MPRINT(EM_DIAGRAM):   ELSE S_MntFruits = -0.68347542544545 + 0.02517057319714 * MntFruits ;
2149523   +   IF MISSING( MntGoldProds ) THEN S_MntGoldProds  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( MntGoldProds ) THEN S_MntGoldProds = . ;
2149524   +   ELSE S_MntGoldProds  =     -0.8611213764608 +     0.01954474499711 *
2149525   +        MntGoldProds ;
MPRINT(EM_DIAGRAM):   ELSE S_MntGoldProds = -0.8611213764608 + 0.01954474499711 * MntGoldProds 
;
2149526   +   IF MISSING( MntSweetProducts ) THEN S_MntSweetProducts  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( MntSweetProducts ) THEN S_MntSweetProducts = . ;
2149527   +   ELSE S_MntSweetProducts  =    -0.69020047720885 +     0.02548703406327 *
2149528   +        MntSweetProducts ;
MPRINT(EM_DIAGRAM):   ELSE S_MntSweetProducts = -0.69020047720885 + 0.02548703406327 * 
MntSweetProducts ;
2149529   +   IF MISSING( MonthsAsCustomer ) THEN S_MonthsAsCustomer  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( MonthsAsCustomer ) THEN S_MonthsAsCustomer = . ;
2149530   +   ELSE S_MonthsAsCustomer  =    -4.93133031507839 +     0.05900664899872 *
2149531   +        MonthsAsCustomer ;
MPRINT(EM_DIAGRAM):   ELSE S_MonthsAsCustomer = -4.93133031507839 + 0.05900664899872 * 
MonthsAsCustomer ;
2149532   +   IF MISSING( NumDealsPurchases ) THEN S_NumDealsPurchases  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( NumDealsPurchases ) THEN S_NumDealsPurchases = . ;
2149533   +   ELSE S_NumDealsPurchases  =    -1.34788949552081 +     0.59766336614987 *
2149534   +        NumDealsPurchases ;
MPRINT(EM_DIAGRAM):   ELSE S_NumDealsPurchases = -1.34788949552081 + 0.59766336614987 * 
NumDealsPurchases ;
2149535   +   IF MISSING( NumWebVisitsMonth ) THEN S_NumWebVisitsMonth  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( NumWebVisitsMonth ) THEN S_NumWebVisitsMonth = . ;
2149536   +   ELSE S_NumWebVisitsMonth  =    -2.24769875596018 +     0.42876953368015 *
2149537   +        NumWebVisitsMonth ;
MPRINT(EM_DIAGRAM):   ELSE S_NumWebVisitsMonth = -2.24769875596018 + 0.42876953368015 * 
NumWebVisitsMonth ;
2149538   +   IF MISSING( RFMstat ) THEN S_RFMstat  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( RFMstat ) THEN S_RFMstat = . ;
2149539   +   ELSE S_RFMstat  =    -0.33944380186973 +     0.00063877635032 * RFMstat ;
MPRINT(EM_DIAGRAM):   ELSE S_RFMstat = -0.33944380186973 + 0.00063877635032 * RFMstat ;
2149540   +   IF MISSING( RMntFrq ) THEN S_RMntFrq  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( RMntFrq ) THEN S_RMntFrq = . ;
2149541   +   ELSE S_RMntFrq  =    -1.25743573075922 +     0.03326204244626 * RMntFrq ;
MPRINT(EM_DIAGRAM):   ELSE S_RMntFrq = -1.25743573075922 + 0.03326204244626 * RMntFrq ;
2149542   +   IF MISSING( Recency ) THEN S_Recency  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( Recency ) THEN S_Recency = . ;
2149543   +   ELSE S_Recency  =    -1.69222845719633 +     0.03469514083585 * Recency ;
MPRINT(EM_DIAGRAM):   ELSE S_Recency = -1.69222845719633 + 0.03469514083585 * Recency ;
2149544   +   IF MISSING( Teenhome ) THEN S_Teenhome  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( Teenhome ) THEN S_Teenhome = . ;
2149545   +   ELSE S_Teenhome  =    -0.88382230606631 +     1.81661831567223 * Teenhome ;
MPRINT(EM_DIAGRAM):   ELSE S_Teenhome = -0.88382230606631 + 1.81661831567223 * Teenhome ;
2149546   +END;
MPRINT(EM_DIAGRAM):   END;
2149547   +*** *************************;
MPRINT(EM_DIAGRAM):   *** *************************;
2149548   +*** Writing the Node bin ;
MPRINT(EM_DIAGRAM):   *** Writing the Node bin ;
2149549   +*** *************************;
MPRINT(EM_DIAGRAM):   *** *************************;
2149550   +*** *************************;
MPRINT(EM_DIAGRAM):   *** *************************;
2149551   +*** Writing the Node nom ;
MPRINT(EM_DIAGRAM):   *** Writing the Node nom ;
2149552   +*** *************************;
MPRINT(EM_DIAGRAM):   *** *************************;
2149553   +*** *************************;
MPRINT(EM_DIAGRAM):   *** *************************;
2149554   +*** Writing the Node H1 ;
MPRINT(EM_DIAGRAM):   *** Writing the Node H1 ;
2149555   +*** *************************;
MPRINT(EM_DIAGRAM):   *** *************************;
2149556   +IF _DM_BAD EQ 0 THEN DO;
MPRINT(EM_DIAGRAM):   IF _DM_BAD EQ 0 THEN DO;
2149557   +   H11  =    -0.07939278387837 * S_AcceptedCmpTotal  +    -0.02790902024984 *
2149558   +        S_Age  +     0.40100840853714 * S_Frq  +     0.04432219183455 *
2149559   +        S_Income  +    -0.30219239382398 * S_Kidhome
2149560   +          +    -0.19432749686172 * S_MntFishProducts
2149561   +          +    -0.22103205349698 * S_MntFruits  +    -0.17971639907174 *
2149562   +        S_MntGoldProds  +     0.06706063176219 * S_MntSweetProducts
2149563   +          +    -0.06461990802389 * S_MonthsAsCustomer
2149564   +          +     -0.3783005817403 * S_NumDealsPurchases
2149565   +          +    -0.16339485784748 * S_NumWebVisitsMonth
2149566   +          +    -0.14712191436986 * S_RFMstat  +    -0.19045100842469 *
2149567   +        S_RMntFrq  +     0.18339671113489 * S_Recency
2149568   +          +     -0.0926217862823 * S_Teenhome ;
MPRINT(EM_DIAGRAM):   H11 = -0.07939278387837 * S_AcceptedCmpTotal + -0.02790902024984 * S_Age 
+ 0.40100840853714 * S_Frq + 0.04432219183455 * S_Income + -0.30219239382398 * S_Kidhome + 
-0.19432749686172 * S_MntFishProducts + -0.22103205349698 * S_MntFruits + -0.17971639907174 * 
S_MntGoldProds + 0.06706063176219 * S_MntSweetProducts + -0.06461990802389 * 
S_MonthsAsCustomer + -0.3783005817403 * S_NumDealsPurchases + -0.16339485784748 * 
S_NumWebVisitsMonth + -0.14712191436986 * S_RFMstat + -0.19045100842469 * S_RMntFrq + 
0.18339671113489 * S_Recency + -0.0926217862823 * S_Teenhome ;
2149569   +   H12  =    -1.08824651645594 * S_AcceptedCmpTotal  +     0.17686645093121 *
2149570   +        S_Age  +     1.35317207989883 * S_Frq  +     0.88138422987418 *
2149571   +        S_Income  +    -0.84990904276539 * S_Kidhome
2149572   +          +    -0.10200829265034 * S_MntFishProducts
2149573   +          +    -0.31753011084752 * S_MntFruits  +    -0.18249877124557 *
2149574   +        S_MntGoldProds  +     0.06150349061089 * S_MntSweetProducts
2149575   +          +      0.3716090242476 * S_MonthsAsCustomer
2149576   +          +    -0.14174807996351 * S_NumDealsPurchases
2149577   +          +    -0.42393482037755 * S_NumWebVisitsMonth
2149578   +          +     -0.2268215763235 * S_RFMstat  +     0.30128162296924 *
2149579   +        S_RMntFrq  +    -0.15766803203419 * S_Recency
2149580   +          +      -0.876771580659 * S_Teenhome ;
MPRINT(EM_DIAGRAM):   H12 = -1.08824651645594 * S_AcceptedCmpTotal + 0.17686645093121 * S_Age 
+ 1.35317207989883 * S_Frq + 0.88138422987418 * S_Income + -0.84990904276539 * S_Kidhome + 
-0.10200829265034 * S_MntFishProducts + -0.31753011084752 * S_MntFruits + -0.18249877124557 * 
S_MntGoldProds + 0.06150349061089 * S_MntSweetProducts + 0.3716090242476 * S_MonthsAsCustomer 
+ -0.14174807996351 * S_NumDealsPurchases + -0.42393482037755 * S_NumWebVisitsMonth + 
-0.2268215763235 * S_RFMstat + 0.30128162296924 * S_RMntFrq + -0.15766803203419 * S_Recency + 
-0.876771580659 * S_Teenhome ;
2149581   +   H13  =    -0.19745247224429 * S_AcceptedCmpTotal  +     0.12296649801431 *
2149582   +        S_Age  +     0.30380054301284 * S_Frq  +    -0.20561851411928 *
2149583   +        S_Income  +     0.26862281584112 * S_Kidhome
2149584   +          +     0.04085557903506 * S_MntFishProducts
2149585   +          +     0.04667626132377 * S_MntFruits  +     0.00814736574913 *
2149586   +        S_MntGoldProds  +     0.03678719281756 * S_MntSweetProducts
2149587   +          +     0.12149827716086 * S_MonthsAsCustomer
2149588   +          +    -0.07579622934099 * S_NumDealsPurchases
2149589   +          +    -0.32766887199758 * S_NumWebVisitsMonth
2149590   +          +    -0.03884372682505 * S_RFMstat  +     0.12404964867543 *
2149591   +        S_RMntFrq  +     0.41695593982518 * S_Recency
2149592   +          +     0.13451509125058 * S_Teenhome ;
MPRINT(EM_DIAGRAM):   H13 = -0.19745247224429 * S_AcceptedCmpTotal + 0.12296649801431 * S_Age 
+ 0.30380054301284 * S_Frq + -0.20561851411928 * S_Income + 0.26862281584112 * S_Kidhome + 
0.04085557903506 * S_MntFishProducts + 0.04667626132377 * S_MntFruits + 0.00814736574913 * 
S_MntGoldProds + 0.03678719281756 * S_MntSweetProducts + 0.12149827716086 * S_MonthsAsCustomer 
+ -0.07579622934099 * S_NumDealsPurchases + -0.32766887199758 * S_NumWebVisitsMonth + 
-0.03884372682505 * S_RFMstat + 0.12404964867543 * S_RMntFrq + 0.41695593982518 * S_Recency + 
0.13451509125058 * S_Teenhome ;
2149593   +   H11  = H11  +     1.35675382808415 * AcceptedCmp10
2149594   +          +    -0.11002433103629 * AcceptedCmp20  +     0.16502607393478 *
2149595   +        AcceptedCmp30  +    -0.05600642331364 * AcceptedCmp40
2149596   +          +     0.26058548958497 * AcceptedCmp50  +     0.13475990783818 *
2149597   +        Complain0  +     0.15296527049289 * HigherEducationBinary0 ;
MPRINT(EM_DIAGRAM):   H11 = H11 + 1.35675382808415 * AcceptedCmp10 + -0.11002433103629 * 
AcceptedCmp20 + 0.16502607393478 * AcceptedCmp30 + -0.05600642331364 * AcceptedCmp40 + 
0.26058548958497 * AcceptedCmp50 + 0.13475990783818 * Complain0 + 0.15296527049289 * 
HigherEducationBinary0 ;
2149598   +   H12  = H12  +     0.42439916481327 * AcceptedCmp10
2149599   +          +    -0.47117316697286 * AcceptedCmp20  +    -1.01563221321538 *
2149600   +        AcceptedCmp30  +    -1.22683651578342 * AcceptedCmp40
2149601   +          +    -0.01409161983154 * AcceptedCmp50  +    -0.17319143351034 *
2149602   +        Complain0  +     0.28531428296946 * HigherEducationBinary0 ;
MPRINT(EM_DIAGRAM):   H12 = H12 + 0.42439916481327 * AcceptedCmp10 + -0.47117316697286 * 
AcceptedCmp20 + -1.01563221321538 * AcceptedCmp30 + -1.22683651578342 * AcceptedCmp40 + 
-0.01409161983154 * AcceptedCmp50 + -0.17319143351034 * Complain0 + 0.28531428296946 * 
HigherEducationBinary0 ;
2149603   +   H13  = H13  +    -0.11940443900972 * AcceptedCmp10
2149604   +          +      0.2224729234506 * AcceptedCmp20  +     0.03960779259064 *
2149605   +        AcceptedCmp30  +    -0.04759970138444 * AcceptedCmp40
2149606   +          +     0.16012787279007 * AcceptedCmp50  +    -0.13128086861277 *
2149607   +        Complain0  +    -0.02106084686016 * HigherEducationBinary0 ;
MPRINT(EM_DIAGRAM):   H13 = H13 + -0.11940443900972 * AcceptedCmp10 + 0.2224729234506 * 
AcceptedCmp20 + 0.03960779259064 * AcceptedCmp30 + -0.04759970138444 * AcceptedCmp40 + 
0.16012787279007 * AcceptedCmp50 + -0.13128086861277 * Complain0 + -0.02106084686016 * 
HigherEducationBinary0 ;
2149608   +   H11  = H11  +     0.15724732214889 * Education2n_Cycle
2149609   +          +    -0.28073637806204 * EducationBasic  +     0.02543245889885 *
2149610   +        EducationGraduation  +    -0.21977763409467 * EducationMaster
2149611   +          +     0.18154308480365 * Marital_StatusDivorced
2149612   +          +    -0.11784929451382 * Marital_StatusMarried
2149613   +          +    -0.03444604215162 * Marital_StatusSingle
2149614   +          +    -0.09935331889933 * Marital_StatusTogether ;
MPRINT(EM_DIAGRAM):   H11 = H11 + 0.15724732214889 * Education2n_Cycle + -0.28073637806204 * 
EducationBasic + 0.02543245889885 * EducationGraduation + -0.21977763409467 * EducationMaster 
+ 0.18154308480365 * Marital_StatusDivorced + -0.11784929451382 * Marital_StatusMarried + 
-0.03444604215162 * Marital_StatusSingle + -0.09935331889933 * Marital_StatusTogether ;
2149615   +   H12  = H12  +    -0.09625341975755 * Education2n_Cycle
2149616   +          +     0.22223800760549 * EducationBasic  +     0.08854547546091 *
2149617   +        EducationGraduation  +    -0.24475078378526 * EducationMaster
2149618   +          +      -0.287562557272 * Marital_StatusDivorced
2149619   +          +    -0.76767006991581 * Marital_StatusMarried
2149620   +          +     0.77400843024053 * Marital_StatusSingle
2149621   +          +    -0.82922593841016 * Marital_StatusTogether ;
MPRINT(EM_DIAGRAM):   H12 = H12 + -0.09625341975755 * Education2n_Cycle + 0.22223800760549 * 
EducationBasic + 0.08854547546091 * EducationGraduation + -0.24475078378526 * EducationMaster 
+ -0.287562557272 * Marital_StatusDivorced + -0.76767006991581 * Marital_StatusMarried + 
0.77400843024053 * Marital_StatusSingle + -0.82922593841016 * Marital_StatusTogether ;
2149622   +   H13  = H13  +    -0.26037905844091 * Education2n_Cycle
2149623   +          +     0.28758815759567 * EducationBasic  +    -0.08361705669925 *
2149624   +        EducationGraduation  +     0.21183311472173 * EducationMaster
2149625   +          +    -0.34952991031177 * Marital_StatusDivorced
2149626   +          +     0.12643424122152 * Marital_StatusMarried
2149627   +          +     0.01053756602964 * Marital_StatusSingle
2149628   +          +     0.09967720854979 * Marital_StatusTogether ;
MPRINT(EM_DIAGRAM):   H13 = H13 + -0.26037905844091 * Education2n_Cycle + 0.28758815759567 * 
EducationBasic + -0.08361705669925 * EducationGraduation + 0.21183311472173 * EducationMaster 
+ -0.34952991031177 * Marital_StatusDivorced + 0.12643424122152 * Marital_StatusMarried + 
0.01053756602964 * Marital_StatusSingle + 0.09967720854979 * Marital_StatusTogether ;
2149629   +   H11  =    -1.18043244750249 + H11 ;
MPRINT(EM_DIAGRAM):   H11 = -1.18043244750249 + H11 ;
2149630   +   H12  =    -0.93677267255394 + H12 ;
MPRINT(EM_DIAGRAM):   H12 = -0.93677267255394 + H12 ;
2149631   +   H13  =    -0.12554919906064 + H13 ;
MPRINT(EM_DIAGRAM):   H13 = -0.12554919906064 + H13 ;
2149632   +   H11  = TANH(H11 );
MPRINT(EM_DIAGRAM):   H11 = TANH(H11 );
2149633   +   H12  = TANH(H12 );
MPRINT(EM_DIAGRAM):   H12 = TANH(H12 );
2149634   +   H13  = TANH(H13 );
MPRINT(EM_DIAGRAM):   H13 = TANH(H13 );
2149635   +END;
MPRINT(EM_DIAGRAM):   END;
2149636   +ELSE DO;
MPRINT(EM_DIAGRAM):   ELSE DO;
2149637   +   H11  = .;
MPRINT(EM_DIAGRAM):   H11 = .;
2149638   +   H12  = .;
MPRINT(EM_DIAGRAM):   H12 = .;
2149639   +   H13  = .;
MPRINT(EM_DIAGRAM):   H13 = .;
2149640   +END;
MPRINT(EM_DIAGRAM):   END;
2149641   +*** *************************;
MPRINT(EM_DIAGRAM):   *** *************************;
2149642   +*** Writing the Node DepVar ;
MPRINT(EM_DIAGRAM):   *** Writing the Node DepVar ;
2149643   +*** *************************;
MPRINT(EM_DIAGRAM):   *** *************************;
2149644   +IF _DM_BAD EQ 0 THEN DO;
MPRINT(EM_DIAGRAM):   IF _DM_BAD EQ 0 THEN DO;
2149645   +   P_DepVar1  =    -5.01943942685766 * H11  +      5.1452509354081 * H12
2149646   +          +     -6.1441433712978 * H13 ;
MPRINT(EM_DIAGRAM):   P_DepVar1 = -5.01943942685766 * H11 + 5.1452509354081 * H12 + 
-6.1441433712978 * H13 ;
2149647   +   P_DepVar1  =    -0.23070454336851 + P_DepVar1 ;
MPRINT(EM_DIAGRAM):   P_DepVar1 = -0.23070454336851 + P_DepVar1 ;
2149648   +   P_DepVar0  = 0;
MPRINT(EM_DIAGRAM):   P_DepVar0 = 0;
2149649   +   _MAX_ = MAX (P_DepVar1 , P_DepVar0 );
MPRINT(EM_DIAGRAM):   _MAX_ = MAX (P_DepVar1 , P_DepVar0 );
2149650   +   _SUM_ = 0.;
MPRINT(EM_DIAGRAM):   _SUM_ = 0.;
2149651   +   P_DepVar1  = EXP(P_DepVar1  - _MAX_);
MPRINT(EM_DIAGRAM):   P_DepVar1 = EXP(P_DepVar1 - _MAX_);
2149652   +   _SUM_ = _SUM_ + P_DepVar1 ;
MPRINT(EM_DIAGRAM):   _SUM_ = _SUM_ + P_DepVar1 ;
2149653   +   P_DepVar0  = EXP(P_DepVar0  - _MAX_);
MPRINT(EM_DIAGRAM):   P_DepVar0 = EXP(P_DepVar0 - _MAX_);
2149654   +   _SUM_ = _SUM_ + P_DepVar0 ;
MPRINT(EM_DIAGRAM):   _SUM_ = _SUM_ + P_DepVar0 ;
2149655   +   P_DepVar1  = P_DepVar1  / _SUM_;
MPRINT(EM_DIAGRAM):   P_DepVar1 = P_DepVar1 / _SUM_;
2149656   +   P_DepVar0  = P_DepVar0  / _SUM_;
MPRINT(EM_DIAGRAM):   P_DepVar0 = P_DepVar0 / _SUM_;
2149657   +END;
MPRINT(EM_DIAGRAM):   END;
2149658   +ELSE DO;
MPRINT(EM_DIAGRAM):   ELSE DO;
2149659   +   P_DepVar1  = .;
MPRINT(EM_DIAGRAM):   P_DepVar1 = .;
2149660   +   P_DepVar0  = .;
MPRINT(EM_DIAGRAM):   P_DepVar0 = .;
2149661   +END;
MPRINT(EM_DIAGRAM):   END;
2149662   +IF _DM_BAD EQ 1 THEN DO;
MPRINT(EM_DIAGRAM):   IF _DM_BAD EQ 1 THEN DO;
2149663   +   P_DepVar1  =     0.15122156697556;
MPRINT(EM_DIAGRAM):   P_DepVar1 = 0.15122156697556;
2149664   +   P_DepVar0  =     0.84877843302443;
MPRINT(EM_DIAGRAM):   P_DepVar0 = 0.84877843302443;
2149665   +END;
MPRINT(EM_DIAGRAM):   END;
2149666   +*** *************************;
MPRINT(EM_DIAGRAM):   *** *************************;
2149667   +*** Writing the I_DepVar  AND U_DepVar ;
MPRINT(EM_DIAGRAM):   *** Writing the I_DepVar AND U_DepVar ;
2149668   +*** *************************;
MPRINT(EM_DIAGRAM):   *** *************************;
2149669   +_MAXP_ = P_DepVar1 ;
MPRINT(EM_DIAGRAM):   _MAXP_ = P_DepVar1 ;
2149670   +I_DepVar  = "1           " ;
MPRINT(EM_DIAGRAM):   I_DepVar = "1           " ;
2149671   +U_DepVar  =                    1;
MPRINT(EM_DIAGRAM):   U_DepVar = 1;
2149672   +IF( _MAXP_ LT P_DepVar0  ) THEN DO;
MPRINT(EM_DIAGRAM):   IF( _MAXP_ LT P_DepVar0 ) THEN DO;
2149673   +   _MAXP_ = P_DepVar0 ;
MPRINT(EM_DIAGRAM):   _MAXP_ = P_DepVar0 ;
2149674   +   I_DepVar  = "0           " ;
MPRINT(EM_DIAGRAM):   I_DepVar = "0           " ;
2149675   +   U_DepVar  =                    0;
MPRINT(EM_DIAGRAM):   U_DepVar = 0;
2149676   +END;
MPRINT(EM_DIAGRAM):   END;
2149677   +********************************;
MPRINT(EM_DIAGRAM):   ********************************;
2149678   +*** End Scoring Code for Neural;
MPRINT(EM_DIAGRAM):   *** End Scoring Code for Neural;
2149679   +********************************;
MPRINT(EM_DIAGRAM):   ********************************;
2149680   +drop
2149681   +H11
2149682   +H12
2149683   +H13
2149684   +;
MPRINT(EM_DIAGRAM):   drop H11 H12 H13 ;
2149685   +drop S_:;
MPRINT(EM_DIAGRAM):   drop S_:;
NOTE: %INCLUDE (level 1) ending.
MPRINT(EM_DIAGRAM):   run;
2149686    run;

NOTE: Dependency structure written to data set _TEMP.
NOTE: PROCEDURE FCMP used (Total process time):
      real time           0.02 seconds
      cpu time            0.03 seconds
      

MPRINT(EM_DIAGRAM):   quit;
2149687    quit;
2149688    filename _pref;
MPRINT(EM_DIAGRAM):   filename _pref;
NOTE: Fileref _PREF has been deassigned.
2149689    data _temp(rename=(RHS=NAME));
MPRINT(EM_DIAGRAM):   data _temp(rename=(RHS=NAME));
2149690    length Node $32;
MPRINT(EM_DIAGRAM):   length Node $32;
2149691    retain ID 2 Node "Neural38";
MPRINT(EM_DIAGRAM):   retain ID 2 Node "Neural38";
2149692    set _temp;
MPRINT(EM_DIAGRAM):   set _temp;
2149693    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 1745 observations read from the data set WORK._TEMP.
NOTE: The data set WORK._TEMP has 1745 observations and 14 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

2149694    proc sort data=_temp;
MPRINT(EM_DIAGRAM):   proc sort data=_temp;
2149695    by NAME;
MPRINT(EM_DIAGRAM):   by NAME;
2149696    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 1745 observations read from the data set WORK._TEMP.
NOTE: The data set WORK._TEMP has 1745 observations and 14 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

2149697    proc sort data=EMWS8.Neural38_variableset out=_temp2(keep=NAME CREATOR);
MPRINT(EM_DIAGRAM):   proc sort data=EMWS8.Neural38_variableset out=_temp2(keep=NAME CREATOR);
2149698    by NAME;
MPRINT(EM_DIAGRAM):   by NAME;
2149699    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 34 observations read from the data set EMWS8.NEURAL38_VARIABLESET.
NOTE: The data set WORK._TEMP2 has 34 observations and 2 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

2149700    data _temp2;
MPRINT(EM_DIAGRAM):   data _temp2;
2149701    length CREATOR $32;
MPRINT(EM_DIAGRAM):   length CREATOR $32;
2149702    set _temp2;
MPRINT(EM_DIAGRAM):   set _temp2;
2149703    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 34 observations read from the data set WORK._TEMP2.
NOTE: The data set WORK._TEMP2 has 34 observations and 2 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

2149704    proc contents data=EMWS8.Neural38_train out=_meta(keep=NAME) noprint;
MPRINT(EM_DIAGRAM):   proc contents data=EMWS8.Neural38_train out=_meta(keep=NAME) noprint;
2149705    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: The data set WORK._META has 53 observations and 1 variables.
NOTE: PROCEDURE CONTENTS used (Total process time):
      real time           0.02 seconds
      cpu time            0.03 seconds
      

2149706    proc sort data=_meta;
MPRINT(EM_DIAGRAM):   proc sort data=_meta;
2149707    by NAME;
MPRINT(EM_DIAGRAM):   by NAME;
2149708    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 53 observations read from the data set WORK._META.
NOTE: The data set WORK._META has 53 observations and 1 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

2149709    data _temp2;
MPRINT(EM_DIAGRAM):   data _temp2;
2149710    merge _meta _temp2;
MPRINT(EM_DIAGRAM):   merge _meta _temp2;
2149711    by NAME;
MPRINT(EM_DIAGRAM):   by NAME;
2149712    run;
MPRINT(EM_DIAGRAM):   run;

WARNING: Multiple lengths were specified for the BY variable NAME by input data sets. This may 
         cause unexpected results.
NOTE: There were 53 observations read from the data set WORK._META.
NOTE: There were 34 observations read from the data set WORK._TEMP2.
NOTE: The data set WORK._TEMP2 has 53 observations and 2 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

2149713    proc sql;
MPRINT(EM_DIAGRAM):   proc sql;
2149714    create table _tempx as select p.node, p.lhs, p.id , p2.name, p2.CREATOR from
2149714  ! work._temp p, work._temp2 p2 where upcase(p.NAME)=upcase(p2.NAME);
MPRINT(EM_DIAGRAM):   create table _tempx as select p.node, p.lhs, p.id , p2.name, p2.CREATOR 
from work._temp p, work._temp2 p2 where upcase(p.NAME)=upcase(p2.NAME);
NOTE: Table WORK._TEMPX created, with 937 rows and 5 columns.

2149715    quit;
MPRINT(EM_DIAGRAM):   quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

2149716    proc append base=EMWS8.Ensmbl23_FCMP data=_tempx;
MPRINT(EM_DIAGRAM):   proc append base=EMWS8.Ensmbl23_FCMP data=_tempx;
2149717    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: Appending WORK._TEMPX to EMWS8.ENSMBL23_FCMP.
NOTE: BASE data set does not exist. DATA file is being copied to BASE file.
NOTE: There were 937 observations read from the data set WORK._TEMPX.
NOTE: The data set EMWS8.ENSMBL23_FCMP has 937 observations and 5 variables.
NOTE: PROCEDURE APPEND used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

2149718    filename _pref
2149718  ! "C:\\predictive-models-project\Workspaces\EMWS8\Trans\EMPUBLISHSCORE.sas";
MPRINT(EM_DIAGRAM):    filename _pref 
"C:\\predictive-models-project\Workspaces\EMWS8\Trans\EMPUBLISHSCORE.sas";
2149719    proc FCMP NOEXECUTE IMPUTEDDEPS OUTDEPS=_temp;
MPRINT(EM_DIAGRAM):   proc FCMP NOEXECUTE IMPUTEDDEPS OUTDEPS=_temp;
2149720    %INCLUDE _pref;
NOTE: %INCLUDE (level 1) file _PREF is file 
      C:\\predictive-models-project\Workspaces\EMWS8\Trans\EMPUBLISHSCORE.sas.
2149721   +*------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
2149722   +* Formula Code;
MPRINT(EM_DIAGRAM):   * Formula Code;
2149723   +*------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
2149724   +MonthsAsCustomer =int((today()-Dt_Customer)/12) ;
MPRINT(EM_DIAGRAM):   MonthsAsCustomer =int((today()-Dt_Customer)/12) ;
2149725   +HigherEducationBinary =HigherEducation ;
MPRINT(EM_DIAGRAM):   HigherEducationBinary =HigherEducation ;
2149726   +NumDistPurchases =NumCatalogPurchases + NumWebPurchases ;
MPRINT(EM_DIAGRAM):   NumDistPurchases =NumCatalogPurchases + NumWebPurchases ;
NOTE: %INCLUDE (level 1) ending.
MPRINT(EM_DIAGRAM):   run;
2149727    run;

NOTE: Dependency structure written to data set _TEMP.
NOTE: PROCEDURE FCMP used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

MPRINT(EM_DIAGRAM):   quit;
2149728    quit;
2149729    filename _pref;
MPRINT(EM_DIAGRAM):   filename _pref;
NOTE: Fileref _PREF has been deassigned.
2149730    data _temp(rename=(RHS=NAME));
MPRINT(EM_DIAGRAM):   data _temp(rename=(RHS=NAME));
2149731    length Node $32;
MPRINT(EM_DIAGRAM):   length Node $32;
2149732    retain ID 5 Node "Trans";
MPRINT(EM_DIAGRAM):   retain ID 5 Node "Trans";
2149733    set _temp;
MPRINT(EM_DIAGRAM):   set _temp;
2149734    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 4 observations read from the data set WORK._TEMP.
NOTE: The data set WORK._TEMP has 4 observations and 14 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

2149735    proc sort data=_temp;
MPRINT(EM_DIAGRAM):   proc sort data=_temp;
2149736    by NAME;
MPRINT(EM_DIAGRAM):   by NAME;
2149737    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 4 observations read from the data set WORK._TEMP.
NOTE: The data set WORK._TEMP has 4 observations and 14 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

2149738    proc sort data=EMWS8.Trans_variableset out=_temp2(keep=NAME CREATOR);
MPRINT(EM_DIAGRAM):   proc sort data=EMWS8.Trans_variableset out=_temp2(keep=NAME CREATOR);
2149739    by NAME;
MPRINT(EM_DIAGRAM):   by NAME;
2149740    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 33 observations read from the data set EMWS8.TRANS_VARIABLESET.
NOTE: The data set WORK._TEMP2 has 33 observations and 2 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

2149741    data _temp2;
MPRINT(EM_DIAGRAM):   data _temp2;
2149742    length CREATOR $32;
MPRINT(EM_DIAGRAM):   length CREATOR $32;
2149743    set _temp2;
MPRINT(EM_DIAGRAM):   set _temp2;
2149744    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 33 observations read from the data set WORK._TEMP2.
NOTE: The data set WORK._TEMP2 has 33 observations and 2 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

2149745    proc contents data=EMWS8.Trans_train out=_meta(keep=NAME) noprint;
MPRINT(EM_DIAGRAM):   proc contents data=EMWS8.Trans_train out=_meta(keep=NAME) noprint;
2149746    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: The data set WORK._META has 44 observations and 1 variables.
NOTE: PROCEDURE CONTENTS used (Total process time):
      real time           0.02 seconds
      cpu time            0.01 seconds
      

2149747    proc sort data=_meta;
MPRINT(EM_DIAGRAM):   proc sort data=_meta;
2149748    by NAME;
MPRINT(EM_DIAGRAM):   by NAME;
2149749    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 44 observations read from the data set WORK._META.
NOTE: The data set WORK._META has 44 observations and 1 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

2149750    data _temp2;
MPRINT(EM_DIAGRAM):   data _temp2;
2149751    merge _meta _temp2;
MPRINT(EM_DIAGRAM):   merge _meta _temp2;
2149752    by NAME;
MPRINT(EM_DIAGRAM):   by NAME;
2149753    run;
MPRINT(EM_DIAGRAM):   run;

WARNING: Multiple lengths were specified for the BY variable NAME by input data sets. This may 
         cause unexpected results.
NOTE: There were 44 observations read from the data set WORK._META.
NOTE: There were 33 observations read from the data set WORK._TEMP2.
NOTE: The data set WORK._TEMP2 has 44 observations and 2 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

2149754    proc sql;
MPRINT(EM_DIAGRAM):   proc sql;
2149755    create table _tempx as select p.node, p.lhs, p.id , p2.name, p2.CREATOR from
2149755  ! work._temp p, work._temp2 p2 where upcase(p.NAME)=upcase(p2.NAME);
MPRINT(EM_DIAGRAM):   create table _tempx as select p.node, p.lhs, p.id , p2.name, p2.CREATOR 
from work._temp p, work._temp2 p2 where upcase(p.NAME)=upcase(p2.NAME);
NOTE: Table WORK._TEMPX created, with 4 rows and 5 columns.

2149756    quit;
MPRINT(EM_DIAGRAM):   quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

2149757    proc append base=EMWS8.Ensmbl23_FCMP data=_tempx;
MPRINT(EM_DIAGRAM):   proc append base=EMWS8.Ensmbl23_FCMP data=_tempx;
2149758    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: Appending WORK._TEMPX to EMWS8.ENSMBL23_FCMP.
NOTE: There were 4 observations read from the data set WORK._TEMPX.
NOTE: 4 observations added.
NOTE: The data set EMWS8.ENSMBL23_FCMP has 941 observations and 5 variables.
NOTE: PROCEDURE APPEND used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

2149759    filename _pref
2149759  ! "C:\\predictive-models-project\Workspaces\EMWS8\EMCODE4\EMPUBLISHSCORE.sas";
MPRINT(EM_DIAGRAM):    filename _pref 
"C:\\predictive-models-project\Workspaces\EMWS8\EMCODE4\EMPUBLISHSCORE.sas";
2149760    proc FCMP NOEXECUTE IMPUTEDDEPS OUTDEPS=_temp;
MPRINT(EM_DIAGRAM):   proc FCMP NOEXECUTE IMPUTEDDEPS OUTDEPS=_temp;
2149761    %INCLUDE _pref;
NOTE: %INCLUDE (level 1) file _PREF is file 
      C:\\predictive-models-project\Workspaces\EMWS8\EMCODE4\EMPUBLISHSCORE.sas.
2149762   +
2149763   +  Frq=NumStorePurchases+NumWebPurchases+NumCatalogPurchases;
MPRINT(EM_DIAGRAM):   Frq=NumStorePurchases+NumWebPurchases+NumCatalogPurchases;
2149764   +  Mnt=MntFishProducts+MntFruits+MntGoldProds+MntMeatProducts+MntSweetProducts+MntWin
2149764  !+es;
MPRINT(EM_DIAGRAM):   
Mnt=MntFishProducts+MntFruits+MntGoldProds+MntMeatProducts+MntSweetProducts+MntWines;
2149765   +  RMntFrq=Mnt/Frq;
MPRINT(EM_DIAGRAM):   RMntFrq=Mnt/Frq;
2149766   +  RFMstat=(Mnt*Frq)/(Recency+1);
MPRINT(EM_DIAGRAM):   RFMstat=(Mnt*Frq)/(Recency+1);
2149767   +  HigherEducation=1*(upcase(Education) in ("GRADUATION","MASTER","PHD"));
MPRINT(EM_DIAGRAM):   HigherEducation=1*(upcase(Education) in ("GRADUATION","MASTER","PHD"));
2149768   +  Age = year(today())-Year_Birth;
MPRINT(EM_DIAGRAM):   Age = year(today())-Year_Birth;
2149769   +  AcceptedCmpTotal=AcceptedCmp1+AcceptedCmp2+AcceptedCmp3+AcceptedCmp4+AcceptedCmp5;
MPRINT(EM_DIAGRAM):   
AcceptedCmpTotal=AcceptedCmp1+AcceptedCmp2+AcceptedCmp3+AcceptedCmp4+AcceptedCmp5;
NOTE: %INCLUDE (level 1) ending.
MPRINT(EM_DIAGRAM):   run;
2149770    run;

NOTE: Dependency structure written to data set _TEMP.
NOTE: PROCEDURE FCMP used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

MPRINT(EM_DIAGRAM):   quit;
2149771    quit;
2149772    filename _pref;
MPRINT(EM_DIAGRAM):   filename _pref;
NOTE: Fileref _PREF has been deassigned.
2149773    data _temp(rename=(RHS=NAME));
MPRINT(EM_DIAGRAM):   data _temp(rename=(RHS=NAME));
2149774    length Node $32;
MPRINT(EM_DIAGRAM):   length Node $32;
2149775    retain ID 6 Node "EMCODE4";
MPRINT(EM_DIAGRAM):   retain ID 6 Node "EMCODE4";
2149776    set _temp;
MPRINT(EM_DIAGRAM):   set _temp;
2149777    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 39 observations read from the data set WORK._TEMP.
NOTE: The data set WORK._TEMP has 39 observations and 14 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

2149778    proc sort data=_temp;
MPRINT(EM_DIAGRAM):   proc sort data=_temp;
2149779    by NAME;
MPRINT(EM_DIAGRAM):   by NAME;
2149780    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 39 observations read from the data set WORK._TEMP.
NOTE: The data set WORK._TEMP has 39 observations and 14 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

2149781    proc sort data=EMWS8.EMCODE4_variableset out=_temp2(keep=NAME CREATOR);
MPRINT(EM_DIAGRAM):   proc sort data=EMWS8.EMCODE4_variableset out=_temp2(keep=NAME CREATOR);
2149782    by NAME;
MPRINT(EM_DIAGRAM):   by NAME;
2149783    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 27 observations read from the data set EMWS8.EMCODE4_VARIABLESET.
NOTE: The data set WORK._TEMP2 has 27 observations and 2 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

2149784    data _temp2;
MPRINT(EM_DIAGRAM):   data _temp2;
2149785    length CREATOR $32;
MPRINT(EM_DIAGRAM):   length CREATOR $32;
2149786    set _temp2;
MPRINT(EM_DIAGRAM):   set _temp2;
2149787    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 27 observations read from the data set WORK._TEMP2.
NOTE: The data set WORK._TEMP2 has 27 observations and 2 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

2149788    proc contents data=EMWS8.EMCODE4_train out=_meta(keep=NAME) noprint;
MPRINT(EM_DIAGRAM):   proc contents data=EMWS8.EMCODE4_train out=_meta(keep=NAME) noprint;
2149789    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: The data set WORK._META has 41 observations and 1 variables.
NOTE: PROCEDURE CONTENTS used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

2149790    proc sort data=_meta;
MPRINT(EM_DIAGRAM):   proc sort data=_meta;
2149791    by NAME;
MPRINT(EM_DIAGRAM):   by NAME;
2149792    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 41 observations read from the data set WORK._META.
NOTE: The data set WORK._META has 41 observations and 1 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

2149793    data _temp2;
MPRINT(EM_DIAGRAM):   data _temp2;
2149794    merge _meta _temp2;
MPRINT(EM_DIAGRAM):   merge _meta _temp2;
2149795    by NAME;
MPRINT(EM_DIAGRAM):   by NAME;
2149796    run;
MPRINT(EM_DIAGRAM):   run;

WARNING: Multiple lengths were specified for the BY variable NAME by input data sets. This may 
         cause unexpected results.
NOTE: There were 41 observations read from the data set WORK._META.
NOTE: There were 27 observations read from the data set WORK._TEMP2.
NOTE: The data set WORK._TEMP2 has 41 observations and 2 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

2149797    proc sql;
MPRINT(EM_DIAGRAM):   proc sql;
2149798    create table _tempx as select p.node, p.lhs, p.id , p2.name, p2.CREATOR from
2149798  ! work._temp p, work._temp2 p2 where upcase(p.NAME)=upcase(p2.NAME);
MPRINT(EM_DIAGRAM):   create table _tempx as select p.node, p.lhs, p.id , p2.name, p2.CREATOR 
from work._temp p, work._temp2 p2 where upcase(p.NAME)=upcase(p2.NAME);
NOTE: Table WORK._TEMPX created, with 39 rows and 5 columns.

2149799    quit;
MPRINT(EM_DIAGRAM):   quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

2149800    proc append base=EMWS8.Ensmbl23_FCMP data=_tempx;
MPRINT(EM_DIAGRAM):   proc append base=EMWS8.Ensmbl23_FCMP data=_tempx;
2149801    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: Appending WORK._TEMPX to EMWS8.ENSMBL23_FCMP.
NOTE: There were 39 observations read from the data set WORK._TEMPX.
NOTE: 39 observations added.
NOTE: The data set EMWS8.ENSMBL23_FCMP has 980 observations and 5 variables.
NOTE: PROCEDURE APPEND used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

2149802    filename _pref
2149802  ! "C:\\predictive-models-project\Workspaces\EMWS8\Filter\EMPUBLISHSCORE.sas";
MPRINT(EM_DIAGRAM):    filename _pref 
"C:\\predictive-models-project\Workspaces\EMWS8\Filter\EMPUBLISHSCORE.sas";
2149803    proc FCMP NOEXECUTE IMPUTEDDEPS OUTDEPS=_temp;
MPRINT(EM_DIAGRAM):   proc FCMP NOEXECUTE IMPUTEDDEPS OUTDEPS=_temp;
2149804    %INCLUDE _pref;
NOTE: %INCLUDE (level 1) file _PREF is file 
      C:\\predictive-models-project\Workspaces\EMWS8\Filter\EMPUBLISHSCORE.sas.
2149805   +
2149806   +
2149807   +length _FILTERFMT1  $200;
MPRINT(EM_DIAGRAM):   length _FILTERFMT1 $200;
2149808   +drop _FILTERFMT1 ;
MPRINT(EM_DIAGRAM):   drop _FILTERFMT1 ;
2149809   +_FILTERFMT1= put(AcceptedCmp1,BEST.);
MPRINT(EM_DIAGRAM):   _FILTERFMT1= put(AcceptedCmp1,BEST.);
2149810   +length _FILTERNORM1  $32;
MPRINT(EM_DIAGRAM):   length _FILTERNORM1 $32;
2149811   +drop _FILTERNORM1 ;
MPRINT(EM_DIAGRAM):   drop _FILTERNORM1 ;
2149812   +%dmnormcp(_FILTERFMT1,_FILTERNORM1);
MPRINT(DMNORMCP):   _FILTERNORM1=dmnorm(_FILTERFMT1,
MPRINT(DMNORLEN):  32
MPRINT(DMNORMCP):  );
MPRINT(EM_DIAGRAM):  ;
2149813   +
2149814   +
2149815   +length _FILTERFMT2  $200;
MPRINT(EM_DIAGRAM):   length _FILTERFMT2 $200;
2149816   +drop _FILTERFMT2 ;
MPRINT(EM_DIAGRAM):   drop _FILTERFMT2 ;
2149817   +_FILTERFMT2= put(AcceptedCmp2,BEST.);
MPRINT(EM_DIAGRAM):   _FILTERFMT2= put(AcceptedCmp2,BEST.);
2149818   +length _FILTERNORM2  $32;
MPRINT(EM_DIAGRAM):   length _FILTERNORM2 $32;
2149819   +drop _FILTERNORM2 ;
MPRINT(EM_DIAGRAM):   drop _FILTERNORM2 ;
2149820   +%dmnormcp(_FILTERFMT2,_FILTERNORM2);
MPRINT(DMNORMCP):   _FILTERNORM2=dmnorm(_FILTERFMT2,
MPRINT(DMNORLEN):  32
MPRINT(DMNORMCP):  );
MPRINT(EM_DIAGRAM):  ;
2149821   +
2149822   +
2149823   +length _FILTERFMT3  $200;
MPRINT(EM_DIAGRAM):   length _FILTERFMT3 $200;
2149824   +drop _FILTERFMT3 ;
MPRINT(EM_DIAGRAM):   drop _FILTERFMT3 ;
2149825   +_FILTERFMT3= put(AcceptedCmp3,BEST.);
MPRINT(EM_DIAGRAM):   _FILTERFMT3= put(AcceptedCmp3,BEST.);
2149826   +length _FILTERNORM3  $32;
MPRINT(EM_DIAGRAM):   length _FILTERNORM3 $32;
2149827   +drop _FILTERNORM3 ;
MPRINT(EM_DIAGRAM):   drop _FILTERNORM3 ;
2149828   +%dmnormcp(_FILTERFMT3,_FILTERNORM3);
MPRINT(DMNORMCP):   _FILTERNORM3=dmnorm(_FILTERFMT3,
MPRINT(DMNORLEN):  32
MPRINT(DMNORMCP):  );
MPRINT(EM_DIAGRAM):  ;
2149829   +
2149830   +
2149831   +length _FILTERFMT4  $200;
MPRINT(EM_DIAGRAM):   length _FILTERFMT4 $200;
2149832   +drop _FILTERFMT4 ;
MPRINT(EM_DIAGRAM):   drop _FILTERFMT4 ;
2149833   +_FILTERFMT4= put(AcceptedCmp4,BEST.);
MPRINT(EM_DIAGRAM):   _FILTERFMT4= put(AcceptedCmp4,BEST.);
2149834   +length _FILTERNORM4  $32;
MPRINT(EM_DIAGRAM):   length _FILTERNORM4 $32;
2149835   +drop _FILTERNORM4 ;
MPRINT(EM_DIAGRAM):   drop _FILTERNORM4 ;
2149836   +%dmnormcp(_FILTERFMT4,_FILTERNORM4);
MPRINT(DMNORMCP):   _FILTERNORM4=dmnorm(_FILTERFMT4,
MPRINT(DMNORLEN):  32
MPRINT(DMNORMCP):  );
MPRINT(EM_DIAGRAM):  ;
2149837   +
2149838   +
2149839   +length _FILTERFMT5  $200;
MPRINT(EM_DIAGRAM):   length _FILTERFMT5 $200;
2149840   +drop _FILTERFMT5 ;
MPRINT(EM_DIAGRAM):   drop _FILTERFMT5 ;
2149841   +_FILTERFMT5= put(AcceptedCmp5,BEST.);
MPRINT(EM_DIAGRAM):   _FILTERFMT5= put(AcceptedCmp5,BEST.);
2149842   +length _FILTERNORM5  $32;
MPRINT(EM_DIAGRAM):   length _FILTERNORM5 $32;
2149843   +drop _FILTERNORM5 ;
MPRINT(EM_DIAGRAM):   drop _FILTERNORM5 ;
2149844   +%dmnormcp(_FILTERFMT5,_FILTERNORM5);
MPRINT(DMNORMCP):   _FILTERNORM5=dmnorm(_FILTERFMT5,
MPRINT(DMNORLEN):  32
MPRINT(DMNORMCP):  );
MPRINT(EM_DIAGRAM):  ;
2149845   +
2149846   +
2149847   +length _FILTERFMT6  $200;
MPRINT(EM_DIAGRAM):   length _FILTERFMT6 $200;
2149848   +drop _FILTERFMT6 ;
MPRINT(EM_DIAGRAM):   drop _FILTERFMT6 ;
2149849   +_FILTERFMT6= put(Complain,BEST.);
MPRINT(EM_DIAGRAM):   _FILTERFMT6= put(Complain,BEST.);
2149850   +length _FILTERNORM6  $32;
MPRINT(EM_DIAGRAM):   length _FILTERNORM6 $32;
2149851   +drop _FILTERNORM6 ;
MPRINT(EM_DIAGRAM):   drop _FILTERNORM6 ;
2149852   +%dmnormcp(_FILTERFMT6,_FILTERNORM6);
MPRINT(DMNORMCP):   _FILTERNORM6=dmnorm(_FILTERFMT6,
MPRINT(DMNORLEN):  32
MPRINT(DMNORMCP):  );
MPRINT(EM_DIAGRAM):  ;
2149853   +
2149854   +
2149855   +length _FILTERFMT7  $200;
MPRINT(EM_DIAGRAM):   length _FILTERFMT7 $200;
2149856   +drop _FILTERFMT7 ;
MPRINT(EM_DIAGRAM):   drop _FILTERFMT7 ;
2149857   +_FILTERFMT7= put(Education,$10.0);
MPRINT(EM_DIAGRAM):   _FILTERFMT7= put(Education,$10.0);
2149858   +length _FILTERNORM7  $32;
MPRINT(EM_DIAGRAM):   length _FILTERNORM7 $32;
2149859   +drop _FILTERNORM7 ;
MPRINT(EM_DIAGRAM):   drop _FILTERNORM7 ;
2149860   +%dmnormcp(_FILTERFMT7,_FILTERNORM7);
MPRINT(DMNORMCP):   _FILTERNORM7=dmnorm(_FILTERFMT7,
MPRINT(DMNORLEN):  32
MPRINT(DMNORMCP):  );
MPRINT(EM_DIAGRAM):  ;
2149861   +
2149862   +
2149863   +length _FILTERFMT8  $200;
MPRINT(EM_DIAGRAM):   length _FILTERFMT8 $200;
2149864   +drop _FILTERFMT8 ;
MPRINT(EM_DIAGRAM):   drop _FILTERFMT8 ;
2149865   +_FILTERFMT8= put(Marital_Status,$8.0);
MPRINT(EM_DIAGRAM):   _FILTERFMT8= put(Marital_Status,$8.0);
2149866   +length _FILTERNORM8  $32;
MPRINT(EM_DIAGRAM):   length _FILTERNORM8 $32;
2149867   +drop _FILTERNORM8 ;
MPRINT(EM_DIAGRAM):   drop _FILTERNORM8 ;
2149868   +%dmnormcp(_FILTERFMT8,_FILTERNORM8);
MPRINT(DMNORMCP):   _FILTERNORM8=dmnorm(_FILTERFMT8,
MPRINT(DMNORLEN):  32
MPRINT(DMNORMCP):  );
MPRINT(EM_DIAGRAM):  ;
2149869   +if
2149870   +_FILTERNORM1 not in ( '.')
2149871   + and
2149872   +_FILTERNORM2 not in ( '.')
2149873   + and
2149874   +_FILTERNORM3 not in ( '.')
2149875   + and
2149876   +_FILTERNORM4 not in ( '.')
2149877   + and
2149878   +_FILTERNORM5 not in ( '.')
2149879   + and
2149880   +_FILTERNORM6 not in ( '.')
2149881   + and
2149882   +_FILTERNORM7 not in ( ' ')
2149883   + and
2149884   +_FILTERNORM8 not in ( ' ')
2149885   +and
2149886   +( Dt_Customer ne .)
2149887   +and ( Income ne . and (Income<=107000))
2149888   +and ( Kidhome ne .)
2149889   +and ( MntFishProducts ne .)
2149890   +and ( MntFruits ne .)
2149891   +and ( MntGoldProds ne .)
2149892   +and ( MntMeatProducts ne . and (MntMeatProducts<=964))
2149893   +and ( MntSweetProducts ne .)
2149894   +and ( MntWines ne .)
2149895   +and ( NumCatalogPurchases ne . and (NumCatalogPurchases<=14))
2149896   +and ( NumDealsPurchases ne . and (NumDealsPurchases<=10.5))
2149897   +and ( NumStorePurchases ne .)
2149898   +and ( NumWebPurchases ne .)
2149899   +and ( NumWebVisitsMonth ne . and (NumWebVisitsMonth<=13.42))
2149900   +and ( Recency ne .)
2149901   +and ( Teenhome ne .)
2149902   +and ( Year_Birth ne .)
2149903   +then do;
MPRINT(EM_DIAGRAM):   if _FILTERNORM1 not in ( '.') and _FILTERNORM2 not in ( '.') and 
_FILTERNORM3 not in ( '.') and _FILTERNORM4 not in ( '.') and _FILTERNORM5 not in ( '.') and 
_FILTERNORM6 not in ( '.') and _FILTERNORM7 not in ( ' ') and _FILTERNORM8 not in ( ' ') and ( 
Dt_Customer ne .) and ( Income ne . and (Income<=107000)) and ( Kidhome ne .) and ( 
MntFishProducts ne .) and ( MntFruits ne .) and ( MntGoldProds ne .) and ( MntMeatProducts ne 
. and (MntMeatProducts<=964)) and ( MntSweetProducts ne .) and ( MntWines ne .) and ( 
NumCatalogPurchases ne . and (NumCatalogPurchases<=14)) and ( NumDealsPurchases ne . and 
(NumDealsPurchases<=10.5)) and ( NumStorePurchases ne .) and ( NumWebPurchases ne .) and ( 
NumWebVisitsMonth ne . and (NumWebVisitsMonth<=13.42)) and ( Recency ne .) and ( Teenhome ne 
.) and ( Year_Birth ne .) then do;
2149904   +if M_FILTER eq . then M_FILTER = 0;
MPRINT(EM_DIAGRAM):   if M_FILTER eq . then M_FILTER = 0;
2149905   +else M_FILTER = M_FILTER + 0;
MPRINT(EM_DIAGRAM):   else M_FILTER = M_FILTER + 0;
2149906   +end;
MPRINT(EM_DIAGRAM):   end;
2149907   +else M_FILTER = 1;
MPRINT(EM_DIAGRAM):   else M_FILTER = 1;
2149908   +label M_FILTER = 'Filtered Indicator';
MPRINT(EM_DIAGRAM):   label M_FILTER = 'Filtered Indicator';
NOTE: %INCLUDE (level 1) ending.
MPRINT(EM_DIAGRAM):   run;
2149909    run;

NOTE: Dependency structure written to data set _TEMP.
NOTE: PROCEDURE FCMP used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      

MPRINT(EM_DIAGRAM):   quit;
2149910    quit;
2149911    filename _pref;
MPRINT(EM_DIAGRAM):   filename _pref;
NOTE: Fileref _PREF has been deassigned.
2149912    data _temp(rename=(RHS=NAME));
MPRINT(EM_DIAGRAM):   data _temp(rename=(RHS=NAME));
2149913    length Node $32;
MPRINT(EM_DIAGRAM):   length Node $32;
2149914    retain ID 7 Node "Filter";
MPRINT(EM_DIAGRAM):   retain ID 7 Node "Filter";
2149915    set _temp;
MPRINT(EM_DIAGRAM):   set _temp;
2149916    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 110 observations read from the data set WORK._TEMP.
NOTE: The data set WORK._TEMP has 110 observations and 14 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

2149917    proc sort data=_temp;
MPRINT(EM_DIAGRAM):   proc sort data=_temp;
2149918    by NAME;
MPRINT(EM_DIAGRAM):   by NAME;
2149919    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 110 observations read from the data set WORK._TEMP.
NOTE: The data set WORK._TEMP has 110 observations and 14 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

2149920    proc sort data=EMWS8.Filter_variableset out=_temp2(keep=NAME CREATOR);
MPRINT(EM_DIAGRAM):   proc sort data=EMWS8.Filter_variableset out=_temp2(keep=NAME CREATOR);
2149921    by NAME;
MPRINT(EM_DIAGRAM):   by NAME;
2149922    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 26 observations read from the data set EMWS8.FILTER_VARIABLESET.
NOTE: The data set WORK._TEMP2 has 26 observations and 2 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

2149923    data _temp2;
MPRINT(EM_DIAGRAM):   data _temp2;
2149924    length CREATOR $32;
MPRINT(EM_DIAGRAM):   length CREATOR $32;
2149925    set _temp2;
MPRINT(EM_DIAGRAM):   set _temp2;
2149926    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 26 observations read from the data set WORK._TEMP2.
NOTE: The data set WORK._TEMP2 has 26 observations and 2 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

2149927    proc contents data=EMWS8.Filter_train out=_meta(keep=NAME) noprint;
MPRINT(EM_DIAGRAM):   proc contents data=EMWS8.Filter_train out=_meta(keep=NAME) noprint;
2149928    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: The data set WORK._META has 34 observations and 1 variables.
NOTE: PROCEDURE CONTENTS used (Total process time):
      real time           0.02 seconds
      cpu time            0.01 seconds
      

2149929    proc sort data=_meta;
MPRINT(EM_DIAGRAM):   proc sort data=_meta;
2149930    by NAME;
MPRINT(EM_DIAGRAM):   by NAME;
2149931    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 34 observations read from the data set WORK._META.
NOTE: The data set WORK._META has 34 observations and 1 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

2149932    data _temp2;
MPRINT(EM_DIAGRAM):   data _temp2;
2149933    merge _meta _temp2;
MPRINT(EM_DIAGRAM):   merge _meta _temp2;
2149934    by NAME;
MPRINT(EM_DIAGRAM):   by NAME;
2149935    run;
MPRINT(EM_DIAGRAM):   run;

WARNING: Multiple lengths were specified for the BY variable NAME by input data sets. This may 
         cause unexpected results.
NOTE: There were 34 observations read from the data set WORK._META.
NOTE: There were 26 observations read from the data set WORK._TEMP2.
NOTE: The data set WORK._TEMP2 has 34 observations and 2 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

2149936    proc sql;
MPRINT(EM_DIAGRAM):   proc sql;
2149937    create table _tempx as select p.node, p.lhs, p.id , p2.name, p2.CREATOR from
2149937  ! work._temp p, work._temp2 p2 where upcase(p.NAME)=upcase(p2.NAME);
MPRINT(EM_DIAGRAM):   create table _tempx as select p.node, p.lhs, p.id , p2.name, p2.CREATOR 
from work._temp p, work._temp2 p2 where upcase(p.NAME)=upcase(p2.NAME);
NOTE: Table WORK._TEMPX created, with 66 rows and 5 columns.

2149938    quit;
MPRINT(EM_DIAGRAM):   quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

2149939    proc append base=EMWS8.Ensmbl23_FCMP data=_tempx;
MPRINT(EM_DIAGRAM):   proc append base=EMWS8.Ensmbl23_FCMP data=_tempx;
2149940    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: Appending WORK._TEMPX to EMWS8.ENSMBL23_FCMP.
NOTE: There were 66 observations read from the data set WORK._TEMPX.
NOTE: 66 observations added.
NOTE: The data set EMWS8.ENSMBL23_FCMP has 1046 observations and 5 variables.
NOTE: PROCEDURE APPEND used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

2149941    %macro varDept(fcmpdata=,id=);
2149942    %global nobs&id scoreFlag&id;
2149943    %let scoreFlag&id = 0;
2149944    %if &id=1 or ^&fcmpStart %then %do;
2149945    proc sort data=&fcmpdata out=_temp&id nodupkey;
2149946    by NAME;
2149947    where id=&id and LHS in( %let j=1;
2149948    %do %while(%scan(_WARN_ I_DepVar P_DepVar1 P_DepVar0, &j) ne );
2149949    %let var = %scan(_WARN_ I_DepVar P_DepVar1 P_DepVar0, &j);
2149950    "&var" %let j = %eval(&j+1);
2149951    %end;
2149952    );
2149953    run;
2149954    %let dsid = %sysfunc(open(_temp&id));
2149955    %let nobs&id = %sysfunc(attrn(&dsid, NLOBSF));
2149956    %let dsid = %sysfunc(close(&dsid));
2149957    %if &&nobs&id %then %do;
2149958    %let scoreFlag&id = 1;
2149959    %let fcmpStart = 1;
2149960    %end;
2149961    %else %let fcmpStart = 0;
2149962    %end;
2149963    %else %do;
2149964    proc sort data=&fcmpdata out=_tempid;
2149965    where id=&id;
2149966    by LHS;
2149967    run;
2149968    %let dsid = %sysfunc(open(_tempid));
2149969    %let nobs&id = %sysfunc(attrn(&dsid, NLOBSF));
2149970    %let dsid = %sysfunc(close(&dsid));
2149971    %if ^&&nobs&id %then %do;
2149972    proc datasets lib=work nolist;
2149973    delete _tempid;
2149974    run;
2149975    quit;
2149976    %end;
2149977    %else %do;
2149978    data _tempAll;
2149979    set %let j=%eval(&id-1);
2149980    %do x=1 %to &j;
2149981    %if &&nobs&x %then %do;
2149982    _temp&x %end;
2149983    %end;
2149984    ;
2149985    run;
2149986    proc sql;
2149987    create table _temp&id as select p2.lhs, p2.name, p2.Node from work._tempAll p,
2149987  ! work._tempid p2 where p.name=p2.lhs;
2149988    quit;
2149989    data _temp&id;
2149990    set _temp&id;
2149991    where LHS ne '' and NAME ne '' and Node ne '';
2149992    run;
2149993    proc datasets lib=work nolist;
2149994    delete _tempAll;
2149995    run;
2149996    %let dsid = %sysfunc(open(_temp&id));
2149997    %let nobs&id = %sysfunc(attrn(&dsid, NLOBSF));
2149998    %let dsid = %sysfunc(close(&dsid));
2149999    %if ^&&nobs&id %then %do;
2150000    proc datasets lib=work nolist;
2150001    delete _temp&id;
2150002    run;
2150003    quit;
2150004    %end;
2150005    %else %do;
2150006    %let scoreFlag&id = 1;
2150007    data _temp&id;
2150008    set _temp&id;
2150009    where LHS ne NAME and node ne '';
2150010    run;
2150011    %let dsid = %sysfunc(open(_temp&id));
2150012    %let nobs&id = %sysfunc(attrn(&dsid, NLOBSF));
2150013    %let dsid = %sysfunc(close(&dsid));
2150014    %if ^&&nobs&id %then %do;
2150015    proc datasets lib=work nolist;
2150016    delete _temp&id;
2150017    run;
2150018    quit;
2150019    %end;
2150020    %else %do;
2150021    proc sort data=_temp&id nodupkey;
2150022    by LHS NAME;
2150023    run;
2150024    %end;
2150025    %end;
2150026    %end;
2150027    %end;
2150028    %mend varDept;
2150029    %macro optCode(outdata=fcmpdata);
2150030    %global fcmpStart;
2150031    %let fcmpStart = 0;
2150032    %let outputVars = _WARN_ I_DepVar P_DepVar1 P_DepVar0;
2150033    %let NumNodes=9;
2150034    %do k=1 %to &NumNodes;
2150035    %vardept(fcmpdata=&outdata, id=&k);
2150036    %end;
2150037    %mend optCode;
2150038    %optcode(outData=EMWS8.Ensmbl23_FCMP);
MPRINT(EM_DIAGRAM):   
MPRINT(VARDEPT):   proc sort data=EMWS8.Ensmbl23_FCMP out=_temp1 nodupkey;
MPRINT(VARDEPT):   by NAME;
MPRINT(VARDEPT):   where id=1 and LHS in( "_WARN_" "I_DepVar" "P_DepVar1" "P_DepVar0" );
MPRINT(VARDEPT):   run;

NOTE: Input data set is empty.
NOTE: 0 observations with duplicate key values were deleted.
NOTE: There were 0 observations read from the data set EMWS8.ENSMBL23_FCMP.
      WHERE (id=1) and LHS in ('I_DepVar', 'P_DepVar0', 'P_DepVar1', '_WARN_');
NOTE: The data set WORK._TEMP1 has 0 observations and 5 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

MPRINT(OPTCODE):  ;
MPRINT(VARDEPT):   proc sort data=EMWS8.Ensmbl23_FCMP out=_temp2 nodupkey;
MPRINT(VARDEPT):   by NAME;
MPRINT(VARDEPT):   where id=2 and LHS in( "_WARN_" "I_DepVar" "P_DepVar1" "P_DepVar0" );
MPRINT(VARDEPT):   run;

NOTE: There were 106 observations read from the data set EMWS8.ENSMBL23_FCMP.
      WHERE (id=2) and LHS in ('I_DepVar', 'P_DepVar0', 'P_DepVar1', '_WARN_');
NOTE: 79 observations with duplicate key values were deleted.
NOTE: The data set WORK._TEMP2 has 27 observations and 5 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

MPRINT(OPTCODE):  ;
MPRINT(VARDEPT):   proc sort data=EMWS8.Ensmbl23_FCMP out=_tempid;
MPRINT(VARDEPT):   where id=3;
MPRINT(VARDEPT):   by LHS;
MPRINT(VARDEPT):   run;

NOTE: Input data set is empty.
NOTE: There were 0 observations read from the data set EMWS8.ENSMBL23_FCMP.
      WHERE id=3;
NOTE: The data set WORK._TEMPID has 0 observations and 5 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

MPRINT(VARDEPT):   proc datasets lib=work nolist;
MPRINT(VARDEPT):   delete _tempid;
MPRINT(VARDEPT):   run;

NOTE: Deleting WORK._TEMPID (memtype=DATA).
MPRINT(VARDEPT):   quit;

NOTE: PROCEDURE DATASETS used (Total process time):
      real time           0.04 seconds
      cpu time            0.04 seconds
      

MPRINT(OPTCODE):  ;
MPRINT(VARDEPT):   proc sort data=EMWS8.Ensmbl23_FCMP out=_tempid;
MPRINT(VARDEPT):   where id=4;
MPRINT(VARDEPT):   by LHS;
MPRINT(VARDEPT):   run;

NOTE: Input data set is empty.
NOTE: There were 0 observations read from the data set EMWS8.ENSMBL23_FCMP.
      WHERE id=4;
NOTE: The data set WORK._TEMPID has 0 observations and 5 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

MPRINT(VARDEPT):   proc datasets lib=work nolist;
MPRINT(VARDEPT):   delete _tempid;
MPRINT(VARDEPT):   run;

NOTE: Deleting WORK._TEMPID (memtype=DATA).
MPRINT(VARDEPT):   quit;

NOTE: PROCEDURE DATASETS used (Total process time):
      real time           0.04 seconds
      cpu time            0.04 seconds
      

MPRINT(OPTCODE):  ;
MPRINT(VARDEPT):   proc sort data=EMWS8.Ensmbl23_FCMP out=_tempid;
MPRINT(VARDEPT):   where id=5;
MPRINT(VARDEPT):   by LHS;
MPRINT(VARDEPT):   run;

NOTE: There were 4 observations read from the data set EMWS8.ENSMBL23_FCMP.
      WHERE id=5;
NOTE: The data set WORK._TEMPID has 4 observations and 5 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

MPRINT(VARDEPT):   data _tempAll;
MPRINT(VARDEPT):   set _temp2 ;
MPRINT(VARDEPT):   run;

NOTE: There were 27 observations read from the data set WORK._TEMP2.
NOTE: The data set WORK._TEMPALL has 27 observations and 5 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

MPRINT(VARDEPT):   proc sql;
MPRINT(VARDEPT):   create table _temp5 as select p2.lhs, p2.name, p2.Node from work._tempAll 
p, work._tempid p2 where p.name=p2.lhs;
NOTE: Table WORK._TEMP5 created, with 2 rows and 3 columns.

MPRINT(VARDEPT):   quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

MPRINT(VARDEPT):   data _temp5;
MPRINT(VARDEPT):   set _temp5;
MPRINT(VARDEPT):   where LHS ne '' and NAME ne '' and Node ne '';
MPRINT(VARDEPT):   run;

NOTE: There were 2 observations read from the data set WORK._TEMP5.
      WHERE (LHS not = ' ') and (NAME not = ' ') and (Node not = ' ');
NOTE: The data set WORK._TEMP5 has 2 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

MPRINT(VARDEPT):   proc datasets lib=work nolist;
MPRINT(VARDEPT):   delete _tempAll;
MPRINT(VARDEPT):   run;

NOTE: Deleting WORK._TEMPALL (memtype=DATA).

NOTE: PROCEDURE DATASETS used (Total process time):
      real time           0.04 seconds
      cpu time            0.04 seconds
      

MPRINT(VARDEPT):   data _temp5;
MPRINT(VARDEPT):   set _temp5;
MPRINT(VARDEPT):   where LHS ne NAME and node ne '';
MPRINT(VARDEPT):   run;

NOTE: There were 2 observations read from the data set WORK._TEMP5.
      WHERE (LHS not = NAME) and (node not = ' ');
NOTE: The data set WORK._TEMP5 has 2 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

MPRINT(VARDEPT):   proc sort data=_temp5 nodupkey;
MPRINT(VARDEPT):   by LHS NAME;
MPRINT(VARDEPT):   run;

NOTE: There were 2 observations read from the data set WORK._TEMP5.
NOTE: 0 observations with duplicate key values were deleted.
NOTE: The data set WORK._TEMP5 has 2 observations and 3 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

MPRINT(OPTCODE):  ;
MPRINT(VARDEPT):   proc sort data=EMWS8.Ensmbl23_FCMP out=_tempid;
MPRINT(VARDEPT):   where id=6;
MPRINT(VARDEPT):   by LHS;
MPRINT(VARDEPT):   run;

NOTE: There were 39 observations read from the data set EMWS8.ENSMBL23_FCMP.
      WHERE id=6;
NOTE: The data set WORK._TEMPID has 39 observations and 5 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

MPRINT(VARDEPT):   data _tempAll;
MPRINT(VARDEPT):   set _temp2 _temp5 ;
MPRINT(VARDEPT):   run;

NOTE: There were 27 observations read from the data set WORK._TEMP2.
NOTE: There were 2 observations read from the data set WORK._TEMP5.
NOTE: The data set WORK._TEMPALL has 29 observations and 5 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

MPRINT(VARDEPT):   proc sql;
MPRINT(VARDEPT):   create table _temp6 as select p2.lhs, p2.name, p2.Node from work._tempAll 
p, work._tempid p2 where p.name=p2.lhs;
NOTE: Table WORK._TEMP6 created, with 33 rows and 3 columns.

MPRINT(VARDEPT):   quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

MPRINT(VARDEPT):   data _temp6;
MPRINT(VARDEPT):   set _temp6;
MPRINT(VARDEPT):   where LHS ne '' and NAME ne '' and Node ne '';
MPRINT(VARDEPT):   run;

NOTE: There were 33 observations read from the data set WORK._TEMP6.
      WHERE (LHS not = ' ') and (NAME not = ' ') and (Node not = ' ');
NOTE: The data set WORK._TEMP6 has 33 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

MPRINT(VARDEPT):   proc datasets lib=work nolist;
MPRINT(VARDEPT):   delete _tempAll;
MPRINT(VARDEPT):   run;

NOTE: Deleting WORK._TEMPALL (memtype=DATA).

NOTE: PROCEDURE DATASETS used (Total process time):
      real time           0.04 seconds
      cpu time            0.04 seconds
      

MPRINT(VARDEPT):   data _temp6;
MPRINT(VARDEPT):   set _temp6;
MPRINT(VARDEPT):   where LHS ne NAME and node ne '';
MPRINT(VARDEPT):   run;

NOTE: There were 33 observations read from the data set WORK._TEMP6.
      WHERE (LHS not = NAME) and (node not = ' ');
NOTE: The data set WORK._TEMP6 has 33 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

MPRINT(VARDEPT):   proc sort data=_temp6 nodupkey;
MPRINT(VARDEPT):   by LHS NAME;
MPRINT(VARDEPT):   run;

NOTE: There were 33 observations read from the data set WORK._TEMP6.
NOTE: 0 observations with duplicate key values were deleted.
NOTE: The data set WORK._TEMP6 has 33 observations and 3 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

MPRINT(OPTCODE):  ;
MPRINT(VARDEPT):   proc sort data=EMWS8.Ensmbl23_FCMP out=_tempid;
MPRINT(VARDEPT):   where id=7;
MPRINT(VARDEPT):   by LHS;
MPRINT(VARDEPT):   run;

NOTE: There were 66 observations read from the data set EMWS8.ENSMBL23_FCMP.
      WHERE id=7;
NOTE: The data set WORK._TEMPID has 66 observations and 5 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

MPRINT(VARDEPT):   data _tempAll;
MPRINT(VARDEPT):   set _temp2 _temp5 _temp6 ;
MPRINT(VARDEPT):   run;

NOTE: There were 27 observations read from the data set WORK._TEMP2.
NOTE: There were 2 observations read from the data set WORK._TEMP5.
NOTE: There were 33 observations read from the data set WORK._TEMP6.
NOTE: The data set WORK._TEMPALL has 62 observations and 5 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

MPRINT(VARDEPT):   proc sql;
MPRINT(VARDEPT):   create table _temp7 as select p2.lhs, p2.name, p2.Node from work._tempAll 
p, work._tempid p2 where p.name=p2.lhs;
NOTE: Table WORK._TEMP7 created, with 0 rows and 3 columns.

MPRINT(VARDEPT):   quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

MPRINT(VARDEPT):   data _temp7;
MPRINT(VARDEPT):   set _temp7;
MPRINT(VARDEPT):   where LHS ne '' and NAME ne '' and Node ne '';
MPRINT(VARDEPT):   run;

NOTE: There were 0 observations read from the data set WORK._TEMP7.
      WHERE (LHS not = ' ') and (NAME not = ' ') and (Node not = ' ');
NOTE: The data set WORK._TEMP7 has 0 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

MPRINT(VARDEPT):   proc datasets lib=work nolist;
MPRINT(VARDEPT):   delete _tempAll;
MPRINT(VARDEPT):   run;

NOTE: Deleting WORK._TEMPALL (memtype=DATA).

NOTE: PROCEDURE DATASETS used (Total process time):
      real time           0.04 seconds
      cpu time            0.04 seconds
      

MPRINT(VARDEPT):   proc datasets lib=work nolist;
MPRINT(VARDEPT):   delete _temp7;
MPRINT(VARDEPT):   run;

NOTE: Deleting WORK._TEMP7 (memtype=DATA).
MPRINT(VARDEPT):   quit;

NOTE: PROCEDURE DATASETS used (Total process time):
      real time           0.04 seconds
      cpu time            0.04 seconds
      

MPRINT(OPTCODE):  ;
MPRINT(VARDEPT):   proc sort data=EMWS8.Ensmbl23_FCMP out=_tempid;
MPRINT(VARDEPT):   where id=8;
MPRINT(VARDEPT):   by LHS;
MPRINT(VARDEPT):   run;

NOTE: Input data set is empty.
NOTE: There were 0 observations read from the data set EMWS8.ENSMBL23_FCMP.
      WHERE id=8;
NOTE: The data set WORK._TEMPID has 0 observations and 5 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

MPRINT(VARDEPT):   proc datasets lib=work nolist;
MPRINT(VARDEPT):   delete _tempid;
MPRINT(VARDEPT):   run;

NOTE: Deleting WORK._TEMPID (memtype=DATA).
MPRINT(VARDEPT):   quit;

NOTE: PROCEDURE DATASETS used (Total process time):
      real time           0.04 seconds
      cpu time            0.04 seconds
      

MPRINT(OPTCODE):  ;
MPRINT(VARDEPT):   proc sort data=EMWS8.Ensmbl23_FCMP out=_tempid;
MPRINT(VARDEPT):   where id=9;
MPRINT(VARDEPT):   by LHS;
MPRINT(VARDEPT):   run;

NOTE: Input data set is empty.
NOTE: There were 0 observations read from the data set EMWS8.ENSMBL23_FCMP.
      WHERE id=9;
NOTE: The data set WORK._TEMPID has 0 observations and 5 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

MPRINT(VARDEPT):   proc datasets lib=work nolist;
MPRINT(VARDEPT):   delete _tempid;
MPRINT(VARDEPT):   run;

NOTE: Deleting WORK._TEMPID (memtype=DATA).
MPRINT(VARDEPT):   quit;

NOTE: PROCEDURE DATASETS used (Total process time):
      real time           0.04 seconds
      cpu time            0.04 seconds
      

MPRINT(OPTCODE):  ;
MPRINT(EM_DIAGRAM):  ;

2150039    data _all_;
MPRINT(EM_DIAGRAM):    data _all_;
2150040    set EMWS8.Trans_EMSCOREVAR;
MPRINT(EM_DIAGRAM):   set EMWS8.Trans_EMSCOREVAR;
2150041    where NAME='' and file ne '' and ^index(file, '_POSTALL_.sas');
MPRINT(EM_DIAGRAM):   where NAME='' and file ne '' and ^index(file, '_POSTALL_.sas');
2150042    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 0 observations read from the data set EMWS8.TRANS_EMSCOREVAR.
      WHERE (NAME=' ') and (file not = ' ') and (not INDEX(file, '_POSTALL_.sas'));
NOTE: The data set WORK._ALL_ has 0 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

2150043    data _postall_;
MPRINT(EM_DIAGRAM):   data _postall_;
2150044    set EMWS8.Trans_EMSCOREVAR;
MPRINT(EM_DIAGRAM):   set EMWS8.Trans_EMSCOREVAR;
2150045    where NAME='' and file ne '' and index(file, '_POSTALL_.sas');
MPRINT(EM_DIAGRAM):   where NAME='' and file ne '' and index(file, '_POSTALL_.sas');
2150046    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 0 observations read from the data set EMWS8.TRANS_EMSCOREVAR.
      WHERE (NAME=' ') and (file not = ' ') and INDEX(file, '_POSTALL_.sas');
NOTE: The data set WORK._POSTALL_ has 0 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

2150047    proc sql;
MPRINT(EM_DIAGRAM):   proc sql;
2150048    create table _CodeVar5 as select p.lhs, p2.formula, p2.file from _temp5 p,
2150048  ! EMWS8.Trans_EMSCOREVAR p2 where upcase(p.LHS)=upcase(p2.NAME) order by p.lhs;
MPRINT(EM_DIAGRAM):   create table _CodeVar5 as select p.lhs, p2.formula, p2.file from _temp5 
p, EMWS8.Trans_EMSCOREVAR p2 where upcase(p.LHS)=upcase(p2.NAME) order by p.lhs;
NOTE: Table WORK._CODEVAR5 created, with 2 rows and 3 columns.

2150049    quit;
MPRINT(EM_DIAGRAM):   quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

2150050    data _CodeVar5;
MPRINT(EM_DIAGRAM):   data _CodeVar5;
2150051    set _all_ _CodeVar5 _postall_;
MPRINT(EM_DIAGRAM):   set _all_ _CodeVar5 _postall_;
2150052    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 0 observations read from the data set WORK._ALL_.
NOTE: There were 2 observations read from the data set WORK._CODEVAR5.
NOTE: There were 0 observations read from the data set WORK._POSTALL_.
NOTE: The data set WORK._CODEVAR5 has 2 observations and 4 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

2150053    filename _pref
2150053  ! "C:\\predictive-models-project\Workspaces\EMWS8\Neural37\EMPUBLISHSCORE.sas";
MPRINT(EM_DIAGRAM):    filename _pref 
"C:\\predictive-models-project\Workspaces\EMWS8\Neural37\EMPUBLISHSCORE.sas";
2150054    proc FCMP NOEXECUTE IMPUTEDDEPS OUTDEPS=_temp;
MPRINT(EM_DIAGRAM):   proc FCMP NOEXECUTE IMPUTEDDEPS OUTDEPS=_temp;
2150055    %INCLUDE _pref;
NOTE: %INCLUDE (level 1) file _PREF is file 
      C:\\predictive-models-project\Workspaces\EMWS8\Neural37\EMPUBLISHSCORE.sas.
2150056   +***********************************;
MPRINT(EM_DIAGRAM):   ***********************************;
2150057   +*** Begin Scoring Code for Neural;
MPRINT(EM_DIAGRAM):   *** Begin Scoring Code for Neural;
2150058   +***********************************;
MPRINT(EM_DIAGRAM):   ***********************************;
2150059   +DROP _DM_BAD _EPS _NOCL_ _MAX_ _MAXP_ _SUM_ _NTRIALS;
MPRINT(EM_DIAGRAM):   DROP _DM_BAD _EPS _NOCL_ _MAX_ _MAXP_ _SUM_ _NTRIALS;
2150060   + _DM_BAD = 0;
MPRINT(EM_DIAGRAM):   _DM_BAD = 0;
2150061   + _NOCL_ = .;
MPRINT(EM_DIAGRAM):   _NOCL_ = .;
2150062   + _MAX_ = .;
MPRINT(EM_DIAGRAM):   _MAX_ = .;
2150063   + _MAXP_ = .;
MPRINT(EM_DIAGRAM):   _MAXP_ = .;
2150064   + _SUM_ = .;
MPRINT(EM_DIAGRAM):   _SUM_ = .;
2150065   + _NTRIALS = .;
MPRINT(EM_DIAGRAM):   _NTRIALS = .;
2150066   + _EPS =                1E-10;
MPRINT(EM_DIAGRAM):   _EPS = 1E-10;
2150067   +LENGTH _WARN_ $4
2150068   +;
MPRINT(EM_DIAGRAM):   LENGTH _WARN_ $4 ;
2150069   +      label S_AcceptedCmpTotal = 'Standard: AcceptedCmpTotal' ;
MPRINT(EM_DIAGRAM):   label S_AcceptedCmpTotal = 'Standard: AcceptedCmpTotal' ;
2150070   +
2150071   +      label S_Age = 'Standard: Age' ;
MPRINT(EM_DIAGRAM):   label S_Age = 'Standard: Age' ;
2150072   +
2150073   +      label S_Frq = 'Standard: Frq' ;
MPRINT(EM_DIAGRAM):   label S_Frq = 'Standard: Frq' ;
2150074   +
2150075   +      label S_Income = 'Standard: Income' ;
MPRINT(EM_DIAGRAM):   label S_Income = 'Standard: Income' ;
2150076   +
2150077   +      label S_Kidhome = 'Standard: Kidhome' ;
MPRINT(EM_DIAGRAM):   label S_Kidhome = 'Standard: Kidhome' ;
2150078   +
2150079   +      label S_MntFishProducts = 'Standard: MntFishProducts' ;
MPRINT(EM_DIAGRAM):   label S_MntFishProducts = 'Standard: MntFishProducts' ;
2150080   +
2150081   +      label S_MntFruits = 'Standard: MntFruits' ;
MPRINT(EM_DIAGRAM):   label S_MntFruits = 'Standard: MntFruits' ;
2150082   +
2150083   +      label S_MntGoldProds = 'Standard: MntGoldProds' ;
MPRINT(EM_DIAGRAM):   label S_MntGoldProds = 'Standard: MntGoldProds' ;
2150084   +
2150085   +      label S_MntSweetProducts = 'Standard: MntSweetProducts' ;
MPRINT(EM_DIAGRAM):   label S_MntSweetProducts = 'Standard: MntSweetProducts' ;
2150086   +
2150087   +      label S_MonthsAsCustomer = 'Standard: MonthsAsCustomer' ;
MPRINT(EM_DIAGRAM):   label S_MonthsAsCustomer = 'Standard: MonthsAsCustomer' ;
2150088   +
2150089   +      label S_NumDealsPurchases = 'Standard: NumDealsPurchases' ;
MPRINT(EM_DIAGRAM):   label S_NumDealsPurchases = 'Standard: NumDealsPurchases' ;
2150090   +
2150091   +      label S_NumWebVisitsMonth = 'Standard: NumWebVisitsMonth' ;
MPRINT(EM_DIAGRAM):   label S_NumWebVisitsMonth = 'Standard: NumWebVisitsMonth' ;
2150092   +
2150093   +      label S_RFMstat = 'Standard: RFMstat' ;
MPRINT(EM_DIAGRAM):   label S_RFMstat = 'Standard: RFMstat' ;
2150094   +
2150095   +      label S_RMntFrq = 'Standard: RMntFrq' ;
MPRINT(EM_DIAGRAM):   label S_RMntFrq = 'Standard: RMntFrq' ;
2150096   +
2150097   +      label S_Recency = 'Standard: Recency' ;
MPRINT(EM_DIAGRAM):   label S_Recency = 'Standard: Recency' ;
2150098   +
2150099   +      label S_Teenhome = 'Standard: Teenhome' ;
MPRINT(EM_DIAGRAM):   label S_Teenhome = 'Standard: Teenhome' ;
2150100   +
2150101   +      label AcceptedCmp10 = 'Dummy: AcceptedCmp1=0' ;
MPRINT(EM_DIAGRAM):   label AcceptedCmp10 = 'Dummy: AcceptedCmp1=0' ;
2150102   +
2150103   +      label AcceptedCmp20 = 'Dummy: AcceptedCmp2=0' ;
MPRINT(EM_DIAGRAM):   label AcceptedCmp20 = 'Dummy: AcceptedCmp2=0' ;
2150104   +
2150105   +      label AcceptedCmp30 = 'Dummy: AcceptedCmp3=0' ;
MPRINT(EM_DIAGRAM):   label AcceptedCmp30 = 'Dummy: AcceptedCmp3=0' ;
2150106   +
2150107   +      label AcceptedCmp40 = 'Dummy: AcceptedCmp4=0' ;
MPRINT(EM_DIAGRAM):   label AcceptedCmp40 = 'Dummy: AcceptedCmp4=0' ;
2150108   +
2150109   +      label AcceptedCmp50 = 'Dummy: AcceptedCmp5=0' ;
MPRINT(EM_DIAGRAM):   label AcceptedCmp50 = 'Dummy: AcceptedCmp5=0' ;
2150110   +
2150111   +      label Complain0 = 'Dummy: Complain=0' ;
MPRINT(EM_DIAGRAM):   label Complain0 = 'Dummy: Complain=0' ;
2150112   +
2150113   +      label HigherEducationBinary0 = 'Dummy: HigherEducationBinary=0' ;
MPRINT(EM_DIAGRAM):   label HigherEducationBinary0 = 'Dummy: HigherEducationBinary=0' ;
2150114   +
2150115   +      label Education2n_Cycle = 'Dummy: Education=2n Cycle' ;
MPRINT(EM_DIAGRAM):   label Education2n_Cycle = 'Dummy: Education=2n Cycle' ;
2150116   +
2150117   +      label EducationBasic = 'Dummy: Education=Basic' ;
MPRINT(EM_DIAGRAM):   label EducationBasic = 'Dummy: Education=Basic' ;
2150118   +
2150119   +      label EducationGraduation = 'Dummy: Education=Graduation' ;
MPRINT(EM_DIAGRAM):   label EducationGraduation = 'Dummy: Education=Graduation' ;
2150120   +
2150121   +      label EducationMaster = 'Dummy: Education=Master' ;
MPRINT(EM_DIAGRAM):   label EducationMaster = 'Dummy: Education=Master' ;
2150122   +
2150123   +      label Marital_StatusDivorced = 'Dummy: Marital_Status=Divorced' ;
MPRINT(EM_DIAGRAM):   label Marital_StatusDivorced = 'Dummy: Marital_Status=Divorced' ;
2150124   +
2150125   +      label Marital_StatusMarried = 'Dummy: Marital_Status=Married' ;
MPRINT(EM_DIAGRAM):   label Marital_StatusMarried = 'Dummy: Marital_Status=Married' ;
2150126   +
2150127   +      label Marital_StatusSingle = 'Dummy: Marital_Status=Single' ;
MPRINT(EM_DIAGRAM):   label Marital_StatusSingle = 'Dummy: Marital_Status=Single' ;
2150128   +
2150129   +      label Marital_StatusTogether = 'Dummy: Marital_Status=Together' ;
MPRINT(EM_DIAGRAM):   label Marital_StatusTogether = 'Dummy: Marital_Status=Together' ;
2150130   +
2150131   +      label H11 = 'Hidden: H1=1' ;
MPRINT(EM_DIAGRAM):   label H11 = 'Hidden: H1=1' ;
2150132   +
2150133   +      label H12 = 'Hidden: H1=2' ;
MPRINT(EM_DIAGRAM):   label H12 = 'Hidden: H1=2' ;
2150134   +
2150135   +      label I_DepVar = 'Into: DepVar' ;
MPRINT(EM_DIAGRAM):   label I_DepVar = 'Into: DepVar' ;
2150136   +
2150137   +      label U_DepVar = 'Unnormalized Into: DepVar' ;
MPRINT(EM_DIAGRAM):   label U_DepVar = 'Unnormalized Into: DepVar' ;
2150138   +
2150139   +      label P_DepVar1 = 'Predicted: DepVar=1' ;
MPRINT(EM_DIAGRAM):   label P_DepVar1 = 'Predicted: DepVar=1' ;
2150140   +
2150141   +      label P_DepVar0 = 'Predicted: DepVar=0' ;
MPRINT(EM_DIAGRAM):   label P_DepVar0 = 'Predicted: DepVar=0' ;
2150142   +
2150143   +      label  _WARN_ = "Warnings";
MPRINT(EM_DIAGRAM):   label _WARN_ = "Warnings";
2150144   +
2150145   +*** Generate dummy variables for AcceptedCmp1 ;
MPRINT(EM_DIAGRAM):   *** Generate dummy variables for AcceptedCmp1 ;
2150146   +drop AcceptedCmp10 ;
MPRINT(EM_DIAGRAM):   drop AcceptedCmp10 ;
2150147   +if missing( AcceptedCmp1 ) then do;
MPRINT(EM_DIAGRAM):   if missing( AcceptedCmp1 ) then do;
2150148   +   AcceptedCmp10 = .;
MPRINT(EM_DIAGRAM):   AcceptedCmp10 = .;
2150149   +   substr(_warn_,1,1) = 'M';
MPRINT(EM_DIAGRAM):   substr(_warn_,1,1) = 'M';
2150150   +   _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2150151   +end;
MPRINT(EM_DIAGRAM):   end;
2150152   +else do;
MPRINT(EM_DIAGRAM):   else do;
2150153   +   length _dm12 $ 12; drop _dm12 ;
MPRINT(EM_DIAGRAM):   length _dm12 $ 12;
MPRINT(EM_DIAGRAM):   drop _dm12 ;
2150154   +   _dm12 = put( AcceptedCmp1 , BEST. );
MPRINT(EM_DIAGRAM):   _dm12 = put( AcceptedCmp1 , BEST. );
2150155   +   %DMNORMIP( _dm12 )
MPRINT(DMNORMIP):   call dmnorm(_dm12,
MPRINT(DMNORLEN):  32
MPRINT(DMNORMIP):  );
2150156   +   if _dm12 = '0'  then do;
MPRINT(EM_DIAGRAM):   if _dm12 = '0' then do;
2150157   +      AcceptedCmp10 = 1;
MPRINT(EM_DIAGRAM):   AcceptedCmp10 = 1;
2150158   +   end;
MPRINT(EM_DIAGRAM):   end;
2150159   +   else if _dm12 = '1'  then do;
MPRINT(EM_DIAGRAM):   else if _dm12 = '1' then do;
2150160   +      AcceptedCmp10 = -1;
MPRINT(EM_DIAGRAM):   AcceptedCmp10 = -1;
2150161   +   end;
MPRINT(EM_DIAGRAM):   end;
2150162   +   else do;
MPRINT(EM_DIAGRAM):   else do;
2150163   +      AcceptedCmp10 = .;
MPRINT(EM_DIAGRAM):   AcceptedCmp10 = .;
2150164   +      substr(_warn_,2,1) = 'U';
MPRINT(EM_DIAGRAM):   substr(_warn_,2,1) = 'U';
2150165   +      _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2150166   +   end;
MPRINT(EM_DIAGRAM):   end;
2150167   +end;
MPRINT(EM_DIAGRAM):   end;
2150168   +
2150169   +*** Generate dummy variables for AcceptedCmp2 ;
MPRINT(EM_DIAGRAM):   *** Generate dummy variables for AcceptedCmp2 ;
2150170   +drop AcceptedCmp20 ;
MPRINT(EM_DIAGRAM):   drop AcceptedCmp20 ;
2150171   +if missing( AcceptedCmp2 ) then do;
MPRINT(EM_DIAGRAM):   if missing( AcceptedCmp2 ) then do;
2150172   +   AcceptedCmp20 = .;
MPRINT(EM_DIAGRAM):   AcceptedCmp20 = .;
2150173   +   substr(_warn_,1,1) = 'M';
MPRINT(EM_DIAGRAM):   substr(_warn_,1,1) = 'M';
2150174   +   _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2150175   +end;
MPRINT(EM_DIAGRAM):   end;
2150176   +else do;
MPRINT(EM_DIAGRAM):   else do;
2150177   +   length _dm12 $ 12; drop _dm12 ;
MPRINT(EM_DIAGRAM):   length _dm12 $ 12;
MPRINT(EM_DIAGRAM):   drop _dm12 ;
2150178   +   _dm12 = put( AcceptedCmp2 , BEST. );
MPRINT(EM_DIAGRAM):   _dm12 = put( AcceptedCmp2 , BEST. );
2150179   +   %DMNORMIP( _dm12 )
MPRINT(DMNORMIP):   call dmnorm(_dm12,
MPRINT(DMNORLEN):  32
MPRINT(DMNORMIP):  );
2150180   +   if _dm12 = '0'  then do;
MPRINT(EM_DIAGRAM):   if _dm12 = '0' then do;
2150181   +      AcceptedCmp20 = 1;
MPRINT(EM_DIAGRAM):   AcceptedCmp20 = 1;
2150182   +   end;
MPRINT(EM_DIAGRAM):   end;
2150183   +   else if _dm12 = '1'  then do;
MPRINT(EM_DIAGRAM):   else if _dm12 = '1' then do;
2150184   +      AcceptedCmp20 = -1;
MPRINT(EM_DIAGRAM):   AcceptedCmp20 = -1;
2150185   +   end;
MPRINT(EM_DIAGRAM):   end;
2150186   +   else do;
MPRINT(EM_DIAGRAM):   else do;
2150187   +      AcceptedCmp20 = .;
MPRINT(EM_DIAGRAM):   AcceptedCmp20 = .;
2150188   +      substr(_warn_,2,1) = 'U';
MPRINT(EM_DIAGRAM):   substr(_warn_,2,1) = 'U';
2150189   +      _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2150190   +   end;
MPRINT(EM_DIAGRAM):   end;
2150191   +end;
MPRINT(EM_DIAGRAM):   end;
2150192   +
2150193   +*** Generate dummy variables for AcceptedCmp3 ;
MPRINT(EM_DIAGRAM):   *** Generate dummy variables for AcceptedCmp3 ;
2150194   +drop AcceptedCmp30 ;
MPRINT(EM_DIAGRAM):   drop AcceptedCmp30 ;
2150195   +if missing( AcceptedCmp3 ) then do;
MPRINT(EM_DIAGRAM):   if missing( AcceptedCmp3 ) then do;
2150196   +   AcceptedCmp30 = .;
MPRINT(EM_DIAGRAM):   AcceptedCmp30 = .;
2150197   +   substr(_warn_,1,1) = 'M';
MPRINT(EM_DIAGRAM):   substr(_warn_,1,1) = 'M';
2150198   +   _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2150199   +end;
MPRINT(EM_DIAGRAM):   end;
2150200   +else do;
MPRINT(EM_DIAGRAM):   else do;
2150201   +   length _dm12 $ 12; drop _dm12 ;
MPRINT(EM_DIAGRAM):   length _dm12 $ 12;
MPRINT(EM_DIAGRAM):   drop _dm12 ;
2150202   +   _dm12 = put( AcceptedCmp3 , BEST. );
MPRINT(EM_DIAGRAM):   _dm12 = put( AcceptedCmp3 , BEST. );
2150203   +   %DMNORMIP( _dm12 )
MPRINT(DMNORMIP):   call dmnorm(_dm12,
MPRINT(DMNORLEN):  32
MPRINT(DMNORMIP):  );
2150204   +   if _dm12 = '0'  then do;
MPRINT(EM_DIAGRAM):   if _dm12 = '0' then do;
2150205   +      AcceptedCmp30 = 1;
MPRINT(EM_DIAGRAM):   AcceptedCmp30 = 1;
2150206   +   end;
MPRINT(EM_DIAGRAM):   end;
2150207   +   else if _dm12 = '1'  then do;
MPRINT(EM_DIAGRAM):   else if _dm12 = '1' then do;
2150208   +      AcceptedCmp30 = -1;
MPRINT(EM_DIAGRAM):   AcceptedCmp30 = -1;
2150209   +   end;
MPRINT(EM_DIAGRAM):   end;
2150210   +   else do;
MPRINT(EM_DIAGRAM):   else do;
2150211   +      AcceptedCmp30 = .;
MPRINT(EM_DIAGRAM):   AcceptedCmp30 = .;
2150212   +      substr(_warn_,2,1) = 'U';
MPRINT(EM_DIAGRAM):   substr(_warn_,2,1) = 'U';
2150213   +      _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2150214   +   end;
MPRINT(EM_DIAGRAM):   end;
2150215   +end;
MPRINT(EM_DIAGRAM):   end;
2150216   +
2150217   +*** Generate dummy variables for AcceptedCmp4 ;
MPRINT(EM_DIAGRAM):   *** Generate dummy variables for AcceptedCmp4 ;
2150218   +drop AcceptedCmp40 ;
MPRINT(EM_DIAGRAM):   drop AcceptedCmp40 ;
2150219   +if missing( AcceptedCmp4 ) then do;
MPRINT(EM_DIAGRAM):   if missing( AcceptedCmp4 ) then do;
2150220   +   AcceptedCmp40 = .;
MPRINT(EM_DIAGRAM):   AcceptedCmp40 = .;
2150221   +   substr(_warn_,1,1) = 'M';
MPRINT(EM_DIAGRAM):   substr(_warn_,1,1) = 'M';
2150222   +   _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2150223   +end;
MPRINT(EM_DIAGRAM):   end;
2150224   +else do;
MPRINT(EM_DIAGRAM):   else do;
2150225   +   length _dm12 $ 12; drop _dm12 ;
MPRINT(EM_DIAGRAM):   length _dm12 $ 12;
MPRINT(EM_DIAGRAM):   drop _dm12 ;
2150226   +   _dm12 = put( AcceptedCmp4 , BEST. );
MPRINT(EM_DIAGRAM):   _dm12 = put( AcceptedCmp4 , BEST. );
2150227   +   %DMNORMIP( _dm12 )
MPRINT(DMNORMIP):   call dmnorm(_dm12,
MPRINT(DMNORLEN):  32
MPRINT(DMNORMIP):  );
2150228   +   if _dm12 = '0'  then do;
MPRINT(EM_DIAGRAM):   if _dm12 = '0' then do;
2150229   +      AcceptedCmp40 = 1;
MPRINT(EM_DIAGRAM):   AcceptedCmp40 = 1;
2150230   +   end;
MPRINT(EM_DIAGRAM):   end;
2150231   +   else if _dm12 = '1'  then do;
MPRINT(EM_DIAGRAM):   else if _dm12 = '1' then do;
2150232   +      AcceptedCmp40 = -1;
MPRINT(EM_DIAGRAM):   AcceptedCmp40 = -1;
2150233   +   end;
MPRINT(EM_DIAGRAM):   end;
2150234   +   else do;
MPRINT(EM_DIAGRAM):   else do;
2150235   +      AcceptedCmp40 = .;
MPRINT(EM_DIAGRAM):   AcceptedCmp40 = .;
2150236   +      substr(_warn_,2,1) = 'U';
MPRINT(EM_DIAGRAM):   substr(_warn_,2,1) = 'U';
2150237   +      _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2150238   +   end;
MPRINT(EM_DIAGRAM):   end;
2150239   +end;
MPRINT(EM_DIAGRAM):   end;
2150240   +
2150241   +*** Generate dummy variables for AcceptedCmp5 ;
MPRINT(EM_DIAGRAM):   *** Generate dummy variables for AcceptedCmp5 ;
2150242   +drop AcceptedCmp50 ;
MPRINT(EM_DIAGRAM):   drop AcceptedCmp50 ;
2150243   +if missing( AcceptedCmp5 ) then do;
MPRINT(EM_DIAGRAM):   if missing( AcceptedCmp5 ) then do;
2150244   +   AcceptedCmp50 = .;
MPRINT(EM_DIAGRAM):   AcceptedCmp50 = .;
2150245   +   substr(_warn_,1,1) = 'M';
MPRINT(EM_DIAGRAM):   substr(_warn_,1,1) = 'M';
2150246   +   _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2150247   +end;
MPRINT(EM_DIAGRAM):   end;
2150248   +else do;
MPRINT(EM_DIAGRAM):   else do;
2150249   +   length _dm12 $ 12; drop _dm12 ;
MPRINT(EM_DIAGRAM):   length _dm12 $ 12;
MPRINT(EM_DIAGRAM):   drop _dm12 ;
2150250   +   _dm12 = put( AcceptedCmp5 , BEST. );
MPRINT(EM_DIAGRAM):   _dm12 = put( AcceptedCmp5 , BEST. );
2150251   +   %DMNORMIP( _dm12 )
MPRINT(DMNORMIP):   call dmnorm(_dm12,
MPRINT(DMNORLEN):  32
MPRINT(DMNORMIP):  );
2150252   +   if _dm12 = '0'  then do;
MPRINT(EM_DIAGRAM):   if _dm12 = '0' then do;
2150253   +      AcceptedCmp50 = 1;
MPRINT(EM_DIAGRAM):   AcceptedCmp50 = 1;
2150254   +   end;
MPRINT(EM_DIAGRAM):   end;
2150255   +   else if _dm12 = '1'  then do;
MPRINT(EM_DIAGRAM):   else if _dm12 = '1' then do;
2150256   +      AcceptedCmp50 = -1;
MPRINT(EM_DIAGRAM):   AcceptedCmp50 = -1;
2150257   +   end;
MPRINT(EM_DIAGRAM):   end;
2150258   +   else do;
MPRINT(EM_DIAGRAM):   else do;
2150259   +      AcceptedCmp50 = .;
MPRINT(EM_DIAGRAM):   AcceptedCmp50 = .;
2150260   +      substr(_warn_,2,1) = 'U';
MPRINT(EM_DIAGRAM):   substr(_warn_,2,1) = 'U';
2150261   +      _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2150262   +   end;
MPRINT(EM_DIAGRAM):   end;
2150263   +end;
MPRINT(EM_DIAGRAM):   end;
2150264   +
2150265   +*** Generate dummy variables for Complain ;
MPRINT(EM_DIAGRAM):   *** Generate dummy variables for Complain ;
2150266   +drop Complain0 ;
MPRINT(EM_DIAGRAM):   drop Complain0 ;
2150267   +if missing( Complain ) then do;
MPRINT(EM_DIAGRAM):   if missing( Complain ) then do;
2150268   +   Complain0 = .;
MPRINT(EM_DIAGRAM):   Complain0 = .;
2150269   +   substr(_warn_,1,1) = 'M';
MPRINT(EM_DIAGRAM):   substr(_warn_,1,1) = 'M';
2150270   +   _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2150271   +end;
MPRINT(EM_DIAGRAM):   end;
2150272   +else do;
MPRINT(EM_DIAGRAM):   else do;
2150273   +   length _dm12 $ 12; drop _dm12 ;
MPRINT(EM_DIAGRAM):   length _dm12 $ 12;
MPRINT(EM_DIAGRAM):   drop _dm12 ;
2150274   +   _dm12 = put( Complain , BEST. );
MPRINT(EM_DIAGRAM):   _dm12 = put( Complain , BEST. );
2150275   +   %DMNORMIP( _dm12 )
MPRINT(DMNORMIP):   call dmnorm(_dm12,
MPRINT(DMNORLEN):  32
MPRINT(DMNORMIP):  );
2150276   +   if _dm12 = '0'  then do;
MPRINT(EM_DIAGRAM):   if _dm12 = '0' then do;
2150277   +      Complain0 = 1;
MPRINT(EM_DIAGRAM):   Complain0 = 1;
2150278   +   end;
MPRINT(EM_DIAGRAM):   end;
2150279   +   else if _dm12 = '1'  then do;
MPRINT(EM_DIAGRAM):   else if _dm12 = '1' then do;
2150280   +      Complain0 = -1;
MPRINT(EM_DIAGRAM):   Complain0 = -1;
2150281   +   end;
MPRINT(EM_DIAGRAM):   end;
2150282   +   else do;
MPRINT(EM_DIAGRAM):   else do;
2150283   +      Complain0 = .;
MPRINT(EM_DIAGRAM):   Complain0 = .;
2150284   +      substr(_warn_,2,1) = 'U';
MPRINT(EM_DIAGRAM):   substr(_warn_,2,1) = 'U';
2150285   +      _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2150286   +   end;
MPRINT(EM_DIAGRAM):   end;
2150287   +end;
MPRINT(EM_DIAGRAM):   end;
2150288   +
2150289   +*** Generate dummy variables for HigherEducationBinary ;
MPRINT(EM_DIAGRAM):   *** Generate dummy variables for HigherEducationBinary ;
2150290   +drop HigherEducationBinary0 ;
MPRINT(EM_DIAGRAM):   drop HigherEducationBinary0 ;
2150291   +if missing( HigherEducationBinary ) then do;
MPRINT(EM_DIAGRAM):   if missing( HigherEducationBinary ) then do;
2150292   +   HigherEducationBinary0 = .;
MPRINT(EM_DIAGRAM):   HigherEducationBinary0 = .;
2150293   +   substr(_warn_,1,1) = 'M';
MPRINT(EM_DIAGRAM):   substr(_warn_,1,1) = 'M';
2150294   +   _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2150295   +end;
MPRINT(EM_DIAGRAM):   end;
2150296   +else do;
MPRINT(EM_DIAGRAM):   else do;
2150297   +   length _dm12 $ 12; drop _dm12 ;
MPRINT(EM_DIAGRAM):   length _dm12 $ 12;
MPRINT(EM_DIAGRAM):   drop _dm12 ;
2150298   +   _dm12 = put( HigherEducationBinary , BEST12. );
MPRINT(EM_DIAGRAM):   _dm12 = put( HigherEducationBinary , BEST12. );
2150299   +   %DMNORMIP( _dm12 )
MPRINT(DMNORMIP):   call dmnorm(_dm12,
MPRINT(DMNORLEN):  32
MPRINT(DMNORMIP):  );
2150300   +   if _dm12 = '1'  then do;
MPRINT(EM_DIAGRAM):   if _dm12 = '1' then do;
2150301   +      HigherEducationBinary0 = -1;
MPRINT(EM_DIAGRAM):   HigherEducationBinary0 = -1;
2150302   +   end;
MPRINT(EM_DIAGRAM):   end;
2150303   +   else if _dm12 = '0'  then do;
MPRINT(EM_DIAGRAM):   else if _dm12 = '0' then do;
2150304   +      HigherEducationBinary0 = 1;
MPRINT(EM_DIAGRAM):   HigherEducationBinary0 = 1;
2150305   +   end;
MPRINT(EM_DIAGRAM):   end;
2150306   +   else do;
MPRINT(EM_DIAGRAM):   else do;
2150307   +      HigherEducationBinary0 = .;
MPRINT(EM_DIAGRAM):   HigherEducationBinary0 = .;
2150308   +      substr(_warn_,2,1) = 'U';
MPRINT(EM_DIAGRAM):   substr(_warn_,2,1) = 'U';
2150309   +      _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2150310   +   end;
MPRINT(EM_DIAGRAM):   end;
2150311   +end;
MPRINT(EM_DIAGRAM):   end;
2150312   +
2150313   +*** Generate dummy variables for Education ;
MPRINT(EM_DIAGRAM):   *** Generate dummy variables for Education ;
2150314   +drop Education2n_Cycle EducationBasic EducationGraduation EducationMaster ;
MPRINT(EM_DIAGRAM):   drop Education2n_Cycle EducationBasic EducationGraduation 
EducationMaster ;
2150315   +*** encoding is sparse, initialize to zero;
MPRINT(EM_DIAGRAM):   *** encoding is sparse, initialize to zero;
2150316   +Education2n_Cycle = 0;
MPRINT(EM_DIAGRAM):   Education2n_Cycle = 0;
2150317   +EducationBasic = 0;
MPRINT(EM_DIAGRAM):   EducationBasic = 0;
2150318   +EducationGraduation = 0;
MPRINT(EM_DIAGRAM):   EducationGraduation = 0;
2150319   +EducationMaster = 0;
MPRINT(EM_DIAGRAM):   EducationMaster = 0;
2150320   +if missing( Education ) then do;
MPRINT(EM_DIAGRAM):   if missing( Education ) then do;
2150321   +   Education2n_Cycle = .;
MPRINT(EM_DIAGRAM):   Education2n_Cycle = .;
2150322   +   EducationBasic = .;
MPRINT(EM_DIAGRAM):   EducationBasic = .;
2150323   +   EducationGraduation = .;
MPRINT(EM_DIAGRAM):   EducationGraduation = .;
2150324   +   EducationMaster = .;
MPRINT(EM_DIAGRAM):   EducationMaster = .;
2150325   +   substr(_warn_,1,1) = 'M';
MPRINT(EM_DIAGRAM):   substr(_warn_,1,1) = 'M';
2150326   +   _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2150327   +end;
MPRINT(EM_DIAGRAM):   end;
2150328   +else do;
MPRINT(EM_DIAGRAM):   else do;
2150329   +   length _dm10 $ 10; drop _dm10 ;
MPRINT(EM_DIAGRAM):   length _dm10 $ 10;
MPRINT(EM_DIAGRAM):   drop _dm10 ;
2150330   +   _dm10 = put( Education , $10. );
MPRINT(EM_DIAGRAM):   _dm10 = put( Education , $10. );
2150331   +   %DMNORMIP( _dm10 )
MPRINT(DMNORMIP):   call dmnorm(_dm10,
MPRINT(DMNORLEN):  32
MPRINT(DMNORMIP):  );
2150332   +   if _dm10 = 'GRADUATION'  then do;
MPRINT(EM_DIAGRAM):   if _dm10 = 'GRADUATION' then do;
2150333   +      EducationGraduation = 1;
MPRINT(EM_DIAGRAM):   EducationGraduation = 1;
2150334   +   end;
MPRINT(EM_DIAGRAM):   end;
2150335   +   else if _dm10 = 'PHD'  then do;
MPRINT(EM_DIAGRAM):   else if _dm10 = 'PHD' then do;
2150336   +      Education2n_Cycle = -1;
MPRINT(EM_DIAGRAM):   Education2n_Cycle = -1;
2150337   +      EducationBasic = -1;
MPRINT(EM_DIAGRAM):   EducationBasic = -1;
2150338   +      EducationGraduation = -1;
MPRINT(EM_DIAGRAM):   EducationGraduation = -1;
2150339   +      EducationMaster = -1;
MPRINT(EM_DIAGRAM):   EducationMaster = -1;
2150340   +   end;
MPRINT(EM_DIAGRAM):   end;
2150341   +   else if _dm10 = 'MASTER'  then do;
MPRINT(EM_DIAGRAM):   else if _dm10 = 'MASTER' then do;
2150342   +      EducationMaster = 1;
MPRINT(EM_DIAGRAM):   EducationMaster = 1;
2150343   +   end;
MPRINT(EM_DIAGRAM):   end;
2150344   +   else if _dm10 = '2N CYCLE'  then do;
MPRINT(EM_DIAGRAM):   else if _dm10 = '2N CYCLE' then do;
2150345   +      Education2n_Cycle = 1;
MPRINT(EM_DIAGRAM):   Education2n_Cycle = 1;
2150346   +   end;
MPRINT(EM_DIAGRAM):   end;
2150347   +   else if _dm10 = 'BASIC'  then do;
MPRINT(EM_DIAGRAM):   else if _dm10 = 'BASIC' then do;
2150348   +      EducationBasic = 1;
MPRINT(EM_DIAGRAM):   EducationBasic = 1;
2150349   +   end;
MPRINT(EM_DIAGRAM):   end;
2150350   +   else do;
MPRINT(EM_DIAGRAM):   else do;
2150351   +      Education2n_Cycle = .;
MPRINT(EM_DIAGRAM):   Education2n_Cycle = .;
2150352   +      EducationBasic = .;
MPRINT(EM_DIAGRAM):   EducationBasic = .;
2150353   +      EducationGraduation = .;
MPRINT(EM_DIAGRAM):   EducationGraduation = .;
2150354   +      EducationMaster = .;
MPRINT(EM_DIAGRAM):   EducationMaster = .;
2150355   +      substr(_warn_,2,1) = 'U';
MPRINT(EM_DIAGRAM):   substr(_warn_,2,1) = 'U';
2150356   +      _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2150357   +   end;
MPRINT(EM_DIAGRAM):   end;
2150358   +end;
MPRINT(EM_DIAGRAM):   end;
2150359   +
2150360   +*** Generate dummy variables for Marital_Status ;
MPRINT(EM_DIAGRAM):   *** Generate dummy variables for Marital_Status ;
2150361   +drop Marital_StatusDivorced Marital_StatusMarried Marital_StatusSingle
2150362   +        Marital_StatusTogether ;
MPRINT(EM_DIAGRAM):   drop Marital_StatusDivorced Marital_StatusMarried Marital_StatusSingle 
Marital_StatusTogether ;
2150363   +*** encoding is sparse, initialize to zero;
MPRINT(EM_DIAGRAM):   *** encoding is sparse, initialize to zero;
2150364   +Marital_StatusDivorced = 0;
MPRINT(EM_DIAGRAM):   Marital_StatusDivorced = 0;
2150365   +Marital_StatusMarried = 0;
MPRINT(EM_DIAGRAM):   Marital_StatusMarried = 0;
2150366   +Marital_StatusSingle = 0;
MPRINT(EM_DIAGRAM):   Marital_StatusSingle = 0;
2150367   +Marital_StatusTogether = 0;
MPRINT(EM_DIAGRAM):   Marital_StatusTogether = 0;
2150368   +if missing( Marital_Status ) then do;
MPRINT(EM_DIAGRAM):   if missing( Marital_Status ) then do;
2150369   +   Marital_StatusDivorced = .;
MPRINT(EM_DIAGRAM):   Marital_StatusDivorced = .;
2150370   +   Marital_StatusMarried = .;
MPRINT(EM_DIAGRAM):   Marital_StatusMarried = .;
2150371   +   Marital_StatusSingle = .;
MPRINT(EM_DIAGRAM):   Marital_StatusSingle = .;
2150372   +   Marital_StatusTogether = .;
MPRINT(EM_DIAGRAM):   Marital_StatusTogether = .;
2150373   +   substr(_warn_,1,1) = 'M';
MPRINT(EM_DIAGRAM):   substr(_warn_,1,1) = 'M';
2150374   +   _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2150375   +end;
MPRINT(EM_DIAGRAM):   end;
2150376   +else do;
MPRINT(EM_DIAGRAM):   else do;
2150377   +   length _dm8 $ 8; drop _dm8 ;
MPRINT(EM_DIAGRAM):   length _dm8 $ 8;
MPRINT(EM_DIAGRAM):   drop _dm8 ;
2150378   +   _dm8 = put( Marital_Status , $8. );
MPRINT(EM_DIAGRAM):   _dm8 = put( Marital_Status , $8. );
2150379   +   %DMNORMIP( _dm8 )
MPRINT(DMNORMIP):   call dmnorm(_dm8,
MPRINT(DMNORLEN):  32
MPRINT(DMNORMIP):  );
2150380   +   _dm_find = 0; drop _dm_find;
MPRINT(EM_DIAGRAM):   _dm_find = 0;
MPRINT(EM_DIAGRAM):   drop _dm_find;
2150381   +   if _dm8 <= 'SINGLE'  then do;
MPRINT(EM_DIAGRAM):   if _dm8 <= 'SINGLE' then do;
2150382   +      if _dm8 <= 'MARRIED'  then do;
MPRINT(EM_DIAGRAM):   if _dm8 <= 'MARRIED' then do;
2150383   +         if _dm8 = 'DIVORCED'  then do;
MPRINT(EM_DIAGRAM):   if _dm8 = 'DIVORCED' then do;
2150384   +            Marital_StatusDivorced = 1;
MPRINT(EM_DIAGRAM):   Marital_StatusDivorced = 1;
2150385   +            _dm_find = 1;
MPRINT(EM_DIAGRAM):   _dm_find = 1;
2150386   +         end;
MPRINT(EM_DIAGRAM):   end;
2150387   +         else do;
MPRINT(EM_DIAGRAM):   else do;
2150388   +            if _dm8 = 'MARRIED'  then do;
MPRINT(EM_DIAGRAM):   if _dm8 = 'MARRIED' then do;
2150389   +               Marital_StatusMarried = 1;
MPRINT(EM_DIAGRAM):   Marital_StatusMarried = 1;
2150390   +               _dm_find = 1;
MPRINT(EM_DIAGRAM):   _dm_find = 1;
2150391   +            end;
MPRINT(EM_DIAGRAM):   end;
2150392   +         end;
MPRINT(EM_DIAGRAM):   end;
2150393   +      end;
MPRINT(EM_DIAGRAM):   end;
2150394   +      else do;
MPRINT(EM_DIAGRAM):   else do;
2150395   +         if _dm8 = 'SINGLE'  then do;
MPRINT(EM_DIAGRAM):   if _dm8 = 'SINGLE' then do;
2150396   +            Marital_StatusSingle = 1;
MPRINT(EM_DIAGRAM):   Marital_StatusSingle = 1;
2150397   +            _dm_find = 1;
MPRINT(EM_DIAGRAM):   _dm_find = 1;
2150398   +         end;
MPRINT(EM_DIAGRAM):   end;
2150399   +      end;
MPRINT(EM_DIAGRAM):   end;
2150400   +   end;
MPRINT(EM_DIAGRAM):   end;
2150401   +   else do;
MPRINT(EM_DIAGRAM):   else do;
2150402   +      if _dm8 = 'TOGETHER'  then do;
MPRINT(EM_DIAGRAM):   if _dm8 = 'TOGETHER' then do;
2150403   +         Marital_StatusTogether = 1;
MPRINT(EM_DIAGRAM):   Marital_StatusTogether = 1;
2150404   +         _dm_find = 1;
MPRINT(EM_DIAGRAM):   _dm_find = 1;
2150405   +      end;
MPRINT(EM_DIAGRAM):   end;
2150406   +      else do;
MPRINT(EM_DIAGRAM):   else do;
2150407   +         if _dm8 = 'WIDOW'  then do;
MPRINT(EM_DIAGRAM):   if _dm8 = 'WIDOW' then do;
2150408   +            Marital_StatusDivorced = -1;
MPRINT(EM_DIAGRAM):   Marital_StatusDivorced = -1;
2150409   +            Marital_StatusMarried = -1;
MPRINT(EM_DIAGRAM):   Marital_StatusMarried = -1;
2150410   +            Marital_StatusSingle = -1;
MPRINT(EM_DIAGRAM):   Marital_StatusSingle = -1;
2150411   +            Marital_StatusTogether = -1;
MPRINT(EM_DIAGRAM):   Marital_StatusTogether = -1;
2150412   +            _dm_find = 1;
MPRINT(EM_DIAGRAM):   _dm_find = 1;
2150413   +         end;
MPRINT(EM_DIAGRAM):   end;
2150414   +      end;
MPRINT(EM_DIAGRAM):   end;
2150415   +   end;
MPRINT(EM_DIAGRAM):   end;
2150416   +   if not _dm_find then do;
MPRINT(EM_DIAGRAM):   if not _dm_find then do;
2150417   +      Marital_StatusDivorced = .;
MPRINT(EM_DIAGRAM):   Marital_StatusDivorced = .;
2150418   +      Marital_StatusMarried = .;
MPRINT(EM_DIAGRAM):   Marital_StatusMarried = .;
2150419   +      Marital_StatusSingle = .;
MPRINT(EM_DIAGRAM):   Marital_StatusSingle = .;
2150420   +      Marital_StatusTogether = .;
MPRINT(EM_DIAGRAM):   Marital_StatusTogether = .;
2150421   +      substr(_warn_,2,1) = 'U';
MPRINT(EM_DIAGRAM):   substr(_warn_,2,1) = 'U';
2150422   +      _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2150423   +   end;
MPRINT(EM_DIAGRAM):   end;
2150424   +end;
MPRINT(EM_DIAGRAM):   end;
2150425   +
2150426   +*** *************************;
MPRINT(EM_DIAGRAM):   *** *************************;
2150427   +*** Checking missing input Interval
2150428   +*** *************************;
MPRINT(EM_DIAGRAM):   *** Checking missing input Interval *** *************************;
2150429   +
2150430   +IF NMISS(
2150431   +   AcceptedCmpTotal ,
2150432   +   Age ,
2150433   +   Frq ,
2150434   +   Income ,
2150435   +   Kidhome ,
2150436   +   MntFishProducts ,
2150437   +   MntFruits ,
2150438   +   MntGoldProds ,
2150439   +   MntSweetProducts ,
2150440   +   MonthsAsCustomer ,
2150441   +   NumDealsPurchases ,
2150442   +   NumWebVisitsMonth ,
2150443   +   RFMstat ,
2150444   +   RMntFrq ,
2150445   +   Recency ,
2150446   +   Teenhome   ) THEN DO;
MPRINT(EM_DIAGRAM):   IF NMISS( AcceptedCmpTotal , Age , Frq , Income , Kidhome , 
MntFishProducts , MntFruits , MntGoldProds , MntSweetProducts , MonthsAsCustomer , 
NumDealsPurchases , NumWebVisitsMonth , RFMstat , RMntFrq , Recency , Teenhome ) THEN DO;
2150447   +   SUBSTR(_WARN_, 1, 1) = 'M';
MPRINT(EM_DIAGRAM):   SUBSTR(_WARN_, 1, 1) = 'M';
2150448   +
2150449   +   _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
2150450   +END;
MPRINT(EM_DIAGRAM):   END;
2150451   +*** *************************;
MPRINT(EM_DIAGRAM):   *** *************************;
2150452   +*** Writing the Node intvl ;
MPRINT(EM_DIAGRAM):   *** Writing the Node intvl ;
2150453   +*** *************************;
MPRINT(EM_DIAGRAM):   *** *************************;
2150454   +IF _DM_BAD EQ 0 THEN DO;
MPRINT(EM_DIAGRAM):   IF _DM_BAD EQ 0 THEN DO;
2150455   +   S_AcceptedCmpTotal  =    -0.46762909508827 +      1.4961610131261 *
2150456   +        AcceptedCmpTotal ;
MPRINT(EM_DIAGRAM):   S_AcceptedCmpTotal = -0.46762909508827 + 1.4961610131261 * 
AcceptedCmpTotal ;
2150457   +   S_Age  =    -3.91319138389466 +     0.08289609202857 * Age ;
MPRINT(EM_DIAGRAM):   S_Age = -3.91319138389466 + 0.08289609202857 * Age ;
2150458   +   S_Frq  =     -1.7674482809159 +     0.13966853800993 * Frq ;
MPRINT(EM_DIAGRAM):   S_Frq = -1.7674482809159 + 0.13966853800993 * Frq ;
2150459   +   S_Income  =    -2.48883438787018 +     0.00004789669836 * Income ;
MPRINT(EM_DIAGRAM):   S_Income = -2.48883438787018 + 0.00004789669836 * Income ;
2150460   +   S_Kidhome  =    -0.81505958668041 +     1.87132636245581 * Kidhome ;
MPRINT(EM_DIAGRAM):   S_Kidhome = -0.81505958668041 + 1.87132636245581 * Kidhome ;
2150461   +   S_MntFishProducts  =    -0.69884925989448 +     0.01914942799914 *
2150462   +        MntFishProducts ;
MPRINT(EM_DIAGRAM):   S_MntFishProducts = -0.69884925989448 + 0.01914942799914 * 
MntFishProducts ;
2150463   +   S_MntFruits  =    -0.68347542544545 +     0.02517057319714 * MntFruits ;
MPRINT(EM_DIAGRAM):   S_MntFruits = -0.68347542544545 + 0.02517057319714 * MntFruits ;
2150464   +   S_MntGoldProds  =     -0.8611213764608 +     0.01954474499711 *
2150465   +        MntGoldProds ;
MPRINT(EM_DIAGRAM):   S_MntGoldProds = -0.8611213764608 + 0.01954474499711 * MntGoldProds ;
2150466   +   S_MntSweetProducts  =    -0.69020047720885 +     0.02548703406327 *
2150467   +        MntSweetProducts ;
MPRINT(EM_DIAGRAM):   S_MntSweetProducts = -0.69020047720885 + 0.02548703406327 * 
MntSweetProducts ;
2150468   +   S_MonthsAsCustomer  =    -4.93133031507839 +     0.05900664899872 *
2150469   +        MonthsAsCustomer ;
MPRINT(EM_DIAGRAM):   S_MonthsAsCustomer = -4.93133031507839 + 0.05900664899872 * 
MonthsAsCustomer ;
2150470   +   S_NumDealsPurchases  =    -1.34788949552081 +     0.59766336614987 *
2150471   +        NumDealsPurchases ;
MPRINT(EM_DIAGRAM):   S_NumDealsPurchases = -1.34788949552081 + 0.59766336614987 * 
NumDealsPurchases ;
2150472   +   S_NumWebVisitsMonth  =    -2.24769875596018 +     0.42876953368015 *
2150473   +        NumWebVisitsMonth ;
MPRINT(EM_DIAGRAM):   S_NumWebVisitsMonth = -2.24769875596018 + 0.42876953368015 * 
NumWebVisitsMonth ;
2150474   +   S_RFMstat  =    -0.33944380186973 +     0.00063877635032 * RFMstat ;
MPRINT(EM_DIAGRAM):   S_RFMstat = -0.33944380186973 + 0.00063877635032 * RFMstat ;
2150475   +   S_RMntFrq  =    -1.25743573075922 +     0.03326204244626 * RMntFrq ;
MPRINT(EM_DIAGRAM):   S_RMntFrq = -1.25743573075922 + 0.03326204244626 * RMntFrq ;
2150476   +   S_Recency  =    -1.69222845719633 +     0.03469514083585 * Recency ;
MPRINT(EM_DIAGRAM):   S_Recency = -1.69222845719633 + 0.03469514083585 * Recency ;
2150477   +   S_Teenhome  =    -0.88382230606631 +     1.81661831567223 * Teenhome ;
MPRINT(EM_DIAGRAM):   S_Teenhome = -0.88382230606631 + 1.81661831567223 * Teenhome ;
2150478   +END;
MPRINT(EM_DIAGRAM):   END;
2150479   +ELSE DO;
MPRINT(EM_DIAGRAM):   ELSE DO;
2150480   +   IF MISSING( AcceptedCmpTotal ) THEN S_AcceptedCmpTotal  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( AcceptedCmpTotal ) THEN S_AcceptedCmpTotal = . ;
2150481   +   ELSE S_AcceptedCmpTotal  =    -0.46762909508827 +      1.4961610131261 *
2150482   +        AcceptedCmpTotal ;
MPRINT(EM_DIAGRAM):   ELSE S_AcceptedCmpTotal = -0.46762909508827 + 1.4961610131261 * 
AcceptedCmpTotal ;
2150483   +   IF MISSING( Age ) THEN S_Age  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( Age ) THEN S_Age = . ;
2150484   +   ELSE S_Age  =    -3.91319138389466 +     0.08289609202857 * Age ;
MPRINT(EM_DIAGRAM):   ELSE S_Age = -3.91319138389466 + 0.08289609202857 * Age ;
2150485   +   IF MISSING( Frq ) THEN S_Frq  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( Frq ) THEN S_Frq = . ;
2150486   +   ELSE S_Frq  =     -1.7674482809159 +     0.13966853800993 * Frq ;
MPRINT(EM_DIAGRAM):   ELSE S_Frq = -1.7674482809159 + 0.13966853800993 * Frq ;
2150487   +   IF MISSING( Income ) THEN S_Income  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( Income ) THEN S_Income = . ;
2150488   +   ELSE S_Income  =    -2.48883438787018 +     0.00004789669836 * Income ;
MPRINT(EM_DIAGRAM):   ELSE S_Income = -2.48883438787018 + 0.00004789669836 * Income ;
2150489   +   IF MISSING( Kidhome ) THEN S_Kidhome  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( Kidhome ) THEN S_Kidhome = . ;
2150490   +   ELSE S_Kidhome  =    -0.81505958668041 +     1.87132636245581 * Kidhome ;
MPRINT(EM_DIAGRAM):   ELSE S_Kidhome = -0.81505958668041 + 1.87132636245581 * Kidhome ;
2150491   +   IF MISSING( MntFishProducts ) THEN S_MntFishProducts  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( MntFishProducts ) THEN S_MntFishProducts = . ;
2150492   +   ELSE S_MntFishProducts  =    -0.69884925989448 +     0.01914942799914 *
2150493   +        MntFishProducts ;
MPRINT(EM_DIAGRAM):   ELSE S_MntFishProducts = -0.69884925989448 + 0.01914942799914 * 
MntFishProducts ;
2150494   +   IF MISSING( MntFruits ) THEN S_MntFruits  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( MntFruits ) THEN S_MntFruits = . ;
2150495   +   ELSE S_MntFruits  =    -0.68347542544545 +     0.02517057319714 * MntFruits
2150496   +         ;
MPRINT(EM_DIAGRAM):   ELSE S_MntFruits = -0.68347542544545 + 0.02517057319714 * MntFruits ;
2150497   +   IF MISSING( MntGoldProds ) THEN S_MntGoldProds  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( MntGoldProds ) THEN S_MntGoldProds = . ;
2150498   +   ELSE S_MntGoldProds  =     -0.8611213764608 +     0.01954474499711 *
2150499   +        MntGoldProds ;
MPRINT(EM_DIAGRAM):   ELSE S_MntGoldProds = -0.8611213764608 + 0.01954474499711 * MntGoldProds 
;
2150500   +   IF MISSING( MntSweetProducts ) THEN S_MntSweetProducts  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( MntSweetProducts ) THEN S_MntSweetProducts = . ;
2150501   +   ELSE S_MntSweetProducts  =    -0.69020047720885 +     0.02548703406327 *
2150502   +        MntSweetProducts ;
MPRINT(EM_DIAGRAM):   ELSE S_MntSweetProducts = -0.69020047720885 + 0.02548703406327 * 
MntSweetProducts ;
2150503   +   IF MISSING( MonthsAsCustomer ) THEN S_MonthsAsCustomer  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( MonthsAsCustomer ) THEN S_MonthsAsCustomer = . ;
2150504   +   ELSE S_MonthsAsCustomer  =    -4.93133031507839 +     0.05900664899872 *
2150505   +        MonthsAsCustomer ;
MPRINT(EM_DIAGRAM):   ELSE S_MonthsAsCustomer = -4.93133031507839 + 0.05900664899872 * 
MonthsAsCustomer ;
2150506   +   IF MISSING( NumDealsPurchases ) THEN S_NumDealsPurchases  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( NumDealsPurchases ) THEN S_NumDealsPurchases = . ;
2150507   +   ELSE S_NumDealsPurchases  =    -1.34788949552081 +     0.59766336614987 *
2150508   +        NumDealsPurchases ;
MPRINT(EM_DIAGRAM):   ELSE S_NumDealsPurchases = -1.34788949552081 + 0.59766336614987 * 
NumDealsPurchases ;
2150509   +   IF MISSING( NumWebVisitsMonth ) THEN S_NumWebVisitsMonth  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( NumWebVisitsMonth ) THEN S_NumWebVisitsMonth = . ;
2150510   +   ELSE S_NumWebVisitsMonth  =    -2.24769875596018 +     0.42876953368015 *
2150511   +        NumWebVisitsMonth ;
MPRINT(EM_DIAGRAM):   ELSE S_NumWebVisitsMonth = -2.24769875596018 + 0.42876953368015 * 
NumWebVisitsMonth ;
2150512   +   IF MISSING( RFMstat ) THEN S_RFMstat  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( RFMstat ) THEN S_RFMstat = . ;
2150513   +   ELSE S_RFMstat  =    -0.33944380186973 +     0.00063877635032 * RFMstat ;
MPRINT(EM_DIAGRAM):   ELSE S_RFMstat = -0.33944380186973 + 0.00063877635032 * RFMstat ;
2150514   +   IF MISSING( RMntFrq ) THEN S_RMntFrq  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( RMntFrq ) THEN S_RMntFrq = . ;
2150515   +   ELSE S_RMntFrq  =    -1.25743573075922 +     0.03326204244626 * RMntFrq ;
MPRINT(EM_DIAGRAM):   ELSE S_RMntFrq = -1.25743573075922 + 0.03326204244626 * RMntFrq ;
2150516   +   IF MISSING( Recency ) THEN S_Recency  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( Recency ) THEN S_Recency = . ;
2150517   +   ELSE S_Recency  =    -1.69222845719633 +     0.03469514083585 * Recency ;
MPRINT(EM_DIAGRAM):   ELSE S_Recency = -1.69222845719633 + 0.03469514083585 * Recency ;
2150518   +   IF MISSING( Teenhome ) THEN S_Teenhome  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( Teenhome ) THEN S_Teenhome = . ;
2150519   +   ELSE S_Teenhome  =    -0.88382230606631 +     1.81661831567223 * Teenhome ;
MPRINT(EM_DIAGRAM):   ELSE S_Teenhome = -0.88382230606631 + 1.81661831567223 * Teenhome ;
2150520   +END;
MPRINT(EM_DIAGRAM):   END;
2150521   +*** *************************;
MPRINT(EM_DIAGRAM):   *** *************************;
2150522   +*** Writing the Node bin ;
MPRINT(EM_DIAGRAM):   *** Writing the Node bin ;
2150523   +*** *************************;
MPRINT(EM_DIAGRAM):   *** *************************;
2150524   +*** *************************;
MPRINT(EM_DIAGRAM):   *** *************************;
2150525   +*** Writing the Node nom ;
MPRINT(EM_DIAGRAM):   *** Writing the Node nom ;
2150526   +*** *************************;
MPRINT(EM_DIAGRAM):   *** *************************;
2150527   +*** *************************;
MPRINT(EM_DIAGRAM):   *** *************************;
2150528   +*** Writing the Node H1 ;
MPRINT(EM_DIAGRAM):   *** Writing the Node H1 ;
2150529   +*** *************************;
MPRINT(EM_DIAGRAM):   *** *************************;
2150530   +IF _DM_BAD EQ 0 THEN DO;
MPRINT(EM_DIAGRAM):   IF _DM_BAD EQ 0 THEN DO;
2150531   +   H11  =     0.02261339399069 * S_AcceptedCmpTotal  +     0.03186549902314 *
2150532   +        S_Age  +    -0.05804162317917 * S_Frq  +    -0.43761913801791 *
2150533   +        S_Income  +     0.20393856454107 * S_Kidhome
2150534   +          +    -0.00032759903219 * S_MntFishProducts
2150535   +          +     0.04902268570479 * S_MntFruits  +     0.00634390567032 *
2150536   +        S_MntGoldProds  +     0.05500468374296 * S_MntSweetProducts
2150537   +          +    -0.04015276399544 * S_MonthsAsCustomer
2150538   +          +     -0.0951069571765 * S_NumDealsPurchases
2150539   +          +    -0.14678852097139 * S_NumWebVisitsMonth
2150540   +          +    -0.01894186338724 * S_RFMstat  +    -0.07457519268665 *
2150541   +        S_RMntFrq  +     0.42628576603933 * S_Recency
2150542   +          +     0.30856724112819 * S_Teenhome ;
MPRINT(EM_DIAGRAM):   H11 = 0.02261339399069 * S_AcceptedCmpTotal + 0.03186549902314 * S_Age + 
-0.05804162317917 * S_Frq + -0.43761913801791 * S_Income + 0.20393856454107 * S_Kidhome + 
-0.00032759903219 * S_MntFishProducts + 0.04902268570479 * S_MntFruits + 0.00634390567032 * 
S_MntGoldProds + 0.05500468374296 * S_MntSweetProducts + -0.04015276399544 * 
S_MonthsAsCustomer + -0.0951069571765 * S_NumDealsPurchases + -0.14678852097139 * 
S_NumWebVisitsMonth + -0.01894186338724 * S_RFMstat + -0.07457519268665 * S_RMntFrq + 
0.42628576603933 * S_Recency + 0.30856724112819 * S_Teenhome ;
2150543   +   H12  =    -0.16555869359198 * S_AcceptedCmpTotal  +     0.11411959291313 *
2150544   +        S_Age  +     1.43744532392094 * S_Frq  +       0.577641001604 *
2150545   +        S_Income  +    -0.30829238187054 * S_Kidhome
2150546   +          +     -0.2355444654527 * S_MntFishProducts
2150547   +          +     0.04031406081899 * S_MntFruits  +    -0.19943160459571 *
2150548   +        S_MntGoldProds  +    -0.08217819696537 * S_MntSweetProducts
2150549   +          +     0.09996574741139 * S_MonthsAsCustomer
2150550   +          +    -0.68812499253266 * S_NumDealsPurchases
2150551   +          +     -0.5730096217964 * S_NumWebVisitsMonth
2150552   +          +    -0.22996193814967 * S_RFMstat  +    -0.28291148887201 *
2150553   +        S_RMntFrq  +     0.66451982595521 * S_Recency
2150554   +          +    -0.26095225857643 * S_Teenhome ;
MPRINT(EM_DIAGRAM):   H12 = -0.16555869359198 * S_AcceptedCmpTotal + 0.11411959291313 * S_Age 
+ 1.43744532392094 * S_Frq + 0.577641001604 * S_Income + -0.30829238187054 * S_Kidhome + 
-0.2355444654527 * S_MntFishProducts + 0.04031406081899 * S_MntFruits + -0.19943160459571 * 
S_MntGoldProds + -0.08217819696537 * S_MntSweetProducts + 0.09996574741139 * 
S_MonthsAsCustomer + -0.68812499253266 * S_NumDealsPurchases + -0.5730096217964 * 
S_NumWebVisitsMonth + -0.22996193814967 * S_RFMstat + -0.28291148887201 * S_RMntFrq + 
0.66451982595521 * S_Recency + -0.26095225857643 * S_Teenhome ;
2150555   +   H11  = H11  +     0.19600780890638 * AcceptedCmp10
2150556   +          +     0.18451163813605 * AcceptedCmp20  +     0.23931744315092 *
2150557   +        AcceptedCmp30  +     0.16900886522062 * AcceptedCmp40
2150558   +          +     0.15799420378967 * AcceptedCmp50  +     -0.0633279609551 *
2150559   +        Complain0  +    -0.01950431346341 * HigherEducationBinary0 ;
MPRINT(EM_DIAGRAM):   H11 = H11 + 0.19600780890638 * AcceptedCmp10 + 0.18451163813605 * 
AcceptedCmp20 + 0.23931744315092 * AcceptedCmp30 + 0.16900886522062 * AcceptedCmp40 + 
0.15799420378967 * AcceptedCmp50 + -0.0633279609551 * Complain0 + -0.01950431346341 * 
HigherEducationBinary0 ;
2150560   +   H12  = H12  +     0.45490519791012 * AcceptedCmp10
2150561   +          +     0.36062830380202 * AcceptedCmp20  +     0.53186742505951 *
2150562   +        AcceptedCmp30  +    -0.03871449291458 * AcceptedCmp40
2150563   +          +     0.16590307431257 * AcceptedCmp50  +     -0.2629729400837 *
2150564   +        Complain0  +     0.36737823761565 * HigherEducationBinary0 ;
MPRINT(EM_DIAGRAM):   H12 = H12 + 0.45490519791012 * AcceptedCmp10 + 0.36062830380202 * 
AcceptedCmp20 + 0.53186742505951 * AcceptedCmp30 + -0.03871449291458 * AcceptedCmp40 + 
0.16590307431257 * AcceptedCmp50 + -0.2629729400837 * Complain0 + 0.36737823761565 * 
HigherEducationBinary0 ;
2150565   +   H11  = H11  +    -0.05532067616337 * Education2n_Cycle
2150566   +          +     -0.1426249770348 * EducationBasic  +     -0.0144259119049 *
2150567   +        EducationGraduation  +     0.16577178002709 * EducationMaster
2150568   +          +     -0.1021790439873 * Marital_StatusDivorced
2150569   +          +     0.28711854746077 * Marital_StatusMarried
2150570   +          +    -0.22559580642457 * Marital_StatusSingle
2150571   +          +     0.24664814856098 * Marital_StatusTogether ;
MPRINT(EM_DIAGRAM):   H11 = H11 + -0.05532067616337 * Education2n_Cycle + -0.1426249770348 * 
EducationBasic + -0.0144259119049 * EducationGraduation + 0.16577178002709 * EducationMaster + 
-0.1021790439873 * Marital_StatusDivorced + 0.28711854746077 * Marital_StatusMarried + 
-0.22559580642457 * Marital_StatusSingle + 0.24664814856098 * Marital_StatusTogether ;
2150572   +   H12  = H12  +    -0.16343956499534 * Education2n_Cycle
2150573   +          +     0.09288342001131 * EducationBasic  +     0.01404728552212 *
2150574   +        EducationGraduation  +    -0.18160653360243 * EducationMaster
2150575   +          +    -0.14836623629414 * Marital_StatusDivorced
2150576   +          +    -0.31854796239399 * Marital_StatusMarried
2150577   +          +     0.41995919995517 * Marital_StatusSingle
2150578   +          +    -0.26131281894481 * Marital_StatusTogether ;
MPRINT(EM_DIAGRAM):   H12 = H12 + -0.16343956499534 * Education2n_Cycle + 0.09288342001131 * 
EducationBasic + 0.01404728552212 * EducationGraduation + -0.18160653360243 * EducationMaster 
+ -0.14836623629414 * Marital_StatusDivorced + -0.31854796239399 * Marital_StatusMarried + 
0.41995919995517 * Marital_StatusSingle + -0.26131281894481 * Marital_StatusTogether ;
2150579   +   H11  =    -0.01774261565349 + H11 ;
MPRINT(EM_DIAGRAM):   H11 = -0.01774261565349 + H11 ;
2150580   +   H12  =     1.49329601776343 + H12 ;
MPRINT(EM_DIAGRAM):   H12 = 1.49329601776343 + H12 ;
2150581   +   H11  = TANH(H11 );
MPRINT(EM_DIAGRAM):   H11 = TANH(H11 );
2150582   +   H12  = TANH(H12 );
MPRINT(EM_DIAGRAM):   H12 = TANH(H12 );
2150583   +END;
MPRINT(EM_DIAGRAM):   END;
2150584   +ELSE DO;
MPRINT(EM_DIAGRAM):   ELSE DO;
2150585   +   H11  = .;
MPRINT(EM_DIAGRAM):   H11 = .;
2150586   +   H12  = .;
MPRINT(EM_DIAGRAM):   H12 = .;
2150587   +END;
MPRINT(EM_DIAGRAM):   END;
2150588   +*** *************************;
MPRINT(EM_DIAGRAM):   *** *************************;
2150589   +*** Writing the Node DepVar ;
MPRINT(EM_DIAGRAM):   *** Writing the Node DepVar ;
2150590   +*** *************************;
MPRINT(EM_DIAGRAM):   *** *************************;
2150591   +IF _DM_BAD EQ 0 THEN DO;
MPRINT(EM_DIAGRAM):   IF _DM_BAD EQ 0 THEN DO;
2150592   +   P_DepVar1  =    -5.42994812440062 * H11  +    -3.10472514460831 * H12 ;
MPRINT(EM_DIAGRAM):   P_DepVar1 = -5.42994812440062 * H11 + -3.10472514460831 * H12 ;
2150593   +   P_DepVar1  =     1.12764046071215 + P_DepVar1 ;
MPRINT(EM_DIAGRAM):   P_DepVar1 = 1.12764046071215 + P_DepVar1 ;
2150594   +   P_DepVar0  = 0;
MPRINT(EM_DIAGRAM):   P_DepVar0 = 0;
2150595   +   _MAX_ = MAX (P_DepVar1 , P_DepVar0 );
MPRINT(EM_DIAGRAM):   _MAX_ = MAX (P_DepVar1 , P_DepVar0 );
2150596   +   _SUM_ = 0.;
MPRINT(EM_DIAGRAM):   _SUM_ = 0.;
2150597   +   P_DepVar1  = EXP(P_DepVar1  - _MAX_);
MPRINT(EM_DIAGRAM):   P_DepVar1 = EXP(P_DepVar1 - _MAX_);
2150598   +   _SUM_ = _SUM_ + P_DepVar1 ;
MPRINT(EM_DIAGRAM):   _SUM_ = _SUM_ + P_DepVar1 ;
2150599   +   P_DepVar0  = EXP(P_DepVar0  - _MAX_);
MPRINT(EM_DIAGRAM):   P_DepVar0 = EXP(P_DepVar0 - _MAX_);
2150600   +   _SUM_ = _SUM_ + P_DepVar0 ;
MPRINT(EM_DIAGRAM):   _SUM_ = _SUM_ + P_DepVar0 ;
2150601   +   P_DepVar1  = P_DepVar1  / _SUM_;
MPRINT(EM_DIAGRAM):   P_DepVar1 = P_DepVar1 / _SUM_;
2150602   +   P_DepVar0  = P_DepVar0  / _SUM_;
MPRINT(EM_DIAGRAM):   P_DepVar0 = P_DepVar0 / _SUM_;
2150603   +END;
MPRINT(EM_DIAGRAM):   END;
2150604   +ELSE DO;
MPRINT(EM_DIAGRAM):   ELSE DO;
2150605   +   P_DepVar1  = .;
MPRINT(EM_DIAGRAM):   P_DepVar1 = .;
2150606   +   P_DepVar0  = .;
MPRINT(EM_DIAGRAM):   P_DepVar0 = .;
2150607   +END;
MPRINT(EM_DIAGRAM):   END;
2150608   +IF _DM_BAD EQ 1 THEN DO;
MPRINT(EM_DIAGRAM):   IF _DM_BAD EQ 1 THEN DO;
2150609   +   P_DepVar1  =     0.15122156697556;
MPRINT(EM_DIAGRAM):   P_DepVar1 = 0.15122156697556;
2150610   +   P_DepVar0  =     0.84877843302443;
MPRINT(EM_DIAGRAM):   P_DepVar0 = 0.84877843302443;
2150611   +END;
MPRINT(EM_DIAGRAM):   END;
2150612   +*** *************************;
MPRINT(EM_DIAGRAM):   *** *************************;
2150613   +*** Writing the I_DepVar  AND U_DepVar ;
MPRINT(EM_DIAGRAM):   *** Writing the I_DepVar AND U_DepVar ;
2150614   +*** *************************;
MPRINT(EM_DIAGRAM):   *** *************************;
2150615   +_MAXP_ = P_DepVar1 ;
MPRINT(EM_DIAGRAM):   _MAXP_ = P_DepVar1 ;
2150616   +I_DepVar  = "1           " ;
MPRINT(EM_DIAGRAM):   I_DepVar = "1           " ;
2150617   +U_DepVar  =                    1;
MPRINT(EM_DIAGRAM):   U_DepVar = 1;
2150618   +IF( _MAXP_ LT P_DepVar0  ) THEN DO;
MPRINT(EM_DIAGRAM):   IF( _MAXP_ LT P_DepVar0 ) THEN DO;
2150619   +   _MAXP_ = P_DepVar0 ;
MPRINT(EM_DIAGRAM):   _MAXP_ = P_DepVar0 ;
2150620   +   I_DepVar  = "0           " ;
MPRINT(EM_DIAGRAM):   I_DepVar = "0           " ;
2150621   +   U_DepVar  =                    0;
MPRINT(EM_DIAGRAM):   U_DepVar = 0;
2150622   +END;
MPRINT(EM_DIAGRAM):   END;
2150623   +********************************;
MPRINT(EM_DIAGRAM):   ********************************;
2150624   +*** End Scoring Code for Neural;
MPRINT(EM_DIAGRAM):   *** End Scoring Code for Neural;
2150625   +********************************;
MPRINT(EM_DIAGRAM):   ********************************;
2150626   +drop
2150627   +H11
2150628   +H12
2150629   +;
MPRINT(EM_DIAGRAM):   drop H11 H12 ;
2150630   +drop S_:;
MPRINT(EM_DIAGRAM):   drop S_:;
NOTE: %INCLUDE (level 1) ending.
MPRINT(EM_DIAGRAM):   run;
2150631    run;

NOTE: Dependency structure written to data set _TEMP.
NOTE: PROCEDURE FCMP used (Total process time):
      real time           0.02 seconds
      cpu time            0.01 seconds
      

MPRINT(EM_DIAGRAM):   quit;
2150632    quit;
2150633    filename _pref;
MPRINT(EM_DIAGRAM):   filename _pref;
NOTE: Fileref _PREF has been deassigned.
2150634    data _temp(rename=(RHS=NAME));
MPRINT(EM_DIAGRAM):   data _temp(rename=(RHS=NAME));
2150635    length Node $32;
MPRINT(EM_DIAGRAM):   length Node $32;
2150636    retain ID 2 Node "Neural37";
MPRINT(EM_DIAGRAM):   retain ID 2 Node "Neural37";
2150637    set _temp;
MPRINT(EM_DIAGRAM):   set _temp;
2150638    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 1599 observations read from the data set WORK._TEMP.
NOTE: The data set WORK._TEMP has 1599 observations and 14 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

2150639    proc sort data=_temp;
MPRINT(EM_DIAGRAM):   proc sort data=_temp;
2150640    by NAME;
MPRINT(EM_DIAGRAM):   by NAME;
2150641    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 1599 observations read from the data set WORK._TEMP.
NOTE: The data set WORK._TEMP has 1599 observations and 14 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

2150642    proc sort data=EMWS8.Neural37_variableset out=_temp2(keep=NAME CREATOR);
MPRINT(EM_DIAGRAM):   proc sort data=EMWS8.Neural37_variableset out=_temp2(keep=NAME CREATOR);
2150643    by NAME;
MPRINT(EM_DIAGRAM):   by NAME;
2150644    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 34 observations read from the data set EMWS8.NEURAL37_VARIABLESET.
NOTE: The data set WORK._TEMP2 has 34 observations and 2 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

2150645    data _temp2;
MPRINT(EM_DIAGRAM):   data _temp2;
2150646    length CREATOR $32;
MPRINT(EM_DIAGRAM):   length CREATOR $32;
2150647    set _temp2;
MPRINT(EM_DIAGRAM):   set _temp2;
2150648    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 34 observations read from the data set WORK._TEMP2.
NOTE: The data set WORK._TEMP2 has 34 observations and 2 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

2150649    proc contents data=EMWS8.Neural37_train out=_meta(keep=NAME) noprint;
MPRINT(EM_DIAGRAM):   proc contents data=EMWS8.Neural37_train out=_meta(keep=NAME) noprint;
2150650    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: The data set WORK._META has 53 observations and 1 variables.
NOTE: PROCEDURE CONTENTS used (Total process time):
      real time           0.02 seconds
      cpu time            0.03 seconds
      

2150651    proc sort data=_meta;
MPRINT(EM_DIAGRAM):   proc sort data=_meta;
2150652    by NAME;
MPRINT(EM_DIAGRAM):   by NAME;
2150653    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 53 observations read from the data set WORK._META.
NOTE: The data set WORK._META has 53 observations and 1 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

2150654    data _temp2;
MPRINT(EM_DIAGRAM):   data _temp2;
2150655    merge _meta _temp2;
MPRINT(EM_DIAGRAM):   merge _meta _temp2;
2150656    by NAME;
MPRINT(EM_DIAGRAM):   by NAME;
2150657    run;
MPRINT(EM_DIAGRAM):   run;

WARNING: Multiple lengths were specified for the BY variable NAME by input data sets. This may 
         cause unexpected results.
NOTE: There were 53 observations read from the data set WORK._META.
NOTE: There were 34 observations read from the data set WORK._TEMP2.
NOTE: The data set WORK._TEMP2 has 53 observations and 2 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

2150658    proc sql;
MPRINT(EM_DIAGRAM):   proc sql;
2150659    create table _tempx as select p.node, p.lhs, p.id , p2.name, p2.CREATOR from
2150659  ! work._temp p, work._temp2 p2 where upcase(p.NAME)=upcase(p2.NAME);
MPRINT(EM_DIAGRAM):   create table _tempx as select p.node, p.lhs, p.id , p2.name, p2.CREATOR 
from work._temp p, work._temp2 p2 where upcase(p.NAME)=upcase(p2.NAME);
NOTE: Table WORK._TEMPX created, with 887 rows and 5 columns.

2150660    quit;
MPRINT(EM_DIAGRAM):   quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

2150661    proc append base=EMWS8.Ensmbl23_FCMP data=_tempx;
MPRINT(EM_DIAGRAM):   proc append base=EMWS8.Ensmbl23_FCMP data=_tempx;
2150662    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: Appending WORK._TEMPX to EMWS8.ENSMBL23_FCMP.
NOTE: BASE data set does not exist. DATA file is being copied to BASE file.
NOTE: There were 887 observations read from the data set WORK._TEMPX.
NOTE: The data set EMWS8.ENSMBL23_FCMP has 887 observations and 5 variables.
NOTE: PROCEDURE APPEND used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

2150663    filename _pref
2150663  ! "C:\\predictive-models-project\Workspaces\EMWS8\Trans\EMPUBLISHSCORE.sas";
MPRINT(EM_DIAGRAM):    filename _pref 
"C:\\predictive-models-project\Workspaces\EMWS8\Trans\EMPUBLISHSCORE.sas";
2150664    proc FCMP NOEXECUTE IMPUTEDDEPS OUTDEPS=_temp;
MPRINT(EM_DIAGRAM):   proc FCMP NOEXECUTE IMPUTEDDEPS OUTDEPS=_temp;
2150665    %INCLUDE _pref;
NOTE: %INCLUDE (level 1) file _PREF is file 
      C:\\predictive-models-project\Workspaces\EMWS8\Trans\EMPUBLISHSCORE.sas.
2150666   +*------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
2150667   +* Formula Code;
MPRINT(EM_DIAGRAM):   * Formula Code;
2150668   +*------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
2150669   +MonthsAsCustomer =int((today()-Dt_Customer)/12) ;
MPRINT(EM_DIAGRAM):   MonthsAsCustomer =int((today()-Dt_Customer)/12) ;
2150670   +HigherEducationBinary =HigherEducation ;
MPRINT(EM_DIAGRAM):   HigherEducationBinary =HigherEducation ;
2150671   +NumDistPurchases =NumCatalogPurchases + NumWebPurchases ;
MPRINT(EM_DIAGRAM):   NumDistPurchases =NumCatalogPurchases + NumWebPurchases ;
NOTE: %INCLUDE (level 1) ending.
MPRINT(EM_DIAGRAM):   run;
2150672    run;

NOTE: Dependency structure written to data set _TEMP.
NOTE: PROCEDURE FCMP used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

MPRINT(EM_DIAGRAM):   quit;
2150673    quit;
2150674    filename _pref;
MPRINT(EM_DIAGRAM):   filename _pref;
NOTE: Fileref _PREF has been deassigned.
2150675    data _temp(rename=(RHS=NAME));
MPRINT(EM_DIAGRAM):   data _temp(rename=(RHS=NAME));
2150676    length Node $32;
MPRINT(EM_DIAGRAM):   length Node $32;
2150677    retain ID 5 Node "Trans";
MPRINT(EM_DIAGRAM):   retain ID 5 Node "Trans";
2150678    set _temp;
MPRINT(EM_DIAGRAM):   set _temp;
2150679    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 4 observations read from the data set WORK._TEMP.
NOTE: The data set WORK._TEMP has 4 observations and 14 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

2150680    proc sort data=_temp;
MPRINT(EM_DIAGRAM):   proc sort data=_temp;
2150681    by NAME;
MPRINT(EM_DIAGRAM):   by NAME;
2150682    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 4 observations read from the data set WORK._TEMP.
NOTE: The data set WORK._TEMP has 4 observations and 14 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

2150683    proc sort data=EMWS8.Trans_variableset out=_temp2(keep=NAME CREATOR);
MPRINT(EM_DIAGRAM):   proc sort data=EMWS8.Trans_variableset out=_temp2(keep=NAME CREATOR);
2150684    by NAME;
MPRINT(EM_DIAGRAM):   by NAME;
2150685    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 33 observations read from the data set EMWS8.TRANS_VARIABLESET.
NOTE: The data set WORK._TEMP2 has 33 observations and 2 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

2150686    data _temp2;
MPRINT(EM_DIAGRAM):   data _temp2;
2150687    length CREATOR $32;
MPRINT(EM_DIAGRAM):   length CREATOR $32;
2150688    set _temp2;
MPRINT(EM_DIAGRAM):   set _temp2;
2150689    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 33 observations read from the data set WORK._TEMP2.
NOTE: The data set WORK._TEMP2 has 33 observations and 2 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

2150690    proc contents data=EMWS8.Trans_train out=_meta(keep=NAME) noprint;
MPRINT(EM_DIAGRAM):   proc contents data=EMWS8.Trans_train out=_meta(keep=NAME) noprint;
2150691    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: The data set WORK._META has 44 observations and 1 variables.
NOTE: PROCEDURE CONTENTS used (Total process time):
      real time           0.02 seconds
      cpu time            0.01 seconds
      

2150692    proc sort data=_meta;
MPRINT(EM_DIAGRAM):   proc sort data=_meta;
2150693    by NAME;
MPRINT(EM_DIAGRAM):   by NAME;
2150694    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 44 observations read from the data set WORK._META.
NOTE: The data set WORK._META has 44 observations and 1 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

2150695    data _temp2;
MPRINT(EM_DIAGRAM):   data _temp2;
2150696    merge _meta _temp2;
MPRINT(EM_DIAGRAM):   merge _meta _temp2;
2150697    by NAME;
MPRINT(EM_DIAGRAM):   by NAME;
2150698    run;
MPRINT(EM_DIAGRAM):   run;

WARNING: Multiple lengths were specified for the BY variable NAME by input data sets. This may 
         cause unexpected results.
NOTE: There were 44 observations read from the data set WORK._META.
NOTE: There were 33 observations read from the data set WORK._TEMP2.
NOTE: The data set WORK._TEMP2 has 44 observations and 2 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

2150699    proc sql;
MPRINT(EM_DIAGRAM):   proc sql;
2150700    create table _tempx as select p.node, p.lhs, p.id , p2.name, p2.CREATOR from
2150700  ! work._temp p, work._temp2 p2 where upcase(p.NAME)=upcase(p2.NAME);
MPRINT(EM_DIAGRAM):   create table _tempx as select p.node, p.lhs, p.id , p2.name, p2.CREATOR 
from work._temp p, work._temp2 p2 where upcase(p.NAME)=upcase(p2.NAME);
NOTE: Table WORK._TEMPX created, with 4 rows and 5 columns.

2150701    quit;
MPRINT(EM_DIAGRAM):   quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

2150702    proc append base=EMWS8.Ensmbl23_FCMP data=_tempx;
MPRINT(EM_DIAGRAM):   proc append base=EMWS8.Ensmbl23_FCMP data=_tempx;
2150703    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: Appending WORK._TEMPX to EMWS8.ENSMBL23_FCMP.
NOTE: There were 4 observations read from the data set WORK._TEMPX.
NOTE: 4 observations added.
NOTE: The data set EMWS8.ENSMBL23_FCMP has 891 observations and 5 variables.
NOTE: PROCEDURE APPEND used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

2150704    filename _pref
2150704  ! "C:\\predictive-models-project\Workspaces\EMWS8\EMCODE4\EMPUBLISHSCORE.sas";
MPRINT(EM_DIAGRAM):    filename _pref 
"C:\\predictive-models-project\Workspaces\EMWS8\EMCODE4\EMPUBLISHSCORE.sas";
2150705    proc FCMP NOEXECUTE IMPUTEDDEPS OUTDEPS=_temp;
MPRINT(EM_DIAGRAM):   proc FCMP NOEXECUTE IMPUTEDDEPS OUTDEPS=_temp;
2150706    %INCLUDE _pref;
NOTE: %INCLUDE (level 1) file _PREF is file 
      C:\\predictive-models-project\Workspaces\EMWS8\EMCODE4\EMPUBLISHSCORE.sas.
2150707   +
2150708   +  Frq=NumStorePurchases+NumWebPurchases+NumCatalogPurchases;
MPRINT(EM_DIAGRAM):   Frq=NumStorePurchases+NumWebPurchases+NumCatalogPurchases;
2150709   +  Mnt=MntFishProducts+MntFruits+MntGoldProds+MntMeatProducts+MntSweetProducts+MntWin
2150709  !+es;
MPRINT(EM_DIAGRAM):   
Mnt=MntFishProducts+MntFruits+MntGoldProds+MntMeatProducts+MntSweetProducts+MntWines;
2150710   +  RMntFrq=Mnt/Frq;
MPRINT(EM_DIAGRAM):   RMntFrq=Mnt/Frq;
2150711   +  RFMstat=(Mnt*Frq)/(Recency+1);
MPRINT(EM_DIAGRAM):   RFMstat=(Mnt*Frq)/(Recency+1);
2150712   +  HigherEducation=1*(upcase(Education) in ("GRADUATION","MASTER","PHD"));
MPRINT(EM_DIAGRAM):   HigherEducation=1*(upcase(Education) in ("GRADUATION","MASTER","PHD"));
2150713   +  Age = year(today())-Year_Birth;
MPRINT(EM_DIAGRAM):   Age = year(today())-Year_Birth;
2150714   +  AcceptedCmpTotal=AcceptedCmp1+AcceptedCmp2+AcceptedCmp3+AcceptedCmp4+AcceptedCmp5;
MPRINT(EM_DIAGRAM):   
AcceptedCmpTotal=AcceptedCmp1+AcceptedCmp2+AcceptedCmp3+AcceptedCmp4+AcceptedCmp5;
NOTE: %INCLUDE (level 1) ending.
MPRINT(EM_DIAGRAM):   run;
2150715    run;

NOTE: Dependency structure written to data set _TEMP.
NOTE: PROCEDURE FCMP used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

MPRINT(EM_DIAGRAM):   quit;
2150716    quit;
2150717    filename _pref;
MPRINT(EM_DIAGRAM):   filename _pref;
NOTE: Fileref _PREF has been deassigned.
2150718    data _temp(rename=(RHS=NAME));
MPRINT(EM_DIAGRAM):   data _temp(rename=(RHS=NAME));
2150719    length Node $32;
MPRINT(EM_DIAGRAM):   length Node $32;
2150720    retain ID 6 Node "EMCODE4";
MPRINT(EM_DIAGRAM):   retain ID 6 Node "EMCODE4";
2150721    set _temp;
MPRINT(EM_DIAGRAM):   set _temp;
2150722    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 39 observations read from the data set WORK._TEMP.
NOTE: The data set WORK._TEMP has 39 observations and 14 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

2150723    proc sort data=_temp;
MPRINT(EM_DIAGRAM):   proc sort data=_temp;
2150724    by NAME;
MPRINT(EM_DIAGRAM):   by NAME;
2150725    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 39 observations read from the data set WORK._TEMP.
NOTE: The data set WORK._TEMP has 39 observations and 14 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

2150726    proc sort data=EMWS8.EMCODE4_variableset out=_temp2(keep=NAME CREATOR);
MPRINT(EM_DIAGRAM):   proc sort data=EMWS8.EMCODE4_variableset out=_temp2(keep=NAME CREATOR);
2150727    by NAME;
MPRINT(EM_DIAGRAM):   by NAME;
2150728    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 27 observations read from the data set EMWS8.EMCODE4_VARIABLESET.
NOTE: The data set WORK._TEMP2 has 27 observations and 2 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

2150729    data _temp2;
MPRINT(EM_DIAGRAM):   data _temp2;
2150730    length CREATOR $32;
MPRINT(EM_DIAGRAM):   length CREATOR $32;
2150731    set _temp2;
MPRINT(EM_DIAGRAM):   set _temp2;
2150732    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 27 observations read from the data set WORK._TEMP2.
NOTE: The data set WORK._TEMP2 has 27 observations and 2 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

2150733    proc contents data=EMWS8.EMCODE4_train out=_meta(keep=NAME) noprint;
MPRINT(EM_DIAGRAM):   proc contents data=EMWS8.EMCODE4_train out=_meta(keep=NAME) noprint;
2150734    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: The data set WORK._META has 41 observations and 1 variables.
NOTE: PROCEDURE CONTENTS used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

2150735    proc sort data=_meta;
MPRINT(EM_DIAGRAM):   proc sort data=_meta;
2150736    by NAME;
MPRINT(EM_DIAGRAM):   by NAME;
2150737    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 41 observations read from the data set WORK._META.
NOTE: The data set WORK._META has 41 observations and 1 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

2150738    data _temp2;
MPRINT(EM_DIAGRAM):   data _temp2;
2150739    merge _meta _temp2;
MPRINT(EM_DIAGRAM):   merge _meta _temp2;
2150740    by NAME;
MPRINT(EM_DIAGRAM):   by NAME;
2150741    run;
MPRINT(EM_DIAGRAM):   run;

WARNING: Multiple lengths were specified for the BY variable NAME by input data sets. This may 
         cause unexpected results.
NOTE: There were 41 observations read from the data set WORK._META.
NOTE: There were 27 observations read from the data set WORK._TEMP2.
NOTE: The data set WORK._TEMP2 has 41 observations and 2 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

2150742    proc sql;
MPRINT(EM_DIAGRAM):   proc sql;
2150743    create table _tempx as select p.node, p.lhs, p.id , p2.name, p2.CREATOR from
2150743  ! work._temp p, work._temp2 p2 where upcase(p.NAME)=upcase(p2.NAME);
MPRINT(EM_DIAGRAM):   create table _tempx as select p.node, p.lhs, p.id , p2.name, p2.CREATOR 
from work._temp p, work._temp2 p2 where upcase(p.NAME)=upcase(p2.NAME);
NOTE: Table WORK._TEMPX created, with 39 rows and 5 columns.

2150744    quit;
MPRINT(EM_DIAGRAM):   quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

2150745    proc append base=EMWS8.Ensmbl23_FCMP data=_tempx;
MPRINT(EM_DIAGRAM):   proc append base=EMWS8.Ensmbl23_FCMP data=_tempx;
2150746    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: Appending WORK._TEMPX to EMWS8.ENSMBL23_FCMP.
NOTE: There were 39 observations read from the data set WORK._TEMPX.
NOTE: 39 observations added.
NOTE: The data set EMWS8.ENSMBL23_FCMP has 930 observations and 5 variables.
NOTE: PROCEDURE APPEND used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

2150747    filename _pref
2150747  ! "C:\\predictive-models-project\Workspaces\EMWS8\Filter\EMPUBLISHSCORE.sas";
MPRINT(EM_DIAGRAM):    filename _pref 
"C:\\predictive-models-project\Workspaces\EMWS8\Filter\EMPUBLISHSCORE.sas";
2150748    proc FCMP NOEXECUTE IMPUTEDDEPS OUTDEPS=_temp;
MPRINT(EM_DIAGRAM):   proc FCMP NOEXECUTE IMPUTEDDEPS OUTDEPS=_temp;
2150749    %INCLUDE _pref;
NOTE: %INCLUDE (level 1) file _PREF is file 
      C:\\predictive-models-project\Workspaces\EMWS8\Filter\EMPUBLISHSCORE.sas.
2150750   +
2150751   +
2150752   +length _FILTERFMT1  $200;
MPRINT(EM_DIAGRAM):   length _FILTERFMT1 $200;
2150753   +drop _FILTERFMT1 ;
MPRINT(EM_DIAGRAM):   drop _FILTERFMT1 ;
2150754   +_FILTERFMT1= put(AcceptedCmp1,BEST.);
MPRINT(EM_DIAGRAM):   _FILTERFMT1= put(AcceptedCmp1,BEST.);
2150755   +length _FILTERNORM1  $32;
MPRINT(EM_DIAGRAM):   length _FILTERNORM1 $32;
2150756   +drop _FILTERNORM1 ;
MPRINT(EM_DIAGRAM):   drop _FILTERNORM1 ;
2150757   +%dmnormcp(_FILTERFMT1,_FILTERNORM1);
MPRINT(DMNORMCP):   _FILTERNORM1=dmnorm(_FILTERFMT1,
MPRINT(DMNORLEN):  32
MPRINT(DMNORMCP):  );
MPRINT(EM_DIAGRAM):  ;
2150758   +
2150759   +
2150760   +length _FILTERFMT2  $200;
MPRINT(EM_DIAGRAM):   length _FILTERFMT2 $200;
2150761   +drop _FILTERFMT2 ;
MPRINT(EM_DIAGRAM):   drop _FILTERFMT2 ;
2150762   +_FILTERFMT2= put(AcceptedCmp2,BEST.);
MPRINT(EM_DIAGRAM):   _FILTERFMT2= put(AcceptedCmp2,BEST.);
2150763   +length _FILTERNORM2  $32;
MPRINT(EM_DIAGRAM):   length _FILTERNORM2 $32;
2150764   +drop _FILTERNORM2 ;
MPRINT(EM_DIAGRAM):   drop _FILTERNORM2 ;
2150765   +%dmnormcp(_FILTERFMT2,_FILTERNORM2);
MPRINT(DMNORMCP):   _FILTERNORM2=dmnorm(_FILTERFMT2,
MPRINT(DMNORLEN):  32
MPRINT(DMNORMCP):  );
MPRINT(EM_DIAGRAM):  ;
2150766   +
2150767   +
2150768   +length _FILTERFMT3  $200;
MPRINT(EM_DIAGRAM):   length _FILTERFMT3 $200;
2150769   +drop _FILTERFMT3 ;
MPRINT(EM_DIAGRAM):   drop _FILTERFMT3 ;
2150770   +_FILTERFMT3= put(AcceptedCmp3,BEST.);
MPRINT(EM_DIAGRAM):   _FILTERFMT3= put(AcceptedCmp3,BEST.);
2150771   +length _FILTERNORM3  $32;
MPRINT(EM_DIAGRAM):   length _FILTERNORM3 $32;
2150772   +drop _FILTERNORM3 ;
MPRINT(EM_DIAGRAM):   drop _FILTERNORM3 ;
2150773   +%dmnormcp(_FILTERFMT3,_FILTERNORM3);
MPRINT(DMNORMCP):   _FILTERNORM3=dmnorm(_FILTERFMT3,
MPRINT(DMNORLEN):  32
MPRINT(DMNORMCP):  );
MPRINT(EM_DIAGRAM):  ;
2150774   +
2150775   +
2150776   +length _FILTERFMT4  $200;
MPRINT(EM_DIAGRAM):   length _FILTERFMT4 $200;
2150777   +drop _FILTERFMT4 ;
MPRINT(EM_DIAGRAM):   drop _FILTERFMT4 ;
2150778   +_FILTERFMT4= put(AcceptedCmp4,BEST.);
MPRINT(EM_DIAGRAM):   _FILTERFMT4= put(AcceptedCmp4,BEST.);
2150779   +length _FILTERNORM4  $32;
MPRINT(EM_DIAGRAM):   length _FILTERNORM4 $32;
2150780   +drop _FILTERNORM4 ;
MPRINT(EM_DIAGRAM):   drop _FILTERNORM4 ;
2150781   +%dmnormcp(_FILTERFMT4,_FILTERNORM4);
MPRINT(DMNORMCP):   _FILTERNORM4=dmnorm(_FILTERFMT4,
MPRINT(DMNORLEN):  32
MPRINT(DMNORMCP):  );
MPRINT(EM_DIAGRAM):  ;
2150782   +
2150783   +
2150784   +length _FILTERFMT5  $200;
MPRINT(EM_DIAGRAM):   length _FILTERFMT5 $200;
2150785   +drop _FILTERFMT5 ;
MPRINT(EM_DIAGRAM):   drop _FILTERFMT5 ;
2150786   +_FILTERFMT5= put(AcceptedCmp5,BEST.);
MPRINT(EM_DIAGRAM):   _FILTERFMT5= put(AcceptedCmp5,BEST.);
2150787   +length _FILTERNORM5  $32;
MPRINT(EM_DIAGRAM):   length _FILTERNORM5 $32;
2150788   +drop _FILTERNORM5 ;
MPRINT(EM_DIAGRAM):   drop _FILTERNORM5 ;
2150789   +%dmnormcp(_FILTERFMT5,_FILTERNORM5);
MPRINT(DMNORMCP):   _FILTERNORM5=dmnorm(_FILTERFMT5,
MPRINT(DMNORLEN):  32
MPRINT(DMNORMCP):  );
MPRINT(EM_DIAGRAM):  ;
2150790   +
2150791   +
2150792   +length _FILTERFMT6  $200;
MPRINT(EM_DIAGRAM):   length _FILTERFMT6 $200;
2150793   +drop _FILTERFMT6 ;
MPRINT(EM_DIAGRAM):   drop _FILTERFMT6 ;
2150794   +_FILTERFMT6= put(Complain,BEST.);
MPRINT(EM_DIAGRAM):   _FILTERFMT6= put(Complain,BEST.);
2150795   +length _FILTERNORM6  $32;
MPRINT(EM_DIAGRAM):   length _FILTERNORM6 $32;
2150796   +drop _FILTERNORM6 ;
MPRINT(EM_DIAGRAM):   drop _FILTERNORM6 ;
2150797   +%dmnormcp(_FILTERFMT6,_FILTERNORM6);
MPRINT(DMNORMCP):   _FILTERNORM6=dmnorm(_FILTERFMT6,
MPRINT(DMNORLEN):  32
MPRINT(DMNORMCP):  );
MPRINT(EM_DIAGRAM):  ;
2150798   +
2150799   +
2150800   +length _FILTERFMT7  $200;
MPRINT(EM_DIAGRAM):   length _FILTERFMT7 $200;
2150801   +drop _FILTERFMT7 ;
MPRINT(EM_DIAGRAM):   drop _FILTERFMT7 ;
2150802   +_FILTERFMT7= put(Education,$10.0);
MPRINT(EM_DIAGRAM):   _FILTERFMT7= put(Education,$10.0);
2150803   +length _FILTERNORM7  $32;
MPRINT(EM_DIAGRAM):   length _FILTERNORM7 $32;
2150804   +drop _FILTERNORM7 ;
MPRINT(EM_DIAGRAM):   drop _FILTERNORM7 ;
2150805   +%dmnormcp(_FILTERFMT7,_FILTERNORM7);
MPRINT(DMNORMCP):   _FILTERNORM7=dmnorm(_FILTERFMT7,
MPRINT(DMNORLEN):  32
MPRINT(DMNORMCP):  );
MPRINT(EM_DIAGRAM):  ;
2150806   +
2150807   +
2150808   +length _FILTERFMT8  $200;
MPRINT(EM_DIAGRAM):   length _FILTERFMT8 $200;
2150809   +drop _FILTERFMT8 ;
MPRINT(EM_DIAGRAM):   drop _FILTERFMT8 ;
2150810   +_FILTERFMT8= put(Marital_Status,$8.0);
MPRINT(EM_DIAGRAM):   _FILTERFMT8= put(Marital_Status,$8.0);
2150811   +length _FILTERNORM8  $32;
MPRINT(EM_DIAGRAM):   length _FILTERNORM8 $32;
2150812   +drop _FILTERNORM8 ;
MPRINT(EM_DIAGRAM):   drop _FILTERNORM8 ;
2150813   +%dmnormcp(_FILTERFMT8,_FILTERNORM8);
MPRINT(DMNORMCP):   _FILTERNORM8=dmnorm(_FILTERFMT8,
MPRINT(DMNORLEN):  32
MPRINT(DMNORMCP):  );
MPRINT(EM_DIAGRAM):  ;
2150814   +if
2150815   +_FILTERNORM1 not in ( '.')
2150816   + and
2150817   +_FILTERNORM2 not in ( '.')
2150818   + and
2150819   +_FILTERNORM3 not in ( '.')
2150820   + and
2150821   +_FILTERNORM4 not in ( '.')
2150822   + and
2150823   +_FILTERNORM5 not in ( '.')
2150824   + and
2150825   +_FILTERNORM6 not in ( '.')
2150826   + and
2150827   +_FILTERNORM7 not in ( ' ')
2150828   + and
2150829   +_FILTERNORM8 not in ( ' ')
2150830   +and
2150831   +( Dt_Customer ne .)
2150832   +and ( Income ne . and (Income<=107000))
2150833   +and ( Kidhome ne .)
2150834   +and ( MntFishProducts ne .)
2150835   +and ( MntFruits ne .)
2150836   +and ( MntGoldProds ne .)
2150837   +and ( MntMeatProducts ne . and (MntMeatProducts<=964))
2150838   +and ( MntSweetProducts ne .)
2150839   +and ( MntWines ne .)
2150840   +and ( NumCatalogPurchases ne . and (NumCatalogPurchases<=14))
2150841   +and ( NumDealsPurchases ne . and (NumDealsPurchases<=10.5))
2150842   +and ( NumStorePurchases ne .)
2150843   +and ( NumWebPurchases ne .)
2150844   +and ( NumWebVisitsMonth ne . and (NumWebVisitsMonth<=13.42))
2150845   +and ( Recency ne .)
2150846   +and ( Teenhome ne .)
2150847   +and ( Year_Birth ne .)
2150848   +then do;
MPRINT(EM_DIAGRAM):   if _FILTERNORM1 not in ( '.') and _FILTERNORM2 not in ( '.') and 
_FILTERNORM3 not in ( '.') and _FILTERNORM4 not in ( '.') and _FILTERNORM5 not in ( '.') and 
_FILTERNORM6 not in ( '.') and _FILTERNORM7 not in ( ' ') and _FILTERNORM8 not in ( ' ') and ( 
Dt_Customer ne .) and ( Income ne . and (Income<=107000)) and ( Kidhome ne .) and ( 
MntFishProducts ne .) and ( MntFruits ne .) and ( MntGoldProds ne .) and ( MntMeatProducts ne 
. and (MntMeatProducts<=964)) and ( MntSweetProducts ne .) and ( MntWines ne .) and ( 
NumCatalogPurchases ne . and (NumCatalogPurchases<=14)) and ( NumDealsPurchases ne . and 
(NumDealsPurchases<=10.5)) and ( NumStorePurchases ne .) and ( NumWebPurchases ne .) and ( 
NumWebVisitsMonth ne . and (NumWebVisitsMonth<=13.42)) and ( Recency ne .) and ( Teenhome ne 
.) and ( Year_Birth ne .) then do;
2150849   +if M_FILTER eq . then M_FILTER = 0;
MPRINT(EM_DIAGRAM):   if M_FILTER eq . then M_FILTER = 0;
2150850   +else M_FILTER = M_FILTER + 0;
MPRINT(EM_DIAGRAM):   else M_FILTER = M_FILTER + 0;
2150851   +end;
MPRINT(EM_DIAGRAM):   end;
2150852   +else M_FILTER = 1;
MPRINT(EM_DIAGRAM):   else M_FILTER = 1;
2150853   +label M_FILTER = 'Filtered Indicator';
MPRINT(EM_DIAGRAM):   label M_FILTER = 'Filtered Indicator';
NOTE: %INCLUDE (level 1) ending.
MPRINT(EM_DIAGRAM):   run;
2150854    run;

NOTE: Dependency structure written to data set _TEMP.
NOTE: PROCEDURE FCMP used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

MPRINT(EM_DIAGRAM):   quit;
2150855    quit;
2150856    filename _pref;
MPRINT(EM_DIAGRAM):   filename _pref;
NOTE: Fileref _PREF has been deassigned.
2150857    data _temp(rename=(RHS=NAME));
MPRINT(EM_DIAGRAM):   data _temp(rename=(RHS=NAME));
2150858    length Node $32;
MPRINT(EM_DIAGRAM):   length Node $32;
2150859    retain ID 7 Node "Filter";
MPRINT(EM_DIAGRAM):   retain ID 7 Node "Filter";
2150860    set _temp;
MPRINT(EM_DIAGRAM):   set _temp;
2150861    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 110 observations read from the data set WORK._TEMP.
NOTE: The data set WORK._TEMP has 110 observations and 14 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

2150862    proc sort data=_temp;
MPRINT(EM_DIAGRAM):   proc sort data=_temp;
2150863    by NAME;
MPRINT(EM_DIAGRAM):   by NAME;
2150864    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 110 observations read from the data set WORK._TEMP.
NOTE: The data set WORK._TEMP has 110 observations and 14 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

2150865    proc sort data=EMWS8.Filter_variableset out=_temp2(keep=NAME CREATOR);
MPRINT(EM_DIAGRAM):   proc sort data=EMWS8.Filter_variableset out=_temp2(keep=NAME CREATOR);
2150866    by NAME;
MPRINT(EM_DIAGRAM):   by NAME;
2150867    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 26 observations read from the data set EMWS8.FILTER_VARIABLESET.
NOTE: The data set WORK._TEMP2 has 26 observations and 2 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

2150868    data _temp2;
MPRINT(EM_DIAGRAM):   data _temp2;
2150869    length CREATOR $32;
MPRINT(EM_DIAGRAM):   length CREATOR $32;
2150870    set _temp2;
MPRINT(EM_DIAGRAM):   set _temp2;
2150871    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 26 observations read from the data set WORK._TEMP2.
NOTE: The data set WORK._TEMP2 has 26 observations and 2 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

2150872    proc contents data=EMWS8.Filter_train out=_meta(keep=NAME) noprint;
MPRINT(EM_DIAGRAM):   proc contents data=EMWS8.Filter_train out=_meta(keep=NAME) noprint;
2150873    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: The data set WORK._META has 34 observations and 1 variables.
NOTE: PROCEDURE CONTENTS used (Total process time):
      real time           0.02 seconds
      cpu time            0.03 seconds
      

2150874    proc sort data=_meta;
MPRINT(EM_DIAGRAM):   proc sort data=_meta;
2150875    by NAME;
MPRINT(EM_DIAGRAM):   by NAME;
2150876    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 34 observations read from the data set WORK._META.
NOTE: The data set WORK._META has 34 observations and 1 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

2150877    data _temp2;
MPRINT(EM_DIAGRAM):   data _temp2;
2150878    merge _meta _temp2;
MPRINT(EM_DIAGRAM):   merge _meta _temp2;
2150879    by NAME;
MPRINT(EM_DIAGRAM):   by NAME;
2150880    run;
MPRINT(EM_DIAGRAM):   run;

WARNING: Multiple lengths were specified for the BY variable NAME by input data sets. This may 
         cause unexpected results.
NOTE: There were 34 observations read from the data set WORK._META.
NOTE: There were 26 observations read from the data set WORK._TEMP2.
NOTE: The data set WORK._TEMP2 has 34 observations and 2 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

2150881    proc sql;
MPRINT(EM_DIAGRAM):   proc sql;
2150882    create table _tempx as select p.node, p.lhs, p.id , p2.name, p2.CREATOR from
2150882  ! work._temp p, work._temp2 p2 where upcase(p.NAME)=upcase(p2.NAME);
MPRINT(EM_DIAGRAM):   create table _tempx as select p.node, p.lhs, p.id , p2.name, p2.CREATOR 
from work._temp p, work._temp2 p2 where upcase(p.NAME)=upcase(p2.NAME);
NOTE: Table WORK._TEMPX created, with 66 rows and 5 columns.

2150883    quit;
MPRINT(EM_DIAGRAM):   quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

2150884    proc append base=EMWS8.Ensmbl23_FCMP data=_tempx;
MPRINT(EM_DIAGRAM):   proc append base=EMWS8.Ensmbl23_FCMP data=_tempx;
2150885    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: Appending WORK._TEMPX to EMWS8.ENSMBL23_FCMP.
NOTE: There were 66 observations read from the data set WORK._TEMPX.
NOTE: 66 observations added.
NOTE: The data set EMWS8.ENSMBL23_FCMP has 996 observations and 5 variables.
NOTE: PROCEDURE APPEND used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

2150886    %macro varDept(fcmpdata=,id=);
2150887    %global nobs&id scoreFlag&id;
2150888    %let scoreFlag&id = 0;
2150889    %if &id=1 or ^&fcmpStart %then %do;
2150890    proc sort data=&fcmpdata out=_temp&id nodupkey;
2150891    by NAME;
2150892    where id=&id and LHS in( %let j=1;
2150893    %do %while(%scan(_WARN_ I_DepVar P_DepVar1 P_DepVar0, &j) ne );
2150894    %let var = %scan(_WARN_ I_DepVar P_DepVar1 P_DepVar0, &j);
2150895    "&var" %let j = %eval(&j+1);
2150896    %end;
2150897    );
2150898    run;
2150899    %let dsid = %sysfunc(open(_temp&id));
2150900    %let nobs&id = %sysfunc(attrn(&dsid, NLOBSF));
2150901    %let dsid = %sysfunc(close(&dsid));
2150902    %if &&nobs&id %then %do;
2150903    %let scoreFlag&id = 1;
2150904    %let fcmpStart = 1;
2150905    %end;
2150906    %else %let fcmpStart = 0;
2150907    %end;
2150908    %else %do;
2150909    proc sort data=&fcmpdata out=_tempid;
2150910    where id=&id;
2150911    by LHS;
2150912    run;
2150913    %let dsid = %sysfunc(open(_tempid));
2150914    %let nobs&id = %sysfunc(attrn(&dsid, NLOBSF));
2150915    %let dsid = %sysfunc(close(&dsid));
2150916    %if ^&&nobs&id %then %do;
2150917    proc datasets lib=work nolist;
2150918    delete _tempid;
2150919    run;
2150920    quit;
2150921    %end;
2150922    %else %do;
2150923    data _tempAll;
2150924    set %let j=%eval(&id-1);
2150925    %do x=1 %to &j;
2150926    %if &&nobs&x %then %do;
2150927    _temp&x %end;
2150928    %end;
2150929    ;
2150930    run;
2150931    proc sql;
2150932    create table _temp&id as select p2.lhs, p2.name, p2.Node from work._tempAll p,
2150932  ! work._tempid p2 where p.name=p2.lhs;
2150933    quit;
2150934    data _temp&id;
2150935    set _temp&id;
2150936    where LHS ne '' and NAME ne '' and Node ne '';
2150937    run;
2150938    proc datasets lib=work nolist;
2150939    delete _tempAll;
2150940    run;
2150941    %let dsid = %sysfunc(open(_temp&id));
2150942    %let nobs&id = %sysfunc(attrn(&dsid, NLOBSF));
2150943    %let dsid = %sysfunc(close(&dsid));
2150944    %if ^&&nobs&id %then %do;
2150945    proc datasets lib=work nolist;
2150946    delete _temp&id;
2150947    run;
2150948    quit;
2150949    %end;
2150950    %else %do;
2150951    %let scoreFlag&id = 1;
2150952    data _temp&id;
2150953    set _temp&id;
2150954    where LHS ne NAME and node ne '';
2150955    run;
2150956    %let dsid = %sysfunc(open(_temp&id));
2150957    %let nobs&id = %sysfunc(attrn(&dsid, NLOBSF));
2150958    %let dsid = %sysfunc(close(&dsid));
2150959    %if ^&&nobs&id %then %do;
2150960    proc datasets lib=work nolist;
2150961    delete _temp&id;
2150962    run;
2150963    quit;
2150964    %end;
2150965    %else %do;
2150966    proc sort data=_temp&id nodupkey;
2150967    by LHS NAME;
2150968    run;
2150969    %end;
2150970    %end;
2150971    %end;
2150972    %end;
2150973    %mend varDept;
2150974    %macro optCode(outdata=fcmpdata);
2150975    %global fcmpStart;
2150976    %let fcmpStart = 0;
2150977    %let outputVars = _WARN_ I_DepVar P_DepVar1 P_DepVar0;
2150978    %let NumNodes=9;
2150979    %do k=1 %to &NumNodes;
2150980    %vardept(fcmpdata=&outdata, id=&k);
2150981    %end;
2150982    %mend optCode;
2150983    %optcode(outData=EMWS8.Ensmbl23_FCMP);
MPRINT(EM_DIAGRAM):   
MPRINT(VARDEPT):   proc sort data=EMWS8.Ensmbl23_FCMP out=_temp1 nodupkey;
MPRINT(VARDEPT):   by NAME;
MPRINT(VARDEPT):   where id=1 and LHS in( "_WARN_" "I_DepVar" "P_DepVar1" "P_DepVar0" );
MPRINT(VARDEPT):   run;

NOTE: Input data set is empty.
NOTE: 0 observations with duplicate key values were deleted.
NOTE: There were 0 observations read from the data set EMWS8.ENSMBL23_FCMP.
      WHERE (id=1) and LHS in ('I_DepVar', 'P_DepVar0', 'P_DepVar1', '_WARN_');
NOTE: The data set WORK._TEMP1 has 0 observations and 5 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

MPRINT(OPTCODE):  ;
MPRINT(VARDEPT):   proc sort data=EMWS8.Ensmbl23_FCMP out=_temp2 nodupkey;
MPRINT(VARDEPT):   by NAME;
MPRINT(VARDEPT):   where id=2 and LHS in( "_WARN_" "I_DepVar" "P_DepVar1" "P_DepVar0" );
MPRINT(VARDEPT):   run;

NOTE: There were 106 observations read from the data set EMWS8.ENSMBL23_FCMP.
      WHERE (id=2) and LHS in ('I_DepVar', 'P_DepVar0', 'P_DepVar1', '_WARN_');
NOTE: 79 observations with duplicate key values were deleted.
NOTE: The data set WORK._TEMP2 has 27 observations and 5 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

MPRINT(OPTCODE):  ;
MPRINT(VARDEPT):   proc sort data=EMWS8.Ensmbl23_FCMP out=_tempid;
MPRINT(VARDEPT):   where id=3;
MPRINT(VARDEPT):   by LHS;
MPRINT(VARDEPT):   run;

NOTE: Input data set is empty.
NOTE: There were 0 observations read from the data set EMWS8.ENSMBL23_FCMP.
      WHERE id=3;
NOTE: The data set WORK._TEMPID has 0 observations and 5 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

MPRINT(VARDEPT):   proc datasets lib=work nolist;
MPRINT(VARDEPT):   delete _tempid;
MPRINT(VARDEPT):   run;

NOTE: Deleting WORK._TEMPID (memtype=DATA).
MPRINT(VARDEPT):   quit;

NOTE: PROCEDURE DATASETS used (Total process time):
      real time           0.04 seconds
      cpu time            0.04 seconds
      

MPRINT(OPTCODE):  ;
MPRINT(VARDEPT):   proc sort data=EMWS8.Ensmbl23_FCMP out=_tempid;
MPRINT(VARDEPT):   where id=4;
MPRINT(VARDEPT):   by LHS;
MPRINT(VARDEPT):   run;

NOTE: Input data set is empty.
NOTE: There were 0 observations read from the data set EMWS8.ENSMBL23_FCMP.
      WHERE id=4;
NOTE: The data set WORK._TEMPID has 0 observations and 5 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

MPRINT(VARDEPT):   proc datasets lib=work nolist;
MPRINT(VARDEPT):   delete _tempid;
MPRINT(VARDEPT):   run;

NOTE: Deleting WORK._TEMPID (memtype=DATA).
MPRINT(VARDEPT):   quit;

NOTE: PROCEDURE DATASETS used (Total process time):
      real time           0.04 seconds
      cpu time            0.04 seconds
      

MPRINT(OPTCODE):  ;
MPRINT(VARDEPT):   proc sort data=EMWS8.Ensmbl23_FCMP out=_tempid;
MPRINT(VARDEPT):   where id=5;
MPRINT(VARDEPT):   by LHS;
MPRINT(VARDEPT):   run;

NOTE: There were 4 observations read from the data set EMWS8.ENSMBL23_FCMP.
      WHERE id=5;
NOTE: The data set WORK._TEMPID has 4 observations and 5 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

MPRINT(VARDEPT):   data _tempAll;
MPRINT(VARDEPT):   set _temp2 ;
MPRINT(VARDEPT):   run;

NOTE: There were 27 observations read from the data set WORK._TEMP2.
NOTE: The data set WORK._TEMPALL has 27 observations and 5 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

MPRINT(VARDEPT):   proc sql;
MPRINT(VARDEPT):   create table _temp5 as select p2.lhs, p2.name, p2.Node from work._tempAll 
p, work._tempid p2 where p.name=p2.lhs;
NOTE: Table WORK._TEMP5 created, with 2 rows and 3 columns.

MPRINT(VARDEPT):   quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

MPRINT(VARDEPT):   data _temp5;
MPRINT(VARDEPT):   set _temp5;
MPRINT(VARDEPT):   where LHS ne '' and NAME ne '' and Node ne '';
MPRINT(VARDEPT):   run;

NOTE: There were 2 observations read from the data set WORK._TEMP5.
      WHERE (LHS not = ' ') and (NAME not = ' ') and (Node not = ' ');
NOTE: The data set WORK._TEMP5 has 2 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

MPRINT(VARDEPT):   proc datasets lib=work nolist;
MPRINT(VARDEPT):   delete _tempAll;
MPRINT(VARDEPT):   run;

NOTE: Deleting WORK._TEMPALL (memtype=DATA).

NOTE: PROCEDURE DATASETS used (Total process time):
      real time           0.04 seconds
      cpu time            0.04 seconds
      

MPRINT(VARDEPT):   data _temp5;
MPRINT(VARDEPT):   set _temp5;
MPRINT(VARDEPT):   where LHS ne NAME and node ne '';
MPRINT(VARDEPT):   run;

NOTE: There were 2 observations read from the data set WORK._TEMP5.
      WHERE (LHS not = NAME) and (node not = ' ');
NOTE: The data set WORK._TEMP5 has 2 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

MPRINT(VARDEPT):   proc sort data=_temp5 nodupkey;
MPRINT(VARDEPT):   by LHS NAME;
MPRINT(VARDEPT):   run;

NOTE: There were 2 observations read from the data set WORK._TEMP5.
NOTE: 0 observations with duplicate key values were deleted.
NOTE: The data set WORK._TEMP5 has 2 observations and 3 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

MPRINT(OPTCODE):  ;
MPRINT(VARDEPT):   proc sort data=EMWS8.Ensmbl23_FCMP out=_tempid;
MPRINT(VARDEPT):   where id=6;
MPRINT(VARDEPT):   by LHS;
MPRINT(VARDEPT):   run;

NOTE: There were 39 observations read from the data set EMWS8.ENSMBL23_FCMP.
      WHERE id=6;
NOTE: The data set WORK._TEMPID has 39 observations and 5 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

MPRINT(VARDEPT):   data _tempAll;
MPRINT(VARDEPT):   set _temp2 _temp5 ;
MPRINT(VARDEPT):   run;

NOTE: There were 27 observations read from the data set WORK._TEMP2.
NOTE: There were 2 observations read from the data set WORK._TEMP5.
NOTE: The data set WORK._TEMPALL has 29 observations and 5 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

MPRINT(VARDEPT):   proc sql;
MPRINT(VARDEPT):   create table _temp6 as select p2.lhs, p2.name, p2.Node from work._tempAll 
p, work._tempid p2 where p.name=p2.lhs;
NOTE: Table WORK._TEMP6 created, with 33 rows and 3 columns.

MPRINT(VARDEPT):   quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

MPRINT(VARDEPT):   data _temp6;
MPRINT(VARDEPT):   set _temp6;
MPRINT(VARDEPT):   where LHS ne '' and NAME ne '' and Node ne '';
MPRINT(VARDEPT):   run;

NOTE: There were 33 observations read from the data set WORK._TEMP6.
      WHERE (LHS not = ' ') and (NAME not = ' ') and (Node not = ' ');
NOTE: The data set WORK._TEMP6 has 33 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

MPRINT(VARDEPT):   proc datasets lib=work nolist;
MPRINT(VARDEPT):   delete _tempAll;
MPRINT(VARDEPT):   run;

NOTE: Deleting WORK._TEMPALL (memtype=DATA).

NOTE: PROCEDURE DATASETS used (Total process time):
      real time           0.04 seconds
      cpu time            0.04 seconds
      

MPRINT(VARDEPT):   data _temp6;
MPRINT(VARDEPT):   set _temp6;
MPRINT(VARDEPT):   where LHS ne NAME and node ne '';
MPRINT(VARDEPT):   run;

NOTE: There were 33 observations read from the data set WORK._TEMP6.
      WHERE (LHS not = NAME) and (node not = ' ');
NOTE: The data set WORK._TEMP6 has 33 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

MPRINT(VARDEPT):   proc sort data=_temp6 nodupkey;
MPRINT(VARDEPT):   by LHS NAME;
MPRINT(VARDEPT):   run;

NOTE: There were 33 observations read from the data set WORK._TEMP6.
NOTE: 0 observations with duplicate key values were deleted.
NOTE: The data set WORK._TEMP6 has 33 observations and 3 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

MPRINT(OPTCODE):  ;
MPRINT(VARDEPT):   proc sort data=EMWS8.Ensmbl23_FCMP out=_tempid;
MPRINT(VARDEPT):   where id=7;
MPRINT(VARDEPT):   by LHS;
MPRINT(VARDEPT):   run;

NOTE: There were 66 observations read from the data set EMWS8.ENSMBL23_FCMP.
      WHERE id=7;
NOTE: The data set WORK._TEMPID has 66 observations and 5 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

MPRINT(VARDEPT):   data _tempAll;
MPRINT(VARDEPT):   set _temp2 _temp5 _temp6 ;
MPRINT(VARDEPT):   run;

NOTE: There were 27 observations read from the data set WORK._TEMP2.
NOTE: There were 2 observations read from the data set WORK._TEMP5.
NOTE: There were 33 observations read from the data set WORK._TEMP6.
NOTE: The data set WORK._TEMPALL has 62 observations and 5 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

MPRINT(VARDEPT):   proc sql;
MPRINT(VARDEPT):   create table _temp7 as select p2.lhs, p2.name, p2.Node from work._tempAll 
p, work._tempid p2 where p.name=p2.lhs;
NOTE: Table WORK._TEMP7 created, with 0 rows and 3 columns.

MPRINT(VARDEPT):   quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

MPRINT(VARDEPT):   data _temp7;
MPRINT(VARDEPT):   set _temp7;
MPRINT(VARDEPT):   where LHS ne '' and NAME ne '' and Node ne '';
MPRINT(VARDEPT):   run;

NOTE: There were 0 observations read from the data set WORK._TEMP7.
      WHERE (LHS not = ' ') and (NAME not = ' ') and (Node not = ' ');
NOTE: The data set WORK._TEMP7 has 0 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

MPRINT(VARDEPT):   proc datasets lib=work nolist;
MPRINT(VARDEPT):   delete _tempAll;
MPRINT(VARDEPT):   run;

NOTE: Deleting WORK._TEMPALL (memtype=DATA).

NOTE: PROCEDURE DATASETS used (Total process time):
      real time           0.04 seconds
      cpu time            0.04 seconds
      

MPRINT(VARDEPT):   proc datasets lib=work nolist;
MPRINT(VARDEPT):   delete _temp7;
MPRINT(VARDEPT):   run;

NOTE: Deleting WORK._TEMP7 (memtype=DATA).
MPRINT(VARDEPT):   quit;

NOTE: PROCEDURE DATASETS used (Total process time):
      real time           0.04 seconds
      cpu time            0.04 seconds
      

MPRINT(OPTCODE):  ;
MPRINT(VARDEPT):   proc sort data=EMWS8.Ensmbl23_FCMP out=_tempid;
MPRINT(VARDEPT):   where id=8;
MPRINT(VARDEPT):   by LHS;
MPRINT(VARDEPT):   run;

NOTE: Input data set is empty.
NOTE: There were 0 observations read from the data set EMWS8.ENSMBL23_FCMP.
      WHERE id=8;
NOTE: The data set WORK._TEMPID has 0 observations and 5 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

MPRINT(VARDEPT):   proc datasets lib=work nolist;
MPRINT(VARDEPT):   delete _tempid;
MPRINT(VARDEPT):   run;

NOTE: Deleting WORK._TEMPID (memtype=DATA).
MPRINT(VARDEPT):   quit;

NOTE: PROCEDURE DATASETS used (Total process time):
      real time           0.04 seconds
      cpu time            0.04 seconds
      

MPRINT(OPTCODE):  ;
MPRINT(VARDEPT):   proc sort data=EMWS8.Ensmbl23_FCMP out=_tempid;
MPRINT(VARDEPT):   where id=9;
MPRINT(VARDEPT):   by LHS;
MPRINT(VARDEPT):   run;

NOTE: Input data set is empty.
NOTE: There were 0 observations read from the data set EMWS8.ENSMBL23_FCMP.
      WHERE id=9;
NOTE: The data set WORK._TEMPID has 0 observations and 5 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

MPRINT(VARDEPT):   proc datasets lib=work nolist;
MPRINT(VARDEPT):   delete _tempid;
MPRINT(VARDEPT):   run;

NOTE: Deleting WORK._TEMPID (memtype=DATA).
MPRINT(VARDEPT):   quit;

NOTE: PROCEDURE DATASETS used (Total process time):
      real time           0.04 seconds
      cpu time            0.04 seconds
      

MPRINT(OPTCODE):  ;
MPRINT(EM_DIAGRAM):  ;

2150984    data _all_;
MPRINT(EM_DIAGRAM):    data _all_;
2150985    set EMWS8.Trans_EMSCOREVAR;
MPRINT(EM_DIAGRAM):   set EMWS8.Trans_EMSCOREVAR;
2150986    where NAME='' and file ne '' and ^index(file, '_POSTALL_.sas');
MPRINT(EM_DIAGRAM):   where NAME='' and file ne '' and ^index(file, '_POSTALL_.sas');
2150987    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 0 observations read from the data set EMWS8.TRANS_EMSCOREVAR.
      WHERE (NAME=' ') and (file not = ' ') and (not INDEX(file, '_POSTALL_.sas'));
NOTE: The data set WORK._ALL_ has 0 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

2150988    data _postall_;
MPRINT(EM_DIAGRAM):   data _postall_;
2150989    set EMWS8.Trans_EMSCOREVAR;
MPRINT(EM_DIAGRAM):   set EMWS8.Trans_EMSCOREVAR;
2150990    where NAME='' and file ne '' and index(file, '_POSTALL_.sas');
MPRINT(EM_DIAGRAM):   where NAME='' and file ne '' and index(file, '_POSTALL_.sas');
2150991    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 0 observations read from the data set EMWS8.TRANS_EMSCOREVAR.
      WHERE (NAME=' ') and (file not = ' ') and INDEX(file, '_POSTALL_.sas');
NOTE: The data set WORK._POSTALL_ has 0 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

2150992    proc sql;
MPRINT(EM_DIAGRAM):   proc sql;
2150993    create table _CodeVar5 as select p.lhs, p2.formula, p2.file from _temp5 p,
2150993  ! EMWS8.Trans_EMSCOREVAR p2 where upcase(p.LHS)=upcase(p2.NAME) order by p.lhs;
MPRINT(EM_DIAGRAM):   create table _CodeVar5 as select p.lhs, p2.formula, p2.file from _temp5 
p, EMWS8.Trans_EMSCOREVAR p2 where upcase(p.LHS)=upcase(p2.NAME) order by p.lhs;
NOTE: Table WORK._CODEVAR5 created, with 2 rows and 3 columns.

2150994    quit;
MPRINT(EM_DIAGRAM):   quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

2150995    data _CodeVar5;
MPRINT(EM_DIAGRAM):   data _CodeVar5;
2150996    set _all_ _CodeVar5 _postall_;
MPRINT(EM_DIAGRAM):   set _all_ _CodeVar5 _postall_;
2150997    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 0 observations read from the data set WORK._ALL_.
NOTE: There were 2 observations read from the data set WORK._CODEVAR5.
NOTE: There were 0 observations read from the data set WORK._POSTALL_.
NOTE: The data set WORK._CODEVAR5 has 2 observations and 4 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

2150998    *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):    *------------------------------------------------------------*;
2150999    * Ensmbl23: Computing metadata for TRAIN data;
MPRINT(EM_DIAGRAM):   * Ensmbl23: Computing metadata for TRAIN data;
2151000    *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;

NOTE: View EMWS8.ENSMBL23_TRAIN.VIEW used (Total process time):
      real time           0.05 seconds
      cpu time            0.06 seconds
      
MPRINT(EM_DIAGRAM):    *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   * &nodeid: Computing Metadata for TRAIN data;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   filename _delta 
"C:\\predictive-models-project\Workspaces\EMWS8\Ensmbl23\CDELTA_TRAIN.sas";
MPRINT(EMADVISECOLUMNS):   proc display c=sashelp.emmeta.advisecolumns.scl;
MPRINT(EMADVISECOLUMNS):   run;
MPRINT(EMADVISECOLUMNS):    options validvarname=any;
MPRINT(EMADVISECOLUMNS):   proc contents data=EMWS8.Ensmbl23_TRAIN out=_tempAdvisor noprint;
MPRINT(EMADVISECOLUMNS):   run;
MPRINT(EMADVISECOLUMNS):   options validvarname=V7;
MPRINT(EMADVISECOLUMNS):    data _null_;
MPRINT(EMADVISECOLUMNS):   dsid = open('EMWS8.Ensmbl23_TRAIN');
MPRINT(EMADVISECOLUMNS):   call symput('_dsidTable', strip(put(dsid, best.)));
MPRINT(EMADVISECOLUMNS):   if dsid then do;
MPRINT(EMADVISECOLUMNS):   call symput('_engineTable', attrc(dsid, 'ENGINE'));
MPRINT(EMADVISECOLUMNS):   dsid = close(dsid);
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   run;
MPRINT(EMADVISECOLUMNS):    proc contents data=EMWS8.Ensmbl23_TRAIN out=WORK.M30_QS7U noprint;
MPRINT(EMADVISECOLUMNS):   run;
MPRINT(EMADVISECOLUMNS):    data WORK.M30_QS7U;
MPRINT(EMADVISECOLUMNS):   length NAME $ 64 TYPE $ 1 LABEL $ 200 FORMAT $ 20 INFORMAT $20 
INDEX $ 1 INDEXTYPE $ 9;
MPRINT(EMADVISECOLUMNS):   label NAME =;
MPRINT(EMADVISECOLUMNS):   set WORK.M30_QS7U(keep=name type length label format formatl 
formatd informat informl informd idxusage rename=(type=itype));
MPRINT(EMADVISECOLUMNS):   if itype = 1 then type = 'N';
MPRINT(EMADVISECOLUMNS):   else type = 'C';
MPRINT(EMADVISECOLUMNS):   if formatl > 0 then do;
MPRINT(EMADVISECOLUMNS):   if format ne ' ' then format = strip(format)!!strip(put(formatl, 
best12.))!!'.'!!strip(put(formatd, best12.));
MPRINT(EMADVISECOLUMNS):   else format = strip(put(formatl, best12.))!!'.'!!strip(put(formatd, 
best12.));
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   else if format ne '' then format = strip(format)!!'.';
MPRINT(EMADVISECOLUMNS):   if informl > 0 then do;
MPRINT(EMADVISECOLUMNS):   if informat ne ' ' then informat = 
strip(informat)!!strip(put(informl, best12.))!!'.'!!strip(put(informd, best12.));
MPRINT(EMADVISECOLUMNS):   else informat = strip(put(informl, 
best12.))!!'.'!!strip(put(informd, best12.));
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   else if informat ne '' then informat = strip(informat)!!'.';
MPRINT(EMADVISECOLUMNS):   if idxusage = 'NONE' then index ="N";
MPRINT(EMADVISECOLUMNS):   else index = "Y";
MPRINT(EMADVISECOLUMNS):   indextype = idxusage;
MPRINT(EMADVISECOLUMNS):   drop idxusage itype formatl formatd informl informd;
MPRINT(EMADVISECOLUMNS):   run;
MPRINT(EMADVISECOLUMNS):    data WORK.M30_QS7U;
MPRINT(EMADVISECOLUMNS):   length UNAME $64;
MPRINT(EMADVISECOLUMNS):   set WORK.M30_QS7U;
MPRINT(EMADVISECOLUMNS):   UNAME = upcase(NAME);
MPRINT(EMADVISECOLUMNS):   run;
MPRINT(EMADVISECOLUMNS):    proc sort data=WORK.M3HT3EIR NOTHREADS;
MPRINT(EMADVISECOLUMNS):   by UNAME;
MPRINT(EMADVISECOLUMNS):   run;
MPRINT(EMADVISECOLUMNS):    data WORK.M3HT3EIR;
MPRINT(EMADVISECOLUMNS):   drop UNAME;
MPRINT(EMADVISECOLUMNS):   set WORK.M3HT3EIR;
MPRINT(EMADVISECOLUMNS):   run;
MPRINT(EMADVISECOLUMNS):    data WORK.M02XA2XA(keep=NAME ATTR);
MPRINT(EMADVISECOLUMNS):   length ATTR $ 20;
MPRINT(EMADVISECOLUMNS):   set WORK.M3HT3EIR;
MPRINT(EMADVISECOLUMNS):   if level ne "INTERVAL" then do;
MPRINT(EMADVISECOLUMNS):   if order = ' ' then do;
MPRINT(EMADVISECOLUMNS):   attr = 'ORDER';
MPRINT(EMADVISECOLUMNS):   output;
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   if format ne ' ' and formattype = ' ' then do;
MPRINT(EMADVISECOLUMNS):   attr = 'FORMATTYPE';
MPRINT(EMADVISECOLUMNS):   output;
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   if role = ' ' then do;
MPRINT(EMADVISECOLUMNS):   attr = 'ROLE';
MPRINT(EMADVISECOLUMNS):   output;
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   if level = ' ' then do;
MPRINT(EMADVISECOLUMNS):   attr = 'LEVEL';
MPRINT(EMADVISECOLUMNS):   output;
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   if type = ' ' then do;
MPRINT(EMADVISECOLUMNS):   attr = 'TYPE';
MPRINT(EMADVISECOLUMNS):   output;
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   if index = ' ' then do;
MPRINT(EMADVISECOLUMNS):   attr = 'INDEX';
MPRINT(EMADVISECOLUMNS):   output;
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   if report = ' ' then do;
MPRINT(EMADVISECOLUMNS):   attr = 'REPORT';
MPRINT(EMADVISECOLUMNS):   output;
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   run;
MPRINT(EMADVISECOLUMNS):   proc sort NOTHREADS;
MPRINT(EMADVISECOLUMNS):   by attr;
MPRINT(EMADVISECOLUMNS):   run;
MPRINT(EMADVISECOLUMNS):    data WORK.M3HT3EIR;
MPRINT(EMADVISECOLUMNS):   length NAME $64 ROLE $ 32 LEVEL $ 10 ORDER $ 8 CREATOR $32 
FORMATTYPE $ 10 FAMILY $ 10 LOWERLIMIT 8 UPPERLIMIT 8 REPORT $1 DISTRIBUTION $ 20 COMMENT $64;
MPRINT(EMADVISECOLUMNS):   length levelAssigned 8 roleAssigned 8 PRICE 8;
MPRINT(EMADVISECOLUMNS):   set WORK.M3HT3EIR;
MPRINT(EMADVISECOLUMNS):   if formattype = ' ' then do;
MPRINT(EMADVISECOLUMNS):   if format ne ' ' then do;
MPRINT(EMADVISECOLUMNS):   if type = 'N' then do;
MPRINT(EMADVISECOLUMNS):   pos = indexc(format,'.1234567890');
MPRINT(EMADVISECOLUMNS):   if pos > 1 then tempfmt = substr(format,1, pos-1);
MPRINT(EMADVISECOLUMNS):   else tempfmt = ' ';
MPRINT(EMADVISECOLUMNS):   flen = length(tempfmt);
MPRINT(EMADVISECOLUMNS):   select;
MPRINT(EMADVISECOLUMNS):   when(tempfmt in ("DATE" "DAY" "DDMMYY" "DOWNAME" "JULDAY" "JULIAN" 
"MMDDYY" "MMDDYYD" "MMDDYYC" "MMDDYYN" "MMDDYYP" "MMDDYYS" "MONNAME" "MONTH" "MONYY" "NENGO" 
"QTR" "QTRR" "WEEKDATE" "WEEKDATX" "WEEKDAY" "WORDDATE" "WORDDATX" "YEAR" "YYMMDD" "YYMON" 
"YYMMDDC" "YYMMDDD" "YYMMDDN" "YYMMDDP" "YYMMDDS" "EURDFDE" "NJDATE" "NLDATE" "EURDFDD" 
"EURDFDWN" "EURDFMN" "EURDFMY" "EURDFWK" "EURDFWKX" "EURDFWDX" "EURDFDN" "EURDFDE" )) 
formattype = 'DATE';
MPRINT(EMADVISECOLUMNS):   when(tempfmt in ("DATETIME" "EURDFDT" "TOD" )) formattype = 
"DATETIME";
MPRINT(EMADVISECOLUMNS):   when(tempfmt in ("HHMM" "HOUR" "MMSS" "TIME" "TIMEAMPM" )) 
formattype = "TIME";
MPRINT(EMADVISECOLUMNS):   when(tempfmt in ("COMMA" "COMMAX" "DOLLAR" "DOLLARX" "E" "FRACT" 
"NEGPAREN" "PERCENT")) formattype="QUANTITY";
MPRINT(EMADVISECOLUMNS):   when(tempfmt in ("BINARY" "HEX" "IB" "OCTAL" "PD" "PIB" "PK" "RB" 
"SSN" "Z" "ZD")) formattype = "CODING";
MPRINT(EMADVISECOLUMNS):   otherwise do;
MPRINT(EMADVISECOLUMNS):   formattype = "USER";
MPRINT(EMADVISECOLUMNS):   if substr(tempfmt, 1, 6)='NLDATE' then formattype = "DATE";
MPRINT(EMADVISECOLUMNS):   else if substr(tempfmt, 1, 6)='NLDATM' then formattype = "DATETIME";
MPRINT(EMADVISECOLUMNS):   else if substr(tempfmt, 1, 4)='NLTIM' then formattype = "TIME";
MPRINT(EMADVISECOLUMNS):   else if flen >= 4 then do;
MPRINT(EMADVISECOLUMNS):   str = substr(tempfmt,1,4);
MPRINT(EMADVISECOLUMNS):   if str in ("MMYY" "YYMM" "YYQR") then formattype ="DATE";
MPRINT(EMADVISECOLUMNS):   else if str = "S370" then formattype = "CODING";
MPRINT(EMADVISECOLUMNS):   else if str = "BEST" then formattype = "NUM";
MPRINT(EMADVISECOLUMNS):   drop str;
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   else if flen >=3 and substr(tempfmt,1,3) = "YYQ" then formatType = 
"DATE";
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   drop flen tempfmt pos;
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   else do;
MPRINT(EMADVISECOLUMNS):   formatType = "CATEGORY";
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   if formatType = "NUM" then do;
MPRINT(EMADVISECOLUMNS):   if index = "Y" then formatType = "DISCRETE";
MPRINT(EMADVISECOLUMNS):   else formatType = "QUANTITY";
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   if level = ' ' then do;
MPRINT(EMADVISECOLUMNS):   if formatType in ("CATEGORY", "CODING", "ID") or type = "C" then 
level = "NOMINAL";
MPRINT(EMADVISECOLUMNS):   else level = "INTERVAL";
MPRINT(EMADVISECOLUMNS):   levelAssigned = 1;
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   else level = upcase(level);
MPRINT(EMADVISECOLUMNS):   if role = ' ' then do;
MPRINT(EMADVISECOLUMNS):   length name_prefix $8 _uname $64;
MPRINT(EMADVISECOLUMNS):   drop name_prefix _uname _freqflag;
MPRINT(EMADVISECOLUMNS):   retain _freqflag;
MPRINT(EMADVISECOLUMNS):   if LENGTH> 80 then ROLE = 'TEXT';
MPRINT(EMADVISECOLUMNS):   _uname = upcase(NAME);
MPRINT(EMADVISECOLUMNS):   select(_uname);
MPRINT(EMADVISECOLUMNS):   when('_WARN_') ROLE = 'ASSESS';
MPRINT(EMADVISECOLUMNS):   when('EM_SEGMENT') do;
MPRINT(EMADVISECOLUMNS):   ROLE = 'SEGMENT';
MPRINT(EMADVISECOLUMNS):   LEVEL = 'NOMINAL';
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   when('_NODE_') do;
MPRINT(EMADVISECOLUMNS):   ROLE = 'SEGMENT';
MPRINT(EMADVISECOLUMNS):   LEVEL = 'NOMINAL';
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   when('EM_CLASSTARGET') ROLE = 'ASSESS';
MPRINT(EMADVISECOLUMNS):   when('EM_VALUETARGET') ROLE = 'ASSESS';
MPRINT(EMADVISECOLUMNS):   when('EM_PREDICTION') ROLE = 'PREDICT';
MPRINT(EMADVISECOLUMNS):   when('EM_PROBABILITY') ROLE = 'PREDICT';
MPRINT(EMADVISECOLUMNS):   when('EM_EVENTPROBABILITY') ROLE = 'PREDICT';
MPRINT(EMADVISECOLUMNS):   when('EM_CLASSIFICATION') ROLE = 'CLASSIFICATION';
MPRINT(EMADVISECOLUMNS):   when('EM_DECISION') ROLE = 'DECISION';
MPRINT(EMADVISECOLUMNS):   when('EM_PROFIT') ROLE = 'ASSESS';
MPRINT(EMADVISECOLUMNS):   when('EM_LOSS') ROLE = 'ASSESS';
MPRINT(EMADVISECOLUMNS):   when('EM_ROI') ROLE = 'ASSESS';
MPRINT(EMADVISECOLUMNS):   when('URI') ROLE = 'URL';
MPRINT(EMADVISECOLUMNS):   when('FILTERED') ROLE = 'TEXTLOC';
MPRINT(EMADVISECOLUMNS):   otherwise do;
MPRINT(EMADVISECOLUMNS):   if upcase(NAME) =: 'ZIP' then do;
MPRINT(EMADVISECOLUMNS):   ROLE = 'REJECTED';
MPRINT(EMADVISECOLUMNS):   LEVEL = 'NOMINAL';
MPRINT(EMADVISECOLUMNS):   COMMENT = 'Rejected by: Exceed the maximum class level of %s';
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   else if upcase(NAME) in('FREQ', 'FREQUENCY') then do;
MPRINT(EMADVISECOLUMNS):   ROLE = 'FREQ';
MPRINT(EMADVISECOLUMNS):   if TYPE = 'C' then ROLE = 'INPUT';
MPRINT(EMADVISECOLUMNS):   else if _freqflag =1 then ROLE='REJECTED';
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   else do;
MPRINT(EMADVISECOLUMNS):   name_prefix = scan(_uname, 1, '_');
MPRINT(EMADVISECOLUMNS):   if scan(_uname, 2, '_') = '' then name_prefix='';
MPRINT(EMADVISECOLUMNS):   if name_prefix in('F', 'I', 'U') then do;
MPRINT(EMADVISECOLUMNS):   ROLE = 'CLASSIFICATION';
MPRINT(EMADVISECOLUMNS):   LEVEL = 'NOMINAL';
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   else if name_prefix in('P', 'V') then ROLE = 'PREDICT';
MPRINT(EMADVISECOLUMNS):   else if name_prefix in('R', 'RS', 'RT', 'RD', 'RDS', 'RDT', 'RA', 
'RAS', 'RAT') then ROLE = 'RESIDUAL';
MPRINT(EMADVISECOLUMNS):   else if name_prefix ='D' then do;
MPRINT(EMADVISECOLUMNS):   ROLE = 'DECISION';
MPRINT(EMADVISECOLUMNS):   LEVEL = 'NOMINAL';
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   else if name_prefix ='B' then do;
MPRINT(EMADVISECOLUMNS):   ROLE = 'SEGMENT';
MPRINT(EMADVISECOLUMNS):   LEVEL = 'NOMINAL';
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   else if name_prefix in('EP', 'BP', 'CP', 'EL', 'CL', 'BL', 'W', 
'ROI', 'IC') then ROLE = 'ASSESS';
MPRINT(EMADVISECOLUMNS):   else do;
MPRINT(EMADVISECOLUMNS):   array _ROLE_ (19) $32 _TEMPORARY_ 
('ASSESS','CLASSIFICATION','CENSOR', 'COST', 'CROSSID', 'DECISION', 'ID','INPUT', 'LABEL', 
'MISSING','PREDICT','REFERRER','REJECTED', 'RESIDUAL','SEGMENT', 'SEQUENCE','TARGET', 'TEXT', 
'TIMEID');
MPRINT(EMADVISECOLUMNS):   drop _found_ i;
MPRINT(EMADVISECOLUMNS):   _found_=0;
MPRINT(EMADVISECOLUMNS):   do i=1 to 19 until(_found_=1);
MPRINT(EMADVISECOLUMNS):   if index(_uname, trim(_ROLE_{i}))=1 then do;
MPRINT(EMADVISECOLUMNS):   ROLE=_ROLE_{i};
MPRINT(EMADVISECOLUMNS):   if ROLE = 'ID' then LEVEL = 'NOMINAL';
MPRINT(EMADVISECOLUMNS):   else if ROLE = 'SEGMENT' then LEVEL = 'NOMINAL';
MPRINT(EMADVISECOLUMNS):   else if ROLE = 'TIMEID' and TYPE='N' then LEVEL = 'INTERVAL';
MPRINT(EMADVISECOLUMNS):   _found_=1;
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   if length(_uname)>2 then do;
MPRINT(EMADVISECOLUMNS):   if substr(reverse(trim(_uname)), 1, 3) = 'DI_' then do;
MPRINT(EMADVISECOLUMNS):   ROLE = 'ID';
MPRINT(EMADVISECOLUMNS):   LEVEL = 'NOMINAL';
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   if ROLE='FREQ' then _freqflag=1;
MPRINT(EMADVISECOLUMNS):   else if ROLE = 'CLASSIFICATION' then LEVEL = 'NOMINAL';
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   if role = ' ' then do;
MPRINT(EMADVISECOLUMNS):   if formattype in('DATE', 'DATETIME', 'TIME') then role = 'TIMEID';
MPRINT(EMADVISECOLUMNS):   else role = 'INPUT';
MPRINT(EMADVISECOLUMNS):   roleAssigned = 1;
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   else role = upcase(role);
MPRINT(EMADVISECOLUMNS):   if REPORT = '' then REPORT = 'N';
MPRINT(EMADVISECOLUMNS):   run;
MPRINT(EMADVISECOLUMNS):    data WORK.M3HT3EIR;
MPRINT(EMADVISECOLUMNS):   set WORK.M3HT3EIR;
MPRINT(EMADVISECOLUMNS):   label NAME = "Variable Name" TYPE = "Type" ROLE = "Role" LEVEL= 
"Measurement Level" ORDER= "Order" CREATOR= "Creator" FORMATTYPE= "Format Type" FAMILY= 
"Family" DISTRIBUTION= "Distribution" PRICE= "Price" LOWERLIMIT= "Lower limit" UPPERLIMIT= 
"Upper Limit" REPORT= "Report" COMMENT= "Comment" INDEX= "Index" INDEXTYPE= "IndexType" LABEL= 
"Label" LENGTH= "Length";
MPRINT(EMADVISECOLUMNS):   drop levelAssigned roleAssigned;
MPRINT(EMADVISECOLUMNS):   run;
MPRINT(EMADVISECOLUMNS):   
MPRINT(EM_DIAGRAM):  ;
MPRINT(EM_DIAGRAM):   proc sort data=WORK.COLUMNMETA;
MPRINT(EM_DIAGRAM):   by NAME;
MPRINT(EM_DIAGRAM):   run;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   * &nodeid: Merge incoming metadata;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   proc contents data=EMWS8.Neural41_TRAIN noprint out=_temp2(keep=NAME);
MPRINT(EM_DIAGRAM):   run;
MPRINT(EM_DIAGRAM):   proc sort data=_temp2;
MPRINT(EM_DIAGRAM):   by NAME;
MPRINT(EM_DIAGRAM):   run;
MPRINT(EM_DIAGRAM):   proc sort data=EMWS8.Neural41_CMeta_TRAIN out=_temp;
MPRINT(EM_DIAGRAM):   by NAME;
MPRINT(EM_DIAGRAM):   run;
MPRINT(EM_DIAGRAM):   data EMWS8.Ensmbl23_CMeta_TRAIN;
MPRINT(EM_DIAGRAM):   merge WORK.COLUMNMETA(in=_a) _temp2(in=_b) _temp(drop=FORMAT INFORMAT 
LENGTH INDEX INDEXTYPE in=_c) end=_eof_;
MPRINT(EM_DIAGRAM):   by NAME;
MPRINT(EM_DIAGRAM):   if (^_a and _b) or (^_c and _a and _b) then delete;
MPRINT(EM_DIAGRAM):   if ^_b then CREATOR = "Ensmbl23";
MPRINT(EM_DIAGRAM):   select(upcase(name));
MPRINT(EM_DIAGRAM):   when("P_DEPVAR1") creator = "Ensmbl23";
MPRINT(EM_DIAGRAM):   when("R_DEPVAR1") creator = "Ensmbl23";
MPRINT(EM_DIAGRAM):   when("P_DEPVAR0") creator = "Ensmbl23";
MPRINT(EM_DIAGRAM):   when("R_DEPVAR0") creator = "Ensmbl23";
MPRINT(EM_DIAGRAM):   when("F_DEPVAR") creator = "Ensmbl23";
MPRINT(EM_DIAGRAM):   when("I_DEPVAR") creator = "Ensmbl23";
MPRINT(EM_DIAGRAM):   when("U_DEPVAR") creator = "Ensmbl23";
MPRINT(EM_DIAGRAM):   when("_WARN_") creator = "Ensmbl23";
MPRINT(EM_DIAGRAM):   when("DEPVAR") model = "Ensmbl23";
MPRINT(EM_DIAGRAM):   when('');
MPRINT(EM_DIAGRAM):   otherwise;
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   * Ensmbl23: Apply Delta Code;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   if NAME in( "I_DepVar" "F_DepVar" "U_DepVar" "_WARN_" "P_DepVar1" 
"P_DepVar0" "R_DepVar1" "R_DepVar0" ) then CREATOR="Ensmbl23";
MPRINT(EM_DIAGRAM):   run;
MPRINT(EM_DIAGRAM):   filename _delta;
2151320    data WORK.MODELTEMP_INFO;
MPRINT(EM_DIAGRAM):    data WORK.MODELTEMP_INFO;
2151321    set EMWS8.Ensmbl23_EMINFO;
MPRINT(EM_DIAGRAM):   set EMWS8.Ensmbl23_EMINFO;
2151322    where DATA='Ensmbl23' and KEY ^in('DECDATA', 'DECMETA', 'IMPORTANCE', 'MODEL');
MPRINT(EM_DIAGRAM):   where DATA='Ensmbl23' and KEY ^in('DECDATA', 'DECMETA', 'IMPORTANCE', 
'MODEL');
2151323    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 0 observations read from the data set EMWS8.ENSMBL23_EMINFO.
      WHERE (DATA='Ensmbl23') and KEY not in ('DECDATA', 'DECMETA', 'IMPORTANCE', 'MODEL');
NOTE: The data set WORK.MODELTEMP_INFO has 0 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

2151324    data EMWS8.Ensmbl23_EMINFO;
MPRINT(EM_DIAGRAM):    data EMWS8.Ensmbl23_EMINFO;
2151325    length TARGET KEY $32 DATA $43;
MPRINT(EM_DIAGRAM):   length TARGET KEY $32 DATA $43;
2151326    input TARGET KEY DATA $;
MPRINT(EM_DIAGRAM):   input TARGET KEY DATA $;
2151327    cards;
MPRINT(EM_DIAGRAM):   cards;

NOTE: The data set EMWS8.ENSMBL23_EMINFO has 3 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

MPRINT(EM_DIAGRAM):   run;
2151331    run;
2151332    data EMWS8.Ensmbl23_EMINFO;
MPRINT(EM_DIAGRAM):   data EMWS8.Ensmbl23_EMINFO;
2151333    set EMWS8.Ensmbl23_EMINFO WORK.MODELTEMP_INFO;
MPRINT(EM_DIAGRAM):   set EMWS8.Ensmbl23_EMINFO WORK.MODELTEMP_INFO;
2151334    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 3 observations read from the data set EMWS8.ENSMBL23_EMINFO.
NOTE: There were 0 observations read from the data set WORK.MODELTEMP_INFO.
NOTE: The data set EMWS8.ENSMBL23_EMINFO has 3 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

2151335    proc sort data = EMWS8.Ensmbl23_EMINFO NOTHREADS;
MPRINT(EM_DIAGRAM):    proc sort data = EMWS8.Ensmbl23_EMINFO NOTHREADS;
2151336    by TARGET KEY;
MPRINT(EM_DIAGRAM):   by TARGET KEY;
2151337    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 3 observations read from the data set EMWS8.ENSMBL23_EMINFO.
NOTE: The data set EMWS8.ENSMBL23_EMINFO has 3 observations and 3 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

2151338    proc sort data = EMWS8.Neural41_EMINFO OUT=WORK.SORTEDEMINFO NOTHREADS;
MPRINT(EM_DIAGRAM):    proc sort data = EMWS8.Neural41_EMINFO OUT=WORK.SORTEDEMINFO NOTHREADS;
2151339    by TARGET KEY;
MPRINT(EM_DIAGRAM):   by TARGET KEY;
2151340    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 4 observations read from the data set EMWS8.NEURAL41_EMINFO.
NOTE: The data set WORK.SORTEDEMINFO has 4 observations and 3 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

2151341    proc sort data = EMWS8.Ensmbl23_EMINFO OUT=WORK.TEMP_INFO NOTHREADS;
MPRINT(EM_DIAGRAM):   proc sort data = EMWS8.Ensmbl23_EMINFO OUT=WORK.TEMP_INFO NOTHREADS;
2151342    by TARGET KEY;
MPRINT(EM_DIAGRAM):   by TARGET KEY;
2151343    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: Input data set is already sorted; it has been copied to the output data set.
NOTE: There were 3 observations read from the data set EMWS8.ENSMBL23_EMINFO.
NOTE: The data set WORK.TEMP_INFO has 3 observations and 3 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

2151344    data EMWS8.Ensmbl23_EMINFO;
MPRINT(EM_DIAGRAM):   data EMWS8.Ensmbl23_EMINFO;
2151345    merge WORK.SORTEDEMINFO WORK.TEMP_INFO;
MPRINT(EM_DIAGRAM):   merge WORK.SORTEDEMINFO WORK.TEMP_INFO;
2151346    by TARGET KEY;
MPRINT(EM_DIAGRAM):   by TARGET KEY;
2151347    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 4 observations read from the data set WORK.SORTEDEMINFO.
NOTE: There were 3 observations read from the data set WORK.TEMP_INFO.
NOTE: The data set EMWS8.ENSMBL23_EMINFO has 4 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

2151348    proc datasets lib=work nolist;
MPRINT(EM_DIAGRAM):   proc datasets lib=work nolist;
2151349    delete TEMP_INFO SORTEDEMINFO;
MPRINT(EM_DIAGRAM):   delete TEMP_INFO SORTEDEMINFO;
2151350    run;
MPRINT(EM_DIAGRAM):   run;

NOTE: Deleting WORK.TEMP_INFO (memtype=DATA).
NOTE: Deleting WORK.SORTEDEMINFO (memtype=DATA).
2151351    quit;
MPRINT(EM_DIAGRAM):   quit;

NOTE: PROCEDURE DATASETS used (Total process time):
      real time           0.04 seconds
      cpu time            0.04 seconds
      

NOTE: View EMWS8.ENSMBL23_TRAIN.VIEW used (Total process time):
      real time           0.05 seconds
      cpu time            0.04 seconds
      
NOTE: View EMWS8.ENSMBL23_VALIDATE.VIEW used (Total process time):
      real time           0.06 seconds
      cpu time            0.06 seconds
      
MPRINT(EM_DIAGRAM):    proc printto;
MPRINT(EM_DIAGRAM):   run;
