MPRINT(EM_DIAGRAM):    data _null_;
MPRINT(EM_DIAGRAM):   call symput('NLDATE', strip(put(date(), NLDATE.)));
MPRINT(EM_DIAGRAM):   call symput('NLTIME', strip(put(datetime(), NLTIME.)));
MPRINT(EM_DIAGRAM):   run;
MPRINT(EM_DIAGRAM):   data _null_;
MPRINT(EM_DIAGRAM):   nldate= sasmsg("sashelp.dmine", "log_date_note", 'N', "28. April 2016" );
MPRINT(EM_DIAGRAM):   nltime= sasmsg("sashelp.dmine", "log_time_note", 'N', "08.46 Uhr" );
MPRINT(EM_DIAGRAM):   put "*------------------------------------------------------------*";
MPRINT(EM_DIAGRAM):   put "* Training Log";
MPRINT(EM_DIAGRAM):   put nldate;
MPRINT(EM_DIAGRAM):   put nltime;
MPRINT(EM_DIAGRAM):   put "*------------------------------------------------------------*";
MPRINT(EM_DIAGRAM):   run;
*------------------------------------------------------------*
* Training Log
Date:                28. April 2016
Time:                08.46 Uhr
*------------------------------------------------------------*
MPRINT(EM_DIAGRAM):    filename O20MHUXL 
"C:\\predictive-models-project\Workspaces\EMWS8\Rule\EMTRAIN.out" encoding="UTF-8" NOBOM;
MPRINT(EM_DIAGRAM):   proc printto print=O20MHUXL new;
MPRINT(EM_DIAGRAM):   run;
MPRINT(EM_DIAGRAM):    filename _LOG 
"C:\\predictive-models-project\Workspaces\EMWS8\Rule\EMLOG.log" encoding="UTF-8" NOBOM;
MPRINT(EM_DIAGRAM):    data _null_;
MPRINT(EM_DIAGRAM):   call symput('NLDATE', strip(put(date(), NLDATE.)));
MPRINT(EM_DIAGRAM):   call symput('NLTIME', strip(put(datetime(), NLTIME.)));
MPRINT(EM_DIAGRAM):   run;
MPRINT(EM_DIAGRAM):   data _null_;
MPRINT(EM_DIAGRAM):   nldate= sasmsg("sashelp.dmine", "log_date_note", 'N', "28. April 2016" );
MPRINT(EM_DIAGRAM):   nltime= sasmsg("sashelp.dmine", "log_time_note", 'N', "08.46 Uhr" );
MPRINT(EM_DIAGRAM):   file _LOG;
MPRINT(EM_DIAGRAM):   put "*------------------------------------------------------------*";
MPRINT(EM_DIAGRAM):   put "User:                Lukas Fahr";
MPRINT(EM_DIAGRAM):   put nldate;
MPRINT(EM_DIAGRAM):   put nltime;
MPRINT(EM_DIAGRAM):   put "Site:                70107571";
MPRINT(EM_DIAGRAM):   put "Platform:            X64_7PRO";
MPRINT(EM_DIAGRAM):   put "Maintenance Release: 9.03.01M2P081512";
MPRINT(EM_DIAGRAM):   put "EM Version:          12.1";
MPRINT(EM_DIAGRAM):   put "* ";
MPRINT(EM_DIAGRAM):   run;
MPRINT(EM_DIAGRAM):    filename _LOGIN 
"C:\\predictive-models-project\Workspaces\EMWS8\Rule\EMTRAIN.log" encoding="UTF-8" NOBOM;
MPRINT(EM_COPYFILE):   data _null_;
MPRINT(EM_COPYFILE):   length line $20000;
MPRINT(EM_COPYFILE):   file _LOG MOD lrecl=20000;
MPRINT(EM_COPYFILE):   fid=fopen("_LOGIN",'i',20000,'v');
MPRINT(EM_COPYFILE):   if fid > 0 then do;
MPRINT(EM_COPYFILE):   do while(^fread(fid));
MPRINT(EM_COPYFILE):   rlen = frlen(fid);
MPRINT(EM_COPYFILE):   rc= fget(fid,line,20000);
MPRINT(EM_COPYFILE):   start = length(line)-length(left(line))+1;
MPRINT(EM_COPYFILE):   line=strip(line);
MPRINT(EM_COPYFILE):   put @start line;
MPRINT(EM_COPYFILE):   end;
MPRINT(EM_COPYFILE):   if fid > 0 then rc=fclose(fid);
MPRINT(EM_COPYFILE):   end;
MPRINT(EM_COPYFILE):   run;
MPRINT(EM_DIAGRAM):  ;
MPRINT(EM_DIAGRAM):   filename _LOGIN;
MPRINT(EM_DIAGRAM):    data _null_;
MPRINT(EM_DIAGRAM):   file _LOG mod;
MPRINT(EM_DIAGRAM):   put _page_;
MPRINT(EM_DIAGRAM):   run;
MPRINT(EM_DIAGRAM):   filename _LOGIN 
"C:\\predictive-models-project\Workspaces\EMWS8\Rule\EMSCORE.log" encoding="UTF-8" NOBOM;
MPRINT(EM_DIAGRAM):  ;
MPRINT(EM_DIAGRAM):   data _null_;
MPRINT(EM_DIAGRAM):   file _LOG mod;
MPRINT(EM_DIAGRAM):   put _page_;
MPRINT(EM_DIAGRAM):   run;
MPRINT(EM_DIAGRAM):    filename _LOGIN 
"C:\\predictive-models-project\Workspaces\EMWS8\Rule\EMREPORT.log" encoding="UTF-8" NOBOM;
MPRINT(EM_DIAGRAM):  ;
MPRINT(EM_DIAGRAM):   filename _LOGIN;
MPRINT(EM_DIAGRAM):    filename _LOG;
MPRINT(EM_DIAGRAM):    filename _OUT 
"C:\\predictive-models-project\Workspaces\EMWS8\Rule\EMOUTPUT.out" encoding="UTF-8" NOBOM;
MPRINT(EM_DIAGRAM):    data _null_;
MPRINT(EM_DIAGRAM):   call symput('NLDATE', strip(put(date(), NLDATE.)));
MPRINT(EM_DIAGRAM):   call symput('NLTIME', strip(put(datetime(), NLTIME.)));
MPRINT(EM_DIAGRAM):   run;
MPRINT(EM_DIAGRAM):   data _null_;
MPRINT(EM_DIAGRAM):   nldate= sasmsg("sashelp.dmine", "log_date_note", 'N', "28. April 2016" );
MPRINT(EM_DIAGRAM):   nltime= sasmsg("sashelp.dmine", "log_time_note", 'N', "08.46 Uhr" );
MPRINT(EM_DIAGRAM):   file _OUT;
MPRINT(EM_DIAGRAM):   put "*------------------------------------------------------------*";
MPRINT(EM_DIAGRAM):   put "User:                Lukas Fahr";
MPRINT(EM_DIAGRAM):   put nldate;
MPRINT(EM_DIAGRAM):   put nltime;
MPRINT(EM_DIAGRAM):   put "*------------------------------------------------------------*";
MPRINT(EM_DIAGRAM):   put "* Training Output";
MPRINT(EM_DIAGRAM):   put "*------------------------------------------------------------*";
MPRINT(EM_DIAGRAM):   run;
MPRINT(EM_DIAGRAM):    filename _OUTIN 
"C:\\predictive-models-project\Workspaces\EMWS8\Rule\EMTRAIN.out" encoding="UTF-8" NOBOM;
MPRINT(EM_DIAGRAM):   ;
MPRINT(EM_COPYFILE):   data _null_;
MPRINT(EM_COPYFILE):   length line $20000;
MPRINT(EM_COPYFILE):   file _OUT MOD lrecl=20000;
MPRINT(EM_COPYFILE):   fid=fopen("_OUTIN",'i',20000,'v');
MPRINT(EM_COPYFILE):   if fid > 0 then do;
MPRINT(EM_COPYFILE):   do while(^fread(fid));
MPRINT(EM_COPYFILE):   rlen = frlen(fid);
MPRINT(EM_COPYFILE):   rc= fget(fid,line,20000);
MPRINT(EM_COPYFILE):   start = length(line)-length(left(line))+1;
MPRINT(EM_COPYFILE):   line=strip(line);
MPRINT(EM_COPYFILE):   put @start line;
MPRINT(EM_COPYFILE):   end;
MPRINT(EM_COPYFILE):   if fid > 0 then rc=fclose(fid);
MPRINT(EM_COPYFILE):   end;
MPRINT(EM_COPYFILE):   run;
MPRINT(EM_DIAGRAM):  ;
MPRINT(EM_DIAGRAM):   filename _OUTIN;
MPRINT(EM_DIAGRAM):    data _null_;
MPRINT(EM_DIAGRAM):   file _OUT mod;
MPRINT(EM_DIAGRAM):   put _page_;
MPRINT(EM_DIAGRAM):   put // "*------------------------------------------------------------*";
MPRINT(EM_DIAGRAM):   put "* Score Output";
MPRINT(EM_DIAGRAM):   put "*------------------------------------------------------------*";
MPRINT(EM_DIAGRAM):   run;
MPRINT(EM_DIAGRAM):    filename _OUTIN 
"C:\\predictive-models-project\Workspaces\EMWS8\Rule\EMSCORE.out" encoding="UTF-8" NOBOM;
MPRINT(EM_DIAGRAM):  ;
MPRINT(EM_DIAGRAM):   filename _OUTIN;
MPRINT(EM_DIAGRAM):    data _null_;
MPRINT(EM_DIAGRAM):   file _OUT mod;
MPRINT(EM_DIAGRAM):   put _page_;
MPRINT(EM_DIAGRAM):   put // "*------------------------------------------------------------*";
MPRINT(EM_DIAGRAM):   put "* Report Output";
MPRINT(EM_DIAGRAM):   put "*------------------------------------------------------------*";
MPRINT(EM_DIAGRAM):   run;
MPRINT(EM_DIAGRAM):    filename _OUTIN 
"C:\\predictive-models-project\Workspaces\EMWS8\Rule\EMREPORT.out" encoding="UTF-8" NOBOM;
MPRINT(EM_DIAGRAM):  ;
MPRINT(EM_DIAGRAM):   filename _OUTIN;
MPRINT(EM_DIAGRAM):    filename _OUT;
MPRINT(EM_DIAGRAM):    filename _emtool_ 
'C:\\predictive-models-project\Workspaces\EMWS8\Rule\EMRUNSTATUS.xml' encoding="UTF-8" NOBOM;
681822     proc freq data=EMWS8.Rule_VariableSet noprint;
MPRINT(EM_DIAGRAM):    proc freq data=EMWS8.Rule_VariableSet noprint;
681823     table ROLE*LEVEL/out=WORK.RuleMETA;
MPRINT(EM_DIAGRAM):   table ROLE*LEVEL/out=WORK.RuleMETA;
681824     run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 34 observations read from the data set EMWS8.RULE_VARIABLESET.
NOTE: The data set WORK.RULEMETA has 5 observations and 4 variables.
NOTE: PROCEDURE FREQ used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      

681825     proc print data=WORK.RuleMETA label noobs;
MPRINT(EM_DIAGRAM):   proc print data=WORK.RuleMETA label noobs;
681826     var ROLE LEVEL COUNT;
MPRINT(EM_DIAGRAM):   var ROLE LEVEL COUNT;
681827     label ROLE = "%sysfunc(sasmsg(sashelp.dmine, meta_role_vlabel, NOQUOTE))" LEVEL =
681827   ! "%sysfunc(sasmsg(sashelp.dmine, meta_level_vlabel, NOQUOTE))" COUNT =
681827   ! "%sysfunc(sasmsg(sashelp.dmine, rpt_count_vlabel, NOQUOTE))";
MPRINT(EM_DIAGRAM):   label ROLE = "Role" LEVEL = "Measurement Level" COUNT = "Frequency 
Count";
681828     title9 ' ';
MPRINT(EM_DIAGRAM):   title9 ' ';
681829     title10 "%sysfunc(sasmsg(sashelp.dmine, rpt_varSummary_title  , NOQUOTE))";
MPRINT(EM_DIAGRAM):   title10 "Variable Summary";
MPRINT(EM_DIAGRAM):   run;
681830     run;

NOTE: There were 5 observations read from the data set WORK.RULEMETA.
NOTE: The PROCEDURE PRINT printed page 627.
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

681831     title10;
MPRINT(EM_DIAGRAM):   title10;
681832     %let EMNORLEN = %DMNORLEN;
MPRINT(EM_DIAGRAM):   
EMWS8.Meta_TRAIN EMWS8.Meta_TRAIN 
EMWS8.Meta_TRAIN EMWS8.Meta_TRAIN EMWS8 Meta_TRAIN 
EMWS8.Meta_TRAIN EMWS8.Meta_TRAIN 
EMWS8.Meta_TRAIN EMWS8.Meta_TRAIN EMWS8 Meta_TRAIN 
MPRINT(EM_DIAGRAM):    proc dmdb data=EMWS8.Meta_TRAIN 
classout=WORK._DMDBCLASSTARGET(keep=NAME NRAW CRAW LEVEL FREQUENCY NMISSPERCENT);
MPRINT(EM_DIAGRAM):   class DepVar(DESC) ;
MPRINT(EM_DIAGRAM):   run;
Executing  SASHELP.EMCORE.EMINFOITERATOR.SCL _INIT >> 
Executing  SASHELP.EMCORE.EMINFOITERATOR.SCL setMetaData >> 
Executing  SASHELP.EMCORE.EMINFOITERATOR.SCL next >> 
Executing  SASHELP.EMCORE.EMINFOITERATOR.SCL setMetaData >> 
Executing  SASHELP.EMCORE.EMINFOITERATOR.SCL next >> 
Executing  SASHELP.EMCORE.EMINFOITERATOR.SCL _term >> 
MPRINT(EM_DIAGRAM):    data _null_;
MPRINT(EM_DIAGRAM):   set WORK._DMDBCLASSTARGET;
MPRINT(EM_DIAGRAM):   where ^(NRAW eq . and CRAW eq '') and NAME="DepVar";
MPRINT(EM_DIAGRAM):   if _N_=1 then call symput('_newevent', strip(LEVEL));
MPRINT(EM_DIAGRAM):   run;
MPRINT(EM_DIAGRAM):   proc sort data=WORK._DMDBCLASSTARGET out=_TEMPCLASS(keep=LEVEL FREQUENCY 
NMISSPERCENT rename=(LEVEL=DepVar));
MPRINT(EM_DIAGRAM):   by LEVEL;
MPRINT(EM_DIAGRAM):   where ^(NRAW eq . and CRAW eq '') and NAME="DepVar";
MPRINT(EM_DIAGRAM):   run;
MPRINT(EM_DIAGRAM):   data _TEMPCLASS;
MPRINT(EM_DIAGRAM):   set _TEMPCLASS;
MPRINT(EM_DIAGRAM):   NMISSPERCENT= NMISSPERCENT/100;
MPRINT(EM_DIAGRAM):   run;
MPRINT(EM_DIAGRAM):    data _sortedDecData;
MPRINT(EM_DIAGRAM):   set EMWS8.Rule_DepVar_DD;
MPRINT(EM_DIAGRAM):   _levelorder_=_N_;
MPRINT(EM_DIAGRAM):   run;
MPRINT(EM_DIAGRAM):   proc sort data=_sortedDecdata;
MPRINT(EM_DIAGRAM):   by DepVar;
MPRINT(EM_DIAGRAM):   run;
MPRINT(EM_DIAGRAM):   data _null_;
MPRINT(EM_DIAGRAM):   merge _TEMPCLASS(in=_a) _sortedDecdata(in=_b);
MPRINT(EM_DIAGRAM):   by DepVar;
MPRINT(EM_DIAGRAM):   if (_a and ^_b) or (^_a and _b) then call symput('_emresetDec', '1');
MPRINT(EM_DIAGRAM):   run;
MPRINT(EM_DIAGRAM):    data EMWS8.Rule_DepVar_DD;
MPRINT(EM_DIAGRAM):   set EMWS8.Rule_DepVar_DD;
MPRINT(EM_DIAGRAM):   _levelorder_=_N_;
MPRINT(EM_DIAGRAM):   run;
MPRINT(EM_DIAGRAM):   proc sort data=EMWS8.Rule_DepVar_DD;
MPRINT(EM_DIAGRAM):   by DepVar;
MPRINT(EM_DIAGRAM):   run;
MPRINT(EM_DIAGRAM):   data EMWS8.Rule_DepVar_DD;
MPRINT(EM_DIAGRAM):   merge EMWS8.Rule_DepVar_DD _TEMPCLASS(rename=(NMISSPERCENT=TRAINPRIOR 
FREQUENCY=COUNT));
MPRINT(EM_DIAGRAM):   by DepVar;
MPRINT(EM_DIAGRAM):   run;
MPRINT(EM_DIAGRAM):   proc sort data=EMWS8.Rule_DepVar_DD 
out=EMWS8.Rule_DepVar_DD(drop=_levelorder_);
MPRINT(EM_DIAGRAM):   by _levelorder_;
MPRINT(EM_DIAGRAM):   run;
681879     data WORK.Rule_EVENT(KEEP=VARIABLE LABEL LEVEL EVENT NUMLEVELS ORDER);
MPRINT(EM_DIAGRAM):    data WORK.Rule_EVENT(KEEP=VARIABLE LABEL LEVEL EVENT NUMLEVELS ORDER);
681880     length ORDER $20;
MPRINT(EM_DIAGRAM):   length ORDER $20;
681881     label VARIABLE = "%sysfunc(sasmsg(sashelp.dmine, rpt_target_vlabel,  NOQUOTE))"
681881   ! EVENT = "%sysfunc(sasmsg(sashelp.dmine, assmt_event_vlabel, NOQUOTE))" NUMLEVELS =
681881   ! "%sysfunc(sasmsg(sashelp.dmine, rpt_numcat_vlabel, NOQUOTE))" LEVEL =
681882        "%sysfunc(sasmsg(sashelp.dmine, meta_level_vlabel, NOQUOTE))" ORDER =
681882   ! "%sysfunc(sasmsg(sashelp.dmine, meta_order_vlabel, NOQUOTE))" LABEL =
681882   ! "%sysfunc(sasmsg(sashelp.dmine, meta_label_vlabel, NOQUOTE))";
MPRINT(EM_DIAGRAM):   label VARIABLE = "Target" EVENT = "Event" NUMLEVELS = "Number of Levels" 
LEVEL = "Measurement Level" ORDER = "Order" LABEL = "Label";
681883     set EMWS8.RULE_DEPVAR_DM( where=(_TYPE_="TARGET"));
MPRINT(EM_DIAGRAM):   set EMWS8.RULE_DEPVAR_DM( where=(_TYPE_="TARGET"));
681884     NumLevels=2;
MPRINT(EM_DIAGRAM):   NumLevels=2;
681885     select(upcase(ORDER));
MPRINT(EM_DIAGRAM):   select(upcase(ORDER));
681886     when('DESC') ORDER = 'Descending';
MPRINT(EM_DIAGRAM):   when('DESC') ORDER = 'Descending';
681887     when('ASC') ORDER = 'Ascending';
MPRINT(EM_DIAGRAM):   when('ASC') ORDER = 'Ascending';
681888     when('FMTDESC') ORDER = 'Formatted Descending';
MPRINT(EM_DIAGRAM):   when('FMTDESC') ORDER = 'Formatted Descending';
681889     when('FMTASC') ORDER = 'Formatted Ascending';
MPRINT(EM_DIAGRAM):   when('FMTASC') ORDER = 'Formatted Ascending';
681890     otherwise ORDER = 'Descending';
MPRINT(EM_DIAGRAM):   otherwise ORDER = 'Descending';
681891     end;
MPRINT(EM_DIAGRAM):   end;
681892     output;
MPRINT(EM_DIAGRAM):   output;
681893     run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 1 observations read from the data set EMWS8.RULE_DEPVAR_DM.
      WHERE _TYPE_='TARGET';
NOTE: The data set WORK.RULE_EVENT has 1 observations and 6 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

681894     title9 ' ';
MPRINT(EM_DIAGRAM):   title9 ' ';
681895     proc print data=WORK.Rule_EVENT noobs label;
MPRINT(EM_DIAGRAM):   proc print data=WORK.Rule_EVENT noobs label;
681896     var VARIABLE EVENT LEVEL NUMLEVELS ORDER LABEL;
MPRINT(EM_DIAGRAM):   var VARIABLE EVENT LEVEL NUMLEVELS ORDER LABEL;
681897     title9 ' ';
MPRINT(EM_DIAGRAM):   title9 ' ';
681898     title10 "%sysfunc(sasmsg(sashelp.dmine, rpt_modelEvent_title  , NOQUOTE))";
MPRINT(EM_DIAGRAM):   title10 "Model Events";
MPRINT(EM_DIAGRAM):   run;
681899     run;

NOTE: There were 1 observations read from the data set WORK.RULE_EVENT.
NOTE: The PROCEDURE PRINT printed page 628.
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

681900     title10;
MPRINT(EM_DIAGRAM):   title10;
"No decisions defined for target "DepVar"." 
681901     proc print data = EMWS8.Rule_DepVar_DM noobs label;
MPRINT(EM_DIAGRAM):    proc print data = EMWS8.Rule_DepVar_DM noobs label;
681902     var _type_ variable label;
MPRINT(EM_DIAGRAM):   var _type_ variable label;
681903     where _type_ ^in('MATRIX', 'DECISION', 'TRAINPRIOR', 'DATAPRIOR', 'DECPRIOR');
MPRINT(EM_DIAGRAM):   where _type_ ^in('MATRIX', 'DECISION', 'TRAINPRIOR', 'DATAPRIOR', 
'DECPRIOR');
681904     label _TYPE_ = "%sysfunc(sasmsg(sashelp.dmine, rpt_type_vlabel,     NOQUOTE))"
681904   ! VARIABLE = "%sysfunc(sasmsg(sashelp.dmine, rpt_variable_vlabel, NOQUOTE))" LABEL =
681904   ! "%sysfunc(sasmsg(sashelp.dmine, meta_label_vlabel, NOQUOTE))";
MPRINT(EM_DIAGRAM):   label _TYPE_ = "Type" VARIABLE = "Variable" LABEL = "Label";
681905     title9 ' ';
MPRINT(EM_DIAGRAM):   title9 ' ';
681906     title10 "%sysfunc(sasmsg(sashelp.dmine, rpt_predDecVars_title  , NOQUOTE))";
MPRINT(EM_DIAGRAM):   title10 "Predicted and decision variables";
MPRINT(EM_DIAGRAM):   run;
681907     run;

NOTE: There were 7 observations read from the data set EMWS8.RULE_DEPVAR_DM.
      WHERE _type_ not in ('DATAPRIOR', 'DECISION', 'DECPRIOR', 'MATRIX', 'TRAINPRIOR');
NOTE: The PROCEDURE PRINT printed page 629.
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

681908     title10;
MPRINT(EM_DIAGRAM):   title10;
681909     data WORK.M1KMIG57;
MPRINT(EM_DIAGRAM):    data WORK.M1KMIG57;
681910     set WORK.M1KMIG57;
MPRINT(EM_DIAGRAM):   set WORK.M1KMIG57;
681911     where(use = 'Y' or (role = 'INPUT' and use = 'D'));
MPRINT(EM_DIAGRAM):   where(use = 'Y' or (role = 'INPUT' and use = 'D'));
681912     if (role='REJECTED') then role='INPUT';
MPRINT(EM_DIAGRAM):   if (role='REJECTED') then role='INPUT';
681913     run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 33 observations read from the data set WORK.M1KMIG57.
      WHERE (use='Y') or ((role='INPUT') and (use='D'));
NOTE: The data set WORK.M1KMIG57 has 33 observations and 21 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

681914     *------------------------------------------------------------* ;
MPRINT(EM_DIAGRAM):    *------------------------------------------------------------* ;
681915     * EM: DMDBClass Macro ;
MPRINT(EM_DIAGRAM):   * EM: DMDBClass Macro ;
681916     *------------------------------------------------------------* ;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------* ;
681917     %macro DMDBClass;
681918         AcceptedCmp1(ASC) AcceptedCmp2(ASC) AcceptedCmp3(ASC) AcceptedCmp4(ASC)
681919        AcceptedCmp5(ASC) Complain(ASC) DepVar(DESC) Education(ASC)
681920        HigherEducationBinary(ASC) Marital_Status(ASC)
681921     %mend DMDBClass;
681922     *------------------------------------------------------------* ;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------* ;
681923     * EM: DMDBVar Macro ;
MPRINT(EM_DIAGRAM):   * EM: DMDBVar Macro ;
681924     *------------------------------------------------------------* ;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------* ;
681925     %macro DMDBVar;
681926         AcceptedCmpTotal Age Frq Income Kidhome Mnt MntFishProducts MntFruits
681927        MntGoldProds MntMeatProducts MntSweetProducts MntWines MonthsAsCustomer
681928        NumCatalogPurchases NumDealsPurchases NumDistPurchases NumStorePurchases
681929        NumWebPurchases NumWebVisitsMonth RFMstat RMntFrq Recency Teenhome
681930     %mend DMDBVar;
681931     *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
681932     * EM: Create DMDB;
MPRINT(EM_DIAGRAM):   * EM: Create DMDB;
681933     *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
681934     proc dmdb batch data=EMWS8.Meta_TRAIN
681935     dmdbcat=WORK.EM_DMDB
681936     maxlevel = 513
681937     ;
MPRINT(EM_DIAGRAM):   proc dmdb batch data=EMWS8.Meta_TRAIN dmdbcat=WORK.EM_DMDB maxlevel = 
513 ;
MPRINT(EM_DIAGRAM):   class
681938     class %DMDBClass;
MPRINT(DMDBCLASS):   AcceptedCmp1(ASC) AcceptedCmp2(ASC) AcceptedCmp3(ASC) AcceptedCmp4(ASC) 
AcceptedCmp5(ASC) Complain(ASC) DepVar(DESC) Education(ASC) HigherEducationBinary(ASC) 
Marital_Status(ASC)
MPRINT(EM_DIAGRAM):  ;
MPRINT(EM_DIAGRAM):   var
681939     var %DMDBVar;
MPRINT(DMDBVAR):   AcceptedCmpTotal Age Frq Income Kidhome Mnt MntFishProducts MntFruits 
MntGoldProds MntMeatProducts MntSweetProducts MntWines MonthsAsCustomer NumCatalogPurchases 
NumDealsPurchases NumDistPurchases NumStorePurchases NumWebPurchases NumWebVisitsMonth RFMstat 
RMntFrq Recency Teenhome
MPRINT(EM_DIAGRAM):  ;
681940     target
681941     DepVar
681942     ;
MPRINT(EM_DIAGRAM):   target DepVar ;
681943     run;
MPRINT(EM_DIAGRAM):   run;

NOTE: Records processed = 2374   Memory used = 511K.
NOTE: View EMWS8.META_TRAIN.VIEW used (Total process time):
      real time           0.02 seconds
      cpu time            0.03 seconds
      
NOTE: There were 2374 observations read from the data set EMWS8.PART_TRAIN.
NOTE: There were 2374 observations read from the data set EMWS8.META_TRAIN.
NOTE: PROCEDURE DMDB used (Total process time):
      real time           0.02 seconds
      cpu time            0.03 seconds
      

MPRINT(EM_DIAGRAM):   quit;
MPRINT(EM_DIAGRAM):   *--- end code ---*;
681944     quit;
681945     *--- end code ---*;

681946     data WORK.M1KMIG57;
MPRINT(EM_DIAGRAM):    data WORK.M1KMIG57;
681947     set WORK.M1KMIG57 end=eof;
MPRINT(EM_DIAGRAM):   set WORK.M1KMIG57 end=eof;
681948     output;
MPRINT(EM_DIAGRAM):   output;
681949     if eof then do;
MPRINT(EM_DIAGRAM):   if eof then do;
681950     NAME="";
MPRINT(EM_DIAGRAM):   NAME="";
681951     ROLE="COST";
MPRINT(EM_DIAGRAM):   ROLE="COST";
681952     LEVEL="INTERVAL";
MPRINT(EM_DIAGRAM):   LEVEL="INTERVAL";
681953     TYPE="N";
MPRINT(EM_DIAGRAM):   TYPE="N";
681954     output;
MPRINT(EM_DIAGRAM):   output;
681955     end;
MPRINT(EM_DIAGRAM):   end;
681956     run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 33 observations read from the data set WORK.M1KMIG57.
NOTE: The data set WORK.M1KMIG57 has 34 observations and 21 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

NOTE: There were 2 observations read from the data set EMWS8.RULE_DEPVAR_DD.
NOTE: The data set WORK.DEPVAR has 2 observations and 7 variables.
681957     *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):    *------------------------------------------------------------*;
681958     * Rule: Create decision matrix;
MPRINT(EM_DIAGRAM):   * Rule: Create decision matrix;
681959     *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
681960     data WORK.DepVar;
MPRINT(EM_DIAGRAM):   data WORK.DepVar;
681961       length   DepVar                           $  32
681962                COUNT                                8
681963                DATAPRIOR                            8
681964                TRAINPRIOR                           8
681965                DECPRIOR                             8
681966                DECISION1                            8
681967                DECISION2                            8
681968                ;
MPRINT(EM_DIAGRAM):   length DepVar $ 32 COUNT 8 DATAPRIOR 8 TRAINPRIOR 8 DECPRIOR 8 DECISION1 
8 DECISION2 8 ;
681969     
681970       label    COUNT="Level Counts"
681971                DATAPRIOR="Data Proportions"
681972                TRAINPRIOR="Training Proportions"
681973                DECPRIOR="Decision Priors"
681974                DECISION1="1"
681975                DECISION2="0"
681976                ;
MPRINT(EM_DIAGRAM):   label COUNT= "Level Counts" DATAPRIOR= "Data Proportions" TRAINPRIOR= 
"Training Proportions" DECPRIOR= "Decision Priors" DECISION1= "1" DECISION2= "0" ;
681977       format   COUNT 10.
681978                ;
MPRINT(EM_DIAGRAM):   format COUNT 10. ;
681979     DepVar="1"; COUNT=359; DATAPRIOR=0.151221567; TRAINPRIOR=0.15122156697556;
681979   ! DECPRIOR=.; DECISION1=1; DECISION2=0;
MPRINT(EM_DIAGRAM):   DepVar="1";
MPRINT(EM_DIAGRAM):   COUNT=359;
MPRINT(EM_DIAGRAM):   DATAPRIOR=0.151221567;
MPRINT(EM_DIAGRAM):   TRAINPRIOR=0.15122156697556;
MPRINT(EM_DIAGRAM):   DECPRIOR=.;
MPRINT(EM_DIAGRAM):   DECISION1=1;
MPRINT(EM_DIAGRAM):   DECISION2=0;
681980     output;
MPRINT(EM_DIAGRAM):   output;
681981     DepVar="0"; COUNT=2015; DATAPRIOR=0.848778433; TRAINPRIOR=0.84877843302443;
681981   ! DECPRIOR=.; DECISION1=0; DECISION2=1;
MPRINT(EM_DIAGRAM):   DepVar="0";
MPRINT(EM_DIAGRAM):   COUNT=2015;
MPRINT(EM_DIAGRAM):   DATAPRIOR=0.848778433;
MPRINT(EM_DIAGRAM):   TRAINPRIOR=0.84877843302443;
MPRINT(EM_DIAGRAM):   DECPRIOR=.;
MPRINT(EM_DIAGRAM):   DECISION1=0;
MPRINT(EM_DIAGRAM):   DECISION2=1;
681982     output;
MPRINT(EM_DIAGRAM):   output;
681983     ;
MPRINT(EM_DIAGRAM):   ;
681984     run;
MPRINT(EM_DIAGRAM):   run;

NOTE: The data set WORK.DEPVAR has 2 observations and 7 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

681985     proc datasets lib=work nolist;
MPRINT(EM_DIAGRAM):   proc datasets lib=work nolist;
681986     modify DepVar(type=PROFIT label=DepVar);
MPRINT(EM_DIAGRAM):   modify DepVar(type=PROFIT label= DepVar);
MPRINT(EM_DIAGRAM):   label DECISION1= '1';
MPRINT(EM_DIAGRAM):   label DECISION2= '0';
MPRINT(EM_DIAGRAM):   run;
681987     label DECISION1= '1';
681988     label DECISION2= '0';
681989     run;

NOTE: MODIFY was successful for WORK.DEPVAR.DATA.
681990     quit;
MPRINT(EM_DIAGRAM):   quit;

NOTE: PROCEDURE DATASETS used (Total process time):
      real time           0.02 seconds
      cpu time            0.03 seconds
      

MPRINT(EM_DIAGRAM):   *------------------------------------------------------------* ;
MPRINT(EM_DIAGRAM):   * Rule: DMDBClass Macro ;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------* ;
681991     *------------------------------------------------------------* ;
681992     * Rule: DMDBClass Macro ;
681993     *------------------------------------------------------------* ;
681994     %macro DMDBClass;
681995         AcceptedCmp1(ASC) AcceptedCmp2(ASC) AcceptedCmp3(ASC) AcceptedCmp4(ASC)
681996        AcceptedCmp5(ASC) Complain(ASC) DepVar(DESC) Education(ASC)
681997        HigherEducationBinary(ASC) Marital_Status(ASC)
681998     %mend DMDBClass;
681999     *------------------------------------------------------------* ;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------* ;
682000     * Rule: DMDBVar Macro ;
MPRINT(EM_DIAGRAM):   * Rule: DMDBVar Macro ;
682001     *------------------------------------------------------------* ;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------* ;
682002     %macro DMDBVar;
682003         AcceptedCmpTotal Age Frq Income Kidhome Mnt MntFishProducts MntFruits
682004        MntGoldProds MntMeatProducts MntSweetProducts MntWines MonthsAsCustomer
682005        NumCatalogPurchases NumDealsPurchases NumDistPurchases NumStorePurchases
682006        NumWebPurchases NumWebVisitsMonth RFMstat RMntFrq Recency Teenhome
682007     %mend DMDBVar;
682008     *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
682009     * Rule: Create DMDB;
MPRINT(EM_DIAGRAM):   * Rule: Create DMDB;
682010     *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
682011     proc dmdb batch data=EMWS8.Meta_TRAIN
682012     dmdbcat=WORK.Rule_DMDB
682013     maxlevel = 513
682014     ;
MPRINT(EM_DIAGRAM):   proc dmdb batch data=EMWS8.Meta_TRAIN dmdbcat=WORK.Rule_DMDB maxlevel = 
513 ;
MPRINT(EM_DIAGRAM):   class
682015     class %DMDBClass;
MPRINT(DMDBCLASS):   AcceptedCmp1(ASC) AcceptedCmp2(ASC) AcceptedCmp3(ASC) AcceptedCmp4(ASC) 
AcceptedCmp5(ASC) Complain(ASC) DepVar(DESC) Education(ASC) HigherEducationBinary(ASC) 
Marital_Status(ASC)
MPRINT(EM_DIAGRAM):  ;
MPRINT(EM_DIAGRAM):   var
682016     var %DMDBVar;
MPRINT(DMDBVAR):   AcceptedCmpTotal Age Frq Income Kidhome Mnt MntFishProducts MntFruits 
MntGoldProds MntMeatProducts MntSweetProducts MntWines MonthsAsCustomer NumCatalogPurchases 
NumDealsPurchases NumDistPurchases NumStorePurchases NumWebPurchases NumWebVisitsMonth RFMstat 
RMntFrq Recency Teenhome
MPRINT(EM_DIAGRAM):  ;
682017     target
682018     DepVar
682019     ;
MPRINT(EM_DIAGRAM):   target DepVar ;
682020     run;
MPRINT(EM_DIAGRAM):   run;

NOTE: Records processed = 2374   Memory used = 511K.
NOTE: View EMWS8.META_TRAIN.VIEW used (Total process time):
      real time           0.02 seconds
      cpu time            0.01 seconds
      
NOTE: There were 2374 observations read from the data set EMWS8.PART_TRAIN.
NOTE: There were 2374 observations read from the data set EMWS8.META_TRAIN.
NOTE: PROCEDURE DMDB used (Total process time):
      real time           0.02 seconds
      cpu time            0.03 seconds
      

MPRINT(EM_DIAGRAM):   quit;
MPRINT(EM_DIAGRAM):   *--- end code ---*;
682021     quit;
682022     *--- end code ---*;

682023     data WORK.M0416Q30;
MPRINT(EM_DIAGRAM):    data WORK.M0416Q30;
682024     set WORK.M0416Q30;
MPRINT(EM_DIAGRAM):   set WORK.M0416Q30;
682025     if NAME^='DepVar' then delete;
MPRINT(EM_DIAGRAM):   if NAME^='DepVar' then delete;
682026     run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 34 observations read from the data set WORK.M0416Q30.
NOTE: The data set WORK.M0416Q30 has 1 observations and 21 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

682027     *------------------------------------------------------------* ;
MPRINT(EM_DIAGRAM):    *------------------------------------------------------------* ;
682028     * EM: DMDBClass Macro ;
MPRINT(EM_DIAGRAM):   * EM: DMDBClass Macro ;
682029     *------------------------------------------------------------* ;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------* ;
682030     %macro DMDBClass;
682031         DepVar(DESC)
682032     %mend DMDBClass;
682033     *------------------------------------------------------------* ;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------* ;
682034     * EM: DMDBVar Macro ;
MPRINT(EM_DIAGRAM):   * EM: DMDBVar Macro ;
682035     *------------------------------------------------------------* ;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------* ;
682036     %macro DMDBVar;
682037     
682038     %mend DMDBVar;
682039     *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
682040     * EM: Create DMDB;
MPRINT(EM_DIAGRAM):   * EM: Create DMDB;
682041     *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
682042     proc dmdb batch data=EMWS8.Meta_TRAIN
682043     dmdbcat=WORK.EM_DMDB
682044     maxlevel = 513
682045     ;
MPRINT(EM_DIAGRAM):   proc dmdb batch data=EMWS8.Meta_TRAIN dmdbcat=WORK.EM_DMDB maxlevel = 
513 ;
MPRINT(EM_DIAGRAM):   class
682046     class %DMDBClass;
MPRINT(DMDBCLASS):   DepVar(DESC)
MPRINT(EM_DIAGRAM):  ;
682047     target
682048     DepVar
682049     ;
MPRINT(EM_DIAGRAM):   target DepVar ;
682050     run;
MPRINT(EM_DIAGRAM):   run;

NOTE: Records processed = 2374   Memory used = 511K.
NOTE: View EMWS8.META_TRAIN.VIEW used (Total process time):
      real time           0.02 seconds
      cpu time            0.01 seconds
      
NOTE: There were 2374 observations read from the data set EMWS8.PART_TRAIN.
NOTE: There were 2374 observations read from the data set EMWS8.META_TRAIN.
NOTE: PROCEDURE DMDB used (Total process time):
      real time           0.03 seconds
      cpu time            0.01 seconds
      

MPRINT(EM_DIAGRAM):   quit;
MPRINT(EM_DIAGRAM):   *--- end code ---*;
682051     quit;
682052     *--- end code ---*;

682053     *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):    *------------------------------------------------------------*;
682054     * Rule Induction Training;
MPRINT(EM_DIAGRAM):   * Rule Induction Training;
682055     *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;

682056     * Get counts for DepVar;
MPRINT(EM_DIAGRAM):    * Get counts for DepVar;
682057     ;
MPRINT(EM_DIAGRAM):   ;
682058     data _scr(keep= _level_ DepVar);
MPRINT(EM_DIAGRAM):   data _scr(keep= _level_ DepVar);
682059     set EMWS8.Meta_TRAIN;
MPRINT(EM_DIAGRAM):   set EMWS8.Meta_TRAIN;
682060     length _level_ $16;
MPRINT(EM_DIAGRAM):   length _level_ $16;
682061     label _level_ = "%sysfunc(sasmsg(sashelp.dmine, rpt_rulelevel_vlabel, NOQUOTE,
682061   ! DepVar))";
MPRINT(EM_DIAGRAM):   label _level_ = "DepVar";
682062     _tmp=putn(DepVar, 'best.');
MPRINT(EM_DIAGRAM):   _tmp=putn(DepVar, 'best.');
682063     %DMNORMCP(_tmp, _level_);
MPRINT(DMNORMCP):   _level_=dmnorm(_tmp,
MPRINT(DMNORLEN):  32
MPRINT(DMNORMCP):  );
MPRINT(EM_DIAGRAM):  ;
682064     run;
MPRINT(EM_DIAGRAM):   run;

NOTE: View EMWS8.META_TRAIN.VIEW used (Total process time):
      real time           0.02 seconds
      cpu time            0.03 seconds
      
NOTE: There were 2374 observations read from the data set EMWS8.PART_TRAIN.
NOTE: There were 2374 observations read from the data set EMWS8.META_TRAIN.
NOTE: The data set WORK._SCR has 2374 observations and 2 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.03 seconds
      

682065     proc freq data=_scr noprint;
MPRINT(EM_DIAGRAM):   proc freq data=_scr noprint;
682066     table _level_ / out=_count;
MPRINT(EM_DIAGRAM):   table _level_ / out=_count;
682067     run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 2374 observations read from the data set WORK._SCR.
NOTE: The data set WORK._COUNT has 2 observations and 3 variables.
NOTE: PROCEDURE FREQ used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

682068     * Get Normalized counts for DepVar;
MPRINT(EM_DIAGRAM):    * Get Normalized counts for DepVar;
682069     ;
MPRINT(EM_DIAGRAM):   ;
682070     data _scr(keep= _level_ DepVar);
MPRINT(EM_DIAGRAM):   data _scr(keep= _level_ DepVar);
682071     set EMWS8.Meta_VALIDATE;
MPRINT(EM_DIAGRAM):   set EMWS8.Meta_VALIDATE;
682072     length _level_ $16;
MPRINT(EM_DIAGRAM):   length _level_ $16;
682073     label _level_ = "%sysfunc(sasmsg(sashelp.dmine, rpt_rulelevel_vlabel, NOQUOTE,
682073   ! DepVar))";
MPRINT(EM_DIAGRAM):   label _level_ = "DepVar";
682074     _tmp = putn(DepVar, 'best.');
MPRINT(EM_DIAGRAM):   _tmp = putn(DepVar, 'best.');
682075     %DMNORMCP(_tmp, _level_);
MPRINT(DMNORMCP):   _level_=dmnorm(_tmp,
MPRINT(DMNORLEN):  32
MPRINT(DMNORMCP):  );
MPRINT(EM_DIAGRAM):  ;
682076     run;
MPRINT(EM_DIAGRAM):   run;

NOTE: View EMWS8.META_VALIDATE.VIEW used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      
NOTE: There were 1018 observations read from the data set EMWS8.PART_VALIDATE.
NOTE: There were 1018 observations read from the data set EMWS8.META_VALIDATE.
NOTE: The data set WORK._SCR has 1018 observations and 2 variables.
NOTE: DATA statement used (Total process time):
      real time           0.02 seconds
      cpu time            0.03 seconds
      

682077     proc freq data=_scr noprint;
MPRINT(EM_DIAGRAM):   proc freq data=_scr noprint;
682078     table _level_ / out= _vcount;
MPRINT(EM_DIAGRAM):   table _level_ / out= _vcount;
682079     run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 1018 observations read from the data set WORK._SCR.
NOTE: The data set WORK._VCOUNT has 2 observations and 3 variables.
NOTE: PROCEDURE FREQ used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

682080     data _vcount;
MPRINT(EM_DIAGRAM):    data _vcount;
682081     set _vcount;
MPRINT(EM_DIAGRAM):   set _vcount;
682082     label count = "%sysfunc(sasmsg(sashelp.dmine, rpt_validcount_vlabel, NOQUOTE))";
MPRINT(EM_DIAGRAM):   label count = "Valid Count";
682083     label percent = "%sysfunc(sasmsg(sashelp.dmine, rpt_validpercent_vlabel, NOQUOTE))";
MPRINT(EM_DIAGRAM):   label percent = "Valid Percent";
682084     rename count = vcount;
MPRINT(EM_DIAGRAM):   rename count = vcount;
682085     rename percent = vpercent;
MPRINT(EM_DIAGRAM):   rename percent = vpercent;
682086     run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 2 observations read from the data set WORK._VCOUNT.
NOTE: The data set WORK._VCOUNT has 2 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

682087     data _count;
MPRINT(EM_DIAGRAM):   data _count;
682088     merge _count _vcount;
MPRINT(EM_DIAGRAM):   merge _count _vcount;
682089     by _level_;
MPRINT(EM_DIAGRAM):   by _level_;
682090     run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 2 observations read from the data set WORK._COUNT.
NOTE: There were 2 observations read from the data set WORK._VCOUNT.
NOTE: The data set WORK._COUNT has 2 observations and 5 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

682091     data _count;
MPRINT(EM_DIAGRAM):    data _count;
682092     set _count;
MPRINT(EM_DIAGRAM):   set _count;
682093     label count = "%sysfunc(sasmsg(sashelp.dmine, rpt_traincount_vlabel, NOQUOTE))";
MPRINT(EM_DIAGRAM):   label count = "Train Count";
682094     label percent = "%sysfunc(sasmsg(sashelp.dmine, rpt_trainpercent_vlabel, NOQUOTE))";
MPRINT(EM_DIAGRAM):   label percent = "Train Percent";
682095     run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 2 observations read from the data set WORK._COUNT.
NOTE: The data set WORK._COUNT has 2 observations and 5 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      

682096     proc sort data=_count;
MPRINT(EM_DIAGRAM):   proc sort data=_count;
682097     by DESCENDING count;
MPRINT(EM_DIAGRAM):   by DESCENDING count;
682098     run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 2 observations read from the data set WORK._COUNT.
NOTE: The data set WORK._COUNT has 2 observations and 5 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

MPRINT(EM_DIAGRAM):   *;
682099     *;
682100     title9 "%sysfunc(sasmsg(sashelp.dmine, rpt_tarfreq_title, NOQUOTE, DepVar))";
MPRINT(EM_DIAGRAM):   title9 "Target=DepVar: Frequencies";
MPRINT(EM_DIAGRAM):   *;
682101     *;
682102     proc print data=_count noobs label;
MPRINT(EM_DIAGRAM):   proc print data=_count noobs label;
682103     run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 2 observations read from the data set WORK._COUNT.
NOTE: The PROCEDURE PRINT printed page 630.
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

682104     title9;
MPRINT(EM_DIAGRAM):   title9;
682105     data WORK.M2Y696F5;
MPRINT(EM_DIAGRAM):    data WORK.M2Y696F5;
682106     set WORK.M2Y696F5;
MPRINT(EM_DIAGRAM):   set WORK.M2Y696F5;
682107     if NAME^='DepVar' then delete;
MPRINT(EM_DIAGRAM):   if NAME^='DepVar' then delete;
682108     run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 34 observations read from the data set WORK.M2Y696F5.
NOTE: The data set WORK.M2Y696F5 has 1 observations and 21 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

682109     *------------------------------------------------------------* ;
MPRINT(EM_DIAGRAM):    *------------------------------------------------------------* ;
682110     * EM: DMDBClass Macro ;
MPRINT(EM_DIAGRAM):   * EM: DMDBClass Macro ;
682111     *------------------------------------------------------------* ;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------* ;
682112     %macro DMDBClass;
682113         DepVar(DESC)
682114     %mend DMDBClass;
682115     *------------------------------------------------------------* ;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------* ;
682116     * EM: DMDBVar Macro ;
MPRINT(EM_DIAGRAM):   * EM: DMDBVar Macro ;
682117     *------------------------------------------------------------* ;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------* ;
682118     %macro DMDBVar;
682119     
682120     %mend DMDBVar;
682121     *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
682122     * EM: Create DMDB;
MPRINT(EM_DIAGRAM):   * EM: Create DMDB;
682123     *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
682124     proc dmdb batch data=EMWS8.Meta_TRAIN
682125     dmdbcat=WORK.EM_DMDB
682126     maxlevel = 513
682127     ;
MPRINT(EM_DIAGRAM):   proc dmdb batch data=EMWS8.Meta_TRAIN dmdbcat=WORK.EM_DMDB maxlevel = 
513 ;
MPRINT(EM_DIAGRAM):   class
682128     class %DMDBClass;
MPRINT(DMDBCLASS):   DepVar(DESC)
MPRINT(EM_DIAGRAM):  ;
682129     target
682130     DepVar
682131     ;
MPRINT(EM_DIAGRAM):   target DepVar ;
682132     run;
MPRINT(EM_DIAGRAM):   run;

NOTE: Records processed = 2374   Memory used = 511K.
NOTE: View EMWS8.META_TRAIN.VIEW used (Total process time):
      real time           0.02 seconds
      cpu time            0.03 seconds
      
NOTE: There were 2374 observations read from the data set EMWS8.PART_TRAIN.
NOTE: There were 2374 observations read from the data set EMWS8.META_TRAIN.
NOTE: PROCEDURE DMDB used (Total process time):
      real time           0.02 seconds
      cpu time            0.03 seconds
      

MPRINT(EM_DIAGRAM):   quit;
MPRINT(EM_DIAGRAM):   *--- end code ---*;
682133     quit;
682134     *--- end code ---*;

682135     *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):    *------------------------------------------------------------*;
682136     * Rip Model 1;
MPRINT(EM_DIAGRAM):   * Rip Model 1;
682137     *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
682138     *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
682139     * TREE MODEL DepVar BINARY RIP1;
MPRINT(EM_DIAGRAM):   * TREE MODEL DepVar BINARY RIP1;
682140     *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;

MPRINT(EM_DIAGRAM):   reset noprint;
MPRINT(EM_DIAGRAM):   select count(*) into :_tmpnobs from EMWS8.Meta_TRAIN;
NOTE: View EMWS8.META_TRAIN.VIEW used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      
NOTE: There were 2374 observations read from the data set EMWS8.PART_TRAIN.
MPRINT(EM_DIAGRAM):   quit;
682141     *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):    *------------------------------------------------------------*;
682142     * Rule: Create decision matrix;
MPRINT(EM_DIAGRAM):   * Rule: Create decision matrix;
682143     *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
682144     *------------------------------------------------------------* ;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------* ;
682145     * Rule: Tree Variables Macro ;
MPRINT(EM_DIAGRAM):   * Rule: Tree Variables Macro ;
682146     *------------------------------------------------------------* ;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------* ;
682147     %macro EM_TREEVARS;
682148         AcceptedCmp1 AcceptedCmp2 AcceptedCmp3 AcceptedCmp4 AcceptedCmp5
682149        AcceptedCmpTotal Age Complain Education Frq HigherEducationBinary Income
682150        Kidhome Marital_Status Mnt MntFishProducts MntFruits MntGoldProds
682151        MntMeatProducts MntSweetProducts MntWines MonthsAsCustomer NumCatalogPurchases
682152        NumDealsPurchases NumDistPurchases NumStorePurchases NumWebPurchases
682153        NumWebVisitsMonth RFMstat RMntFrq Recency Teenhome
682154     %mend EM_TREEVARS;
682155     *------------------------------------------------------------* ;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------* ;
682156     * Rule: Tree Targets Macro ;
MPRINT(EM_DIAGRAM):   * Rule: Tree Targets Macro ;
682157     *------------------------------------------------------------* ;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------* ;
682158     %macro EM_TREETARGETS;
682159         DepVar
682160     %mend EM_TREETARGETS;
682161     data WORK.EM_Rule / view=WORK.EM_Rule;
MPRINT(EM_DIAGRAM):   data WORK.EM_Rule / view=WORK.EM_Rule;
682162     set
682162   ! EMWS8.Meta_TRAIN(keep=%EM_TREEVARS %EM_TREETARGETS);
MPRINT(EM_DIAGRAM):   set EMWS8.Meta_TRAIN(keep
MPRINT(EM_DIAGRAM):  =AcceptedCmp1 AcceptedCmp2 AcceptedCmp3 AcceptedCmp4 AcceptedCmp5 
AcceptedCmpTotal Age Complain Education Frq HigherEducationBinary Income Kidhome 
Marital_Status Mnt MntFishProducts MntFruits MntGoldProds MntMeatProducts MntSweetProducts 
MntWines MonthsAsCustomer NumCatalogPurchases NumDealsPurchases NumDistPurchases 
NumStorePurchases NumWebPurchases NumWebVisitsMonth RFMstat RMntFrq Recency Teenhome DepVar);
682163     run;
MPRINT(EM_DIAGRAM):   run;

NOTE: DATA STEP view saved on file WORK.EM_RULE.
The SAS System

NOTE: A stored DATA STEP view cannot run under a different operating system.
NOTE: View EMWS8.META_TRAIN.VIEW used (Total process time):
      real time           0.02 seconds
      cpu time            0.03 seconds
      
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.03 seconds
      

MPRINT(EM_DIAGRAM):   *------------------------------------------------------------* ;
MPRINT(EM_DIAGRAM):   * Rule: Interval Inputs Macro ;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------* ;
682164     *------------------------------------------------------------* ;
682165     * Rule: Interval Inputs Macro ;
682166     *------------------------------------------------------------* ;
682167     %macro INTINPUTS;
682168         AcceptedCmpTotal Age Frq Income Kidhome Mnt MntFishProducts MntFruits
682169        MntGoldProds MntMeatProducts MntSweetProducts MntWines MonthsAsCustomer
682170        NumCatalogPurchases NumDealsPurchases NumDistPurchases NumStorePurchases
682171        NumWebPurchases NumWebVisitsMonth RFMstat RMntFrq Recency Teenhome
682172     %mend INTINPUTS;
682173     *------------------------------------------------------------* ;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------* ;
682174     * Rule: Binary and Nominal Inputs Macro ;
MPRINT(EM_DIAGRAM):   * Rule: Binary and Nominal Inputs Macro ;
682175     *------------------------------------------------------------* ;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------* ;
682176     %macro NOMINPUTS;
682177         AcceptedCmp1 AcceptedCmp2 AcceptedCmp3 AcceptedCmp4 AcceptedCmp5 Complain
682178        Education HigherEducationBinary Marital_Status
682179     %mend NOMINPUTS;
682180     *------------------------------------------------------------* ;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------* ;
682181     * Rule: Ordinal Inputs Macro ;
MPRINT(EM_DIAGRAM):   * Rule: Ordinal Inputs Macro ;
682182     *------------------------------------------------------------* ;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------* ;
682183     %macro ORDINPUTS;
682184     
682185     %mend ORDINPUTS;
682186     *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
682187     * Rule: Run ARBOR procedure;
MPRINT(EM_DIAGRAM):   * Rule: Run ARBOR procedure;
682188     *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;

682189     proc arbor data=WORK.EM_Rule
682190     Leafsize=50
682191     Mincatsize = 5
682192     Maxdepth=4
682193     Missing=USEINSEARCH
682194     ;
MPRINT(EM_DIAGRAM):    proc arbor data=WORK.EM_Rule Leafsize=50 Mincatsize = 5 Maxdepth=4 
Missing=USEINSEARCH ;
682195     ;
MPRINT(EM_DIAGRAM):   ;
MPRINT(EM_DIAGRAM):   input
682196     input %INTINPUTS
MPRINT(INTINPUTS):   AcceptedCmpTotal Age Frq Income Kidhome Mnt MntFishProducts MntFruits 
MntGoldProds MntMeatProducts MntSweetProducts MntWines MonthsAsCustomer NumCatalogPurchases 
NumDealsPurchases NumDistPurchases NumStorePurchases NumWebPurchases NumWebVisitsMonth RFMstat 
RMntFrq Recency Teenhome
682197     / level = interval;
MPRINT(EM_DIAGRAM):   / level = interval;
MPRINT(EM_DIAGRAM):   input
682198     input %NOMINPUTS
MPRINT(NOMINPUTS):   AcceptedCmp1 AcceptedCmp2 AcceptedCmp3 AcceptedCmp4 AcceptedCmp5 Complain 
Education HigherEducationBinary Marital_Status
682199     / level=nominal;
MPRINT(EM_DIAGRAM):   / level=nominal;
682200     target DepVar / level=BINARY
682201     Criterion=GINI
682202     ;
MPRINT(EM_DIAGRAM):   target DepVar / level=BINARY Criterion=GINI ;
682203     ;
MPRINT(EM_DIAGRAM):   ;
682204     Performance DISK
682205     ;
MPRINT(EM_DIAGRAM):   Performance DISK ;
NOTE: View EMWS8.META_VALIDATE.VIEW used (Total process time):
      real time           0.21 seconds
      cpu time            0.21 seconds
      
682206     Assess
682207     Validata=EMWS8.Meta_VALIDATE
682208     measure=ASE
682209     ;
MPRINT(EM_DIAGRAM):   Assess Validata=EMWS8.Meta_VALIDATE measure=ASE ;
NOTE: 1438156 kilobytes of physical memory.
NOTE: Will use 2374 out of 2374 training cases.
NOTE: Using memory pool with 171226112 bytes.
NOTE: Will not search for split on variable AcceptedCmp2.
NOTE: Acceptable cases have the same value.
NOTE: Option MINCATSIZE=5 may apply.
NOTE: Will not search for split on variable Complain.
NOTE: Acceptable cases have the same value.
NOTE: Option MINCATSIZE=5 may apply.
NOTE: Passed training data 8 times.
NOTE: Training used 1943128 bytes of work memory.
NOTE: There were 1018 observations read from the data set EMWS8.PART_VALIDATE.
NOTE: The subtree sequence contains 13 subtrees. The largest has 25 nodes and 13 leaves.
NOTE: Using subtree with 23 nodes and 12 leaves.
682210     MAKEMACRO NLEAVES=nleaves;
MPRINT(EM_DIAGRAM):   MAKEMACRO NLEAVES=nleaves;
NOTE: Created macro variable NLEAVES equal to 12.
682211     save
682212     MODEL=WORK.OUTTREE_TREE_22N934O
682213     SEQUENCE=WORK.OUTSEQ_TREE_22N934O
682214     IMPORTANCE=WORK.OUTIMPORT_TREE_22N934O
682215     NODESTAT=WORK.OUTNODES_TREE_22N934O
682216     SUMMARY=WORK.OUTSUMMARY_TREE_22N934O
682217     STATSBYNODE=WORK.OUTSTATS_TREE_22N934O
682218     Pathlistnonmissing = WORK.OUTPATH_TREE_22N934O
682219     Rules = WORK.OUTRULES_TREE_22N934O
682220     ;
MPRINT(EM_DIAGRAM):   save MODEL=WORK.OUTTREE_TREE_22N934O SEQUENCE=WORK.OUTSEQ_TREE_22N934O 
IMPORTANCE=WORK.OUTIMPORT_TREE_22N934O NODESTAT=WORK.OUTNODES_TREE_22N934O 
SUMMARY=WORK.OUTSUMMARY_TREE_22N934O STATSBYNODE=WORK.OUTSTATS_TREE_22N934O Pathlistnonmissing 
= WORK.OUTPATH_TREE_22N934O Rules = WORK.OUTRULES_TREE_22N934O ;
NOTE: The data set WORK.OUTIMPORT_TREE_22N934O has 32 observations and 6 variables.
NOTE: The data set WORK.OUTTREE_TREE_22N934O has 929 observations and 4 variables.
NOTE: The data set WORK.OUTNODES_TREE_22N934O has 23 observations and 24 variables.
NOTE: The data set WORK.OUTPATH_TREE_22N934O has 89 observations and 7 variables.
NOTE: The data set WORK.OUTRULES_TREE_22N934O has 226 observations and 6 variables.
NOTE: The data set WORK.OUTSEQ_TREE_22N934O has 13 observations and 20 variables.
NOTE: The data set WORK.OUTSTATS_TREE_22N934O has 161 observations and 5 variables.
NOTE: The data set WORK.OUTSUMMARY_TREE_22N934O has 24 observations and 6 variables.
682221     code file="C:\Users\LUKASF~1\AppData\Local\Temp\SAS Temporary
682221   ! Files\_TD9752_WN7LF-LEAVE_\Prc2\RIP1.sas"
682222     group=Rule
682223     ;
MPRINT(EM_DIAGRAM):   code file="C:\Users\LUKASF~1\AppData\Local\Temp\SAS Temporary 
Files\_TD9752_WN7LF-LEAVE_\Prc2\RIP1.sas" group=Rule ;
NOTE: External file C:\Users\LUKASF~1\AppData\Local\Temp\SAS Temporary 
      Files\_TD9752_WN7LF-LEAVE_\Prc2\RIP1.sas opened.
682224     code file="C:\Users\LUKASF~1\AppData\Local\Temp\SAS Temporary
682224   ! Files\_TD9752_WN7LF-LEAVE_\Prc2\RIP1_res.sas"
682225     group=Rule
682226     residual
682227     ;
MPRINT(EM_DIAGRAM):   code file="C:\Users\LUKASF~1\AppData\Local\Temp\SAS Temporary 
Files\_TD9752_WN7LF-LEAVE_\Prc2\RIP1_res.sas" group=Rule residual ;
NOTE: External file C:\Users\LUKASF~1\AppData\Local\Temp\SAS Temporary 
      Files\_TD9752_WN7LF-LEAVE_\Prc2\RIP1_res.sas opened.
NOTE: View EMWS8.META_TRAIN.VIEW used (Total process time):
      real time           0.02 seconds
      cpu time            0.01 seconds
      
682228     score data=EMWS8.Meta_TRAIN out=_ptrain
682229     ;
MPRINT(EM_DIAGRAM):   score data=EMWS8.Meta_TRAIN out=_ptrain ;
NOTE: There were 2374 observations read from the data set EMWS8.PART_TRAIN.
NOTE: The data set WORK._PTRAIN has 2374 observations and 59 variables.
NOTE: View EMWS8.META_VALIDATE.VIEW used (Total process time):
      real time           0.02 seconds
      cpu time            0.01 seconds
      
682230     score data=EMWS8.Meta_VALIDATE out=_pvalid
682231     ;
MPRINT(EM_DIAGRAM):   score data=EMWS8.Meta_VALIDATE out=_pvalid ;
NOTE: There were 1018 observations read from the data set EMWS8.PART_VALIDATE.
NOTE: The data set WORK._PVALID has 1018 observations and 59 variables.
682232     run;
MPRINT(EM_DIAGRAM):   run;

682233     quit;
MPRINT(EM_DIAGRAM):   quit;

NOTE: There were 2374 observations read from the data set EMWS8.PART_TRAIN.
NOTE: View WORK.EM_RULE.VIEW used (Total process time):
      real time           0.35 seconds
      cpu time            0.34 seconds
      
NOTE: There were 2374 observations read from the data set EMWS8.META_TRAIN.
NOTE: There were 2374 observations read from the data set WORK.EM_RULE.
NOTE: The data set WORK._NAMEDAT has 2 observations and 5 variables.
NOTE: PROCEDURE ARBOR used (Total process time):
      real time           0.36 seconds
      cpu time            0.36 seconds
      

682234     data WORK.OUTIMPORT_TREE_22N934O;
MPRINT(EM_DIAGRAM):    data WORK.OUTIMPORT_TREE_22N934O;
682235     set WORK.OUTIMPORT_TREE_22N934O;
MPRINT(EM_DIAGRAM):   set WORK.OUTIMPORT_TREE_22N934O;
682236     label NAME = "%sysfunc(sasmsg(sashelp.dmine, meta_name_vlabel, noquote))" LABEL =
682236   ! "%sysfunc(sasmsg(sashelp.dmine, meta_label_vlabel, noquote))" NRULES =
682236   ! "%sysfunc(sasmsg(sashelp.dmine, rpt_nrules_vlabel, noquote))" IMPORTANCE =
682237        "%sysfunc(sasmsg(sashelp.dmine, rpt_importance_vlabel, noquote))" NSURROGATES =
682237   ! "%sysfunc(sasmsg(sashelp.dmine, rpt_nsurrogates_vlabel, noquote))"
682238     VIMPORTANCE = "%sysfunc(sasmsg(sashelp.dmine, rpt_vimportance_vlabel, noquote))"
682238   ! RATIO = "%sysfunc(sasmsg(sashelp.dmine, rpt_ratio_vlabel, noquote))"
682239     ;
MPRINT(EM_DIAGRAM):   label NAME = "Variable Name" LABEL = "Label" NRULES = "Number of 
Splitting Rules" IMPORTANCE = "Importance" NSURROGATES = "Number of Surrogate Rules" 
VIMPORTANCE = "Validation Importance" RATIO = "Ratio of Validation to Training Importance" ;
682240     run;
MPRINT(EM_DIAGRAM):   run;

NOTE: Variable NSURROGATES is uninitialized.
NOTE: There were 32 observations read from the data set WORK.OUTIMPORT_TREE_22N934O.
NOTE: The data set WORK.OUTIMPORT_TREE_22N934O has 32 observations and 6 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

682241     filename x "C:\Users\LUKASF~1\AppData\Local\Temp\SAS Temporary
682241   ! Files\_TD9752_WN7LF-LEAVE_\Prc2\DESCRIBE.SOURCE" encoding='utf-8' NOBOM;
MPRINT(EM_DIAGRAM):   filename x "C:\Users\LUKASF~1\AppData\Local\Temp\SAS Temporary 
Files\_TD9752_WN7LF-LEAVE_\Prc2\DESCRIBE.SOURCE" encoding='utf-8' NOBOM;
682242     data temp;
MPRINT(EM_DIAGRAM):    data temp;
682243     length varname $21;
MPRINT(EM_DIAGRAM):   length varname $21;
682244     retain varname;
MPRINT(EM_DIAGRAM):   retain varname;
682245     set WORK.OUTPATH_TREE_22N934O;
MPRINT(EM_DIAGRAM):   set WORK.OUTPATH_TREE_22N934O;
682246     if ^missing(variable) then varname=variable;
MPRINT(EM_DIAGRAM):   if ^missing(variable) then varname=variable;
682247     else if ^missing(var_name) then varname=var_name;
MPRINT(EM_DIAGRAM):   else if ^missing(var_name) then varname=var_name;
682248     output;
MPRINT(EM_DIAGRAM):   output;
682249     run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 89 observations read from the data set WORK.OUTPATH_TREE_22N934O.
NOTE: The data set WORK.TEMP has 89 observations and 8 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

682250     proc sort data=temp;
MPRINT(EM_DIAGRAM):   proc sort data=temp;
682251     by node;
MPRINT(EM_DIAGRAM):   by node;
682252     run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 89 observations read from the data set WORK.TEMP.
NOTE: The data set WORK.TEMP has 89 observations and 8 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

682253     proc sort data=WORK.OUTNODES_TREE_22N934O out=outnodes;
MPRINT(EM_DIAGRAM):   proc sort data=WORK.OUTNODES_TREE_22N934O out=outnodes;
682254     by node;
MPRINT(EM_DIAGRAM):   by node;
682255     run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 23 observations read from the data set WORK.OUTNODES_TREE_22N934O.
NOTE: The data set WORK.OUTNODES has 23 observations and 24 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

682256     data temp;
MPRINT(EM_DIAGRAM):   data temp;
682257     merge temp(in=_a) outnodes(keep= node
682258     NPRIORS
682259     P_DepVar0
682260     P_DepVar1
682261     );
MPRINT(EM_DIAGRAM):   merge temp(in=_a) outnodes(keep= node NPRIORS P_DepVar0 P_DepVar1 );
682262     by node;
MPRINT(EM_DIAGRAM):   by node;
682263     if _a;
MPRINT(EM_DIAGRAM):   if _a;
682264     run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 89 observations read from the data set WORK.TEMP.
NOTE: There were 23 observations read from the data set WORK.OUTNODES.
NOTE: The data set WORK.TEMP has 89 observations and 11 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

682265     proc sort data=temp;
MPRINT(EM_DIAGRAM):   proc sort data=temp;
682266     by node descending varname descending numeric_value;
MPRINT(EM_DIAGRAM):   by node descending varname descending numeric_value;
682267     run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 89 observations read from the data set WORK.TEMP.
NOTE: The data set WORK.TEMP has 89 observations and 11 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

682268     data _null_;
MPRINT(EM_DIAGRAM):   data _null_;
682269     file x;
MPRINT(EM_DIAGRAM):   file x;
682270     set temp;
MPRINT(EM_DIAGRAM):   set temp;
682271     by node descending varname;
MPRINT(EM_DIAGRAM):   by node descending varname;
682272     retain origvar oldnode string;
MPRINT(EM_DIAGRAM):   retain origvar oldnode string;
682273     length origvar $32 oldnode 8 string $200;
MPRINT(EM_DIAGRAM):   length origvar $32 oldnode 8 string $200;
682274     if _n_ = 1 then do;
MPRINT(EM_DIAGRAM):   if _n_ = 1 then do;
682275     origvar = varname;
MPRINT(EM_DIAGRAM):   origvar = varname;
682276     oldnode = node;
MPRINT(EM_DIAGRAM):   oldnode = node;
682277     end;
MPRINT(EM_DIAGRAM):   end;
682278     if first.node then do;
MPRINT(EM_DIAGRAM):   if first.node then do;
682279     put "&EM_CODEBAR";
MPRINT(EM_DIAGRAM):   put "*------------------------------------------------------------*";
682280     put " Node = " node;
MPRINT(EM_DIAGRAM):   put " Node = " node;
682281     put "&EM_CODEBAR";
MPRINT(EM_DIAGRAM):   put "*------------------------------------------------------------*";
682282     end;
MPRINT(EM_DIAGRAM):   end;
682283     if first.varname then do;
MPRINT(EM_DIAGRAM):   if first.varname then do;
682284     if RELATION ^in ("=", "ISMISSING", "ISNOTMISSING") then do;
MPRINT(EM_DIAGRAM):   if RELATION ^in ("=", "ISMISSING", "ISNOTMISSING") then do;
682285     if MISSING(CHARACTER_VALUE) then do;
MPRINT(EM_DIAGRAM):   if MISSING(CHARACTER_VALUE) then do;
682286     if NUMERIC_VALUE ne . then do;
MPRINT(EM_DIAGRAM):   if NUMERIC_VALUE ne . then do;
682287     if ^first.node then do;
MPRINT(EM_DIAGRAM):   if ^first.node then do;
682288     string= "AND "|| strip(varname)||" "||strip(relation)||" "||strip(numeric_value);
MPRINT(EM_DIAGRAM):   string= "AND "|| strip(varname)||" "||strip(relation)||" 
"||strip(numeric_value);
682289     end;
MPRINT(EM_DIAGRAM):   end;
682290     else do;
MPRINT(EM_DIAGRAM):   else do;
682291     string= "if "|| strip(varname)||" "||strip(relation)||" "||strip(numeric_value);
MPRINT(EM_DIAGRAM):   string= "if "|| strip(varname)||" "||strip(relation)||" 
"||strip(numeric_value);
682292     end;
MPRINT(EM_DIAGRAM):   end;
682293     end;
MPRINT(EM_DIAGRAM):   end;
682294     end;
MPRINT(EM_DIAGRAM):   end;
682295     else do;
MPRINT(EM_DIAGRAM):   else do;
682296     if ^first.node then do;
MPRINT(EM_DIAGRAM):   if ^first.node then do;
682297     string= "AND "|| strip(varname)||" "||strip(relation)||" "||strip(character_value);
MPRINT(EM_DIAGRAM):   string= "AND "|| strip(varname)||" "||strip(relation)||" 
"||strip(character_value);
682298     end;
MPRINT(EM_DIAGRAM):   end;
682299     else do;
MPRINT(EM_DIAGRAM):   else do;
682300     string= "if "|| strip(varname)||" "||strip(relation)||" "||strip(character_value);
MPRINT(EM_DIAGRAM):   string= "if "|| strip(varname)||" "||strip(relation)||" 
"||strip(character_value);
682301     end;
MPRINT(EM_DIAGRAM):   end;
682302     end;
MPRINT(EM_DIAGRAM):   end;
682303     end;
MPRINT(EM_DIAGRAM):   end;
682304     else if RELATION in ("=") then do;
MPRINT(EM_DIAGRAM):   else if RELATION in ("=") then do;
682305     if ^first.node then do;
MPRINT(EM_DIAGRAM):   if ^first.node then do;
682306     string = "AND "||strip(varname) ||" IS ONE OF: "||character_value;
MPRINT(EM_DIAGRAM):   string = "AND "||strip(varname) ||" IS ONE OF: "||character_value;
682307     end;
MPRINT(EM_DIAGRAM):   end;
682308     else do;
MPRINT(EM_DIAGRAM):   else do;
682309     string = "if "|| strip(varname) ||" IS ONE OF: "||character_value;
MPRINT(EM_DIAGRAM):   string = "if "|| strip(varname) ||" IS ONE OF: "||character_value;
682310     end;
MPRINT(EM_DIAGRAM):   end;
682311     end;
MPRINT(EM_DIAGRAM):   end;
682312     else if RELATION in ("ISMISSING") then do;
MPRINT(EM_DIAGRAM):   else if RELATION in ("ISMISSING") then do;
682313     if ^first.node then do;
MPRINT(EM_DIAGRAM):   if ^first.node then do;
682314     string = " AND "|| strip(varname) || " equals Missing";
MPRINT(EM_DIAGRAM):   string = " AND "|| strip(varname) || " equals Missing";
682315     end;
MPRINT(EM_DIAGRAM):   end;
682316     else do;
MPRINT(EM_DIAGRAM):   else do;
682317     string = "if "|| strip(varname) ||" equals Missing";
MPRINT(EM_DIAGRAM):   string = "if "|| strip(varname) ||" equals Missing";
682318     end;
MPRINT(EM_DIAGRAM):   end;
682319     end;
MPRINT(EM_DIAGRAM):   end;
682320     else if RELATION in ("ISNOTMISSING") then do;
MPRINT(EM_DIAGRAM):   else if RELATION in ("ISNOTMISSING") then do;
682321     if ^first.node then do;
MPRINT(EM_DIAGRAM):   if ^first.node then do;
682322     string = " AND "|| strip(varname) || " equals All Values";
MPRINT(EM_DIAGRAM):   string = " AND "|| strip(varname) || " equals All Values";
682323     end;
MPRINT(EM_DIAGRAM):   end;
682324     else do;
MPRINT(EM_DIAGRAM):   else do;
682325     string = "if "|| strip(varname) ||" equals All Values";
MPRINT(EM_DIAGRAM):   string = "if "|| strip(varname) ||" equals All Values";
682326     end;
MPRINT(EM_DIAGRAM):   end;
682327     end;
MPRINT(EM_DIAGRAM):   end;
682328     if ^missing(varname) then origvar = varname;
MPRINT(EM_DIAGRAM):   if ^missing(varname) then origvar = varname;
682329     oldnode=node;
MPRINT(EM_DIAGRAM):   oldnode=node;
682330     end;
MPRINT(EM_DIAGRAM):   end;
682331     else do;
MPRINT(EM_DIAGRAM):   else do;
682332     if RELATION ^in ("=", "ISMISSING", "ISNOTMISSING") then do;
MPRINT(EM_DIAGRAM):   if RELATION ^in ("=", "ISMISSING", "ISNOTMISSING") then do;
682333     if MISSING(CHARACTER_VALUE) then do;
MPRINT(EM_DIAGRAM):   if MISSING(CHARACTER_VALUE) then do;
682334     if NUMERIC_VALUE ne . then do;
MPRINT(EM_DIAGRAM):   if NUMERIC_VALUE ne . then do;
682335     if ^MISSING(string) then string= strip(string)||" AND "|| strip(varname)||"
682335   ! "||strip(relation)||" "||strip(numeric_value);
MPRINT(EM_DIAGRAM):   if ^MISSING(string) then string= strip(string)||" AND "|| 
strip(varname)||" "||strip(relation)||" "||strip(numeric_value);
682336     else string= " if "|| strip(varname)||" "||strip(relation)||"
682336   ! "||strip(numeric_value);
MPRINT(EM_DIAGRAM):   else string= " if "|| strip(varname)||" "||strip(relation)||" 
"||strip(numeric_value);
682337     end;
MPRINT(EM_DIAGRAM):   end;
682338     end;
MPRINT(EM_DIAGRAM):   end;
682339     else do;
MPRINT(EM_DIAGRAM):   else do;
682340     if ^MISSING(string) then string= strip(string)||" AND "|| strip(varname)||"
682340   ! "||strip(relation)||" "||strip(character_value);
MPRINT(EM_DIAGRAM):   if ^MISSING(string) then string= strip(string)||" AND "|| 
strip(varname)||" "||strip(relation)||" "||strip(character_value);
682341     else string= " if "|| strip(varname)||" "||strip(relation)||"
682341   ! "||strip(character_value);
MPRINT(EM_DIAGRAM):   else string= " if "|| strip(varname)||" "||strip(relation)||" 
"||strip(character_value);
682342     end;
MPRINT(EM_DIAGRAM):   end;
682343     end;
MPRINT(EM_DIAGRAM):   end;
682344     else if RELATION in ("=") then do;
MPRINT(EM_DIAGRAM):   else if RELATION in ("=") then do;
682345     string = strip(string)||", "||strip(character_value);
MPRINT(EM_DIAGRAM):   string = strip(string)||", "||strip(character_value);
682346     end;
MPRINT(EM_DIAGRAM):   end;
682347     else if RELATION in ("ISMISSING") then do;
MPRINT(EM_DIAGRAM):   else if RELATION in ("ISMISSING") then do;
682348     end;
MPRINT(EM_DIAGRAM):   end;
682349     if ^missing(varname) then origvar = varname;
MPRINT(EM_DIAGRAM):   if ^missing(varname) then origvar = varname;
682350     oldnode=node;
MPRINT(EM_DIAGRAM):   oldnode=node;
682351     end;
MPRINT(EM_DIAGRAM):   end;
682352     if last.varname then do;
MPRINT(EM_DIAGRAM):   if last.varname then do;
682353     if RELATION in ("ISMISSING") then do;
MPRINT(EM_DIAGRAM):   if RELATION in ("ISMISSING") then do;
682354     if ^first.varname then do;
MPRINT(EM_DIAGRAM):   if ^first.varname then do;
682355     string = strip(string) || " or MISSING";
MPRINT(EM_DIAGRAM):   string = strip(string) || " or MISSING";
682356     end;
MPRINT(EM_DIAGRAM):   end;
682357     end;
MPRINT(EM_DIAGRAM):   end;
682358     put string;
MPRINT(EM_DIAGRAM):   put string;
682359     if ^missing(varname) then origvar = varname;
MPRINT(EM_DIAGRAM):   if ^missing(varname) then origvar = varname;
682360     oldnode=node;
MPRINT(EM_DIAGRAM):   oldnode=node;
682361     end;
MPRINT(EM_DIAGRAM):   end;
682362     if last.node then do;
MPRINT(EM_DIAGRAM):   if last.node then do;
682363     put "then ";
MPRINT(EM_DIAGRAM):   put "then ";
682364     put " Tree Node Identifier   = " node;
MPRINT(EM_DIAGRAM):   put " Tree Node Identifier   = " node;
682365     put " Number of Observations = " NPRIORS;
MPRINT(EM_DIAGRAM):   put " Number of Observations = " NPRIORS;
682366     put " Predicted: DepVar=0  = " P_DepVar0;
MPRINT(EM_DIAGRAM):   put " Predicted: DepVar=0  = " P_DepVar0;
682367     put " Predicted: DepVar=1  = " P_DepVar1;
MPRINT(EM_DIAGRAM):   put " Predicted: DepVar=1  = " P_DepVar1;
682368     put " ";
MPRINT(EM_DIAGRAM):   put " ";
682369     if ^missing(varname) then origvar = varname;
MPRINT(EM_DIAGRAM):   if ^missing(varname) then origvar = varname;
682370     oldnode=node;
MPRINT(EM_DIAGRAM):   oldnode=node;
682371     end;
MPRINT(EM_DIAGRAM):   end;
682372     run;
MPRINT(EM_DIAGRAM):   run;

NOTE: Numeric values have been converted to character values at the places given by: 
      (Line):(Column).
      682288:67    682291:66    682335:108   682336:72    
NOTE: The file X is:
      
      Filename=C:\Users\LUKASF~1\AppData\Local\Temp\SAS Temporary 
      Files\_TD9752_WN7LF-LEAVE_\Prc2\DESCRIBE.SOURCE,
      RECFM=V,LRECL=1536,File Size (bytes)=0,
      Last Modified=28. April 2016 08.46 Uhr,
      Create Time=28. April 2016 08.46 Uhr

NOTE: 142 records were written to the file X.
      The minimum record length was 1.
      The maximum record length was 68.
NOTE: There were 89 observations read from the data set WORK.TEMP.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

682373     filename x;
MPRINT(EM_DIAGRAM):    filename x;
NOTE: Fileref X has been deassigned.
682374     data leafds;
MPRINT(EM_DIAGRAM):    data leafds;
682375     set WORK.OUTNODES_TREE_22N934O;
MPRINT(EM_DIAGRAM):   set WORK.OUTNODES_TREE_22N934O;
682376     if LEAF ne .;
MPRINT(EM_DIAGRAM):   if LEAF ne .;
682377     run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 23 observations read from the data set WORK.OUTNODES_TREE_22N934O.
NOTE: The data set WORK.LEAFDS has 12 observations and 24 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

682378     proc sort data=leafds;
MPRINT(EM_DIAGRAM):   proc sort data=leafds;
682379     by descending N;
MPRINT(EM_DIAGRAM):   by descending N;
682380     run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 12 observations read from the data set WORK.LEAFDS.
NOTE: The data set WORK.LEAFDS has 12 observations and 24 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

NOTE: Argument three to KSUBSTR exceeds the length of the input string, the function has 
      recalculated the length of the string.
RIP LEAF: N=1  varid=17  nodeid=19  val=0.99159663865546  count=1071 
RIP LEAF: N=2  varid=18  nodeid=19  val=0.00840336134453  count=1071 
RIP LEAF: N=1  varid=17  nodeid=16  val=0.90114942528735  count=435 
RIP LEAF: N=2  varid=18  nodeid=16  val=0.09885057471264  count=435 
RIP LEAF: N=1  varid=17  nodeid=12  val=0.42944785276073  count=163 
RIP LEAF: N=2  varid=18  nodeid=12  val=0.57055214723926  count=163 
RIP LEAF: N=1  varid=17  nodeid=23  val=0.91156462585034  count=147 
RIP LEAF: N=2  varid=18  nodeid=23  val=0.08843537414965  count=147 
RIP LEAF: N=1  varid=17  nodeid=17  val=0.64  count=125 
RIP LEAF: N=2  varid=18  nodeid=17  val=0.36  count=125 
RIP LEAF: N=1  varid=17  nodeid=18  val=0.94285714285714  count=105 
RIP LEAF: N=2  varid=18  nodeid=18  val=0.05714285714285  count=105 
RIP LEAF: N=1  varid=17  nodeid=22  val=0.75806451612903  count=62 
RIP LEAF: N=2  varid=18  nodeid=22  val=0.24193548387096  count=62 
RIP LEAF: N=1  varid=17  nodeid=9  val=0.46551724137931  count=58 
RIP LEAF: N=2  varid=18  nodeid=9  val=0.53448275862068  count=58 
RIP LEAF: N=1  varid=17  nodeid=13  val=0.05263157894736  count=57 
RIP LEAF: N=2  varid=18  nodeid=13  val=0.94736842105263  count=57 
RIP LEAF: N=1  varid=17  nodeid=24  val=0.47058823529411  count=51 
RIP LEAF: N=2  varid=18  nodeid=24  val=0.52941176470588  count=51 
RIP LEAF: N=1  varid=17  nodeid=11  val=0.82  count=50 
RIP LEAF: N=2  varid=18  nodeid=11  val=0.18  count=50 
RIP LEAF: N=1  varid=17  nodeid=25  val=0.72  count=50 
RIP LEAF: N=2  varid=18  nodeid=25  val=0.28  count=50 
682381     * RIP1: Print leaf table;
MPRINT(EM_DIAGRAM):    * RIP1: Print leaf table;
682382     ;
MPRINT(EM_DIAGRAM):   ;
682383     data leafds;
MPRINT(EM_DIAGRAM):   data leafds;
682384     set leafds;
MPRINT(EM_DIAGRAM):   set leafds;
682385     format P_DEPVAR0 8.4;
MPRINT(EM_DIAGRAM):   format P_DEPVAR0 8.4;
682386     format P_DEPVAR1 8.4;
MPRINT(EM_DIAGRAM):   format P_DEPVAR1 8.4;
682387     ;
MPRINT(EM_DIAGRAM):   ;
682388     run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 12 observations read from the data set WORK.LEAFDS.
NOTE: The data set WORK.LEAFDS has 12 observations and 24 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

682389     title9 "%sysfunc(sasmsg(sashelp.dmine, rpt_leaftable_title, NOQUOTE, RIP1, 100))";
MPRINT(EM_DIAGRAM):   title9 "RIP1 Leaf Table: Threshold= 100";
682390     title10 "%sysfunc(sasmsg(sashelp.dmine, rpt_text_title, NOQUOTE, %nrbquote(No leaf
682390   ! was ripped from the model.)))";
MPRINT(EM_DIAGRAM):   title10 "No leaf was ripped from the model.";
682391     proc print data = leafds NOOBS LABEL;
MPRINT(EM_DIAGRAM):   proc print data = leafds NOOBS LABEL;
682392     var NODE N
682393     P_DEPVAR0
682394     P_DEPVAR1
682395     ;
MPRINT(EM_DIAGRAM):   var NODE N P_DEPVAR0 P_DEPVAR1 ;
682396     run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 12 observations read from the data set WORK.LEAFDS.
NOTE: The PROCEDURE PRINT printed page 631.
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

682397     title9;
MPRINT(EM_DIAGRAM):   title9;
682398     title10;
MPRINT(EM_DIAGRAM):   title10;
MPRINT(EM_DIAGRAM):   * Create training data set with binary target for modeling;
MPRINT(EM_DIAGRAM):   ;
682399     * Create training data set with binary target for modeling;
682400     ;
682401     data _ptrain;
MPRINT(EM_DIAGRAM):   data _ptrain;
682402     length _bin $12;
MPRINT(EM_DIAGRAM):   length _bin $12;
682403     set _ptrain;
MPRINT(EM_DIAGRAM):   set _ptrain;
682404     _tmp=putn(DepVar, 'best.');
MPRINT(EM_DIAGRAM):   _tmp=putn(DepVar, 'best.');
682405     %DMNORMIP(_tmp);
MPRINT(DMNORMIP):   call dmnorm(_tmp,
MPRINT(DMNORLEN):  32
MPRINT(DMNORMIP):  );
MPRINT(EM_DIAGRAM):  ;
682406     _tmpLevel = '0';
MPRINT(EM_DIAGRAM):   _tmpLevel = '0';
682407     %DMNORMCP(_tmpLevel, _tmpLevel);
MPRINT(DMNORMCP):   _tmpLevel=dmnorm(_tmpLevel,
MPRINT(DMNORLEN):  32
MPRINT(DMNORMCP):  );
MPRINT(EM_DIAGRAM):  ;
682408     if _tmp eq _tmpLevel then _bin = '1';
MPRINT(EM_DIAGRAM):   if _tmp eq _tmpLevel then _bin = '1';
682409     else _bin = '0';
MPRINT(EM_DIAGRAM):   else _bin = '0';
682410     drop _tmp _tmpLevel
682411     ;
MPRINT(EM_DIAGRAM):   drop _tmp _tmpLevel ;
682412     run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 2374 observations read from the data set WORK._PTRAIN.
NOTE: The data set WORK._PTRAIN has 2374 observations and 60 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

682413     * Create validation data set with binary target for modeling;
MPRINT(EM_DIAGRAM):    * Create validation data set with binary target for modeling;
682414     ;
MPRINT(EM_DIAGRAM):   ;
682415     data _pvalid;
MPRINT(EM_DIAGRAM):   data _pvalid;
682416     length _bin $12;
MPRINT(EM_DIAGRAM):   length _bin $12;
682417     set _pvalid;
MPRINT(EM_DIAGRAM):   set _pvalid;
682418     _tmp = putn(DepVar, 'best.');
MPRINT(EM_DIAGRAM):   _tmp = putn(DepVar, 'best.');
682419     %DMNORMIP(_TMP);
MPRINT(DMNORMIP):   call dmnorm(_TMP,
MPRINT(DMNORLEN):  32
MPRINT(DMNORMIP):  );
MPRINT(EM_DIAGRAM):  ;
682420     _tmpLevel = '0';
MPRINT(EM_DIAGRAM):   _tmpLevel = '0';
682421     %DMNORMCP(_tmpLevel, _tmpLevel);
MPRINT(DMNORMCP):   _tmpLevel=dmnorm(_tmpLevel,
MPRINT(DMNORLEN):  32
MPRINT(DMNORMCP):  );
MPRINT(EM_DIAGRAM):  ;
682422     if _tmp eq _tmpLevel then _bin = '1';
MPRINT(EM_DIAGRAM):   if _tmp eq _tmpLevel then _bin = '1';
682423     else _bin = '0';
MPRINT(EM_DIAGRAM):   else _bin = '0';
682424     drop _tmp
682425     ;
MPRINT(EM_DIAGRAM):   drop _tmp ;
682426     run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 1018 observations read from the data set WORK._PVALID.
NOTE: The data set WORK._PVALID has 1018 observations and 61 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

682427     data _train;
MPRINT(EM_DIAGRAM):    data _train;
682428     set _ptrain;
MPRINT(EM_DIAGRAM):   set _ptrain;
682429     run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 2374 observations read from the data set WORK._PTRAIN.
NOTE: The data set WORK._TRAIN has 2374 observations and 60 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

682430     data _valid;
MPRINT(EM_DIAGRAM):   data _valid;
682431     set _pvalid;
MPRINT(EM_DIAGRAM):   set _pvalid;
682432     options validvarname=any;
MPRINT(EM_DIAGRAM):   options validvarname=any;

NOTE: There were 1018 observations read from the data set WORK._PVALID.
NOTE: The data set WORK._VALID has 1018 observations and 61 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

682433     proc contents data=work._train out=_tempAdvisor noprint;
MPRINT(EM_DIAGRAM):   proc contents data=work._train out=_tempAdvisor noprint;
682434     run;
MPRINT(EM_DIAGRAM):   run;

NOTE: The data set WORK._TEMPADVISOR has 60 observations and 40 variables.
NOTE: PROCEDURE CONTENTS used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

682435     options validvarname=V7;
MPRINT(EM_DIAGRAM):   options validvarname=V7;
682436     %let _dsidTable = 0;
682437     %let _engineTable =;
682438     data _null_;
MPRINT(EM_DIAGRAM):    data _null_;
682439     dsid = open('work._train');
MPRINT(EM_DIAGRAM):   dsid = open('work._train');
682440     call symput('_dsidTable', strip(put(dsid, best.)));
MPRINT(EM_DIAGRAM):   call symput('_dsidTable', strip(put(dsid, best.)));
682441     if dsid then do;
MPRINT(EM_DIAGRAM):   if dsid then do;
682442     call symput('_engineTable', attrc(dsid, 'ENGINE'));
MPRINT(EM_DIAGRAM):   call symput('_engineTable', attrc(dsid, 'ENGINE'));
682443     dsid = close(dsid);
MPRINT(EM_DIAGRAM):   dsid = close(dsid);
682444     end;
MPRINT(EM_DIAGRAM):   end;
682445     run;
MPRINT(EM_DIAGRAM):   run;

NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

682446     options fmterr;
MPRINT(EM_DIAGRAM):    options fmterr;
682447     data _metaTestView;
MPRINT(EM_DIAGRAM):   data _metaTestView;
682448     set work._train;
MPRINT(EM_DIAGRAM):   set work._train;
682449     if _N_=1 then do;
MPRINT(EM_DIAGRAM):   if _N_=1 then do;
682450     output;
MPRINT(EM_DIAGRAM):   output;
682451     stop;
MPRINT(EM_DIAGRAM):   stop;
682452     end;
MPRINT(EM_DIAGRAM):   end;
682453     run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 1 observations read from the data set WORK._TRAIN.
NOTE: The data set WORK._METATESTVIEW has 1 observations and 60 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

682454     proc contents data=work._train
682455     out=WORK.M30MLRKL noprint;
MPRINT(EM_DIAGRAM):    proc contents data=work._train out=WORK.M30MLRKL noprint;
682456     run;
MPRINT(EM_DIAGRAM):   run;

NOTE: The data set WORK.M30MLRKL has 60 observations and 40 variables.
NOTE: PROCEDURE CONTENTS used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

682457     data WORK.M30MLRKL;
MPRINT(EM_DIAGRAM):    data WORK.M30MLRKL;
682458     length NAME $ 64 TYPE $ 1 LABEL $ 200 FORMAT $ 20 INFORMAT $20 INDEX $ 1 INDEXTYPE $
682458   !  9;
MPRINT(EM_DIAGRAM):   length NAME $ 64 TYPE $ 1 LABEL $ 200 FORMAT $ 20 INFORMAT $20 INDEX $ 1 
INDEXTYPE $ 9;
682459     label NAME =;
MPRINT(EM_DIAGRAM):   label NAME =;
682460     set WORK.M30MLRKL(keep=name type length label format formatl formatd informat
682460   ! informl informd idxusage rename=(type=itype));
MPRINT(EM_DIAGRAM):   set WORK.M30MLRKL(keep=name type length label format formatl formatd 
informat informl informd idxusage rename=(type=itype));
682461     if itype = 1 then type = 'N';
MPRINT(EM_DIAGRAM):   if itype = 1 then type = 'N';
682462     else type = 'C';
MPRINT(EM_DIAGRAM):   else type = 'C';
682463     if formatl > 0 then do;
MPRINT(EM_DIAGRAM):   if formatl > 0 then do;
682464     if format ne ' ' then format = strip(format)!!strip(put(formatl,
682464   ! best12.))!!'.'!!strip(put(formatd, best12.));
MPRINT(EM_DIAGRAM):   if format ne ' ' then format = strip(format)!!strip(put(formatl, 
best12.))!!'.'!!strip(put(formatd, best12.));
682465     else format = strip(put(formatl, best12.))!!'.'!!strip(put(formatd, best12.));
MPRINT(EM_DIAGRAM):   else format = strip(put(formatl, best12.))!!'.'!!strip(put(formatd, 
best12.));
682466     end;
MPRINT(EM_DIAGRAM):   end;
682467     else if format ne '' then format = strip(format)!!'.';
MPRINT(EM_DIAGRAM):   else if format ne '' then format = strip(format)!!'.';
682468     if informl > 0 then do;
MPRINT(EM_DIAGRAM):   if informl > 0 then do;
682469     if informat ne ' ' then informat = strip(informat)!!strip(put(informl,
682469   ! best12.))!!'.'!!strip(put(informd, best12.));
MPRINT(EM_DIAGRAM):   if informat ne ' ' then informat = strip(informat)!!strip(put(informl, 
best12.))!!'.'!!strip(put(informd, best12.));
682470     else informat = strip(put(informl, best12.))!!'.'!!strip(put(informd, best12.));
MPRINT(EM_DIAGRAM):   else informat = strip(put(informl, best12.))!!'.'!!strip(put(informd, 
best12.));
682471     end;
MPRINT(EM_DIAGRAM):   end;
682472     else if informat ne '' then informat = strip(informat)!!'.';
MPRINT(EM_DIAGRAM):   else if informat ne '' then informat = strip(informat)!!'.';
682473     if idxusage = 'NONE' then index ="N";
MPRINT(EM_DIAGRAM):   if idxusage = 'NONE' then index ="N";
682474     else index = "Y";
MPRINT(EM_DIAGRAM):   else index = "Y";
682475     indextype = idxusage;
MPRINT(EM_DIAGRAM):   indextype = idxusage;
682476     drop idxusage itype formatl formatd informl informd;
MPRINT(EM_DIAGRAM):   drop idxusage itype formatl formatd informl informd;
682477     run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 60 observations read from the data set WORK.M30MLRKL.
NOTE: The data set WORK.M30MLRKL has 60 observations and 8 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

682478     data WORK.M30MLRKL;
MPRINT(EM_DIAGRAM):    data WORK.M30MLRKL;
682479     length UNAME $64;
MPRINT(EM_DIAGRAM):   length UNAME $64;
682480     set WORK.M30MLRKL;
MPRINT(EM_DIAGRAM):   set WORK.M30MLRKL;
682481     UNAME = upcase(NAME);
MPRINT(EM_DIAGRAM):   UNAME = upcase(NAME);
682482     run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 60 observations read from the data set WORK.M30MLRKL.
NOTE: The data set WORK.M30MLRKL has 60 observations and 9 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

MPRINT(EM_DIAGRAM):    proc sort data=WORK.M3C0AJ12 NOTHREADS;
MPRINT(EM_DIAGRAM):   by UNAME;
MPRINT(EM_DIAGRAM):   run;
682486     data WORK.M3C0AJ12;
MPRINT(EM_DIAGRAM):    data WORK.M3C0AJ12;
682487     drop UNAME;
MPRINT(EM_DIAGRAM):   drop UNAME;
682488     set WORK.M3C0AJ12;
MPRINT(EM_DIAGRAM):   set WORK.M3C0AJ12;
682489     run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 60 observations read from the data set WORK.M3C0AJ12.
NOTE: The data set WORK.M3C0AJ12 has 60 observations and 8 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

MPRINT(EM_DIAGRAM):    data WORK.M1MKL7WO(keep=NAME ATTR);
MPRINT(EM_DIAGRAM):   length ATTR $ 20;
MPRINT(EM_DIAGRAM):   set WORK.M3C0AJ12;
MPRINT(EM_DIAGRAM):   if level ne "INTERVAL" then do;
MPRINT(EM_DIAGRAM):   if order = ' ' then do;
MPRINT(EM_DIAGRAM):   attr = 'ORDER';
MPRINT(EM_DIAGRAM):   output;
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   if format ne ' ' and formattype = ' ' then do;
MPRINT(EM_DIAGRAM):   attr = 'FORMATTYPE';
MPRINT(EM_DIAGRAM):   output;
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   if role = ' ' then do;
MPRINT(EM_DIAGRAM):   attr = 'ROLE';
MPRINT(EM_DIAGRAM):   output;
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   if level = ' ' then do;
MPRINT(EM_DIAGRAM):   attr = 'LEVEL';
MPRINT(EM_DIAGRAM):   output;
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   if type = ' ' then do;
MPRINT(EM_DIAGRAM):   attr = 'TYPE';
MPRINT(EM_DIAGRAM):   output;
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   if index = ' ' then do;
MPRINT(EM_DIAGRAM):   attr = 'INDEX';
MPRINT(EM_DIAGRAM):   output;
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   if report = ' ' then do;
MPRINT(EM_DIAGRAM):   attr = 'REPORT';
MPRINT(EM_DIAGRAM):   output;
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   run;
MPRINT(EM_DIAGRAM):   proc sort NOTHREADS;
MPRINT(EM_DIAGRAM):   by attr;
MPRINT(EM_DIAGRAM):   run;
MPRINT(EM_DIAGRAM):    data WORK.M3C0AJ12;
MPRINT(EM_DIAGRAM):   length NAME $64 ROLE $ 32 LEVEL $ 10 ORDER $ 8 CREATOR $32 FORMATTYPE $ 
10 FAMILY $ 10 LOWERLIMIT 8 UPPERLIMIT 8 REPORT $1 DISTRIBUTION $ 20 COMMENT $64;
MPRINT(EM_DIAGRAM):   length levelAssigned 8 roleAssigned 8 PRICE 8;
MPRINT(EM_DIAGRAM):   set WORK.M3C0AJ12;
MPRINT(EM_DIAGRAM):   if formattype = ' ' then do;
MPRINT(EM_DIAGRAM):   if format ne ' ' then do;
MPRINT(EM_DIAGRAM):   if type = 'N' then do;
MPRINT(EM_DIAGRAM):   pos = indexc(format,'.1234567890');
MPRINT(EM_DIAGRAM):   if pos > 1 then tempfmt = substr(format,1, pos-1);
MPRINT(EM_DIAGRAM):   else tempfmt = ' ';
MPRINT(EM_DIAGRAM):   flen = length(tempfmt);
MPRINT(EM_DIAGRAM):   select;
MPRINT(EM_DIAGRAM):   when(tempfmt in ("DATE" "DAY" "DDMMYY" "DOWNAME" "JULDAY" "JULIAN" 
"MMDDYY" "MMDDYYD" "MMDDYYC" "MMDDYYN" "MMDDYYP" "MMDDYYS" "MONNAME" "MONTH" "MONYY" "NENGO" 
"QTR" "QTRR" "WEEKDATE" "WEEKDATX" "WEEKDAY" "WORDDATE" "WORDDATX" "YEAR" "YYMMDD" "YYMON" 
"YYMMDDC" "YYMMDDD" "YYMMDDN" "YYMMDDP" "YYMMDDS" "EURDFDE" "NJDATE" "NLDATE" "EURDFDD" 
"EURDFDWN" "EURDFMN" "EURDFMY" "EURDFWK" "EURDFWKX" "EURDFWDX" "EURDFDN" "EURDFDE" )) 
formattype = 'DATE';
MPRINT(EM_DIAGRAM):   when(tempfmt in ("DATETIME" "EURDFDT" "TOD" )) formattype = "DATETIME";
MPRINT(EM_DIAGRAM):   when(tempfmt in ("HHMM" "HOUR" "MMSS" "TIME" "TIMEAMPM" )) formattype = 
"TIME";
MPRINT(EM_DIAGRAM):   when(tempfmt in ("COMMA" "COMMAX" "DOLLAR" "DOLLARX" "E" "FRACT" 
"NEGPAREN" "PERCENT")) formattype="QUANTITY";
MPRINT(EM_DIAGRAM):   when(tempfmt in ("BINARY" "HEX" "IB" "OCTAL" "PD" "PIB" "PK" "RB" "SSN" 
"Z" "ZD")) formattype = "CODING";
MPRINT(EM_DIAGRAM):   otherwise do;
MPRINT(EM_DIAGRAM):   formattype = "USER";
MPRINT(EM_DIAGRAM):   if substr(tempfmt, 1, 6)='NLDATE' then formattype = "DATE";
MPRINT(EM_DIAGRAM):   else if substr(tempfmt, 1, 6)='NLDATM' then formattype = "DATETIME";
MPRINT(EM_DIAGRAM):   else if substr(tempfmt, 1, 4)='NLTIM' then formattype = "TIME";
MPRINT(EM_DIAGRAM):   else if flen >= 4 then do;
MPRINT(EM_DIAGRAM):   str = substr(tempfmt,1,4);
MPRINT(EM_DIAGRAM):   if str in ("MMYY" "YYMM" "YYQR") then formattype ="DATE";
MPRINT(EM_DIAGRAM):   else if str = "S370" then formattype = "CODING";
MPRINT(EM_DIAGRAM):   else if str = "BEST" then formattype = "NUM";
MPRINT(EM_DIAGRAM):   drop str;
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   else if flen >=3 and substr(tempfmt,1,3) = "YYQ" then formatType = 
"DATE";
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   drop flen tempfmt pos;
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   else do;
MPRINT(EM_DIAGRAM):   formatType = "CATEGORY";
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   if formatType = "NUM" then do;
MPRINT(EM_DIAGRAM):   if index = "Y" then formatType = "DISCRETE";
MPRINT(EM_DIAGRAM):   else formatType = "QUANTITY";
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   if level = ' ' then do;
MPRINT(EM_DIAGRAM):   if formatType in ("CATEGORY", "CODING", "ID") or type = "C" then level = 
"NOMINAL";
MPRINT(EM_DIAGRAM):   else level = "INTERVAL";
MPRINT(EM_DIAGRAM):   levelAssigned = 1;
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   else level = upcase(level);
MPRINT(EM_DIAGRAM):   if role = ' ' then do;
MPRINT(EM_DIAGRAM):   length name_prefix $8 _uname $64;
MPRINT(EM_DIAGRAM):   drop name_prefix _uname _freqflag;
MPRINT(EM_DIAGRAM):   retain _freqflag;
MPRINT(EM_DIAGRAM):   if LENGTH> 80 then ROLE = 'TEXT';
MPRINT(EM_DIAGRAM):   _uname = upcase(NAME);
MPRINT(EM_DIAGRAM):   select(_uname);
MPRINT(EM_DIAGRAM):   when('_WARN_') ROLE = 'ASSESS';
MPRINT(EM_DIAGRAM):   when('EM_SEGMENT') do;
MPRINT(EM_DIAGRAM):   ROLE = 'SEGMENT';
MPRINT(EM_DIAGRAM):   LEVEL = 'NOMINAL';
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   when('_NODE_') do;
MPRINT(EM_DIAGRAM):   ROLE = 'SEGMENT';
MPRINT(EM_DIAGRAM):   LEVEL = 'NOMINAL';
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   when('EM_CLASSTARGET') ROLE = 'ASSESS';
MPRINT(EM_DIAGRAM):   when('EM_VALUETARGET') ROLE = 'ASSESS';
MPRINT(EM_DIAGRAM):   when('EM_PREDICTION') ROLE = 'PREDICT';
MPRINT(EM_DIAGRAM):   when('EM_PROBABILITY') ROLE = 'PREDICT';
MPRINT(EM_DIAGRAM):   when('EM_EVENTPROBABILITY') ROLE = 'PREDICT';
MPRINT(EM_DIAGRAM):   when('EM_CLASSIFICATION') ROLE = 'CLASSIFICATION';
MPRINT(EM_DIAGRAM):   when('EM_DECISION') ROLE = 'DECISION';
MPRINT(EM_DIAGRAM):   when('EM_PROFIT') ROLE = 'ASSESS';
MPRINT(EM_DIAGRAM):   when('EM_LOSS') ROLE = 'ASSESS';
MPRINT(EM_DIAGRAM):   when('EM_ROI') ROLE = 'ASSESS';
MPRINT(EM_DIAGRAM):   when('URI') ROLE = 'URL';
MPRINT(EM_DIAGRAM):   when('FILTERED') ROLE = 'TEXTLOC';
MPRINT(EM_DIAGRAM):   otherwise do;
MPRINT(EM_DIAGRAM):   if upcase(NAME) =: 'ZIP' then do;
MPRINT(EM_DIAGRAM):   ROLE = 'REJECTED';
MPRINT(EM_DIAGRAM):   LEVEL = 'NOMINAL';
MPRINT(EM_DIAGRAM):   COMMENT = 'Rejected by: Exceed the maximum class level of %s';
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   else if upcase(NAME) in('FREQ', 'FREQUENCY') then do;
MPRINT(EM_DIAGRAM):   ROLE = 'FREQ';
MPRINT(EM_DIAGRAM):   if TYPE = 'C' then ROLE = 'INPUT';
MPRINT(EM_DIAGRAM):   else if _freqflag =1 then ROLE='REJECTED';
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   else do;
MPRINT(EM_DIAGRAM):   name_prefix = scan(_uname, 1, '_');
MPRINT(EM_DIAGRAM):   if scan(_uname, 2, '_') = '' then name_prefix='';
MPRINT(EM_DIAGRAM):   if name_prefix in('F', 'I', 'U') then do;
MPRINT(EM_DIAGRAM):   ROLE = 'CLASSIFICATION';
MPRINT(EM_DIAGRAM):   LEVEL = 'NOMINAL';
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   else if name_prefix in('P', 'V') then ROLE = 'PREDICT';
MPRINT(EM_DIAGRAM):   else if name_prefix in('R', 'RS', 'RT', 'RD', 'RDS', 'RDT', 'RA', 'RAS', 
'RAT') then ROLE = 'RESIDUAL';
MPRINT(EM_DIAGRAM):   else if name_prefix ='D' then do;
MPRINT(EM_DIAGRAM):   ROLE = 'DECISION';
MPRINT(EM_DIAGRAM):   LEVEL = 'NOMINAL';
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   else if name_prefix ='B' then do;
MPRINT(EM_DIAGRAM):   ROLE = 'SEGMENT';
MPRINT(EM_DIAGRAM):   LEVEL = 'NOMINAL';
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   else if name_prefix in('EP', 'BP', 'CP', 'EL', 'CL', 'BL', 'W', 'ROI', 
'IC') then ROLE = 'ASSESS';
MPRINT(EM_DIAGRAM):   else do;
MPRINT(EM_DIAGRAM):   array _ROLE_ (19) $32 _TEMPORARY_ ('ASSESS','CLASSIFICATION','CENSOR', 
'COST', 'CROSSID', 'DECISION', 'ID','INPUT', 'LABEL', 
'MISSING','PREDICT','REFERRER','REJECTED', 'RESIDUAL','SEGMENT', 'SEQUENCE','TARGET', 'TEXT', 
'TIMEID');
MPRINT(EM_DIAGRAM):   drop _found_ i;
MPRINT(EM_DIAGRAM):   _found_=0;
MPRINT(EM_DIAGRAM):   do i=1 to 19 until(_found_=1);
MPRINT(EM_DIAGRAM):   if index(_uname, trim(_ROLE_{i}))=1 then do;
MPRINT(EM_DIAGRAM):   ROLE=_ROLE_{i};
MPRINT(EM_DIAGRAM):   if ROLE = 'ID' then LEVEL = 'NOMINAL';
MPRINT(EM_DIAGRAM):   else if ROLE = 'SEGMENT' then LEVEL = 'NOMINAL';
MPRINT(EM_DIAGRAM):   else if ROLE = 'TIMEID' and TYPE='N' then LEVEL = 'INTERVAL';
MPRINT(EM_DIAGRAM):   _found_=1;
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   if length(_uname)>2 then do;
MPRINT(EM_DIAGRAM):   if substr(reverse(trim(_uname)), 1, 3) = 'DI_' then do;
MPRINT(EM_DIAGRAM):   ROLE = 'ID';
MPRINT(EM_DIAGRAM):   LEVEL = 'NOMINAL';
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   if ROLE='FREQ' then _freqflag=1;
MPRINT(EM_DIAGRAM):   else if ROLE = 'CLASSIFICATION' then LEVEL = 'NOMINAL';
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   if role = ' ' then do;
MPRINT(EM_DIAGRAM):   if formattype in('DATE', 'DATETIME', 'TIME') then role = 'TIMEID';
MPRINT(EM_DIAGRAM):   else role = 'INPUT';
MPRINT(EM_DIAGRAM):   roleAssigned = 1;
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   else role = upcase(role);
MPRINT(EM_DIAGRAM):   if REPORT = '' then REPORT = 'N';
MPRINT(EM_DIAGRAM):   run;
MPRINT(EM_DIAGRAM):    *------------------------------------------------------------* ;
MPRINT(EM_DIAGRAM):   * DMDBClass Macro ;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------* ;
MPRINT(HPDM_PERFORMANCE):  ;
PERFORMANCE  DETAILS
MPRINT(EM_DIAGRAM):  ;
MPRINT(EM_DIAGRAM):    proc dmdb data=work._train(obs=1000000) batch classOut=_DMDB3NQ9C5N 
maxLevel=22;
MPRINT(EM_DIAGRAM):   class
MPRINT(DMDBCLASS):   AcceptedCmp1 AcceptedCmp2 AcceptedCmp3 AcceptedCmp4 AcceptedCmp5 
AcceptedCmpTotal Age Complain Custid DepVar Dt_Customer Education Element1 Element2 Element3 
Element4 Frq F_DepVar Group HigherEducation HigherEducationBinary Income I_DepVar Kidhome 
Marital_Status Mnt MntFishProducts MntFruits MntGoldProds MntMeatProducts MntSweetProducts 
MntWines MonthsAsCustomer NumCatalogPurchases NumDealsPurchases NumDistPurchases 
NumStorePurchases NumWebPurchases NumWebVisitsMonth P_DepVar0 P_DepVar1 Q_DepVar0 Q_DepVar1 
Recency RFMstat RMntFrq R_DepVar0 R_DepVar1 Teenhome U_DepVar V_DepVar0 V_DepVar1 Year_Birth 
Z_CostContact Z_Revenue _bin _dataobs_ _LEAF_ _NODE_ _WARN_
MPRINT(EM_DIAGRAM):  ;
MPRINT(EM_DIAGRAM):   run;
MPRINT(EM_DIAGRAM):    proc freq data=_DMDB3NQ9C5N noprint;
MPRINT(EM_DIAGRAM):   table name / out=_DMDBCOUNT3NQ9C5N(drop=percent rename=(count=NLEVEL));
MPRINT(EM_DIAGRAM):   run;
MPRINT(EM_DIAGRAM):   data _MISS3NQ9C5N(rename=(frequency=NMISS));
MPRINT(EM_DIAGRAM):   set _DMDB3NQ9C5N(where=(NRAW=. and CRAW=''));
MPRINT(EM_DIAGRAM):   keep name frequency;
MPRINT(EM_DIAGRAM):   run;
MPRINT(EM_DIAGRAM):   proc sort data=_MISS3NQ9C5N;
MPRINT(EM_DIAGRAM):   by NAME;
MPRINT(EM_DIAGRAM):   run;
MPRINT(EM_DIAGRAM):   proc sort data=_DMDBCOUNT3NQ9C5N;
MPRINT(EM_DIAGRAM):   by NAME;
MPRINT(EM_DIAGRAM):   run;
MPRINT(EM_DIAGRAM):    data _COUNTS3NQ9C5N;
MPRINT(EM_DIAGRAM):   merge _DMDBCOUNT3NQ9C5N _MISS3NQ9C5N;
MPRINT(EM_DIAGRAM):   label NLEVEL= 'Number of Category';
MPRINT(EM_DIAGRAM):   by name;
MPRINT(EM_DIAGRAM):   if NMISS > 0 then do;
MPRINT(EM_DIAGRAM):   NLEVEL= NLEVEL-1;
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   else NMISS = 0;
MPRINT(EM_DIAGRAM):   run;
MPRINT(EM_DIAGRAM):    proc sort data=_COUNTS3NQ9C5N NOTHREADS;
MPRINT(EM_DIAGRAM):   by name;
MPRINT(EM_DIAGRAM):   run;
MPRINT(EM_DIAGRAM):   proc sort data=WORK.M3C0AJ12 NOTHREADS;
MPRINT(EM_DIAGRAM):   by name;
MPRINT(EM_DIAGRAM):   run;
MPRINT(EM_DIAGRAM):   data WORK.M3C0AJ12;
MPRINT(EM_DIAGRAM):   length NLEVEL 8 nmiss 8;
MPRINT(EM_DIAGRAM):   update WORK.M3C0AJ12 _COUNTS3NQ9C5N;
MPRINT(EM_DIAGRAM):   by name;
MPRINT(EM_DIAGRAM):   if name='' then name='_';
MPRINT(EM_DIAGRAM):   if levelAssigned and ROLE ne 'FREQ' then do;
MPRINT(EM_DIAGRAM):   select(NLEVEL);
MPRINT(EM_DIAGRAM):   when(.) do;
MPRINT(EM_DIAGRAM):   if type eq 'C' then level = 'NOMINAL';
MPRINT(EM_DIAGRAM):   else level = 'INTERVAL';
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   when(0) level = 'UNARY';
MPRINT(EM_DIAGRAM):   when(1) level = 'UNARY';
MPRINT(EM_DIAGRAM):   when(2) level = 'BINARY';
MPRINT(EM_DIAGRAM):   otherwise do;
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   if roleAssigned then do;
MPRINT(EM_DIAGRAM):   if level = 'NOMINAL' and NLEVEL > 20 then do;
MPRINT(EM_DIAGRAM):   role = 'REJECTED';
MPRINT(EM_DIAGRAM):   comment = "Exceeds maximum number of levels cutoff";
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   if level = 'UNARY' and ROLE ne 'FREQ' then role='REJECTED';
MPRINT(EM_DIAGRAM):   drop NLEVEL nmiss;
MPRINT(EM_DIAGRAM):   label NAME = "Variable Name" TYPE = "Type" ROLE = "Role" LEVEL= 
"Measurement Level" ORDER= "Order" CREATOR= "Creator" FORMATTYPE= "Format Type" FAMILY= 
"Family" DISTRIBUTION= "Distribution" PRICE= "Price" LOWERLIMIT= "Lower limit" UPPERLIMIT= 
"Upper Limit" REPORT= "Report" COMMENT= "Comment" INDEX= "Index" INDEXTYPE= "IndexType" LABEL= 
"Label" LENGTH= "Length";
MPRINT(EM_DIAGRAM):   drop levelAssigned roleAssigned;
MPRINT(EM_DIAGRAM):   run;
682779     data WORK.M1KMIG57;
MPRINT(EM_DIAGRAM):    data WORK.M1KMIG57;
682780     set WORK.M1KMIG57;
MPRINT(EM_DIAGRAM):   set WORK.M1KMIG57;
682781     if NAME='Element1' then delete;
MPRINT(EM_DIAGRAM):   if NAME='Element1' then delete;
682782     if NAME='Element2' then delete;
MPRINT(EM_DIAGRAM):   if NAME='Element2' then delete;
682783     if NAME='Element3' then delete;
MPRINT(EM_DIAGRAM):   if NAME='Element3' then delete;
682784     if NAME='Element4' then delete;
MPRINT(EM_DIAGRAM):   if NAME='Element4' then delete;
682785     if NAME='Group' then delete;
MPRINT(EM_DIAGRAM):   if NAME='Group' then delete;
682786     if NAME='Z_CostContact' then delete;
MPRINT(EM_DIAGRAM):   if NAME='Z_CostContact' then delete;
682787     if NAME='Z_Revenue' then delete;
MPRINT(EM_DIAGRAM):   if NAME='Z_Revenue' then delete;
682788     if NAME='_WARN_' then delete;
MPRINT(EM_DIAGRAM):   if NAME='_WARN_' then delete;
682789     run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 34 observations read from the data set WORK.M1KMIG57.
NOTE: The data set WORK.M1KMIG57 has 34 observations and 21 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      

682790     data WORK.M1W6VCWY;
MPRINT(EM_DIAGRAM):    data WORK.M1W6VCWY;
682791     set WORK.M1W6VCWY;
MPRINT(EM_DIAGRAM):   set WORK.M1W6VCWY;
682792     if role='INPUT' and use='D' then use='Y';
MPRINT(EM_DIAGRAM):   if role='INPUT' and use='D' then use='Y';
682793     if NAME='_bin' then do;
MPRINT(EM_DIAGRAM):   if NAME='_bin' then do;
682794     ROLE='TARGET';
MPRINT(EM_DIAGRAM):   ROLE='TARGET';
682795     LEVEL='BINARY';
MPRINT(EM_DIAGRAM):   LEVEL='BINARY';
682796     USE='Y';
MPRINT(EM_DIAGRAM):   USE='Y';
682797     end;
MPRINT(EM_DIAGRAM):   end;
682798     if NAME='DepVar' then do;
MPRINT(EM_DIAGRAM):   if NAME='DepVar' then do;
682799     ROLE='REJECTED';
MPRINT(EM_DIAGRAM):   ROLE='REJECTED';
682800     end;
MPRINT(EM_DIAGRAM):   end;
682801     if NAME='Element1' then delete;
MPRINT(EM_DIAGRAM):   if NAME='Element1' then delete;
682802     if NAME='Element2' then delete;
MPRINT(EM_DIAGRAM):   if NAME='Element2' then delete;
682803     if NAME='Element3' then delete;
MPRINT(EM_DIAGRAM):   if NAME='Element3' then delete;
682804     if NAME='Element4' then delete;
MPRINT(EM_DIAGRAM):   if NAME='Element4' then delete;
682805     if NAME='Group' then delete;
MPRINT(EM_DIAGRAM):   if NAME='Group' then delete;
682806     if NAME='Z_CostContact' then delete;
MPRINT(EM_DIAGRAM):   if NAME='Z_CostContact' then delete;
682807     if NAME='Z_Revenue' then delete;
MPRINT(EM_DIAGRAM):   if NAME='Z_Revenue' then delete;
682808     if NAME='_WARN_' then delete;
MPRINT(EM_DIAGRAM):   if NAME='_WARN_' then delete;
682809     run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 35 observations read from the data set WORK.M1W6VCWY.
NOTE: The data set WORK.M1W6VCWY has 35 observations and 21 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

682810     *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):    *------------------------------------------------------------*;
682811     * Binary Model DepVar = 0;
MPRINT(EM_DIAGRAM):   * Binary Model DepVar = 0;
682812     *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
682813     *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
682814     * REGRESSION MODEL DepVar binary BIN1;
MPRINT(EM_DIAGRAM):   * REGRESSION MODEL DepVar binary BIN1;
682815     *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
682816     *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
682817     * Rule: Create decision matrix;
MPRINT(EM_DIAGRAM):   * Rule: Create decision matrix;
682818     *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
682819     data EM_DMREG / view=EM_DMREG;
MPRINT(EM_DIAGRAM):   data EM_DMREG / view=EM_DMREG;
682820     set work._train(keep=
682821     AcceptedCmp1 AcceptedCmp2 AcceptedCmp3 AcceptedCmp4 AcceptedCmp5
682822     AcceptedCmpTotal Age Complain DepVar Education Frq HigherEducationBinary Income
682823     Kidhome Marital_Status Mnt MntFishProducts MntFruits MntGoldProds
682824     MntMeatProducts MntSweetProducts MntWines MonthsAsCustomer NumCatalogPurchases
682825     NumDealsPurchases NumDistPurchases NumStorePurchases NumWebPurchases
682826     NumWebVisitsMonth RFMstat RMntFrq Recency Teenhome _bin);
MPRINT(EM_DIAGRAM):   set work._train(keep= AcceptedCmp1 AcceptedCmp2 AcceptedCmp3 
AcceptedCmp4 AcceptedCmp5 AcceptedCmpTotal Age Complain DepVar Education Frq 
HigherEducationBinary Income Kidhome Marital_Status Mnt MntFishProducts MntFruits MntGoldProds 
MntMeatProducts MntSweetProducts MntWines MonthsAsCustomer NumCatalogPurchases 
NumDealsPurchases NumDistPurchases NumStorePurchases NumWebPurchases NumWebVisitsMonth RFMstat 
RMntFrq Recency Teenhome _bin);
682827     run;
MPRINT(EM_DIAGRAM):   run;

NOTE: DATA STEP view saved on file WORK.EM_DMREG.
NOTE: A stored DATA STEP view cannot run under a different operating system.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

MPRINT(EM_DIAGRAM):   *------------------------------------------------------------* ;
MPRINT(EM_DIAGRAM):   * Rule: DMDBClass Macro ;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------* ;
682828     *------------------------------------------------------------* ;
682829     * Rule: DMDBClass Macro ;
682830     *------------------------------------------------------------* ;
682831     %macro DMDBClass;
682832         AcceptedCmp1(ASC) AcceptedCmp2(ASC) AcceptedCmp3(ASC) AcceptedCmp4(ASC)
682833        AcceptedCmp5(ASC) Complain(ASC) DepVar(ASC) Education(ASC)
682834        HigherEducationBinary(ASC) Marital_Status(ASC) _bin(DESC)
682835     %mend DMDBClass;
682836     *------------------------------------------------------------* ;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------* ;
682837     * Rule: DMDBVar Macro ;
MPRINT(EM_DIAGRAM):   * Rule: DMDBVar Macro ;
682838     *------------------------------------------------------------* ;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------* ;
682839     %macro DMDBVar;
682840         AcceptedCmpTotal Age Frq Income Kidhome Mnt MntFishProducts MntFruits
682841        MntGoldProds MntMeatProducts MntSweetProducts MntWines MonthsAsCustomer
682842        NumCatalogPurchases NumDealsPurchases NumDistPurchases NumStorePurchases
682843        NumWebPurchases NumWebVisitsMonth RFMstat RMntFrq Recency Teenhome
682844     %mend DMDBVar;
682845     *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
682846     * Rule: Create DMDB;
MPRINT(EM_DIAGRAM):   * Rule: Create DMDB;
682847     *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
682848     proc dmdb batch data=WORK.EM_DMREG
682849     dmdbcat=WORK.Rule_DMDB
682850     maxlevel = 513
682851     ;
MPRINT(EM_DIAGRAM):   proc dmdb batch data=WORK.EM_DMREG dmdbcat=WORK.Rule_DMDB maxlevel = 513 
;
MPRINT(EM_DIAGRAM):   class
682852     class %DMDBClass;
MPRINT(DMDBCLASS):   AcceptedCmp1(ASC) AcceptedCmp2(ASC) AcceptedCmp3(ASC) AcceptedCmp4(ASC) 
AcceptedCmp5(ASC) Complain(ASC) DepVar(ASC) Education(ASC) HigherEducationBinary(ASC) 
Marital_Status(ASC) _bin(DESC)
MPRINT(EM_DIAGRAM):  ;
MPRINT(EM_DIAGRAM):   var
682853     var %DMDBVar;
MPRINT(DMDBVAR):   AcceptedCmpTotal Age Frq Income Kidhome Mnt MntFishProducts MntFruits 
MntGoldProds MntMeatProducts MntSweetProducts MntWines MonthsAsCustomer NumCatalogPurchases 
NumDealsPurchases NumDistPurchases NumStorePurchases NumWebPurchases NumWebVisitsMonth RFMstat 
RMntFrq Recency Teenhome
MPRINT(EM_DIAGRAM):  ;
682854     target
682855     _bin
682856     ;
MPRINT(EM_DIAGRAM):   target _bin ;
682857     run;
MPRINT(EM_DIAGRAM):   run;

NOTE: Records processed = 2374   Memory used = 511K.
NOTE: View WORK.EM_DMREG.VIEW used (Total process time):
      real time           0.02 seconds
      cpu time            0.01 seconds
      
NOTE: There were 2374 observations read from the data set WORK._TRAIN.
NOTE: There were 2374 observations read from the data set WORK.EM_DMREG.
NOTE: PROCEDURE DMDB used (Total process time):
      real time           0.03 seconds
      cpu time            0.01 seconds
      

MPRINT(EM_DIAGRAM):   quit;
MPRINT(EM_DIAGRAM):   *--- end code ---*;
682858     quit;
682859     *--- end code ---*;

682860     *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):    *------------------------------------------------------------*;
682861     * Rule: Run DMREG procedure;
MPRINT(EM_DIAGRAM):   * Rule: Run DMREG procedure;
682862     *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
682863     proc dmreg data=EM_DMREG dmdbcat=WORK.Rule_DMDB
682864     validata = work._valid
682865     outest = WORK.DMREG_0M3J979_OUTEST
682866     outterms = WORK.DMREG_0M3J979_OUTTERMS
682867     outmap= WORK.DMREG_0M3J979_MAP namelen=200
682868     ;
MPRINT(EM_DIAGRAM):   proc dmreg data=EM_DMREG dmdbcat=WORK.Rule_DMDB validata = work._valid 
outest = WORK.DMREG_0M3J979_OUTEST outterms = WORK.DMREG_0M3J979_OUTTERMS outmap= 
WORK.DMREG_0M3J979_MAP namelen=200 ;
682869     class
682870     _bin
682871     AcceptedCmp1
682872     AcceptedCmp2
682873     AcceptedCmp3
682874     AcceptedCmp4
682875     AcceptedCmp5
682876     Complain
682877     Education
682878     HigherEducationBinary
682879     Marital_Status
682880     ;
MPRINT(EM_DIAGRAM):   class _bin AcceptedCmp1 AcceptedCmp2 AcceptedCmp3 AcceptedCmp4 
AcceptedCmp5 Complain Education HigherEducationBinary Marital_Status ;
682881     model _bin =
682882     AcceptedCmp1
682883     AcceptedCmp2
682884     AcceptedCmp3
682885     AcceptedCmp4
682886     AcceptedCmp5
682887     AcceptedCmpTotal
682888     Age
682889     Complain
682890     Education
682891     Frq
682892     HigherEducationBinary
682893     Income
682894     Kidhome
682895     Marital_Status
682896     Mnt
682897     MntFishProducts
682898     MntFruits
682899     MntGoldProds
682900     MntMeatProducts
682901     MntSweetProducts
682902     MntWines
682903     MonthsAsCustomer
682904     NumCatalogPurchases
682905     NumDealsPurchases
682906     NumDistPurchases
682907     NumStorePurchases
682908     NumWebPurchases
682909     NumWebVisitsMonth
682910     RFMstat
682911     RMntFrq
682912     Recency
682913     Teenhome
682914     /error=binomial link=LOGIT
682915     coding=DEVIATION
682916     nodesignprint
682917     ;
MPRINT(EM_DIAGRAM):   model _bin = AcceptedCmp1 AcceptedCmp2 AcceptedCmp3 AcceptedCmp4 
AcceptedCmp5 AcceptedCmpTotal Age Complain Education Frq HigherEducationBinary Income Kidhome 
Marital_Status Mnt MntFishProducts MntFruits MntGoldProds MntMeatProducts MntSweetProducts 
MntWines MonthsAsCustomer NumCatalogPurchases NumDealsPurchases NumDistPurchases 
NumStorePurchases NumWebPurchases NumWebVisitsMonth RFMstat RMntFrq Recency Teenhome 
/error=binomial link=LOGIT coding=DEVIATION nodesignprint ;
682918     ;
MPRINT(EM_DIAGRAM):   ;
682919     score data=_train
682920     out=_ptrain(label="")
682921     ;
MPRINT(EM_DIAGRAM):   score data=_train out=_ptrain(label="") ;
682922     score data=_valid
682923     out=_pvalid(label="")
682924     ;
MPRINT(EM_DIAGRAM):   score data=_valid out=_pvalid(label="") ;
682925     code file="C:\Users\LUKASF~1\AppData\Local\Temp\SAS Temporary
682925   ! Files\_TD9752_WN7LF-LEAVE_\Prc2\BIN1.sas"
682926     group=Rule_1
682927     ;
MPRINT(EM_DIAGRAM):   code file="C:\Users\LUKASF~1\AppData\Local\Temp\SAS Temporary 
Files\_TD9752_WN7LF-LEAVE_\Prc2\BIN1.sas" group=Rule_1 ;
682928     code file="C:\Users\LUKASF~1\AppData\Local\Temp\SAS Temporary
682928   ! Files\_TD9752_WN7LF-LEAVE_\Prc2\BIN1_res.sas"
682929     group=Rule_1
682930     residual
682931     ;
MPRINT(EM_DIAGRAM):   code file="C:\Users\LUKASF~1\AppData\Local\Temp\SAS Temporary 
Files\_TD9752_WN7LF-LEAVE_\Prc2\BIN1_res.sas" group=Rule_1 residual ;
682932     run;
MPRINT(EM_DIAGRAM):   run;

NOTE: Variable _WARN_ already exists on file WORK._PTRAIN, using _WARN_2 instead.
NOTE: Variable _WARN_ already exists on file WORK._PVALID, using _WARN_2 instead.

NOTE: PROC DMREG is modeling the probability that _bin='1'.
NOTE: Convergence criterion (GCONV=1E-6) satisfied.
NOTE: External file C:\Users\LUKASF~1\AppData\Local\Temp\SAS Temporary 
      Files\_TD9752_WN7LF-LEAVE_\Prc2\BIN1.sas opened.
NOTE: External file C:\Users\LUKASF~1\AppData\Local\Temp\SAS Temporary 
      Files\_TD9752_WN7LF-LEAVE_\Prc2\BIN1_res.sas opened.
NOTE: View WORK.EM_DMREG.VIEW used (Total process time):
      real time           0.22 seconds
      cpu time            0.23 seconds
      
NOTE: There were 2374 observations read from the data set WORK._TRAIN.
NOTE: There were 2374 observations read from the data set WORK.EM_DMREG.
NOTE: There were 1018 observations read from the data set WORK._VALID.
NOTE: There were 2374 observations read from the data set WORK._TRAIN.
NOTE: There were 1018 observations read from the data set WORK._VALID.
NOTE: The data set WORK.DMREG_0M3J979_OUTEST has 3 observations and 73 variables.
NOTE: The data set WORK.DMREG_0M3J979_OUTTERMS has 39 observations and 6 variables.
NOTE: The data set WORK.DMREG_0M3J979_MAP has 2 observations and 40 variables.
NOTE: The data set WORK._PTRAIN has 2374 observations and 69 variables.
NOTE: The data set WORK._PVALID has 1018 observations and 70 variables.
NOTE: The PROCEDURE DMREG printed pages 632-633.
NOTE: PROCEDURE DMREG used (Total process time):
      real time           0.23 seconds
      cpu time            0.24 seconds
      

MPRINT(EM_DIAGRAM):   quit;
682933     quit;

682934     proc datasets lib=WORK nolist;
MPRINT(EM_DIAGRAM):    proc datasets lib=WORK nolist;
682935     delete Rule_DMDB;
MPRINT(EM_DIAGRAM):   delete Rule_DMDB;
682936     run;
MPRINT(EM_DIAGRAM):   run;

NOTE: The file WORK.RULE_DMDB (memtype=DATA) was not found, but appears on a DELETE statement.
682937     quit;
MPRINT(EM_DIAGRAM):   quit;

NOTE: PROCEDURE DATASETS used (Total process time):
      real time           0.02 seconds
      cpu time            0.01 seconds
      

682938     proc datasets lib=WORK nolist;
MPRINT(EM_DIAGRAM):    proc datasets lib=WORK nolist;
682939     delete Rule_DMDB / memtype=catalog;
MPRINT(EM_DIAGRAM):   delete Rule_DMDB / memtype=catalog;
682940     run;
MPRINT(EM_DIAGRAM):   run;

NOTE: Deleting WORK.RULE_DMDB (memtype=CATALOG).
682941     quit;
MPRINT(EM_DIAGRAM):   quit;

NOTE: PROCEDURE DATASETS used (Total process time):
      real time           0.02 seconds
      cpu time            0.01 seconds
      

682942     * BINARY: Training Classification;
MPRINT(EM_DIAGRAM):    * BINARY: Training Classification;
682943     ;
MPRINT(EM_DIAGRAM):   ;
682944     proc freq data = _ptrain noprint;
MPRINT(EM_DIAGRAM):   proc freq data = _ptrain noprint;
682945     tables F__bin * I__bin / out = _count;
MPRINT(EM_DIAGRAM):   tables F__bin * I__bin / out = _count;
682946     run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 2374 observations read from the data set WORK._PTRAIN.
NOTE: The data set WORK._COUNT has 4 observations and 4 variables.
NOTE: PROCEDURE FREQ used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

682947     data _count;
MPRINT(EM_DIAGRAM):   data _count;
682948     set _count;
MPRINT(EM_DIAGRAM):   set _count;
682949     label count = "%sysfunc(sasmsg(sashelp.dmine, rpt_traincount_vlabel, NOQUOTE))";
MPRINT(EM_DIAGRAM):   label count = "Train Count";
682950     label percent = "%sysfunc(sasmsg(sashelp.dmine, rpt_trainpercent_vlabel, NOQUOTE))";
MPRINT(EM_DIAGRAM):   label percent = "Train Percent";
682951     label F__bin = "%sysfunc(sasmsg(sashelp.dmine, rpt_from_vlabel, NOQUOTE))";
MPRINT(EM_DIAGRAM):   label F__bin = "From";
682952     label I__bin = "%sysfunc(sasmsg(sashelp.dmine, rpt_into_vlabel, NOQUOTE))";
MPRINT(EM_DIAGRAM):   label I__bin = "Into";
682953     run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 4 observations read from the data set WORK._COUNT.
NOTE: The data set WORK._COUNT has 4 observations and 4 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

MPRINT(EM_DIAGRAM):   * BINARY: Validation Classification;
MPRINT(EM_DIAGRAM):   ;
682954     * BINARY: Validation Classification;
682955     ;
682956     proc freq data = _pvalid noprint;
MPRINT(EM_DIAGRAM):   proc freq data = _pvalid noprint;
682957     tables f__bin * i__bin / out=_vcount;
MPRINT(EM_DIAGRAM):   tables f__bin * i__bin / out=_vcount;
682958     run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 1018 observations read from the data set WORK._PVALID.
NOTE: The data set WORK._VCOUNT has 4 observations and 4 variables.
NOTE: PROCEDURE FREQ used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      

682959     data _vcount;
MPRINT(EM_DIAGRAM):   data _vcount;
682960     set _vcount;
MPRINT(EM_DIAGRAM):   set _vcount;
682961     length key $64;
MPRINT(EM_DIAGRAM):   length key $64;
682962     label count = "%sysfunc(sasmsg(sashelp.dmine, rpt_validcount_vlabel, NOQUOTE))";
MPRINT(EM_DIAGRAM):   label count = "Valid Count";
682963     label percent = "%sysfunc(sasmsg(sashelp.dmine, rpt_validpercent_vlabel, NOQUOTE))";
MPRINT(EM_DIAGRAM):   label percent = "Valid Percent";
682964     label f__bin = "%sysfunc(sasmsg(sashelp.dmine, rpt_from_vlabel, NOQUOTE))";
MPRINT(EM_DIAGRAM):   label f__bin = "From";
682965     label i__bin = "%sysfunc(sasmsg(sashelp.dmine, rpt_into_vlabel, NOQUOTE))";
MPRINT(EM_DIAGRAM):   label i__bin = "Into";
682966     rename count = vcount;
MPRINT(EM_DIAGRAM):   rename count = vcount;
682967     rename percent= vpercent;
MPRINT(EM_DIAGRAM):   rename percent= vpercent;
682968     key = ktrim(kleft(f__bin) !! '_' !! ktrim(kleft(i__bin)));
MPRINT(EM_DIAGRAM):   key = ktrim(kleft(f__bin) !! '_' !! ktrim(kleft(i__bin)));
682969     run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 4 observations read from the data set WORK._VCOUNT.
NOTE: The data set WORK._VCOUNT has 4 observations and 5 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

MPRINT(EM_DIAGRAM):   *;
682970     *;
682971     data _count;
MPRINT(EM_DIAGRAM):   data _count;
682972     set _count;
MPRINT(EM_DIAGRAM):   set _count;
682973     length key $64;
MPRINT(EM_DIAGRAM):   length key $64;
682974     key = ktrim(kleft(f__bin) !! '_' !! ktrim(kleft(i__bin)));
MPRINT(EM_DIAGRAM):   key = ktrim(kleft(f__bin) !! '_' !! ktrim(kleft(i__bin)));
682975     run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 4 observations read from the data set WORK._COUNT.
NOTE: The data set WORK._COUNT has 4 observations and 5 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

MPRINT(EM_DIAGRAM):   * Merge Train and Valid classification;
MPRINT(EM_DIAGRAM):   ;
682976     * Merge Train and Valid classification;
682977     ;
682978     proc sort data=_count;
MPRINT(EM_DIAGRAM):   proc sort data=_count;
682979     by key;
MPRINT(EM_DIAGRAM):   by key;
682980     run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 4 observations read from the data set WORK._COUNT.
NOTE: The data set WORK._COUNT has 4 observations and 5 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

682981     proc sort data=_vcount;
MPRINT(EM_DIAGRAM):   proc sort data=_vcount;
682982     by key;
MPRINT(EM_DIAGRAM):   by key;
682983     run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 4 observations read from the data set WORK._VCOUNT.
NOTE: The data set WORK._VCOUNT has 4 observations and 5 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

MPRINT(EM_DIAGRAM):   *;
682984     *;
682985     data _count;
MPRINT(EM_DIAGRAM):   data _count;
682986     merge _count _vcount;
MPRINT(EM_DIAGRAM):   merge _count _vcount;
682987     by key;
MPRINT(EM_DIAGRAM):   by key;
682988     drop key;
MPRINT(EM_DIAGRAM):   drop key;
682989     run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 4 observations read from the data set WORK._COUNT.
NOTE: There were 4 observations read from the data set WORK._VCOUNT.
NOTE: The data set WORK._COUNT has 4 observations and 6 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

MPRINT(EM_DIAGRAM):   *BINARY: Print Classification;
MPRINT(EM_DIAGRAM):   ;
682990     *BINARY: Print Classification;
682991     ;
682992     title9 "%sysfunc(sasmsg(sashelp.dmine, rpt_binmodel_title, NOQUOTE, DepVar,
682992   ! %nrbquote(0)))";
MPRINT(EM_DIAGRAM):   title9 "Binary Model DepVar = 0";
682993     title10 "%sysfunc(sasmsg(sashelp.dmine, rpt_classification_title, NOQUOTE))";
MPRINT(EM_DIAGRAM):   title10 "Classification Table";
682994     proc print data = _count noobs label;
MPRINT(EM_DIAGRAM):   proc print data = _count noobs label;
682995     run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 4 observations read from the data set WORK._COUNT.
NOTE: The PROCEDURE PRINT printed page 634.
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

682996     title9;
MPRINT(EM_DIAGRAM):   title9;
682997     title10;
MPRINT(EM_DIAGRAM):   title10;
682998     * Extract misfit training values;
MPRINT(EM_DIAGRAM):    * Extract misfit training values;
682999     ;
MPRINT(EM_DIAGRAM):   ;
683000     data _ptrain;
MPRINT(EM_DIAGRAM):   data _ptrain;
683001     set _ptrain;
MPRINT(EM_DIAGRAM):   set _ptrain;
683002     if not ( I__bin eq '1' and F__bin eq '1') then output;
MPRINT(EM_DIAGRAM):   if not ( I__bin eq '1' and F__bin eq '1') then output;
683003     keep
683004     AcceptedCmp1
683005     AcceptedCmp2
683006     AcceptedCmp3
683007     AcceptedCmp4
683008     AcceptedCmp5
683009     AcceptedCmpTotal
683010     Age
683011     Complain
683012     Education
683013     Frq
683014     HigherEducationBinary
683015     Income
683016     Kidhome
683017     Marital_Status
683018     Mnt
683019     MntFishProducts
683020     MntFruits
683021     MntGoldProds
683022     MntMeatProducts
683023     MntSweetProducts
683024     MntWines
683025     MonthsAsCustomer
683026     NumCatalogPurchases
683027     NumDealsPurchases
683028     NumDistPurchases
683029     NumStorePurchases
683030     NumWebPurchases
683031     NumWebVisitsMonth
683032     RFMstat
683033     RMntFrq
683034     Recency
683035     Teenhome
683036     DepVar;
MPRINT(EM_DIAGRAM):   keep AcceptedCmp1 AcceptedCmp2 AcceptedCmp3 AcceptedCmp4 AcceptedCmp5 
AcceptedCmpTotal Age Complain Education Frq HigherEducationBinary Income Kidhome 
Marital_Status Mnt MntFishProducts MntFruits MntGoldProds MntMeatProducts MntSweetProducts 
MntWines MonthsAsCustomer NumCatalogPurchases NumDealsPurchases NumDistPurchases 
NumStorePurchases NumWebPurchases NumWebVisitsMonth RFMstat RMntFrq Recency Teenhome DepVar;
683037     run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 2374 observations read from the data set WORK._PTRAIN.
NOTE: The data set WORK._PTRAIN has 410 observations and 33 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

MPRINT(EM_DIAGRAM):   * Extract misfit validation values;
MPRINT(EM_DIAGRAM):   ;
683038     * Extract misfit validation values;
683039     ;
683040     data _pvalid;
MPRINT(EM_DIAGRAM):   data _pvalid;
683041     set _pvalid;
MPRINT(EM_DIAGRAM):   set _pvalid;
683042     if not (I__bin eq '1' and F__bin eq '1') then output;
MPRINT(EM_DIAGRAM):   if not (I__bin eq '1' and F__bin eq '1') then output;
683043     keep
683044     AcceptedCmp1
683045     AcceptedCmp2
683046     AcceptedCmp3
683047     AcceptedCmp4
683048     AcceptedCmp5
683049     AcceptedCmpTotal
683050     Age
683051     Complain
683052     Education
683053     Frq
683054     HigherEducationBinary
683055     Income
683056     Kidhome
683057     Marital_Status
683058     Mnt
683059     MntFishProducts
683060     MntFruits
683061     MntGoldProds
683062     MntMeatProducts
683063     MntSweetProducts
683064     MntWines
683065     MonthsAsCustomer
683066     NumCatalogPurchases
683067     NumDealsPurchases
683068     NumDistPurchases
683069     NumStorePurchases
683070     NumWebPurchases
683071     NumWebVisitsMonth
683072     RFMstat
683073     RMntFrq
683074     Recency
683075     Teenhome
683076     DepVar;
MPRINT(EM_DIAGRAM):   keep AcceptedCmp1 AcceptedCmp2 AcceptedCmp3 AcceptedCmp4 AcceptedCmp5 
AcceptedCmpTotal Age Complain Education Frq HigherEducationBinary Income Kidhome 
Marital_Status Mnt MntFishProducts MntFruits MntGoldProds MntMeatProducts MntSweetProducts 
MntWines MonthsAsCustomer NumCatalogPurchases NumDealsPurchases NumDistPurchases 
NumStorePurchases NumWebPurchases NumWebVisitsMonth RFMstat RMntFrq Recency Teenhome DepVar;
683077     run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 1018 observations read from the data set WORK._PVALID.
NOTE: The data set WORK._PVALID has 180 observations and 33 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

683078     * Create training data set with binary target for modeling;
MPRINT(EM_DIAGRAM):    * Create training data set with binary target for modeling;
683079     ;
MPRINT(EM_DIAGRAM):   ;
683080     data _ptrain;
MPRINT(EM_DIAGRAM):   data _ptrain;
683081     length _bin $12;
MPRINT(EM_DIAGRAM):   length _bin $12;
683082     set _ptrain;
MPRINT(EM_DIAGRAM):   set _ptrain;
683083     _tmp=putn(DepVar, 'best.');
MPRINT(EM_DIAGRAM):   _tmp=putn(DepVar, 'best.');
683084     %DMNORMIP(_tmp);
MPRINT(DMNORMIP):   call dmnorm(_tmp,
MPRINT(DMNORLEN):  32
MPRINT(DMNORMIP):  );
MPRINT(EM_DIAGRAM):  ;
683085     _tmpLevel = '1';
MPRINT(EM_DIAGRAM):   _tmpLevel = '1';
683086     %DMNORMCP(_tmpLevel, _tmpLevel);
MPRINT(DMNORMCP):   _tmpLevel=dmnorm(_tmpLevel,
MPRINT(DMNORLEN):  32
MPRINT(DMNORMCP):  );
MPRINT(EM_DIAGRAM):  ;
683087     if _tmp eq _tmpLevel then _bin = '1';
MPRINT(EM_DIAGRAM):   if _tmp eq _tmpLevel then _bin = '1';
683088     else _bin = '0';
MPRINT(EM_DIAGRAM):   else _bin = '0';
683089     drop _tmp _tmpLevel
683090     ;
MPRINT(EM_DIAGRAM):   drop _tmp _tmpLevel ;
683091     run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 410 observations read from the data set WORK._PTRAIN.
NOTE: The data set WORK._PTRAIN has 410 observations and 34 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

683092     * Create validation data set with binary target for modeling;
MPRINT(EM_DIAGRAM):    * Create validation data set with binary target for modeling;
683093     ;
MPRINT(EM_DIAGRAM):   ;
683094     data _pvalid;
MPRINT(EM_DIAGRAM):   data _pvalid;
683095     length _bin $12;
MPRINT(EM_DIAGRAM):   length _bin $12;
683096     set _pvalid;
MPRINT(EM_DIAGRAM):   set _pvalid;
683097     _tmp = putn(DepVar, 'best.');
MPRINT(EM_DIAGRAM):   _tmp = putn(DepVar, 'best.');
683098     %DMNORMIP(_TMP);
MPRINT(DMNORMIP):   call dmnorm(_TMP,
MPRINT(DMNORLEN):  32
MPRINT(DMNORMIP):  );
MPRINT(EM_DIAGRAM):  ;
683099     _tmpLevel = '1';
MPRINT(EM_DIAGRAM):   _tmpLevel = '1';
683100     %DMNORMCP(_tmpLevel, _tmpLevel);
MPRINT(DMNORMCP):   _tmpLevel=dmnorm(_tmpLevel,
MPRINT(DMNORLEN):  32
MPRINT(DMNORMCP):  );
MPRINT(EM_DIAGRAM):  ;
683101     if _tmp eq _tmpLevel then _bin = '1';
MPRINT(EM_DIAGRAM):   if _tmp eq _tmpLevel then _bin = '1';
683102     else _bin = '0';
MPRINT(EM_DIAGRAM):   else _bin = '0';
683103     drop _tmp
683104     ;
MPRINT(EM_DIAGRAM):   drop _tmp ;
683105     run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 180 observations read from the data set WORK._PVALID.
NOTE: The data set WORK._PVALID has 180 observations and 35 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

683106     data _train;
MPRINT(EM_DIAGRAM):    data _train;
683107     set _ptrain;
MPRINT(EM_DIAGRAM):   set _ptrain;
683108     run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 410 observations read from the data set WORK._PTRAIN.
NOTE: The data set WORK._TRAIN has 410 observations and 34 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

683109     data _valid;
MPRINT(EM_DIAGRAM):   data _valid;
683110     set _pvalid;
MPRINT(EM_DIAGRAM):   set _pvalid;
683111     options validvarname=any;
MPRINT(EM_DIAGRAM):   options validvarname=any;

NOTE: There were 180 observations read from the data set WORK._PVALID.
NOTE: The data set WORK._VALID has 180 observations and 35 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

683112     proc contents data=work._train out=_tempAdvisor noprint;
MPRINT(EM_DIAGRAM):   proc contents data=work._train out=_tempAdvisor noprint;
683113     run;
MPRINT(EM_DIAGRAM):   run;

NOTE: The data set WORK._TEMPADVISOR has 34 observations and 40 variables.
NOTE: PROCEDURE CONTENTS used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

683114     options validvarname=V7;
MPRINT(EM_DIAGRAM):   options validvarname=V7;
683115     %let _dsidTable = 0;
683116     %let _engineTable =;
683117     data _null_;
MPRINT(EM_DIAGRAM):    data _null_;
683118     dsid = open('work._train');
MPRINT(EM_DIAGRAM):   dsid = open('work._train');
683119     call symput('_dsidTable', strip(put(dsid, best.)));
MPRINT(EM_DIAGRAM):   call symput('_dsidTable', strip(put(dsid, best.)));
683120     if dsid then do;
MPRINT(EM_DIAGRAM):   if dsid then do;
683121     call symput('_engineTable', attrc(dsid, 'ENGINE'));
MPRINT(EM_DIAGRAM):   call symput('_engineTable', attrc(dsid, 'ENGINE'));
683122     dsid = close(dsid);
MPRINT(EM_DIAGRAM):   dsid = close(dsid);
683123     end;
MPRINT(EM_DIAGRAM):   end;
683124     run;
MPRINT(EM_DIAGRAM):   run;

NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

683125     options fmterr;
MPRINT(EM_DIAGRAM):    options fmterr;
683126     data _metaTestView;
MPRINT(EM_DIAGRAM):   data _metaTestView;
683127     set work._train;
MPRINT(EM_DIAGRAM):   set work._train;
683128     if _N_=1 then do;
MPRINT(EM_DIAGRAM):   if _N_=1 then do;
683129     output;
MPRINT(EM_DIAGRAM):   output;
683130     stop;
MPRINT(EM_DIAGRAM):   stop;
683131     end;
MPRINT(EM_DIAGRAM):   end;
683132     run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 1 observations read from the data set WORK._TRAIN.
NOTE: The data set WORK._METATESTVIEW has 1 observations and 34 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

683133     proc contents data=work._train
683134     out=WORK.M3E5T67Q noprint;
MPRINT(EM_DIAGRAM):    proc contents data=work._train out=WORK.M3E5T67Q noprint;
683135     run;
MPRINT(EM_DIAGRAM):   run;

NOTE: The data set WORK.M3E5T67Q has 34 observations and 40 variables.
NOTE: PROCEDURE CONTENTS used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

683136     data WORK.M3E5T67Q;
MPRINT(EM_DIAGRAM):    data WORK.M3E5T67Q;
683137     length NAME $ 64 TYPE $ 1 LABEL $ 200 FORMAT $ 20 INFORMAT $20 INDEX $ 1 INDEXTYPE $
683137   !  9;
MPRINT(EM_DIAGRAM):   length NAME $ 64 TYPE $ 1 LABEL $ 200 FORMAT $ 20 INFORMAT $20 INDEX $ 1 
INDEXTYPE $ 9;
683138     label NAME =;
MPRINT(EM_DIAGRAM):   label NAME =;
683139     set WORK.M3E5T67Q(keep=name type length label format formatl formatd informat
683139   ! informl informd idxusage rename=(type=itype));
MPRINT(EM_DIAGRAM):   set WORK.M3E5T67Q(keep=name type length label format formatl formatd 
informat informl informd idxusage rename=(type=itype));
683140     if itype = 1 then type = 'N';
MPRINT(EM_DIAGRAM):   if itype = 1 then type = 'N';
683141     else type = 'C';
MPRINT(EM_DIAGRAM):   else type = 'C';
683142     if formatl > 0 then do;
MPRINT(EM_DIAGRAM):   if formatl > 0 then do;
683143     if format ne ' ' then format = strip(format)!!strip(put(formatl,
683143   ! best12.))!!'.'!!strip(put(formatd, best12.));
MPRINT(EM_DIAGRAM):   if format ne ' ' then format = strip(format)!!strip(put(formatl, 
best12.))!!'.'!!strip(put(formatd, best12.));
683144     else format = strip(put(formatl, best12.))!!'.'!!strip(put(formatd, best12.));
MPRINT(EM_DIAGRAM):   else format = strip(put(formatl, best12.))!!'.'!!strip(put(formatd, 
best12.));
683145     end;
MPRINT(EM_DIAGRAM):   end;
683146     else if format ne '' then format = strip(format)!!'.';
MPRINT(EM_DIAGRAM):   else if format ne '' then format = strip(format)!!'.';
683147     if informl > 0 then do;
MPRINT(EM_DIAGRAM):   if informl > 0 then do;
683148     if informat ne ' ' then informat = strip(informat)!!strip(put(informl,
683148   ! best12.))!!'.'!!strip(put(informd, best12.));
MPRINT(EM_DIAGRAM):   if informat ne ' ' then informat = strip(informat)!!strip(put(informl, 
best12.))!!'.'!!strip(put(informd, best12.));
683149     else informat = strip(put(informl, best12.))!!'.'!!strip(put(informd, best12.));
MPRINT(EM_DIAGRAM):   else informat = strip(put(informl, best12.))!!'.'!!strip(put(informd, 
best12.));
683150     end;
MPRINT(EM_DIAGRAM):   end;
683151     else if informat ne '' then informat = strip(informat)!!'.';
MPRINT(EM_DIAGRAM):   else if informat ne '' then informat = strip(informat)!!'.';
683152     if idxusage = 'NONE' then index ="N";
MPRINT(EM_DIAGRAM):   if idxusage = 'NONE' then index ="N";
683153     else index = "Y";
MPRINT(EM_DIAGRAM):   else index = "Y";
683154     indextype = idxusage;
MPRINT(EM_DIAGRAM):   indextype = idxusage;
683155     drop idxusage itype formatl formatd informl informd;
MPRINT(EM_DIAGRAM):   drop idxusage itype formatl formatd informl informd;
683156     run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 34 observations read from the data set WORK.M3E5T67Q.
NOTE: The data set WORK.M3E5T67Q has 34 observations and 8 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

683157     data WORK.M3E5T67Q;
MPRINT(EM_DIAGRAM):    data WORK.M3E5T67Q;
683158     length UNAME $64;
MPRINT(EM_DIAGRAM):   length UNAME $64;
683159     set WORK.M3E5T67Q;
MPRINT(EM_DIAGRAM):   set WORK.M3E5T67Q;
683160     UNAME = upcase(NAME);
MPRINT(EM_DIAGRAM):   UNAME = upcase(NAME);
683161     run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 34 observations read from the data set WORK.M3E5T67Q.
NOTE: The data set WORK.M3E5T67Q has 34 observations and 9 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

MPRINT(EM_DIAGRAM):    proc sort data=WORK.M2NM5GS2 NOTHREADS;
MPRINT(EM_DIAGRAM):   by UNAME;
MPRINT(EM_DIAGRAM):   run;
683165     data WORK.M2NM5GS2;
MPRINT(EM_DIAGRAM):    data WORK.M2NM5GS2;
683166     drop UNAME;
MPRINT(EM_DIAGRAM):   drop UNAME;
683167     set WORK.M2NM5GS2;
MPRINT(EM_DIAGRAM):   set WORK.M2NM5GS2;
683168     run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 34 observations read from the data set WORK.M2NM5GS2.
NOTE: The data set WORK.M2NM5GS2 has 34 observations and 8 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

MPRINT(EM_DIAGRAM):    data WORK.M2_0FITZ(keep=NAME ATTR);
MPRINT(EM_DIAGRAM):   length ATTR $ 20;
MPRINT(EM_DIAGRAM):   set WORK.M2NM5GS2;
MPRINT(EM_DIAGRAM):   if level ne "INTERVAL" then do;
MPRINT(EM_DIAGRAM):   if order = ' ' then do;
MPRINT(EM_DIAGRAM):   attr = 'ORDER';
MPRINT(EM_DIAGRAM):   output;
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   if format ne ' ' and formattype = ' ' then do;
MPRINT(EM_DIAGRAM):   attr = 'FORMATTYPE';
MPRINT(EM_DIAGRAM):   output;
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   if role = ' ' then do;
MPRINT(EM_DIAGRAM):   attr = 'ROLE';
MPRINT(EM_DIAGRAM):   output;
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   if level = ' ' then do;
MPRINT(EM_DIAGRAM):   attr = 'LEVEL';
MPRINT(EM_DIAGRAM):   output;
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   if type = ' ' then do;
MPRINT(EM_DIAGRAM):   attr = 'TYPE';
MPRINT(EM_DIAGRAM):   output;
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   if index = ' ' then do;
MPRINT(EM_DIAGRAM):   attr = 'INDEX';
MPRINT(EM_DIAGRAM):   output;
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   if report = ' ' then do;
MPRINT(EM_DIAGRAM):   attr = 'REPORT';
MPRINT(EM_DIAGRAM):   output;
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   run;
MPRINT(EM_DIAGRAM):   proc sort NOTHREADS;
MPRINT(EM_DIAGRAM):   by attr;
MPRINT(EM_DIAGRAM):   run;
MPRINT(EM_DIAGRAM):    data WORK.M2NM5GS2;
MPRINT(EM_DIAGRAM):   length NAME $64 ROLE $ 32 LEVEL $ 10 ORDER $ 8 CREATOR $32 FORMATTYPE $ 
10 FAMILY $ 10 LOWERLIMIT 8 UPPERLIMIT 8 REPORT $1 DISTRIBUTION $ 20 COMMENT $64;
MPRINT(EM_DIAGRAM):   length levelAssigned 8 roleAssigned 8 PRICE 8;
MPRINT(EM_DIAGRAM):   set WORK.M2NM5GS2;
MPRINT(EM_DIAGRAM):   if formattype = ' ' then do;
MPRINT(EM_DIAGRAM):   if format ne ' ' then do;
MPRINT(EM_DIAGRAM):   if type = 'N' then do;
MPRINT(EM_DIAGRAM):   pos = indexc(format,'.1234567890');
MPRINT(EM_DIAGRAM):   if pos > 1 then tempfmt = substr(format,1, pos-1);
MPRINT(EM_DIAGRAM):   else tempfmt = ' ';
MPRINT(EM_DIAGRAM):   flen = length(tempfmt);
MPRINT(EM_DIAGRAM):   select;
MPRINT(EM_DIAGRAM):   when(tempfmt in ("DATE" "DAY" "DDMMYY" "DOWNAME" "JULDAY" "JULIAN" 
"MMDDYY" "MMDDYYD" "MMDDYYC" "MMDDYYN" "MMDDYYP" "MMDDYYS" "MONNAME" "MONTH" "MONYY" "NENGO" 
"QTR" "QTRR" "WEEKDATE" "WEEKDATX" "WEEKDAY" "WORDDATE" "WORDDATX" "YEAR" "YYMMDD" "YYMON" 
"YYMMDDC" "YYMMDDD" "YYMMDDN" "YYMMDDP" "YYMMDDS" "EURDFDE" "NJDATE" "NLDATE" "EURDFDD" 
"EURDFDWN" "EURDFMN" "EURDFMY" "EURDFWK" "EURDFWKX" "EURDFWDX" "EURDFDN" "EURDFDE" )) 
formattype = 'DATE';
MPRINT(EM_DIAGRAM):   when(tempfmt in ("DATETIME" "EURDFDT" "TOD" )) formattype = "DATETIME";
MPRINT(EM_DIAGRAM):   when(tempfmt in ("HHMM" "HOUR" "MMSS" "TIME" "TIMEAMPM" )) formattype = 
"TIME";
MPRINT(EM_DIAGRAM):   when(tempfmt in ("COMMA" "COMMAX" "DOLLAR" "DOLLARX" "E" "FRACT" 
"NEGPAREN" "PERCENT")) formattype="QUANTITY";
MPRINT(EM_DIAGRAM):   when(tempfmt in ("BINARY" "HEX" "IB" "OCTAL" "PD" "PIB" "PK" "RB" "SSN" 
"Z" "ZD")) formattype = "CODING";
MPRINT(EM_DIAGRAM):   otherwise do;
MPRINT(EM_DIAGRAM):   formattype = "USER";
MPRINT(EM_DIAGRAM):   if substr(tempfmt, 1, 6)='NLDATE' then formattype = "DATE";
MPRINT(EM_DIAGRAM):   else if substr(tempfmt, 1, 6)='NLDATM' then formattype = "DATETIME";
MPRINT(EM_DIAGRAM):   else if substr(tempfmt, 1, 4)='NLTIM' then formattype = "TIME";
MPRINT(EM_DIAGRAM):   else if flen >= 4 then do;
MPRINT(EM_DIAGRAM):   str = substr(tempfmt,1,4);
MPRINT(EM_DIAGRAM):   if str in ("MMYY" "YYMM" "YYQR") then formattype ="DATE";
MPRINT(EM_DIAGRAM):   else if str = "S370" then formattype = "CODING";
MPRINT(EM_DIAGRAM):   else if str = "BEST" then formattype = "NUM";
MPRINT(EM_DIAGRAM):   drop str;
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   else if flen >=3 and substr(tempfmt,1,3) = "YYQ" then formatType = 
"DATE";
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   drop flen tempfmt pos;
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   else do;
MPRINT(EM_DIAGRAM):   formatType = "CATEGORY";
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   if formatType = "NUM" then do;
MPRINT(EM_DIAGRAM):   if index = "Y" then formatType = "DISCRETE";
MPRINT(EM_DIAGRAM):   else formatType = "QUANTITY";
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   if level = ' ' then do;
MPRINT(EM_DIAGRAM):   if formatType in ("CATEGORY", "CODING", "ID") or type = "C" then level = 
"NOMINAL";
MPRINT(EM_DIAGRAM):   else level = "INTERVAL";
MPRINT(EM_DIAGRAM):   levelAssigned = 1;
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   else level = upcase(level);
MPRINT(EM_DIAGRAM):   if role = ' ' then do;
MPRINT(EM_DIAGRAM):   length name_prefix $8 _uname $64;
MPRINT(EM_DIAGRAM):   drop name_prefix _uname _freqflag;
MPRINT(EM_DIAGRAM):   retain _freqflag;
MPRINT(EM_DIAGRAM):   if LENGTH> 80 then ROLE = 'TEXT';
MPRINT(EM_DIAGRAM):   _uname = upcase(NAME);
MPRINT(EM_DIAGRAM):   select(_uname);
MPRINT(EM_DIAGRAM):   when('_WARN_') ROLE = 'ASSESS';
MPRINT(EM_DIAGRAM):   when('EM_SEGMENT') do;
MPRINT(EM_DIAGRAM):   ROLE = 'SEGMENT';
MPRINT(EM_DIAGRAM):   LEVEL = 'NOMINAL';
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   when('_NODE_') do;
MPRINT(EM_DIAGRAM):   ROLE = 'SEGMENT';
MPRINT(EM_DIAGRAM):   LEVEL = 'NOMINAL';
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   when('EM_CLASSTARGET') ROLE = 'ASSESS';
MPRINT(EM_DIAGRAM):   when('EM_VALUETARGET') ROLE = 'ASSESS';
MPRINT(EM_DIAGRAM):   when('EM_PREDICTION') ROLE = 'PREDICT';
MPRINT(EM_DIAGRAM):   when('EM_PROBABILITY') ROLE = 'PREDICT';
MPRINT(EM_DIAGRAM):   when('EM_EVENTPROBABILITY') ROLE = 'PREDICT';
MPRINT(EM_DIAGRAM):   when('EM_CLASSIFICATION') ROLE = 'CLASSIFICATION';
MPRINT(EM_DIAGRAM):   when('EM_DECISION') ROLE = 'DECISION';
MPRINT(EM_DIAGRAM):   when('EM_PROFIT') ROLE = 'ASSESS';
MPRINT(EM_DIAGRAM):   when('EM_LOSS') ROLE = 'ASSESS';
MPRINT(EM_DIAGRAM):   when('EM_ROI') ROLE = 'ASSESS';
MPRINT(EM_DIAGRAM):   when('URI') ROLE = 'URL';
MPRINT(EM_DIAGRAM):   when('FILTERED') ROLE = 'TEXTLOC';
MPRINT(EM_DIAGRAM):   otherwise do;
MPRINT(EM_DIAGRAM):   if upcase(NAME) =: 'ZIP' then do;
MPRINT(EM_DIAGRAM):   ROLE = 'REJECTED';
MPRINT(EM_DIAGRAM):   LEVEL = 'NOMINAL';
MPRINT(EM_DIAGRAM):   COMMENT = 'Rejected by: Exceed the maximum class level of %s';
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   else if upcase(NAME) in('FREQ', 'FREQUENCY') then do;
MPRINT(EM_DIAGRAM):   ROLE = 'FREQ';
MPRINT(EM_DIAGRAM):   if TYPE = 'C' then ROLE = 'INPUT';
MPRINT(EM_DIAGRAM):   else if _freqflag =1 then ROLE='REJECTED';
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   else do;
MPRINT(EM_DIAGRAM):   name_prefix = scan(_uname, 1, '_');
MPRINT(EM_DIAGRAM):   if scan(_uname, 2, '_') = '' then name_prefix='';
MPRINT(EM_DIAGRAM):   if name_prefix in('F', 'I', 'U') then do;
MPRINT(EM_DIAGRAM):   ROLE = 'CLASSIFICATION';
MPRINT(EM_DIAGRAM):   LEVEL = 'NOMINAL';
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   else if name_prefix in('P', 'V') then ROLE = 'PREDICT';
MPRINT(EM_DIAGRAM):   else if name_prefix in('R', 'RS', 'RT', 'RD', 'RDS', 'RDT', 'RA', 'RAS', 
'RAT') then ROLE = 'RESIDUAL';
MPRINT(EM_DIAGRAM):   else if name_prefix ='D' then do;
MPRINT(EM_DIAGRAM):   ROLE = 'DECISION';
MPRINT(EM_DIAGRAM):   LEVEL = 'NOMINAL';
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   else if name_prefix ='B' then do;
MPRINT(EM_DIAGRAM):   ROLE = 'SEGMENT';
MPRINT(EM_DIAGRAM):   LEVEL = 'NOMINAL';
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   else if name_prefix in('EP', 'BP', 'CP', 'EL', 'CL', 'BL', 'W', 'ROI', 
'IC') then ROLE = 'ASSESS';
MPRINT(EM_DIAGRAM):   else do;
MPRINT(EM_DIAGRAM):   array _ROLE_ (19) $32 _TEMPORARY_ ('ASSESS','CLASSIFICATION','CENSOR', 
'COST', 'CROSSID', 'DECISION', 'ID','INPUT', 'LABEL', 
'MISSING','PREDICT','REFERRER','REJECTED', 'RESIDUAL','SEGMENT', 'SEQUENCE','TARGET', 'TEXT', 
'TIMEID');
MPRINT(EM_DIAGRAM):   drop _found_ i;
MPRINT(EM_DIAGRAM):   _found_=0;
MPRINT(EM_DIAGRAM):   do i=1 to 19 until(_found_=1);
MPRINT(EM_DIAGRAM):   if index(_uname, trim(_ROLE_{i}))=1 then do;
MPRINT(EM_DIAGRAM):   ROLE=_ROLE_{i};
MPRINT(EM_DIAGRAM):   if ROLE = 'ID' then LEVEL = 'NOMINAL';
MPRINT(EM_DIAGRAM):   else if ROLE = 'SEGMENT' then LEVEL = 'NOMINAL';
MPRINT(EM_DIAGRAM):   else if ROLE = 'TIMEID' and TYPE='N' then LEVEL = 'INTERVAL';
MPRINT(EM_DIAGRAM):   _found_=1;
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   if length(_uname)>2 then do;
MPRINT(EM_DIAGRAM):   if substr(reverse(trim(_uname)), 1, 3) = 'DI_' then do;
MPRINT(EM_DIAGRAM):   ROLE = 'ID';
MPRINT(EM_DIAGRAM):   LEVEL = 'NOMINAL';
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   if ROLE='FREQ' then _freqflag=1;
MPRINT(EM_DIAGRAM):   else if ROLE = 'CLASSIFICATION' then LEVEL = 'NOMINAL';
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   if role = ' ' then do;
MPRINT(EM_DIAGRAM):   if formattype in('DATE', 'DATETIME', 'TIME') then role = 'TIMEID';
MPRINT(EM_DIAGRAM):   else role = 'INPUT';
MPRINT(EM_DIAGRAM):   roleAssigned = 1;
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   else role = upcase(role);
MPRINT(EM_DIAGRAM):   if REPORT = '' then REPORT = 'N';
MPRINT(EM_DIAGRAM):   run;
MPRINT(EM_DIAGRAM):    *------------------------------------------------------------* ;
MPRINT(EM_DIAGRAM):   * DMDBClass Macro ;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------* ;
MPRINT(HPDM_PERFORMANCE):  ;
PERFORMANCE  DETAILS
MPRINT(EM_DIAGRAM):  ;
MPRINT(EM_DIAGRAM):    proc dmdb data=work._train(obs=1000000) batch classOut=_DMDB3OOB33S 
maxLevel=22;
MPRINT(EM_DIAGRAM):   class
MPRINT(DMDBCLASS):   AcceptedCmp1 AcceptedCmp2 AcceptedCmp3 AcceptedCmp4 AcceptedCmp5 
AcceptedCmpTotal Age Complain DepVar Education Frq HigherEducationBinary Income Kidhome 
Marital_Status Mnt MntFishProducts MntFruits MntGoldProds MntMeatProducts MntSweetProducts 
MntWines MonthsAsCustomer NumCatalogPurchases NumDealsPurchases NumDistPurchases 
NumStorePurchases NumWebPurchases NumWebVisitsMonth Recency RFMstat RMntFrq Teenhome _bin
MPRINT(EM_DIAGRAM):  ;
MPRINT(EM_DIAGRAM):   run;
MPRINT(EM_DIAGRAM):    proc freq data=_DMDB3OOB33S noprint;
MPRINT(EM_DIAGRAM):   table name / out=_DMDBCOUNT3OOB33S(drop=percent rename=(count=NLEVEL));
MPRINT(EM_DIAGRAM):   run;
MPRINT(EM_DIAGRAM):   data _MISS3OOB33S(rename=(frequency=NMISS));
MPRINT(EM_DIAGRAM):   set _DMDB3OOB33S(where=(NRAW=. and CRAW=''));
MPRINT(EM_DIAGRAM):   keep name frequency;
MPRINT(EM_DIAGRAM):   run;
MPRINT(EM_DIAGRAM):   proc sort data=_MISS3OOB33S;
MPRINT(EM_DIAGRAM):   by NAME;
MPRINT(EM_DIAGRAM):   run;
MPRINT(EM_DIAGRAM):   proc sort data=_DMDBCOUNT3OOB33S;
MPRINT(EM_DIAGRAM):   by NAME;
MPRINT(EM_DIAGRAM):   run;
MPRINT(EM_DIAGRAM):    data _COUNTS3OOB33S;
MPRINT(EM_DIAGRAM):   merge _DMDBCOUNT3OOB33S _MISS3OOB33S;
MPRINT(EM_DIAGRAM):   label NLEVEL= 'Number of Category';
MPRINT(EM_DIAGRAM):   by name;
MPRINT(EM_DIAGRAM):   if NMISS > 0 then do;
MPRINT(EM_DIAGRAM):   NLEVEL= NLEVEL-1;
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   else NMISS = 0;
MPRINT(EM_DIAGRAM):   run;
MPRINT(EM_DIAGRAM):    proc sort data=_COUNTS3OOB33S NOTHREADS;
MPRINT(EM_DIAGRAM):   by name;
MPRINT(EM_DIAGRAM):   run;
MPRINT(EM_DIAGRAM):   proc sort data=WORK.M2NM5GS2 NOTHREADS;
MPRINT(EM_DIAGRAM):   by name;
MPRINT(EM_DIAGRAM):   run;
MPRINT(EM_DIAGRAM):   data WORK.M2NM5GS2;
MPRINT(EM_DIAGRAM):   length NLEVEL 8 nmiss 8;
MPRINT(EM_DIAGRAM):   update WORK.M2NM5GS2 _COUNTS3OOB33S;
MPRINT(EM_DIAGRAM):   by name;
MPRINT(EM_DIAGRAM):   if name='' then name='_';
MPRINT(EM_DIAGRAM):   if levelAssigned and ROLE ne 'FREQ' then do;
MPRINT(EM_DIAGRAM):   select(NLEVEL);
MPRINT(EM_DIAGRAM):   when(.) do;
MPRINT(EM_DIAGRAM):   if type eq 'C' then level = 'NOMINAL';
MPRINT(EM_DIAGRAM):   else level = 'INTERVAL';
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   when(0) level = 'UNARY';
MPRINT(EM_DIAGRAM):   when(1) level = 'UNARY';
MPRINT(EM_DIAGRAM):   when(2) level = 'BINARY';
MPRINT(EM_DIAGRAM):   otherwise do;
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   if roleAssigned then do;
MPRINT(EM_DIAGRAM):   if level = 'NOMINAL' and NLEVEL > 20 then do;
MPRINT(EM_DIAGRAM):   role = 'REJECTED';
MPRINT(EM_DIAGRAM):   comment = "Exceeds maximum number of levels cutoff";
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   if level = 'UNARY' and ROLE ne 'FREQ' then role='REJECTED';
MPRINT(EM_DIAGRAM):   drop NLEVEL nmiss;
MPRINT(EM_DIAGRAM):   label NAME = "Variable Name" TYPE = "Type" ROLE = "Role" LEVEL= 
"Measurement Level" ORDER= "Order" CREATOR= "Creator" FORMATTYPE= "Format Type" FAMILY= 
"Family" DISTRIBUTION= "Distribution" PRICE= "Price" LOWERLIMIT= "Lower limit" UPPERLIMIT= 
"Upper Limit" REPORT= "Report" COMMENT= "Comment" INDEX= "Index" INDEXTYPE= "IndexType" LABEL= 
"Label" LENGTH= "Length";
MPRINT(EM_DIAGRAM):   drop levelAssigned roleAssigned;
MPRINT(EM_DIAGRAM):   run;
683454     data WORK.M1KMIG57;
MPRINT(EM_DIAGRAM):    data WORK.M1KMIG57;
683455     set WORK.M1KMIG57;
MPRINT(EM_DIAGRAM):   set WORK.M1KMIG57;
683456     if NAME='Element1' then delete;
MPRINT(EM_DIAGRAM):   if NAME='Element1' then delete;
683457     if NAME='Element2' then delete;
MPRINT(EM_DIAGRAM):   if NAME='Element2' then delete;
683458     if NAME='Element3' then delete;
MPRINT(EM_DIAGRAM):   if NAME='Element3' then delete;
683459     if NAME='Element4' then delete;
MPRINT(EM_DIAGRAM):   if NAME='Element4' then delete;
683460     if NAME='Group' then delete;
MPRINT(EM_DIAGRAM):   if NAME='Group' then delete;
683461     if NAME='Z_CostContact' then delete;
MPRINT(EM_DIAGRAM):   if NAME='Z_CostContact' then delete;
683462     if NAME='Z_Revenue' then delete;
MPRINT(EM_DIAGRAM):   if NAME='Z_Revenue' then delete;
683463     if NAME='_WARN_' then delete;
MPRINT(EM_DIAGRAM):   if NAME='_WARN_' then delete;
683464     run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 34 observations read from the data set WORK.M1KMIG57.
NOTE: The data set WORK.M1KMIG57 has 34 observations and 21 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

683465     data WORK.M0T9VXF1;
MPRINT(EM_DIAGRAM):    data WORK.M0T9VXF1;
683466     set WORK.M0T9VXF1;
MPRINT(EM_DIAGRAM):   set WORK.M0T9VXF1;
683467     if role='INPUT' and use='D' then use='Y';
MPRINT(EM_DIAGRAM):   if role='INPUT' and use='D' then use='Y';
683468     if NAME='_bin' then do;
MPRINT(EM_DIAGRAM):   if NAME='_bin' then do;
683469     ROLE='TARGET';
MPRINT(EM_DIAGRAM):   ROLE='TARGET';
683470     LEVEL='BINARY';
MPRINT(EM_DIAGRAM):   LEVEL='BINARY';
683471     USE='Y';
MPRINT(EM_DIAGRAM):   USE='Y';
683472     end;
MPRINT(EM_DIAGRAM):   end;
683473     if NAME='DepVar' then do;
MPRINT(EM_DIAGRAM):   if NAME='DepVar' then do;
683474     ROLE='REJECTED';
MPRINT(EM_DIAGRAM):   ROLE='REJECTED';
683475     end;
MPRINT(EM_DIAGRAM):   end;
683476     if NAME='Element1' then delete;
MPRINT(EM_DIAGRAM):   if NAME='Element1' then delete;
683477     if NAME='Element2' then delete;
MPRINT(EM_DIAGRAM):   if NAME='Element2' then delete;
683478     if NAME='Element3' then delete;
MPRINT(EM_DIAGRAM):   if NAME='Element3' then delete;
683479     if NAME='Element4' then delete;
MPRINT(EM_DIAGRAM):   if NAME='Element4' then delete;
683480     if NAME='Group' then delete;
MPRINT(EM_DIAGRAM):   if NAME='Group' then delete;
683481     if NAME='Z_CostContact' then delete;
MPRINT(EM_DIAGRAM):   if NAME='Z_CostContact' then delete;
683482     if NAME='Z_Revenue' then delete;
MPRINT(EM_DIAGRAM):   if NAME='Z_Revenue' then delete;
683483     if NAME='_WARN_' then delete;
MPRINT(EM_DIAGRAM):   if NAME='_WARN_' then delete;
683484     run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 35 observations read from the data set WORK.M0T9VXF1.
NOTE: The data set WORK.M0T9VXF1 has 35 observations and 21 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

683485     *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):    *------------------------------------------------------------*;
683486     * Binary Model DepVar = 1;
MPRINT(EM_DIAGRAM):   * Binary Model DepVar = 1;
683487     *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
683488     *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
683489     * REGRESSION MODEL DepVar binary BIN2;
MPRINT(EM_DIAGRAM):   * REGRESSION MODEL DepVar binary BIN2;
683490     *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
683491     *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
683492     * Rule: Create decision matrix;
MPRINT(EM_DIAGRAM):   * Rule: Create decision matrix;
683493     *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
683494     data EM_DMREG / view=EM_DMREG;
MPRINT(EM_DIAGRAM):   data EM_DMREG / view=EM_DMREG;
683495     set work._train(keep=
683496     AcceptedCmp1 AcceptedCmp2 AcceptedCmp3 AcceptedCmp4 AcceptedCmp5
683497     AcceptedCmpTotal Age Complain DepVar Education Frq HigherEducationBinary Income
683498     Kidhome Marital_Status Mnt MntFishProducts MntFruits MntGoldProds
683499     MntMeatProducts MntSweetProducts MntWines MonthsAsCustomer NumCatalogPurchases
683500     NumDealsPurchases NumDistPurchases NumStorePurchases NumWebPurchases
683501     NumWebVisitsMonth RFMstat RMntFrq Recency Teenhome _bin);
MPRINT(EM_DIAGRAM):   set work._train(keep= AcceptedCmp1 AcceptedCmp2 AcceptedCmp3 
AcceptedCmp4 AcceptedCmp5 AcceptedCmpTotal Age Complain DepVar Education Frq 
HigherEducationBinary Income Kidhome Marital_Status Mnt MntFishProducts MntFruits MntGoldProds 
MntMeatProducts MntSweetProducts MntWines MonthsAsCustomer NumCatalogPurchases 
NumDealsPurchases NumDistPurchases NumStorePurchases NumWebPurchases NumWebVisitsMonth RFMstat 
RMntFrq Recency Teenhome _bin);
683502     run;
MPRINT(EM_DIAGRAM):   run;

NOTE: DATA STEP view saved on file WORK.EM_DMREG.
NOTE: A stored DATA STEP view cannot run under a different operating system.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

MPRINT(EM_DIAGRAM):   *------------------------------------------------------------* ;
MPRINT(EM_DIAGRAM):   * Rule: DMDBClass Macro ;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------* ;
683503     *------------------------------------------------------------* ;
683504     * Rule: DMDBClass Macro ;
683505     *------------------------------------------------------------* ;
683506     %macro DMDBClass;
683507         AcceptedCmp1(ASC) AcceptedCmp2(ASC) AcceptedCmp3(ASC) AcceptedCmp4(ASC)
683508        AcceptedCmp5(ASC) Complain(ASC) DepVar(ASC) Education(ASC)
683509        HigherEducationBinary(ASC) Marital_Status(ASC) _bin(DESC)
683510     %mend DMDBClass;
683511     *------------------------------------------------------------* ;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------* ;
683512     * Rule: DMDBVar Macro ;
MPRINT(EM_DIAGRAM):   * Rule: DMDBVar Macro ;
683513     *------------------------------------------------------------* ;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------* ;
683514     %macro DMDBVar;
683515         AcceptedCmpTotal Age Frq Income Kidhome Mnt MntFishProducts MntFruits
683516        MntGoldProds MntMeatProducts MntSweetProducts MntWines MonthsAsCustomer
683517        NumCatalogPurchases NumDealsPurchases NumDistPurchases NumStorePurchases
683518        NumWebPurchases NumWebVisitsMonth RFMstat RMntFrq Recency Teenhome
683519     %mend DMDBVar;
683520     *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
683521     * Rule: Create DMDB;
MPRINT(EM_DIAGRAM):   * Rule: Create DMDB;
683522     *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
683523     proc dmdb batch data=WORK.EM_DMREG
683524     dmdbcat=WORK.Rule_DMDB
683525     maxlevel = 513
683526     ;
MPRINT(EM_DIAGRAM):   proc dmdb batch data=WORK.EM_DMREG dmdbcat=WORK.Rule_DMDB maxlevel = 513 
;
MPRINT(EM_DIAGRAM):   class
683527     class %DMDBClass;
MPRINT(DMDBCLASS):   AcceptedCmp1(ASC) AcceptedCmp2(ASC) AcceptedCmp3(ASC) AcceptedCmp4(ASC) 
AcceptedCmp5(ASC) Complain(ASC) DepVar(ASC) Education(ASC) HigherEducationBinary(ASC) 
Marital_Status(ASC) _bin(DESC)
MPRINT(EM_DIAGRAM):  ;
MPRINT(EM_DIAGRAM):   var
683528     var %DMDBVar;
MPRINT(DMDBVAR):   AcceptedCmpTotal Age Frq Income Kidhome Mnt MntFishProducts MntFruits 
MntGoldProds MntMeatProducts MntSweetProducts MntWines MonthsAsCustomer NumCatalogPurchases 
NumDealsPurchases NumDistPurchases NumStorePurchases NumWebPurchases NumWebVisitsMonth RFMstat 
RMntFrq Recency Teenhome
MPRINT(EM_DIAGRAM):  ;
683529     target
683530     _bin
683531     ;
MPRINT(EM_DIAGRAM):   target _bin ;
683532     run;
MPRINT(EM_DIAGRAM):   run;

NOTE: Records processed = 410   Memory used = 511K.
NOTE: View WORK.EM_DMREG.VIEW used (Total process time):
      real time           0.02 seconds
      cpu time            0.03 seconds
      
NOTE: There were 410 observations read from the data set WORK._TRAIN.
NOTE: There were 410 observations read from the data set WORK.EM_DMREG.
NOTE: PROCEDURE DMDB used (Total process time):
      real time           0.02 seconds
      cpu time            0.03 seconds
      

MPRINT(EM_DIAGRAM):   quit;
MPRINT(EM_DIAGRAM):   *--- end code ---*;
683533     quit;
683534     *--- end code ---*;

683535     *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):    *------------------------------------------------------------*;
683536     * Rule: Run DMREG procedure;
MPRINT(EM_DIAGRAM):   * Rule: Run DMREG procedure;
683537     *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
683538     proc dmreg data=EM_DMREG dmdbcat=WORK.Rule_DMDB
683539     validata = work._valid
683540     outest = WORK.DMREG_2650AFG_OUTEST
683541     outterms = WORK.DMREG_2650AFG_OUTTERMS
683542     outmap= WORK.DMREG_2650AFG_MAP namelen=200
683543     ;
MPRINT(EM_DIAGRAM):   proc dmreg data=EM_DMREG dmdbcat=WORK.Rule_DMDB validata = work._valid 
outest = WORK.DMREG_2650AFG_OUTEST outterms = WORK.DMREG_2650AFG_OUTTERMS outmap= 
WORK.DMREG_2650AFG_MAP namelen=200 ;
683544     class
683545     _bin
683546     AcceptedCmp1
683547     AcceptedCmp2
683548     AcceptedCmp3
683549     AcceptedCmp4
683550     AcceptedCmp5
683551     Complain
683552     Education
683553     HigherEducationBinary
683554     Marital_Status
683555     ;
MPRINT(EM_DIAGRAM):   class _bin AcceptedCmp1 AcceptedCmp2 AcceptedCmp3 AcceptedCmp4 
AcceptedCmp5 Complain Education HigherEducationBinary Marital_Status ;
683556     model _bin =
683557     AcceptedCmp1
683558     AcceptedCmp2
683559     AcceptedCmp3
683560     AcceptedCmp4
683561     AcceptedCmp5
683562     AcceptedCmpTotal
683563     Age
683564     Complain
683565     Education
683566     Frq
683567     HigherEducationBinary
683568     Income
683569     Kidhome
683570     Marital_Status
683571     Mnt
683572     MntFishProducts
683573     MntFruits
683574     MntGoldProds
683575     MntMeatProducts
683576     MntSweetProducts
683577     MntWines
683578     MonthsAsCustomer
683579     NumCatalogPurchases
683580     NumDealsPurchases
683581     NumDistPurchases
683582     NumStorePurchases
683583     NumWebPurchases
683584     NumWebVisitsMonth
683585     RFMstat
683586     RMntFrq
683587     Recency
683588     Teenhome
683589     /error=binomial link=LOGIT
683590     coding=DEVIATION
683591     nodesignprint
683592     ;
MPRINT(EM_DIAGRAM):   model _bin = AcceptedCmp1 AcceptedCmp2 AcceptedCmp3 AcceptedCmp4 
AcceptedCmp5 AcceptedCmpTotal Age Complain Education Frq HigherEducationBinary Income Kidhome 
Marital_Status Mnt MntFishProducts MntFruits MntGoldProds MntMeatProducts MntSweetProducts 
MntWines MonthsAsCustomer NumCatalogPurchases NumDealsPurchases NumDistPurchases 
NumStorePurchases NumWebPurchases NumWebVisitsMonth RFMstat RMntFrq Recency Teenhome 
/error=binomial link=LOGIT coding=DEVIATION nodesignprint ;
683593     ;
MPRINT(EM_DIAGRAM):   ;
683594     score data=_train
683595     out=_ptrain(label="")
683596     ;
MPRINT(EM_DIAGRAM):   score data=_train out=_ptrain(label="") ;
683597     score data=_valid
683598     out=_pvalid(label="")
683599     ;
MPRINT(EM_DIAGRAM):   score data=_valid out=_pvalid(label="") ;
683600     code file="C:\Users\LUKASF~1\AppData\Local\Temp\SAS Temporary
683600   ! Files\_TD9752_WN7LF-LEAVE_\Prc2\BIN2.sas"
683601     group=Rule_2
683602     ;
MPRINT(EM_DIAGRAM):   code file="C:\Users\LUKASF~1\AppData\Local\Temp\SAS Temporary 
Files\_TD9752_WN7LF-LEAVE_\Prc2\BIN2.sas" group=Rule_2 ;
683603     code file="C:\Users\LUKASF~1\AppData\Local\Temp\SAS Temporary
683603   ! Files\_TD9752_WN7LF-LEAVE_\Prc2\BIN2_res.sas"
683604     group=Rule_2
683605     residual
683606     ;
MPRINT(EM_DIAGRAM):   code file="C:\Users\LUKASF~1\AppData\Local\Temp\SAS Temporary 
Files\_TD9752_WN7LF-LEAVE_\Prc2\BIN2_res.sas" group=Rule_2 residual ;
683607     run;
MPRINT(EM_DIAGRAM):   run;


NOTE: PROC DMREG is modeling the probability that _bin='1'.
NOTE: Convergence criterion (GCONV=1E-6) satisfied.
NOTE: External file C:\Users\LUKASF~1\AppData\Local\Temp\SAS Temporary 
      Files\_TD9752_WN7LF-LEAVE_\Prc2\BIN2.sas opened.
NOTE: External file C:\Users\LUKASF~1\AppData\Local\Temp\SAS Temporary 
      Files\_TD9752_WN7LF-LEAVE_\Prc2\BIN2_res.sas opened.
NOTE: View WORK.EM_DMREG.VIEW used (Total process time):
      real time           0.15 seconds
      cpu time            0.15 seconds
      
NOTE: There were 410 observations read from the data set WORK._TRAIN.
NOTE: There were 410 observations read from the data set WORK.EM_DMREG.
NOTE: There were 180 observations read from the data set WORK._VALID.
NOTE: There were 410 observations read from the data set WORK._TRAIN.
NOTE: There were 180 observations read from the data set WORK._VALID.
NOTE: The data set WORK.DMREG_2650AFG_OUTEST has 3 observations and 73 variables.
NOTE: The data set WORK.DMREG_2650AFG_OUTTERMS has 39 observations and 6 variables.
NOTE: The data set WORK.DMREG_2650AFG_MAP has 2 observations and 40 variables.
NOTE: The data set WORK._PTRAIN has 410 observations and 43 variables.
NOTE: The data set WORK._PVALID has 180 observations and 44 variables.
NOTE: The PROCEDURE DMREG printed pages 635-636.
NOTE: PROCEDURE DMREG used (Total process time):
      real time           0.17 seconds
      cpu time            0.17 seconds
      

MPRINT(EM_DIAGRAM):   quit;
683608     quit;

683609     proc datasets lib=WORK nolist;
MPRINT(EM_DIAGRAM):    proc datasets lib=WORK nolist;
683610     delete Rule_DMDB;
MPRINT(EM_DIAGRAM):   delete Rule_DMDB;
683611     run;
MPRINT(EM_DIAGRAM):   run;

NOTE: The file WORK.RULE_DMDB (memtype=DATA) was not found, but appears on a DELETE statement.
683612     quit;
MPRINT(EM_DIAGRAM):   quit;

NOTE: PROCEDURE DATASETS used (Total process time):
      real time           0.02 seconds
      cpu time            0.03 seconds
      

683613     proc datasets lib=WORK nolist;
MPRINT(EM_DIAGRAM):    proc datasets lib=WORK nolist;
683614     delete Rule_DMDB / memtype=catalog;
MPRINT(EM_DIAGRAM):   delete Rule_DMDB / memtype=catalog;
683615     run;
MPRINT(EM_DIAGRAM):   run;

NOTE: Deleting WORK.RULE_DMDB (memtype=CATALOG).
683616     quit;
MPRINT(EM_DIAGRAM):   quit;

NOTE: PROCEDURE DATASETS used (Total process time):
      real time           0.02 seconds
      cpu time            0.01 seconds
      

683617     * BINARY: Training Classification;
MPRINT(EM_DIAGRAM):    * BINARY: Training Classification;
683618     ;
MPRINT(EM_DIAGRAM):   ;
683619     proc freq data = _ptrain noprint;
MPRINT(EM_DIAGRAM):   proc freq data = _ptrain noprint;
683620     tables F__bin * I__bin / out = _count;
MPRINT(EM_DIAGRAM):   tables F__bin * I__bin / out = _count;
683621     run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 410 observations read from the data set WORK._PTRAIN.
NOTE: The data set WORK._COUNT has 3 observations and 4 variables.
NOTE: PROCEDURE FREQ used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

683622     data _count;
MPRINT(EM_DIAGRAM):   data _count;
683623     set _count;
MPRINT(EM_DIAGRAM):   set _count;
683624     label count = "%sysfunc(sasmsg(sashelp.dmine, rpt_traincount_vlabel, NOQUOTE))";
MPRINT(EM_DIAGRAM):   label count = "Train Count";
683625     label percent = "%sysfunc(sasmsg(sashelp.dmine, rpt_trainpercent_vlabel, NOQUOTE))";
MPRINT(EM_DIAGRAM):   label percent = "Train Percent";
683626     label F__bin = "%sysfunc(sasmsg(sashelp.dmine, rpt_from_vlabel, NOQUOTE))";
MPRINT(EM_DIAGRAM):   label F__bin = "From";
683627     label I__bin = "%sysfunc(sasmsg(sashelp.dmine, rpt_into_vlabel, NOQUOTE))";
MPRINT(EM_DIAGRAM):   label I__bin = "Into";
683628     run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 3 observations read from the data set WORK._COUNT.
NOTE: The data set WORK._COUNT has 3 observations and 4 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

MPRINT(EM_DIAGRAM):   * BINARY: Validation Classification;
MPRINT(EM_DIAGRAM):   ;
683629     * BINARY: Validation Classification;
683630     ;
683631     proc freq data = _pvalid noprint;
MPRINT(EM_DIAGRAM):   proc freq data = _pvalid noprint;
683632     tables f__bin * i__bin / out=_vcount;
MPRINT(EM_DIAGRAM):   tables f__bin * i__bin / out=_vcount;
683633     run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 180 observations read from the data set WORK._PVALID.
NOTE: The data set WORK._VCOUNT has 2 observations and 4 variables.
NOTE: PROCEDURE FREQ used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

683634     data _vcount;
MPRINT(EM_DIAGRAM):   data _vcount;
683635     set _vcount;
MPRINT(EM_DIAGRAM):   set _vcount;
683636     length key $64;
MPRINT(EM_DIAGRAM):   length key $64;
683637     label count = "%sysfunc(sasmsg(sashelp.dmine, rpt_validcount_vlabel, NOQUOTE))";
MPRINT(EM_DIAGRAM):   label count = "Valid Count";
683638     label percent = "%sysfunc(sasmsg(sashelp.dmine, rpt_validpercent_vlabel, NOQUOTE))";
MPRINT(EM_DIAGRAM):   label percent = "Valid Percent";
683639     label f__bin = "%sysfunc(sasmsg(sashelp.dmine, rpt_from_vlabel, NOQUOTE))";
MPRINT(EM_DIAGRAM):   label f__bin = "From";
683640     label i__bin = "%sysfunc(sasmsg(sashelp.dmine, rpt_into_vlabel, NOQUOTE))";
MPRINT(EM_DIAGRAM):   label i__bin = "Into";
683641     rename count = vcount;
MPRINT(EM_DIAGRAM):   rename count = vcount;
683642     rename percent= vpercent;
MPRINT(EM_DIAGRAM):   rename percent= vpercent;
683643     key = ktrim(kleft(f__bin) !! '_' !! ktrim(kleft(i__bin)));
MPRINT(EM_DIAGRAM):   key = ktrim(kleft(f__bin) !! '_' !! ktrim(kleft(i__bin)));
683644     run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 2 observations read from the data set WORK._VCOUNT.
NOTE: The data set WORK._VCOUNT has 2 observations and 5 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

MPRINT(EM_DIAGRAM):   *;
683645     *;
683646     data _count;
MPRINT(EM_DIAGRAM):   data _count;
683647     set _count;
MPRINT(EM_DIAGRAM):   set _count;
683648     length key $64;
MPRINT(EM_DIAGRAM):   length key $64;
683649     key = ktrim(kleft(f__bin) !! '_' !! ktrim(kleft(i__bin)));
MPRINT(EM_DIAGRAM):   key = ktrim(kleft(f__bin) !! '_' !! ktrim(kleft(i__bin)));
683650     run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 3 observations read from the data set WORK._COUNT.
NOTE: The data set WORK._COUNT has 3 observations and 5 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

MPRINT(EM_DIAGRAM):   * Merge Train and Valid classification;
MPRINT(EM_DIAGRAM):   ;
683651     * Merge Train and Valid classification;
683652     ;
683653     proc sort data=_count;
MPRINT(EM_DIAGRAM):   proc sort data=_count;
683654     by key;
MPRINT(EM_DIAGRAM):   by key;
683655     run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 3 observations read from the data set WORK._COUNT.
NOTE: The data set WORK._COUNT has 3 observations and 5 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

683656     proc sort data=_vcount;
MPRINT(EM_DIAGRAM):   proc sort data=_vcount;
683657     by key;
MPRINT(EM_DIAGRAM):   by key;
683658     run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 2 observations read from the data set WORK._VCOUNT.
NOTE: The data set WORK._VCOUNT has 2 observations and 5 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

MPRINT(EM_DIAGRAM):   *;
683659     *;
683660     data _count;
MPRINT(EM_DIAGRAM):   data _count;
683661     merge _count _vcount;
MPRINT(EM_DIAGRAM):   merge _count _vcount;
683662     by key;
MPRINT(EM_DIAGRAM):   by key;
683663     drop key;
MPRINT(EM_DIAGRAM):   drop key;
683664     run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 3 observations read from the data set WORK._COUNT.
NOTE: There were 2 observations read from the data set WORK._VCOUNT.
NOTE: The data set WORK._COUNT has 3 observations and 6 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

MPRINT(EM_DIAGRAM):   *BINARY: Print Classification;
MPRINT(EM_DIAGRAM):   ;
683665     *BINARY: Print Classification;
683666     ;
683667     title9 "%sysfunc(sasmsg(sashelp.dmine, rpt_binmodel_title, NOQUOTE, DepVar,
683667   ! %nrbquote(1)))";
MPRINT(EM_DIAGRAM):   title9 "Binary Model DepVar = 1";
683668     title10 "%sysfunc(sasmsg(sashelp.dmine, rpt_classification_title, NOQUOTE))";
MPRINT(EM_DIAGRAM):   title10 "Classification Table";
683669     proc print data = _count noobs label;
MPRINT(EM_DIAGRAM):   proc print data = _count noobs label;
683670     run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 3 observations read from the data set WORK._COUNT.
NOTE: The PROCEDURE PRINT printed page 637.
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

683671     title9;
MPRINT(EM_DIAGRAM):   title9;
683672     title10;
MPRINT(EM_DIAGRAM):   title10;
683673     * Extract misfit training values;
MPRINT(EM_DIAGRAM):    * Extract misfit training values;
683674     ;
MPRINT(EM_DIAGRAM):   ;
683675     data _ptrain;
MPRINT(EM_DIAGRAM):   data _ptrain;
683676     set _ptrain;
MPRINT(EM_DIAGRAM):   set _ptrain;
683677     if not ( I__bin eq '1' and F__bin eq '1') then output;
MPRINT(EM_DIAGRAM):   if not ( I__bin eq '1' and F__bin eq '1') then output;
683678     keep
683679     AcceptedCmp1
683680     AcceptedCmp2
683681     AcceptedCmp3
683682     AcceptedCmp4
683683     AcceptedCmp5
683684     AcceptedCmpTotal
683685     Age
683686     Complain
683687     Education
683688     Frq
683689     HigherEducationBinary
683690     Income
683691     Kidhome
683692     Marital_Status
683693     Mnt
683694     MntFishProducts
683695     MntFruits
683696     MntGoldProds
683697     MntMeatProducts
683698     MntSweetProducts
683699     MntWines
683700     MonthsAsCustomer
683701     NumCatalogPurchases
683702     NumDealsPurchases
683703     NumDistPurchases
683704     NumStorePurchases
683705     NumWebPurchases
683706     NumWebVisitsMonth
683707     RFMstat
683708     RMntFrq
683709     Recency
683710     Teenhome
683711     DepVar;
MPRINT(EM_DIAGRAM):   keep AcceptedCmp1 AcceptedCmp2 AcceptedCmp3 AcceptedCmp4 AcceptedCmp5 
AcceptedCmpTotal Age Complain Education Frq HigherEducationBinary Income Kidhome 
Marital_Status Mnt MntFishProducts MntFruits MntGoldProds MntMeatProducts MntSweetProducts 
MntWines MonthsAsCustomer NumCatalogPurchases NumDealsPurchases NumDistPurchases 
NumStorePurchases NumWebPurchases NumWebVisitsMonth RFMstat RMntFrq Recency Teenhome DepVar;
683712     run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 410 observations read from the data set WORK._PTRAIN.
NOTE: The data set WORK._PTRAIN has 52 observations and 33 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

MPRINT(EM_DIAGRAM):   * Extract misfit validation values;
MPRINT(EM_DIAGRAM):   ;
683713     * Extract misfit validation values;
683714     ;
683715     data _pvalid;
MPRINT(EM_DIAGRAM):   data _pvalid;
683716     set _pvalid;
MPRINT(EM_DIAGRAM):   set _pvalid;
683717     if not (I__bin eq '1' and F__bin eq '1') then output;
MPRINT(EM_DIAGRAM):   if not (I__bin eq '1' and F__bin eq '1') then output;
683718     keep
683719     AcceptedCmp1
683720     AcceptedCmp2
683721     AcceptedCmp3
683722     AcceptedCmp4
683723     AcceptedCmp5
683724     AcceptedCmpTotal
683725     Age
683726     Complain
683727     Education
683728     Frq
683729     HigherEducationBinary
683730     Income
683731     Kidhome
683732     Marital_Status
683733     Mnt
683734     MntFishProducts
683735     MntFruits
683736     MntGoldProds
683737     MntMeatProducts
683738     MntSweetProducts
683739     MntWines
683740     MonthsAsCustomer
683741     NumCatalogPurchases
683742     NumDealsPurchases
683743     NumDistPurchases
683744     NumStorePurchases
683745     NumWebPurchases
683746     NumWebVisitsMonth
683747     RFMstat
683748     RMntFrq
683749     Recency
683750     Teenhome
683751     DepVar;
MPRINT(EM_DIAGRAM):   keep AcceptedCmp1 AcceptedCmp2 AcceptedCmp3 AcceptedCmp4 AcceptedCmp5 
AcceptedCmpTotal Age Complain Education Frq HigherEducationBinary Income Kidhome 
Marital_Status Mnt MntFishProducts MntFruits MntGoldProds MntMeatProducts MntSweetProducts 
MntWines MonthsAsCustomer NumCatalogPurchases NumDealsPurchases NumDistPurchases 
NumStorePurchases NumWebPurchases NumWebVisitsMonth RFMstat RMntFrq Recency Teenhome DepVar;
683752     run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 180 observations read from the data set WORK._PVALID.
NOTE: The data set WORK._PVALID has 25 observations and 33 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

683753     data _train;
MPRINT(EM_DIAGRAM):    data _train;
683754     set _ptrain;
MPRINT(EM_DIAGRAM):   set _ptrain;
683755     run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 52 observations read from the data set WORK._PTRAIN.
NOTE: The data set WORK._TRAIN has 52 observations and 33 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

683756     data _valid;
MPRINT(EM_DIAGRAM):   data _valid;
683757     set _pvalid;
MPRINT(EM_DIAGRAM):   set _pvalid;
683758     options validvarname=any;
MPRINT(EM_DIAGRAM):   options validvarname=any;

NOTE: There were 25 observations read from the data set WORK._PVALID.
NOTE: The data set WORK._VALID has 25 observations and 33 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

683759     proc contents data=work._train out=_tempAdvisor noprint;
MPRINT(EM_DIAGRAM):   proc contents data=work._train out=_tempAdvisor noprint;
683760     run;
MPRINT(EM_DIAGRAM):   run;

NOTE: The data set WORK._TEMPADVISOR has 33 observations and 40 variables.
NOTE: PROCEDURE CONTENTS used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

683761     options validvarname=V7;
MPRINT(EM_DIAGRAM):   options validvarname=V7;
683762     %let _dsidTable = 0;
683763     %let _engineTable =;
683764     data _null_;
MPRINT(EM_DIAGRAM):    data _null_;
683765     dsid = open('work._train');
MPRINT(EM_DIAGRAM):   dsid = open('work._train');
683766     call symput('_dsidTable', strip(put(dsid, best.)));
MPRINT(EM_DIAGRAM):   call symput('_dsidTable', strip(put(dsid, best.)));
683767     if dsid then do;
MPRINT(EM_DIAGRAM):   if dsid then do;
683768     call symput('_engineTable', attrc(dsid, 'ENGINE'));
MPRINT(EM_DIAGRAM):   call symput('_engineTable', attrc(dsid, 'ENGINE'));
683769     dsid = close(dsid);
MPRINT(EM_DIAGRAM):   dsid = close(dsid);
683770     end;
MPRINT(EM_DIAGRAM):   end;
683771     run;
MPRINT(EM_DIAGRAM):   run;

NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

683772     options fmterr;
MPRINT(EM_DIAGRAM):    options fmterr;
683773     data _metaTestView;
MPRINT(EM_DIAGRAM):   data _metaTestView;
683774     set work._train;
MPRINT(EM_DIAGRAM):   set work._train;
683775     if _N_=1 then do;
MPRINT(EM_DIAGRAM):   if _N_=1 then do;
683776     output;
MPRINT(EM_DIAGRAM):   output;
683777     stop;
MPRINT(EM_DIAGRAM):   stop;
683778     end;
MPRINT(EM_DIAGRAM):   end;
683779     run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 1 observations read from the data set WORK._TRAIN.
NOTE: The data set WORK._METATESTVIEW has 1 observations and 33 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

683780     proc contents data=work._train
683781     out=WORK.M136G1HC noprint;
MPRINT(EM_DIAGRAM):    proc contents data=work._train out=WORK.M136G1HC noprint;
683782     run;
MPRINT(EM_DIAGRAM):   run;

NOTE: The data set WORK.M136G1HC has 33 observations and 40 variables.
NOTE: PROCEDURE CONTENTS used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

683783     data WORK.M136G1HC;
MPRINT(EM_DIAGRAM):    data WORK.M136G1HC;
683784     length NAME $ 64 TYPE $ 1 LABEL $ 200 FORMAT $ 20 INFORMAT $20 INDEX $ 1 INDEXTYPE $
683784   !  9;
MPRINT(EM_DIAGRAM):   length NAME $ 64 TYPE $ 1 LABEL $ 200 FORMAT $ 20 INFORMAT $20 INDEX $ 1 
INDEXTYPE $ 9;
683785     label NAME =;
MPRINT(EM_DIAGRAM):   label NAME =;
683786     set WORK.M136G1HC(keep=name type length label format formatl formatd informat
683786   ! informl informd idxusage rename=(type=itype));
MPRINT(EM_DIAGRAM):   set WORK.M136G1HC(keep=name type length label format formatl formatd 
informat informl informd idxusage rename=(type=itype));
683787     if itype = 1 then type = 'N';
MPRINT(EM_DIAGRAM):   if itype = 1 then type = 'N';
683788     else type = 'C';
MPRINT(EM_DIAGRAM):   else type = 'C';
683789     if formatl > 0 then do;
MPRINT(EM_DIAGRAM):   if formatl > 0 then do;
683790     if format ne ' ' then format = strip(format)!!strip(put(formatl,
683790   ! best12.))!!'.'!!strip(put(formatd, best12.));
MPRINT(EM_DIAGRAM):   if format ne ' ' then format = strip(format)!!strip(put(formatl, 
best12.))!!'.'!!strip(put(formatd, best12.));
683791     else format = strip(put(formatl, best12.))!!'.'!!strip(put(formatd, best12.));
MPRINT(EM_DIAGRAM):   else format = strip(put(formatl, best12.))!!'.'!!strip(put(formatd, 
best12.));
683792     end;
MPRINT(EM_DIAGRAM):   end;
683793     else if format ne '' then format = strip(format)!!'.';
MPRINT(EM_DIAGRAM):   else if format ne '' then format = strip(format)!!'.';
683794     if informl > 0 then do;
MPRINT(EM_DIAGRAM):   if informl > 0 then do;
683795     if informat ne ' ' then informat = strip(informat)!!strip(put(informl,
683795   ! best12.))!!'.'!!strip(put(informd, best12.));
MPRINT(EM_DIAGRAM):   if informat ne ' ' then informat = strip(informat)!!strip(put(informl, 
best12.))!!'.'!!strip(put(informd, best12.));
683796     else informat = strip(put(informl, best12.))!!'.'!!strip(put(informd, best12.));
MPRINT(EM_DIAGRAM):   else informat = strip(put(informl, best12.))!!'.'!!strip(put(informd, 
best12.));
683797     end;
MPRINT(EM_DIAGRAM):   end;
683798     else if informat ne '' then informat = strip(informat)!!'.';
MPRINT(EM_DIAGRAM):   else if informat ne '' then informat = strip(informat)!!'.';
683799     if idxusage = 'NONE' then index ="N";
MPRINT(EM_DIAGRAM):   if idxusage = 'NONE' then index ="N";
683800     else index = "Y";
MPRINT(EM_DIAGRAM):   else index = "Y";
683801     indextype = idxusage;
MPRINT(EM_DIAGRAM):   indextype = idxusage;
683802     drop idxusage itype formatl formatd informl informd;
MPRINT(EM_DIAGRAM):   drop idxusage itype formatl formatd informl informd;
683803     run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 33 observations read from the data set WORK.M136G1HC.
NOTE: The data set WORK.M136G1HC has 33 observations and 8 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

683804     data WORK.M136G1HC;
MPRINT(EM_DIAGRAM):    data WORK.M136G1HC;
683805     length UNAME $64;
MPRINT(EM_DIAGRAM):   length UNAME $64;
683806     set WORK.M136G1HC;
MPRINT(EM_DIAGRAM):   set WORK.M136G1HC;
683807     UNAME = upcase(NAME);
MPRINT(EM_DIAGRAM):   UNAME = upcase(NAME);
683808     run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 33 observations read from the data set WORK.M136G1HC.
NOTE: The data set WORK.M136G1HC has 33 observations and 9 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

MPRINT(EM_DIAGRAM):    proc sort data=WORK.M2EC5EXE NOTHREADS;
MPRINT(EM_DIAGRAM):   by UNAME;
MPRINT(EM_DIAGRAM):   run;
683812     data WORK.M2EC5EXE;
MPRINT(EM_DIAGRAM):    data WORK.M2EC5EXE;
683813     drop UNAME;
MPRINT(EM_DIAGRAM):   drop UNAME;
683814     set WORK.M2EC5EXE;
MPRINT(EM_DIAGRAM):   set WORK.M2EC5EXE;
683815     run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 33 observations read from the data set WORK.M2EC5EXE.
NOTE: The data set WORK.M2EC5EXE has 33 observations and 8 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

MPRINT(EM_DIAGRAM):    data WORK.M18EFBH2(keep=NAME ATTR);
MPRINT(EM_DIAGRAM):   length ATTR $ 20;
MPRINT(EM_DIAGRAM):   set WORK.M2EC5EXE;
MPRINT(EM_DIAGRAM):   if level ne "INTERVAL" then do;
MPRINT(EM_DIAGRAM):   if order = ' ' then do;
MPRINT(EM_DIAGRAM):   attr = 'ORDER';
MPRINT(EM_DIAGRAM):   output;
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   if format ne ' ' and formattype = ' ' then do;
MPRINT(EM_DIAGRAM):   attr = 'FORMATTYPE';
MPRINT(EM_DIAGRAM):   output;
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   if role = ' ' then do;
MPRINT(EM_DIAGRAM):   attr = 'ROLE';
MPRINT(EM_DIAGRAM):   output;
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   if level = ' ' then do;
MPRINT(EM_DIAGRAM):   attr = 'LEVEL';
MPRINT(EM_DIAGRAM):   output;
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   if type = ' ' then do;
MPRINT(EM_DIAGRAM):   attr = 'TYPE';
MPRINT(EM_DIAGRAM):   output;
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   if index = ' ' then do;
MPRINT(EM_DIAGRAM):   attr = 'INDEX';
MPRINT(EM_DIAGRAM):   output;
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   if report = ' ' then do;
MPRINT(EM_DIAGRAM):   attr = 'REPORT';
MPRINT(EM_DIAGRAM):   output;
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   run;
MPRINT(EM_DIAGRAM):   proc sort NOTHREADS;
MPRINT(EM_DIAGRAM):   by attr;
MPRINT(EM_DIAGRAM):   run;
MPRINT(EM_DIAGRAM):    data WORK.M2EC5EXE;
MPRINT(EM_DIAGRAM):   length NAME $64 ROLE $ 32 LEVEL $ 10 ORDER $ 8 CREATOR $32 FORMATTYPE $ 
10 FAMILY $ 10 LOWERLIMIT 8 UPPERLIMIT 8 REPORT $1 DISTRIBUTION $ 20 COMMENT $64;
MPRINT(EM_DIAGRAM):   length levelAssigned 8 roleAssigned 8 PRICE 8;
MPRINT(EM_DIAGRAM):   set WORK.M2EC5EXE;
MPRINT(EM_DIAGRAM):   if formattype = ' ' then do;
MPRINT(EM_DIAGRAM):   if format ne ' ' then do;
MPRINT(EM_DIAGRAM):   if type = 'N' then do;
MPRINT(EM_DIAGRAM):   pos = indexc(format,'.1234567890');
MPRINT(EM_DIAGRAM):   if pos > 1 then tempfmt = substr(format,1, pos-1);
MPRINT(EM_DIAGRAM):   else tempfmt = ' ';
MPRINT(EM_DIAGRAM):   flen = length(tempfmt);
MPRINT(EM_DIAGRAM):   select;
MPRINT(EM_DIAGRAM):   when(tempfmt in ("DATE" "DAY" "DDMMYY" "DOWNAME" "JULDAY" "JULIAN" 
"MMDDYY" "MMDDYYD" "MMDDYYC" "MMDDYYN" "MMDDYYP" "MMDDYYS" "MONNAME" "MONTH" "MONYY" "NENGO" 
"QTR" "QTRR" "WEEKDATE" "WEEKDATX" "WEEKDAY" "WORDDATE" "WORDDATX" "YEAR" "YYMMDD" "YYMON" 
"YYMMDDC" "YYMMDDD" "YYMMDDN" "YYMMDDP" "YYMMDDS" "EURDFDE" "NJDATE" "NLDATE" "EURDFDD" 
"EURDFDWN" "EURDFMN" "EURDFMY" "EURDFWK" "EURDFWKX" "EURDFWDX" "EURDFDN" "EURDFDE" )) 
formattype = 'DATE';
MPRINT(EM_DIAGRAM):   when(tempfmt in ("DATETIME" "EURDFDT" "TOD" )) formattype = "DATETIME";
MPRINT(EM_DIAGRAM):   when(tempfmt in ("HHMM" "HOUR" "MMSS" "TIME" "TIMEAMPM" )) formattype = 
"TIME";
MPRINT(EM_DIAGRAM):   when(tempfmt in ("COMMA" "COMMAX" "DOLLAR" "DOLLARX" "E" "FRACT" 
"NEGPAREN" "PERCENT")) formattype="QUANTITY";
MPRINT(EM_DIAGRAM):   when(tempfmt in ("BINARY" "HEX" "IB" "OCTAL" "PD" "PIB" "PK" "RB" "SSN" 
"Z" "ZD")) formattype = "CODING";
MPRINT(EM_DIAGRAM):   otherwise do;
MPRINT(EM_DIAGRAM):   formattype = "USER";
MPRINT(EM_DIAGRAM):   if substr(tempfmt, 1, 6)='NLDATE' then formattype = "DATE";
MPRINT(EM_DIAGRAM):   else if substr(tempfmt, 1, 6)='NLDATM' then formattype = "DATETIME";
MPRINT(EM_DIAGRAM):   else if substr(tempfmt, 1, 4)='NLTIM' then formattype = "TIME";
MPRINT(EM_DIAGRAM):   else if flen >= 4 then do;
MPRINT(EM_DIAGRAM):   str = substr(tempfmt,1,4);
MPRINT(EM_DIAGRAM):   if str in ("MMYY" "YYMM" "YYQR") then formattype ="DATE";
MPRINT(EM_DIAGRAM):   else if str = "S370" then formattype = "CODING";
MPRINT(EM_DIAGRAM):   else if str = "BEST" then formattype = "NUM";
MPRINT(EM_DIAGRAM):   drop str;
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   else if flen >=3 and substr(tempfmt,1,3) = "YYQ" then formatType = 
"DATE";
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   drop flen tempfmt pos;
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   else do;
MPRINT(EM_DIAGRAM):   formatType = "CATEGORY";
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   if formatType = "NUM" then do;
MPRINT(EM_DIAGRAM):   if index = "Y" then formatType = "DISCRETE";
MPRINT(EM_DIAGRAM):   else formatType = "QUANTITY";
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   if level = ' ' then do;
MPRINT(EM_DIAGRAM):   if formatType in ("CATEGORY", "CODING", "ID") or type = "C" then level = 
"NOMINAL";
MPRINT(EM_DIAGRAM):   else level = "INTERVAL";
MPRINT(EM_DIAGRAM):   levelAssigned = 1;
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   else level = upcase(level);
MPRINT(EM_DIAGRAM):   if role = ' ' then do;
MPRINT(EM_DIAGRAM):   length name_prefix $8 _uname $64;
MPRINT(EM_DIAGRAM):   drop name_prefix _uname _freqflag;
MPRINT(EM_DIAGRAM):   retain _freqflag;
MPRINT(EM_DIAGRAM):   if LENGTH> 80 then ROLE = 'TEXT';
MPRINT(EM_DIAGRAM):   _uname = upcase(NAME);
MPRINT(EM_DIAGRAM):   select(_uname);
MPRINT(EM_DIAGRAM):   when('_WARN_') ROLE = 'ASSESS';
MPRINT(EM_DIAGRAM):   when('EM_SEGMENT') do;
MPRINT(EM_DIAGRAM):   ROLE = 'SEGMENT';
MPRINT(EM_DIAGRAM):   LEVEL = 'NOMINAL';
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   when('_NODE_') do;
MPRINT(EM_DIAGRAM):   ROLE = 'SEGMENT';
MPRINT(EM_DIAGRAM):   LEVEL = 'NOMINAL';
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   when('EM_CLASSTARGET') ROLE = 'ASSESS';
MPRINT(EM_DIAGRAM):   when('EM_VALUETARGET') ROLE = 'ASSESS';
MPRINT(EM_DIAGRAM):   when('EM_PREDICTION') ROLE = 'PREDICT';
MPRINT(EM_DIAGRAM):   when('EM_PROBABILITY') ROLE = 'PREDICT';
MPRINT(EM_DIAGRAM):   when('EM_EVENTPROBABILITY') ROLE = 'PREDICT';
MPRINT(EM_DIAGRAM):   when('EM_CLASSIFICATION') ROLE = 'CLASSIFICATION';
MPRINT(EM_DIAGRAM):   when('EM_DECISION') ROLE = 'DECISION';
MPRINT(EM_DIAGRAM):   when('EM_PROFIT') ROLE = 'ASSESS';
MPRINT(EM_DIAGRAM):   when('EM_LOSS') ROLE = 'ASSESS';
MPRINT(EM_DIAGRAM):   when('EM_ROI') ROLE = 'ASSESS';
MPRINT(EM_DIAGRAM):   when('URI') ROLE = 'URL';
MPRINT(EM_DIAGRAM):   when('FILTERED') ROLE = 'TEXTLOC';
MPRINT(EM_DIAGRAM):   otherwise do;
MPRINT(EM_DIAGRAM):   if upcase(NAME) =: 'ZIP' then do;
MPRINT(EM_DIAGRAM):   ROLE = 'REJECTED';
MPRINT(EM_DIAGRAM):   LEVEL = 'NOMINAL';
MPRINT(EM_DIAGRAM):   COMMENT = 'Rejected by: Exceed the maximum class level of %s';
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   else if upcase(NAME) in('FREQ', 'FREQUENCY') then do;
MPRINT(EM_DIAGRAM):   ROLE = 'FREQ';
MPRINT(EM_DIAGRAM):   if TYPE = 'C' then ROLE = 'INPUT';
MPRINT(EM_DIAGRAM):   else if _freqflag =1 then ROLE='REJECTED';
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   else do;
MPRINT(EM_DIAGRAM):   name_prefix = scan(_uname, 1, '_');
MPRINT(EM_DIAGRAM):   if scan(_uname, 2, '_') = '' then name_prefix='';
MPRINT(EM_DIAGRAM):   if name_prefix in('F', 'I', 'U') then do;
MPRINT(EM_DIAGRAM):   ROLE = 'CLASSIFICATION';
MPRINT(EM_DIAGRAM):   LEVEL = 'NOMINAL';
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   else if name_prefix in('P', 'V') then ROLE = 'PREDICT';
MPRINT(EM_DIAGRAM):   else if name_prefix in('R', 'RS', 'RT', 'RD', 'RDS', 'RDT', 'RA', 'RAS', 
'RAT') then ROLE = 'RESIDUAL';
MPRINT(EM_DIAGRAM):   else if name_prefix ='D' then do;
MPRINT(EM_DIAGRAM):   ROLE = 'DECISION';
MPRINT(EM_DIAGRAM):   LEVEL = 'NOMINAL';
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   else if name_prefix ='B' then do;
MPRINT(EM_DIAGRAM):   ROLE = 'SEGMENT';
MPRINT(EM_DIAGRAM):   LEVEL = 'NOMINAL';
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   else if name_prefix in('EP', 'BP', 'CP', 'EL', 'CL', 'BL', 'W', 'ROI', 
'IC') then ROLE = 'ASSESS';
MPRINT(EM_DIAGRAM):   else do;
MPRINT(EM_DIAGRAM):   array _ROLE_ (19) $32 _TEMPORARY_ ('ASSESS','CLASSIFICATION','CENSOR', 
'COST', 'CROSSID', 'DECISION', 'ID','INPUT', 'LABEL', 
'MISSING','PREDICT','REFERRER','REJECTED', 'RESIDUAL','SEGMENT', 'SEQUENCE','TARGET', 'TEXT', 
'TIMEID');
MPRINT(EM_DIAGRAM):   drop _found_ i;
MPRINT(EM_DIAGRAM):   _found_=0;
MPRINT(EM_DIAGRAM):   do i=1 to 19 until(_found_=1);
MPRINT(EM_DIAGRAM):   if index(_uname, trim(_ROLE_{i}))=1 then do;
MPRINT(EM_DIAGRAM):   ROLE=_ROLE_{i};
MPRINT(EM_DIAGRAM):   if ROLE = 'ID' then LEVEL = 'NOMINAL';
MPRINT(EM_DIAGRAM):   else if ROLE = 'SEGMENT' then LEVEL = 'NOMINAL';
MPRINT(EM_DIAGRAM):   else if ROLE = 'TIMEID' and TYPE='N' then LEVEL = 'INTERVAL';
MPRINT(EM_DIAGRAM):   _found_=1;
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   if length(_uname)>2 then do;
MPRINT(EM_DIAGRAM):   if substr(reverse(trim(_uname)), 1, 3) = 'DI_' then do;
MPRINT(EM_DIAGRAM):   ROLE = 'ID';
MPRINT(EM_DIAGRAM):   LEVEL = 'NOMINAL';
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   if ROLE='FREQ' then _freqflag=1;
MPRINT(EM_DIAGRAM):   else if ROLE = 'CLASSIFICATION' then LEVEL = 'NOMINAL';
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   if role = ' ' then do;
MPRINT(EM_DIAGRAM):   if formattype in('DATE', 'DATETIME', 'TIME') then role = 'TIMEID';
MPRINT(EM_DIAGRAM):   else role = 'INPUT';
MPRINT(EM_DIAGRAM):   roleAssigned = 1;
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   else role = upcase(role);
MPRINT(EM_DIAGRAM):   if REPORT = '' then REPORT = 'N';
MPRINT(EM_DIAGRAM):   run;
MPRINT(EM_DIAGRAM):    *------------------------------------------------------------* ;
MPRINT(EM_DIAGRAM):   * DMDBClass Macro ;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------* ;
MPRINT(HPDM_PERFORMANCE):  ;
PERFORMANCE  DETAILS
MPRINT(EM_DIAGRAM):  ;
MPRINT(EM_DIAGRAM):    proc dmdb data=work._train(obs=1000000) batch classOut=_DMDB0AEUFJM 
maxLevel=22;
MPRINT(EM_DIAGRAM):   class
MPRINT(DMDBCLASS):   AcceptedCmp1 AcceptedCmp2 AcceptedCmp3 AcceptedCmp4 AcceptedCmp5 
AcceptedCmpTotal Age Complain DepVar Education Frq HigherEducationBinary Income Kidhome 
Marital_Status Mnt MntFishProducts MntFruits MntGoldProds MntMeatProducts MntSweetProducts 
MntWines MonthsAsCustomer NumCatalogPurchases NumDealsPurchases NumDistPurchases 
NumStorePurchases NumWebPurchases NumWebVisitsMonth Recency RFMstat RMntFrq Teenhome
MPRINT(EM_DIAGRAM):  ;
MPRINT(EM_DIAGRAM):   run;
MPRINT(EM_DIAGRAM):    proc freq data=_DMDB0AEUFJM noprint;
MPRINT(EM_DIAGRAM):   table name / out=_DMDBCOUNT0AEUFJM(drop=percent rename=(count=NLEVEL));
MPRINT(EM_DIAGRAM):   run;
MPRINT(EM_DIAGRAM):   data _MISS0AEUFJM(rename=(frequency=NMISS));
MPRINT(EM_DIAGRAM):   set _DMDB0AEUFJM(where=(NRAW=. and CRAW=''));
MPRINT(EM_DIAGRAM):   keep name frequency;
MPRINT(EM_DIAGRAM):   run;
MPRINT(EM_DIAGRAM):   proc sort data=_MISS0AEUFJM;
MPRINT(EM_DIAGRAM):   by NAME;
MPRINT(EM_DIAGRAM):   run;
MPRINT(EM_DIAGRAM):   proc sort data=_DMDBCOUNT0AEUFJM;
MPRINT(EM_DIAGRAM):   by NAME;
MPRINT(EM_DIAGRAM):   run;
MPRINT(EM_DIAGRAM):    data _COUNTS0AEUFJM;
MPRINT(EM_DIAGRAM):   merge _DMDBCOUNT0AEUFJM _MISS0AEUFJM;
MPRINT(EM_DIAGRAM):   label NLEVEL= 'Number of Category';
MPRINT(EM_DIAGRAM):   by name;
MPRINT(EM_DIAGRAM):   if NMISS > 0 then do;
MPRINT(EM_DIAGRAM):   NLEVEL= NLEVEL-1;
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   else NMISS = 0;
MPRINT(EM_DIAGRAM):   run;
MPRINT(EM_DIAGRAM):    proc sort data=_COUNTS0AEUFJM NOTHREADS;
MPRINT(EM_DIAGRAM):   by name;
MPRINT(EM_DIAGRAM):   run;
MPRINT(EM_DIAGRAM):   proc sort data=WORK.M2EC5EXE NOTHREADS;
MPRINT(EM_DIAGRAM):   by name;
MPRINT(EM_DIAGRAM):   run;
MPRINT(EM_DIAGRAM):   data WORK.M2EC5EXE;
MPRINT(EM_DIAGRAM):   length NLEVEL 8 nmiss 8;
MPRINT(EM_DIAGRAM):   update WORK.M2EC5EXE _COUNTS0AEUFJM;
MPRINT(EM_DIAGRAM):   by name;
MPRINT(EM_DIAGRAM):   if name='' then name='_';
MPRINT(EM_DIAGRAM):   if levelAssigned and ROLE ne 'FREQ' then do;
MPRINT(EM_DIAGRAM):   select(NLEVEL);
MPRINT(EM_DIAGRAM):   when(.) do;
MPRINT(EM_DIAGRAM):   if type eq 'C' then level = 'NOMINAL';
MPRINT(EM_DIAGRAM):   else level = 'INTERVAL';
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   when(0) level = 'UNARY';
MPRINT(EM_DIAGRAM):   when(1) level = 'UNARY';
MPRINT(EM_DIAGRAM):   when(2) level = 'BINARY';
MPRINT(EM_DIAGRAM):   otherwise do;
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   if roleAssigned then do;
MPRINT(EM_DIAGRAM):   if level = 'NOMINAL' and NLEVEL > 20 then do;
MPRINT(EM_DIAGRAM):   role = 'REJECTED';
MPRINT(EM_DIAGRAM):   comment = "Exceeds maximum number of levels cutoff";
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   if level = 'UNARY' and ROLE ne 'FREQ' then role='REJECTED';
MPRINT(EM_DIAGRAM):   drop NLEVEL nmiss;
MPRINT(EM_DIAGRAM):   label NAME = "Variable Name" TYPE = "Type" ROLE = "Role" LEVEL= 
"Measurement Level" ORDER= "Order" CREATOR= "Creator" FORMATTYPE= "Format Type" FAMILY= 
"Family" DISTRIBUTION= "Distribution" PRICE= "Price" LOWERLIMIT= "Lower limit" UPPERLIMIT= 
"Upper Limit" REPORT= "Report" COMMENT= "Comment" INDEX= "Index" INDEXTYPE= "IndexType" LABEL= 
"Label" LENGTH= "Length";
MPRINT(EM_DIAGRAM):   drop levelAssigned roleAssigned;
MPRINT(EM_DIAGRAM):   run;
684101     title8 "%sysfunc(sasmsg(sashelp.dmine, rpt_clean_title, NOQUOTE))";
MPRINT(EM_DIAGRAM):    title8 "Cleanup Model";
684102     data WORK.M1KMIG57;
MPRINT(EM_DIAGRAM):   data WORK.M1KMIG57;
684103     set WORK.M1KMIG57;
MPRINT(EM_DIAGRAM):   set WORK.M1KMIG57;
684104     if NAME='Element1' then delete;
MPRINT(EM_DIAGRAM):   if NAME='Element1' then delete;
684105     if NAME='Element2' then delete;
MPRINT(EM_DIAGRAM):   if NAME='Element2' then delete;
684106     if NAME='Element3' then delete;
MPRINT(EM_DIAGRAM):   if NAME='Element3' then delete;
684107     if NAME='Element4' then delete;
MPRINT(EM_DIAGRAM):   if NAME='Element4' then delete;
684108     if NAME='Group' then delete;
MPRINT(EM_DIAGRAM):   if NAME='Group' then delete;
684109     if NAME='Z_CostContact' then delete;
MPRINT(EM_DIAGRAM):   if NAME='Z_CostContact' then delete;
684110     if NAME='Z_Revenue' then delete;
MPRINT(EM_DIAGRAM):   if NAME='Z_Revenue' then delete;
684111     if NAME='_WARN_' then delete;
MPRINT(EM_DIAGRAM):   if NAME='_WARN_' then delete;
684112     if NAME='Complain' then delete;
MPRINT(EM_DIAGRAM):   if NAME='Complain' then delete;
684113     run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 34 observations read from the data set WORK.M1KMIG57.
NOTE: The data set WORK.M1KMIG57 has 33 observations and 21 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

684114     *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):    *------------------------------------------------------------*;
684115     * Cleanup Model;
MPRINT(EM_DIAGRAM):   * Cleanup Model;
684116     *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
684117     *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
684118     * NEURAL MODEL DepVar BINARY CM;
MPRINT(EM_DIAGRAM):   * NEURAL MODEL DepVar BINARY CM;
684119     *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
684120     *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
684121     * Rule: Create decision matrix;
MPRINT(EM_DIAGRAM):   * Rule: Create decision matrix;
684122     *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
684123     data EM_Rule;
MPRINT(EM_DIAGRAM):   data EM_Rule;
684124     set work._train(keep=
684125     AcceptedCmp1 AcceptedCmp2 AcceptedCmp3 AcceptedCmp4 AcceptedCmp5
684126     AcceptedCmpTotal Age DepVar Education Frq HigherEducationBinary Income Kidhome
684127     Marital_Status Mnt MntFishProducts MntFruits MntGoldProds MntMeatProducts
684128     MntSweetProducts MntWines MonthsAsCustomer NumCatalogPurchases
684129     NumDealsPurchases NumDistPurchases NumStorePurchases NumWebPurchases
684130     NumWebVisitsMonth RFMstat RMntFrq Recency Teenhome );
MPRINT(EM_DIAGRAM):   set work._train(keep= AcceptedCmp1 AcceptedCmp2 AcceptedCmp3 
AcceptedCmp4 AcceptedCmp5 AcceptedCmpTotal Age DepVar Education Frq HigherEducationBinary 
Income Kidhome Marital_Status Mnt MntFishProducts MntFruits MntGoldProds MntMeatProducts 
MntSweetProducts MntWines MonthsAsCustomer NumCatalogPurchases NumDealsPurchases 
NumDistPurchases NumStorePurchases NumWebPurchases NumWebVisitsMonth RFMstat RMntFrq Recency 
Teenhome );
684131     run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 52 observations read from the data set WORK._TRAIN.
NOTE: The data set WORK.EM_RULE has 52 observations and 32 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

MPRINT(EM_DIAGRAM):   *------------------------------------------------------------* ;
MPRINT(EM_DIAGRAM):   * Rule: DMDBClass Macro ;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------* ;
684132     *------------------------------------------------------------* ;
684133     * Rule: DMDBClass Macro ;
684134     *------------------------------------------------------------* ;
684135     %macro DMDBClass;
684136         AcceptedCmp1(ASC) AcceptedCmp2(ASC) AcceptedCmp3(ASC) AcceptedCmp4(ASC)
684137        AcceptedCmp5(ASC) DepVar(DESC) Education(ASC) HigherEducationBinary(ASC)
684138        Marital_Status(ASC)
684139     %mend DMDBClass;
684140     *------------------------------------------------------------* ;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------* ;
684141     * Rule: DMDBVar Macro ;
MPRINT(EM_DIAGRAM):   * Rule: DMDBVar Macro ;
684142     *------------------------------------------------------------* ;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------* ;
684143     %macro DMDBVar;
684144         AcceptedCmpTotal Age Frq Income Kidhome Mnt MntFishProducts MntFruits
684145        MntGoldProds MntMeatProducts MntSweetProducts MntWines MonthsAsCustomer
684146        NumCatalogPurchases NumDealsPurchases NumDistPurchases NumStorePurchases
684147        NumWebPurchases NumWebVisitsMonth RFMstat RMntFrq Recency Teenhome
684148     %mend DMDBVar;
684149     *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
684150     * Rule: Create DMDB;
MPRINT(EM_DIAGRAM):   * Rule: Create DMDB;
684151     *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
684152     proc dmdb batch data=WORK.EM_Rule
684153     dmdbcat=WORK.Rule_DMDB
684154     maxlevel = 513
684155     ;
MPRINT(EM_DIAGRAM):   proc dmdb batch data=WORK.EM_Rule dmdbcat=WORK.Rule_DMDB maxlevel = 513 ;
MPRINT(EM_DIAGRAM):   class
684156     class %DMDBClass;
MPRINT(DMDBCLASS):   AcceptedCmp1(ASC) AcceptedCmp2(ASC) AcceptedCmp3(ASC) AcceptedCmp4(ASC) 
AcceptedCmp5(ASC) DepVar(DESC) Education(ASC) HigherEducationBinary(ASC) Marital_Status(ASC)
MPRINT(EM_DIAGRAM):  ;
MPRINT(EM_DIAGRAM):   var
684157     var %DMDBVar;
MPRINT(DMDBVAR):   AcceptedCmpTotal Age Frq Income Kidhome Mnt MntFishProducts MntFruits 
MntGoldProds MntMeatProducts MntSweetProducts MntWines MonthsAsCustomer NumCatalogPurchases 
NumDealsPurchases NumDistPurchases NumStorePurchases NumWebPurchases NumWebVisitsMonth RFMstat 
RMntFrq Recency Teenhome
MPRINT(EM_DIAGRAM):  ;
684158     target
684159     DepVar
684160     ;
MPRINT(EM_DIAGRAM):   target DepVar ;
684161     run;
MPRINT(EM_DIAGRAM):   run;

NOTE: Records processed = 52   Memory used = 511K.
NOTE: There were 52 observations read from the data set WORK.EM_RULE.
NOTE: PROCEDURE DMDB used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

MPRINT(EM_DIAGRAM):   quit;
MPRINT(EM_DIAGRAM):   *--- end code ---*;
684162     quit;
684163     *--- end code ---*;

684164     *------------------------------------------------------------* ;
MPRINT(EM_DIAGRAM):    *------------------------------------------------------------* ;
684165     * Rule: Interval Input Variables Macro ;
MPRINT(EM_DIAGRAM):   * Rule: Interval Input Variables Macro ;
684166     *------------------------------------------------------------* ;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------* ;
684167     %macro INTINPUTS;
684168         AcceptedCmpTotal Age Frq Income Kidhome Mnt MntFishProducts MntFruits
684169        MntGoldProds MntMeatProducts MntSweetProducts MntWines MonthsAsCustomer
684170        NumCatalogPurchases NumDealsPurchases NumDistPurchases NumStorePurchases
684171        NumWebPurchases NumWebVisitsMonth RFMstat RMntFrq Recency Teenhome
684172     %mend INTINPUTS;
684173     *------------------------------------------------------------* ;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------* ;
684174     * Rule: Binary Inputs Macro ;
MPRINT(EM_DIAGRAM):   * Rule: Binary Inputs Macro ;
684175     *------------------------------------------------------------* ;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------* ;
684176     %macro BININPUTS;
684177         AcceptedCmp1 AcceptedCmp2 AcceptedCmp3 AcceptedCmp4 AcceptedCmp5
684178        HigherEducationBinary
684179     %mend BININPUTS;
684180     *------------------------------------------------------------* ;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------* ;
684181     * Rule: Nominal Inputs Macro ;
MPRINT(EM_DIAGRAM):   * Rule: Nominal Inputs Macro ;
684182     *------------------------------------------------------------* ;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------* ;
684183     %macro NOMINPUTS;
684184         Education Marital_Status
684185     %mend NOMINPUTS;
684186     *------------------------------------------------------------* ;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------* ;
684187     * Rule: Ordinal Inputs Macro ;
MPRINT(EM_DIAGRAM):   * Rule: Ordinal Inputs Macro ;
684188     *------------------------------------------------------------* ;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------* ;
684189     %macro ORDINPUTS;
684190     
684191     %mend ORDINPUTS;
684192     *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
684193     * Neural Network Training;
MPRINT(EM_DIAGRAM):   * Neural Network Training;
684194     ;
MPRINT(EM_DIAGRAM):   ;
684195     *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
684196     proc neural data=EM_Rule dmdbcat=WORK.Rule_DMDB
684197     validdata = work._valid
684198     random=12345
684199     ;
MPRINT(EM_DIAGRAM):   proc neural data=EM_Rule dmdbcat=WORK.Rule_DMDB validdata = work._valid 
random=12345 ;
684200     nloptions
684201     noprint
684202     ;
MPRINT(EM_DIAGRAM):   nloptions noprint ;
684203     performance alldetails noutilfile;
MPRINT(EM_DIAGRAM):   performance alldetails noutilfile;
684204     netopts
684205     decay=0;
MPRINT(EM_DIAGRAM):   netopts decay=0;
MPRINT(EM_DIAGRAM):   input
684206     input %INTINPUTS / level=interval id=intvl
MPRINT(INTINPUTS):   AcceptedCmpTotal Age Frq Income Kidhome Mnt MntFishProducts MntFruits 
MntGoldProds MntMeatProducts MntSweetProducts MntWines MonthsAsCustomer NumCatalogPurchases 
NumDealsPurchases NumDistPurchases NumStorePurchases NumWebPurchases NumWebVisitsMonth RFMstat 
RMntFrq Recency Teenhome
684207     ;
MPRINT(EM_DIAGRAM):   / level=interval id=intvl ;
MPRINT(EM_DIAGRAM):   input
684208     input %BININPUTS / level=nominal id=bin
MPRINT(BININPUTS):   AcceptedCmp1 AcceptedCmp2 AcceptedCmp3 AcceptedCmp4 AcceptedCmp5 
HigherEducationBinary
684209     ;
MPRINT(EM_DIAGRAM):   / level=nominal id=bin ;
MPRINT(EM_DIAGRAM):   input
684210     input %NOMINPUTS / level=nominal id=nom
MPRINT(NOMINPUTS):   Education Marital_Status
684211     ;
MPRINT(EM_DIAGRAM):   / level=nominal id=nom ;
684212     target DepVar / level=NOMINAL id=DepVar
684213     bias
684214     ;
MPRINT(EM_DIAGRAM):   target DepVar / level=NOMINAL id=DepVar bias ;
684215     arch NRBFEQ
684216     Hidden=3
684217     ;
MPRINT(EM_DIAGRAM):   arch NRBFEQ Hidden=3 ;
684218     Prelim 8 preiter=10
684219     pretime=3600
684220     Outest=WORK.PRELIMOUTEST_EMNEURAL_3O2EZJZ
684221     ;
MPRINT(EM_DIAGRAM):   Prelim 8 preiter=10 pretime=3600 
Outest=WORK.PRELIMOUTEST_EMNEURAL_3O2EZJZ ;
NOTE:  Synchronizing the objectives and the Solution.
NOTE: Convergence criterion (ABSGCONV=0.00001) satisfied.
NOTE: Convergence criterion (ABSCONV=0.0039706618) satisfied.
NOTE: At least one element of the gradient is greater than 1e-3.
NOTE: QUANEW Optimization cannot be completed.
NOTE: QUANEW needs more than 10 iterations or 2147483647 function calls.
NOTE: Convergence criterion (ABSCONV=0.0039706618) satisfied.
NOTE: At least one element of the gradient is greater than 1e-3.
NOTE: Convergence criterion (ABSCONV=0.0039706618) satisfied.
NOTE: Convergence criterion (ABSCONV=0.0039706618) satisfied.
NOTE: QUANEW Optimization cannot be completed.
NOTE: QUANEW needs more than 10 iterations or 2147483647 function calls.
NOTE: QUANEW Optimization cannot be completed.
NOTE: QUANEW needs more than 10 iterations or 2147483647 function calls.
NOTE: The data set WORK.PRELIMOUTEST_EMNEURAL_3O2EZJZ has 17 observations and 127 variables.
684222     save network=WORK.NETWORK.dm_neural;
MPRINT(EM_DIAGRAM):   save network=WORK.NETWORK.dm_neural;
NOTE: Creating a new Catalogue with entry WORK.NETWORK.DM_NEURAL.
NOTE: Entry WORK.NETWORK.DM_NEURAL has been opened.
NOTE: Entry WORK.NETWORK.DM_NEURAL has been closed.
684223     train Maxiter=20
684224     maxtime=14400
684225     Outest=WORK.Rule_outest estiter=1
684226     Outfit=_rnfit
684227     ;
MPRINT(EM_DIAGRAM):   train Maxiter=20 maxtime=14400 Outest=WORK.Rule_outest estiter=1 
Outfit=_rnfit ;
NOTE: Convergence criterion (ABSCONV=0.0039706618) satisfied.
NOTE: The data set WORK.RULE_OUTEST has 3 observations and 127 variables.
NOTE: The data set WORK._RNFIT has 4 observations and 36 variables.
684228     run;
MPRINT(EM_DIAGRAM):   run;

NOTE: The data set WORK.EM_RULE has 52 observations and 32 variables.
NOTE: The data set WORK._VALID has 25 observations and 33 variables.
NOTE: Closing the Neural Application.
NOTE: The PROCEDURE NEURAL printed page 638.
NOTE: PROCEDURE NEURAL used (Total process time):
      real time           0.07 seconds
      cpu time            0.07 seconds
      

MPRINT(EM_DIAGRAM):   quit;
684229     quit;

684230     proc sort data=_rnfit(where=(_iter_ ne . and _NAME_="OVERALL")) out=fit_Rule;
MPRINT(EM_DIAGRAM):    proc sort data=_rnfit(where=(_iter_ ne . and _NAME_="OVERALL")) 
out=fit_Rule;
684231     by _VAVERR_;
MPRINT(EM_DIAGRAM):   by _VAVERR_;
684232     run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 2 observations read from the data set WORK._RNFIT.
      WHERE (_iter_ not = .) and (_NAME_='OVERALL');
NOTE: The data set WORK.FIT_RULE has 2 observations and 36 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

684233     %GLOBAL ITER;
684234     data _null_;
MPRINT(EM_DIAGRAM):   data _null_;
684235     set fit_Rule(obs=1);
MPRINT(EM_DIAGRAM):   set fit_Rule(obs=1);
684236     call symput('ITER',put(_ITER_, 6.));
MPRINT(EM_DIAGRAM):   call symput('ITER',put(_ITER_, 6.));
684237     run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 1 observations read from the data set WORK.FIT_RULE.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

684238     data WORK.INITIAL_EMNEURAL_3O2EZJZ;
MPRINT(EM_DIAGRAM):   data WORK.INITIAL_EMNEURAL_3O2EZJZ;
684239     set WORK.Rule_outest(where=(_ITER_ eq &ITER and _OBJ_ ne .));
MPRINT(EM_DIAGRAM):   set WORK.Rule_outest(where=(_ITER_ eq 0 and _OBJ_ ne .));
684240     run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 2 observations read from the data set WORK.RULE_OUTEST.
      WHERE (_ITER_=0) and (_OBJ_ not = .);
NOTE: The data set WORK.INITIAL_EMNEURAL_3O2EZJZ has 2 observations and 127 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

684241     *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):    *------------------------------------------------------------*;
684242     * Neural Network Model Selection;
MPRINT(EM_DIAGRAM):   * Neural Network Model Selection;
684243     ;
MPRINT(EM_DIAGRAM):   ;
684244     *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
684245     proc neural data=EM_Rule dmdbcat=WORK.Rule_DMDB
684246     validdata = work._valid
684247     network = WORK.NETWORK.dm_neural
684248     random=12345
684249     ;
MPRINT(EM_DIAGRAM):   proc neural data=EM_Rule dmdbcat=WORK.Rule_DMDB validdata = work._valid 
network = WORK.NETWORK.dm_neural random=12345 ;
NOTE: Entry WORK.NETWORK.DM_NEURAL has been opened.
NOTE: Entry WORK.NETWORK.DM_NEURAL has been closed.
684250     nloptions noprint;
MPRINT(EM_DIAGRAM):   nloptions noprint;
684251     performance alldetails noutilfile;
MPRINT(EM_DIAGRAM):   performance alldetails noutilfile;
684252     initial inest=WORK.INITIAL_EMNEURAL_3O2EZJZ;
MPRINT(EM_DIAGRAM):   initial inest=WORK.INITIAL_EMNEURAL_3O2EZJZ;
NOTE: The data set WORK.INITIAL_EMNEURAL_3O2EZJZ has 2 observations and 127 variables.
684253     train tech=NONE;
MPRINT(EM_DIAGRAM):   train tech=NONE;
NOTE: No optimization performed.
684254     code file="C:\Users\LUKASF~1\AppData\Local\Temp\SAS Temporary
684254   ! Files\_TD9752_WN7LF-LEAVE_\Prc2\CM.sas"
684255     group=Rule
684256     ;
MPRINT(EM_DIAGRAM):   code file="C:\Users\LUKASF~1\AppData\Local\Temp\SAS Temporary 
Files\_TD9752_WN7LF-LEAVE_\Prc2\CM.sas" group=Rule ;
NOTE: External file C:\Users\LUKASF~1\AppData\Local\Temp\SAS Temporary 
      Files\_TD9752_WN7LF-LEAVE_\Prc2\CM.sas opened.
684257     ;
MPRINT(EM_DIAGRAM):   ;
684258     code file="C:\Users\LUKASF~1\AppData\Local\Temp\SAS Temporary
684258   ! Files\_TD9752_WN7LF-LEAVE_\Prc2\CM_res.sas"
684259     group=Rule
684260     residual
684261     ;
MPRINT(EM_DIAGRAM):   code file="C:\Users\LUKASF~1\AppData\Local\Temp\SAS Temporary 
Files\_TD9752_WN7LF-LEAVE_\Prc2\CM_res.sas" group=Rule residual ;
NOTE: External file C:\Users\LUKASF~1\AppData\Local\Temp\SAS Temporary 
      Files\_TD9752_WN7LF-LEAVE_\Prc2\CM_res.sas opened.
684262     ;
MPRINT(EM_DIAGRAM):   ;
684263     score data=_train out=_ptrain
684264     outkey=WORK.OUTKEY_EMNEURAL_3O2EZJZ;
MPRINT(EM_DIAGRAM):   score data=_train out=_ptrain outkey=WORK.OUTKEY_EMNEURAL_3O2EZJZ;
NOTE: The data set WORK.OUTKEY_EMNEURAL_3O2EZJZ has 36 observations and 8 variables.
NOTE: The data set WORK._TRAIN has 52 observations and 33 variables.
NOTE: The data set WORK._PTRAIN has 52 observations and 69 variables.
684265     score data=_valid out=_pvalid
684266     outkey=WORK.OUTKEY_EMNEURAL_3O2EZJZ;
MPRINT(EM_DIAGRAM):   score data=_valid out=_pvalid outkey=WORK.OUTKEY_EMNEURAL_3O2EZJZ;
NOTE: The data set WORK.OUTKEY_EMNEURAL_3O2EZJZ has 36 observations and 8 variables.
NOTE: The data set WORK._VALID has 25 observations and 33 variables.
NOTE: The data set WORK._PVALID has 25 observations and 69 variables.
684267     run;
MPRINT(EM_DIAGRAM):   run;

NOTE: The data set WORK.EM_RULE has 52 observations and 32 variables.
NOTE: The data set WORK._VALID has 25 observations and 33 variables.
NOTE: Closing the Neural Application.
NOTE: PROCEDURE NEURAL used (Total process time):
      real time           0.02 seconds
      cpu time            0.03 seconds
      

MPRINT(EM_DIAGRAM):   quit;
684268     quit;
684269     data _rnest;
MPRINT(EM_DIAGRAM):   data _rnest;
684270     set WORK.Rule_outest;
MPRINT(EM_DIAGRAM):   set WORK.Rule_outest;
684271     if _type_ ^in('HESSIAN' 'GRAD');
MPRINT(EM_DIAGRAM):   if _type_ ^in('HESSIAN' 'GRAD');
684272     run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 3 observations read from the data set WORK.RULE_OUTEST.
NOTE: The data set WORK._RNEST has 2 observations and 127 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

684273     proc datasets lib=work nolist;
MPRINT(EM_DIAGRAM):   proc datasets lib=work nolist;
684274     delete EM_Rule;
MPRINT(EM_DIAGRAM):   delete EM_Rule;
684275     run;
MPRINT(EM_DIAGRAM):   run;

NOTE: Deleting WORK.EM_RULE (memtype=DATA).
684276     quit;
MPRINT(EM_DIAGRAM):   quit;

NOTE: PROCEDURE DATASETS used (Total process time):
      real time           0.02 seconds
      cpu time            0.03 seconds
      

684277     * CLEANUP: Training Classification;
MPRINT(EM_DIAGRAM):    * CLEANUP: Training Classification;
684278     ;
MPRINT(EM_DIAGRAM):   ;
684279     proc freq data= _ptrain noprint;
MPRINT(EM_DIAGRAM):   proc freq data= _ptrain noprint;
684280     tables F_DepVar * I_DepVar / out = _count;
MPRINT(EM_DIAGRAM):   tables F_DepVar * I_DepVar / out = _count;
684281     run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 52 observations read from the data set WORK._PTRAIN.
NOTE: The data set WORK._COUNT has 2 observations and 4 variables.
NOTE: PROCEDURE FREQ used (Total process time):
      real time           0.43 seconds
      cpu time            0.03 seconds
      

684282     data _count;
MPRINT(EM_DIAGRAM):   data _count;
684283     set _count;
MPRINT(EM_DIAGRAM):   set _count;
684284     label count = "%sysfunc(sasmsg(sashelp.dmine, rpt_traincount_vlabel, NOQUOTE))";
MPRINT(EM_DIAGRAM):   label count = "Train Count";
684285     label percent = "%sysfunc(sasmsg(sashelp.dmine, rpt_trainpercent_vlabel, NOQUOTE))";
MPRINT(EM_DIAGRAM):   label percent = "Train Percent";
684286     label F_DepVar = "%sysfunc(sasmsg(sashelp.dmine, rpt_target_vlabel, NOQUOTE))";
MPRINT(EM_DIAGRAM):   label F_DepVar = "Target";
684287     label I_DepVar = "%sysfunc(sasmsg(sashelp.dmine, rpt_predict_vlabel, NOQUOTE))";
MPRINT(EM_DIAGRAM):   label I_DepVar = "Predict";
684288     run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 2 observations read from the data set WORK._COUNT.
NOTE: The data set WORK._COUNT has 2 observations and 4 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      

MPRINT(EM_DIAGRAM):   * CLEANUP: Validation Classification;
MPRINT(EM_DIAGRAM):   ;
684289     * CLEANUP: Validation Classification;
684290     ;
684291     proc freq data= _pvalid noprint;
MPRINT(EM_DIAGRAM):   proc freq data= _pvalid noprint;
684292     tables F_DepVar * I_DepVar / out = _vcount;
MPRINT(EM_DIAGRAM):   tables F_DepVar * I_DepVar / out = _vcount;
684293     run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 25 observations read from the data set WORK._PVALID.
NOTE: The data set WORK._VCOUNT has 1 observations and 4 variables.
NOTE: PROCEDURE FREQ used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

684294     data _vcount;
MPRINT(EM_DIAGRAM):   data _vcount;
684295     set _vcount;
MPRINT(EM_DIAGRAM):   set _vcount;
684296     length key $64;
MPRINT(EM_DIAGRAM):   length key $64;
684297     label count = "%sysfunc(sasmsg(sashelp.dmine, rpt_validcount_vlabel, NOQUOTE))";
MPRINT(EM_DIAGRAM):   label count = "Valid Count";
684298     label percent = "%sysfunc(sasmsg(sashelp.dmine, rpt_validpercent_vlabel, NOQUOTE))";
MPRINT(EM_DIAGRAM):   label percent = "Valid Percent";
684299     label F_DepVar = "%sysfunc(sasmsg(sashelp.dmine, rpt_target_vlabel, NOQUOTE))";
MPRINT(EM_DIAGRAM):   label F_DepVar = "Target";
684300     label I_DepVar = "%sysfunc(sasmsg(sashelp.dmine, rpt_predict_vlabel, NOQUOTE))";
MPRINT(EM_DIAGRAM):   label I_DepVar = "Predict";
684301     rename count = vcount;
MPRINT(EM_DIAGRAM):   rename count = vcount;
684302     rename percent= vpercent;
MPRINT(EM_DIAGRAM):   rename percent= vpercent;
684303     key = ktrim(kleft(F_DepVar) !! '_' !! ktrim(kleft(I_DepVar)));
MPRINT(EM_DIAGRAM):   key = ktrim(kleft(F_DepVar) !! '_' !! ktrim(kleft(I_DepVar)));
684304     run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 1 observations read from the data set WORK._VCOUNT.
NOTE: The data set WORK._VCOUNT has 1 observations and 5 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

MPRINT(EM_DIAGRAM):   *;
684305     *;
684306     data _count;
MPRINT(EM_DIAGRAM):   data _count;
684307     set _count;
MPRINT(EM_DIAGRAM):   set _count;
684308     length key $64;
MPRINT(EM_DIAGRAM):   length key $64;
684309     key = ktrim(kleft(F_DepVar) !!'_' !!ktrim(kleft(I_DepVar)));
MPRINT(EM_DIAGRAM):   key = ktrim(kleft(F_DepVar) !!'_' !!ktrim(kleft(I_DepVar)));
684310     run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 2 observations read from the data set WORK._COUNT.
NOTE: The data set WORK._COUNT has 2 observations and 5 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

MPRINT(EM_DIAGRAM):   * Merge Train and Valid classification;
MPRINT(EM_DIAGRAM):   ;
684311     * Merge Train and Valid classification;
684312     ;
684313     proc sort data=_count;
MPRINT(EM_DIAGRAM):   proc sort data=_count;
684314     by key;
MPRINT(EM_DIAGRAM):   by key;
684315     run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 2 observations read from the data set WORK._COUNT.
NOTE: The data set WORK._COUNT has 2 observations and 5 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

684316     proc sort data=_vcount;
MPRINT(EM_DIAGRAM):   proc sort data=_vcount;
684317     by key;
MPRINT(EM_DIAGRAM):   by key;
684318     run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 1 observations read from the data set WORK._VCOUNT.
NOTE: The data set WORK._VCOUNT has 1 observations and 5 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

MPRINT(EM_DIAGRAM):   *;
684319     *;
684320     data _count;
MPRINT(EM_DIAGRAM):   data _count;
684321     merge _count _vcount;
MPRINT(EM_DIAGRAM):   merge _count _vcount;
684322     by key;
MPRINT(EM_DIAGRAM):   by key;
684323     drop key;
MPRINT(EM_DIAGRAM):   drop key;
684324     run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 2 observations read from the data set WORK._COUNT.
NOTE: There were 1 observations read from the data set WORK._VCOUNT.
NOTE: The data set WORK._COUNT has 2 observations and 6 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

MPRINT(EM_DIAGRAM):   * CLEANUP: Print Classification;
MPRINT(EM_DIAGRAM):   ;
684325     * CLEANUP: Print Classification;
684326     ;
684327     title9 "%sysfunc(sasmsg(sashelp.dmine, rpt_cleanup_title, NOQUOTE, DepVar))";
MPRINT(EM_DIAGRAM):   title9 "TARGET=DepVar : Cleanup Model";
684328     title10 "%sysfunc(sasmsg(sashelp.dmine, rpt_classification_title, NOQUOTE))";
MPRINT(EM_DIAGRAM):   title10 "Classification Table";
684329     proc print data = _count noobs label;
MPRINT(EM_DIAGRAM):   proc print data = _count noobs label;
684330     run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 2 observations read from the data set WORK._COUNT.
NOTE: The PROCEDURE PRINT printed page 639.
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

684331     title9;
MPRINT(EM_DIAGRAM):   title9;
684332     title10;
MPRINT(EM_DIAGRAM):   title10;
684333     title8;
MPRINT(EM_DIAGRAM):    title8;
684334     proc datasets lib=work nolist;
MPRINT(EM_DIAGRAM):    proc datasets lib=work nolist;
684335     delete _train;
MPRINT(EM_DIAGRAM):   delete _train;
684336     run;
MPRINT(EM_DIAGRAM):   run;

NOTE: Deleting WORK._TRAIN (memtype=DATA).

NOTE: PROCEDURE DATASETS used (Total process time):
      real time           0.02 seconds
      cpu time            0.01 seconds
      

684337     proc datasets lib=work nolist;
MPRINT(EM_DIAGRAM):   proc datasets lib=work nolist;
684338     delete _ptrain;
MPRINT(EM_DIAGRAM):   delete _ptrain;
684339     run;
MPRINT(EM_DIAGRAM):   run;

NOTE: Deleting WORK._PTRAIN (memtype=DATA).

NOTE: PROCEDURE DATASETS used (Total process time):
      real time           0.02 seconds
      cpu time            0.00 seconds
      

684340     proc datasets lib=work nolist;
MPRINT(EM_DIAGRAM):   proc datasets lib=work nolist;
684341     delete _valid;
MPRINT(EM_DIAGRAM):   delete _valid;
684342     run;
MPRINT(EM_DIAGRAM):   run;

NOTE: Deleting WORK._VALID (memtype=DATA).

NOTE: PROCEDURE DATASETS used (Total process time):
      real time           0.02 seconds
      cpu time            0.03 seconds
      

684343     proc datasets lib=work nolist;
MPRINT(EM_DIAGRAM):   proc datasets lib=work nolist;
684344     delete _pvalid;
MPRINT(EM_DIAGRAM):   delete _pvalid;
684345     run;
MPRINT(EM_DIAGRAM):   run;

NOTE: Deleting WORK._PVALID (memtype=DATA).
684346     %makeResidualVars(target=DepVar, decmeta=EMWS8.Rule_DepVar_DM , fref=#LN08628);

NOTE: PROCEDURE DATASETS used (Total process time):
      real time           0.07 seconds
      cpu time            0.07 seconds
      

MPRINT(MAKERESIDUALVARS):   data _null_;
MPRINT(MAKERESIDUALVARS):   set EMWS8.Rule_DepVar_DM end=eof;
MPRINT(MAKERESIDUALVARS):   where _TYPE_ in('TARGET', 'FROM');
MPRINT(MAKERESIDUALVARS):   if _TYPE_='TARGET' then call symput('target_level', strip(LEVEL));
MPRINT(MAKERESIDUALVARS):   else call symput('from_var', strip(VARIABLE));
MPRINT(MAKERESIDUALVARS):   run;

NOTE: There were 2 observations read from the data set EMWS8.RULE_DEPVAR_DM.
      WHERE _TYPE_ in ('FROM', 'TARGET');
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

MPRINT(MAKERESIDUALVARS):   data _null_;
MPRINT(MAKERESIDUALVARS):   set EMWS8.Rule_DepVar_DM;
MPRINT(MAKERESIDUALVARS):   where _TYPE_ ='PREDICTED';
MPRINT(MAKERESIDUALVARS):   call symput('pred_vars'!!strip(put(_N_,BEST.)), strip(Variable));
MPRINT(MAKERESIDUALVARS):   run;

NOTE: There were 2 observations read from the data set EMWS8.RULE_DEPVAR_DM.
      WHERE _TYPE_='PREDICTED';
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

MPRINT(MAKERESIDUALVARS):   data _null_;
MPRINT(MAKERESIDUALVARS):   set EMWS8.Rule_DepVar_DM end=eof;
MPRINT(MAKERESIDUALVARS):   where _TYPE_ ='RESIDUAL';
MPRINT(MAKERESIDUALVARS):   call symput('res_vars'!!strip(put(_N_,BEST.)), strip(Variable));
MPRINT(MAKERESIDUALVARS):   call symput('res_labels'!!strip(put(_N_,BEST.)), 
strip(tranwrd(LABEL,"'","''")));
MPRINT(MAKERESIDUALVARS):   call symput('res_levels'!!strip(put(_N_,BEST.)), 
strip(tranwrd(LEVEL,"'","''")));
MPRINT(MAKERESIDUALVARS):   if eof then call symput('numLevels', strip(put(_N_,BEST.)));
MPRINT(MAKERESIDUALVARS):   run;

NOTE: There were 2 observations read from the data set EMWS8.RULE_DEPVAR_DM.
      WHERE _TYPE_='RESIDUAL';
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

MPRINT(MAKERESIDUALVARS):   data _null_;
MPRINT(MAKERESIDUALVARS):   file #LN08628;
MPRINT(MAKERESIDUALVARS):   put 
"*------------------------------------------------------------*;";
MPRINT(MAKERESIDUALVARS):   put "*Computing Residual Vars: DepVar;";
MPRINT(MAKERESIDUALVARS):   put 
"*------------------------------------------------------------*;";
MPRINT(MAKERESIDUALVARS):   put "Label R_DepVar1='Residual: DepVar=1';";
MPRINT(MAKERESIDUALVARS):   put "Label R_DepVar0='Residual: DepVar=0';";
MPRINT(MAKERESIDUALVARS):   put "if ";
MPRINT(MAKERESIDUALVARS):   put " F_DepVar ne '1'";
MPRINT(MAKERESIDUALVARS):   put "and F_DepVar ne '0'";
MPRINT(MAKERESIDUALVARS):   put " then do;";
MPRINT(MAKERESIDUALVARS):   put "R_DepVar1=.;";
MPRINT(MAKERESIDUALVARS):   put "R_DepVar0=.;";
MPRINT(MAKERESIDUALVARS):   put "end;";
MPRINT(MAKERESIDUALVARS):   put "else do;";
MPRINT(MAKERESIDUALVARS):   put "R_DepVar1= - P_DepVar1;";
MPRINT(MAKERESIDUALVARS):   put "R_DepVar0= - P_DepVar0;";
MPRINT(MAKERESIDUALVARS):   put "select(F_DepVar);";
MPRINT(MAKERESIDUALVARS):   put "when('1')R_DepVar1= R_DepVar1+1;";
MPRINT(MAKERESIDUALVARS):   put "when('0')R_DepVar0= R_DepVar0+1;";
MPRINT(MAKERESIDUALVARS):   put 'otherwise;';
MPRINT(MAKERESIDUALVARS):   put 'end;';
MPRINT(MAKERESIDUALVARS):   put 'end;';
MPRINT(MAKERESIDUALVARS):   run;

NOTE: The file #LN08628 is:
      Filename=C:\\predictive-models-project\Workspaces\EMWS8\Rule\RESIDUALCODE.sas,
      RECFM=V,LRECL=256,File Size (bytes)=0,
      Last Modified=28. April 2016 08.46 Uhr,
      Create Time=26. April 2016 20.22 Uhr

NOTE: 21 records were written to the file #LN08628.
      The minimum record length was 3.
      The maximum record length was 63.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

MPRINT(EM_DIAGRAM):  ;

MPRINT(EM_DIAGRAM):    proc printto;
MPRINT(EM_DIAGRAM):   run;
