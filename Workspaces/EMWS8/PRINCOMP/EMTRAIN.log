MPRINT(EM_DIAGRAM):    data _null_;
MPRINT(EM_DIAGRAM):   call symput('NLDATE', strip(put(date(), NLDATE.)));
MPRINT(EM_DIAGRAM):   call symput('NLTIME', strip(put(datetime(), NLTIME.)));
MPRINT(EM_DIAGRAM):   run;
MPRINT(EM_DIAGRAM):   data _null_;
MPRINT(EM_DIAGRAM):   nldate= sasmsg("sashelp.dmine", "log_date_note", 'N', "21. April 2016" );
MPRINT(EM_DIAGRAM):   nltime= sasmsg("sashelp.dmine", "log_time_note", 'N', "18.27 Uhr" );
MPRINT(EM_DIAGRAM):   put "*------------------------------------------------------------*";
MPRINT(EM_DIAGRAM):   put "* Training Log";
MPRINT(EM_DIAGRAM):   put nldate;
MPRINT(EM_DIAGRAM):   put nltime;
MPRINT(EM_DIAGRAM):   put "*------------------------------------------------------------*";
MPRINT(EM_DIAGRAM):   run;
*------------------------------------------------------------*
* Training Log
Date:                21. April 2016
Time:                18.27 Uhr
*------------------------------------------------------------*
MPRINT(EM_DIAGRAM):    filename O3SOXR7I "C:\\predictive-models-project\Workspaces\EMWS8\PRINCOMP\EMTRAIN.out" encoding="UTF-8" NOBOM;
MPRINT(EM_DIAGRAM):   proc printto print=O3SOXR7I new;
MPRINT(EM_DIAGRAM):   run;
MPRINT(EM_DIAGRAM):    filename _LOG "C:\\predictive-models-project\Workspaces\EMWS8\PRINCOMP\EMLOG.log" encoding="UTF-8" NOBOM;
MPRINT(EM_DIAGRAM):    data _null_;
MPRINT(EM_DIAGRAM):   call symput('NLDATE', strip(put(date(), NLDATE.)));
MPRINT(EM_DIAGRAM):   call symput('NLTIME', strip(put(datetime(), NLTIME.)));
MPRINT(EM_DIAGRAM):   run;
MPRINT(EM_DIAGRAM):   data _null_;
MPRINT(EM_DIAGRAM):   nldate= sasmsg("sashelp.dmine", "log_date_note", 'N', "21. April 2016" );
MPRINT(EM_DIAGRAM):   nltime= sasmsg("sashelp.dmine", "log_time_note", 'N', "18.27 Uhr" );
MPRINT(EM_DIAGRAM):   file _LOG;
MPRINT(EM_DIAGRAM):   put "*------------------------------------------------------------*";
MPRINT(EM_DIAGRAM):   put "User:                Lukas Fahr";
MPRINT(EM_DIAGRAM):   put nldate;
MPRINT(EM_DIAGRAM):   put nltime;
MPRINT(EM_DIAGRAM):   put "Site:                70107571";
MPRINT(EM_DIAGRAM):   put "Platform:            X64_7PRO";
MPRINT(EM_DIAGRAM):   put "Maintenance Release: 9.03.01M2P081512";
MPRINT(EM_DIAGRAM):   put "EM Version:          12.1";
MPRINT(EM_DIAGRAM):   put "* ";
MPRINT(EM_DIAGRAM):   run;
MPRINT(EM_DIAGRAM):    filename _LOGIN "C:\\predictive-models-project\Workspaces\EMWS8\PRINCOMP\EMTRAIN.log" encoding="UTF-8" NOBOM;
MPRINT(EM_COPYFILE):   data _null_;
MPRINT(EM_COPYFILE):   length line $20000;
MPRINT(EM_COPYFILE):   file _LOG MOD lrecl=20000;
MPRINT(EM_COPYFILE):   fid=fopen("_LOGIN",'i',20000,'v');
MPRINT(EM_COPYFILE):   if fid > 0 then do;
MPRINT(EM_COPYFILE):   do while(^fread(fid));
MPRINT(EM_COPYFILE):   rlen = frlen(fid);
MPRINT(EM_COPYFILE):   rc= fget(fid,line,20000);
MPRINT(EM_COPYFILE):   start = length(line)-length(left(line))+1;
MPRINT(EM_COPYFILE):   line=strip(line);
MPRINT(EM_COPYFILE):   put @start line;
MPRINT(EM_COPYFILE):   end;
MPRINT(EM_COPYFILE):   if fid > 0 then rc=fclose(fid);
MPRINT(EM_COPYFILE):   end;
MPRINT(EM_COPYFILE):   run;
MPRINT(EM_DIAGRAM):  ;
MPRINT(EM_DIAGRAM):   filename _LOGIN;
MPRINT(EM_DIAGRAM):    data _null_;
MPRINT(EM_DIAGRAM):   file _LOG mod;
MPRINT(EM_DIAGRAM):   put _page_;
MPRINT(EM_DIAGRAM):   run;
MPRINT(EM_DIAGRAM):   filename _LOGIN "C:\\predictive-models-project\Workspaces\EMWS8\PRINCOMP\EMSCORE.log" encoding="UTF-8" NOBOM;
MPRINT(EM_DIAGRAM):  ;
MPRINT(EM_DIAGRAM):   data _null_;
MPRINT(EM_DIAGRAM):   file _LOG mod;
MPRINT(EM_DIAGRAM):   put _page_;
MPRINT(EM_DIAGRAM):   run;
MPRINT(EM_DIAGRAM):    filename _LOGIN "C:\\predictive-models-project\Workspaces\EMWS8\PRINCOMP\EMREPORT.log" encoding="UTF-8" NOBOM;
MPRINT(EM_DIAGRAM):  ;
MPRINT(EM_DIAGRAM):   filename _LOGIN;
MPRINT(EM_DIAGRAM):    filename _LOG;
MPRINT(EM_DIAGRAM):    filename _OUT "C:\\predictive-models-project\Workspaces\EMWS8\PRINCOMP\EMOUTPUT.out" encoding="UTF-8" NOBOM;
MPRINT(EM_DIAGRAM):    data _null_;
MPRINT(EM_DIAGRAM):   call symput('NLDATE', strip(put(date(), NLDATE.)));
MPRINT(EM_DIAGRAM):   call symput('NLTIME', strip(put(datetime(), NLTIME.)));
MPRINT(EM_DIAGRAM):   run;
MPRINT(EM_DIAGRAM):   data _null_;
MPRINT(EM_DIAGRAM):   nldate= sasmsg("sashelp.dmine", "log_date_note", 'N', "21. April 2016" );
MPRINT(EM_DIAGRAM):   nltime= sasmsg("sashelp.dmine", "log_time_note", 'N', "18.27 Uhr" );
MPRINT(EM_DIAGRAM):   file _OUT;
MPRINT(EM_DIAGRAM):   put "*------------------------------------------------------------*";
MPRINT(EM_DIAGRAM):   put "User:                Lukas Fahr";
MPRINT(EM_DIAGRAM):   put nldate;
MPRINT(EM_DIAGRAM):   put nltime;
MPRINT(EM_DIAGRAM):   put "*------------------------------------------------------------*";
MPRINT(EM_DIAGRAM):   put "* Training Output";
MPRINT(EM_DIAGRAM):   put "*------------------------------------------------------------*";
MPRINT(EM_DIAGRAM):   run;
MPRINT(EM_DIAGRAM):    filename _OUTIN "C:\\predictive-models-project\Workspaces\EMWS8\PRINCOMP\EMTRAIN.out" encoding="UTF-8" NOBOM;
MPRINT(EM_DIAGRAM):   ;
MPRINT(EM_COPYFILE):   data _null_;
MPRINT(EM_COPYFILE):   length line $20000;
MPRINT(EM_COPYFILE):   file _OUT MOD lrecl=20000;
MPRINT(EM_COPYFILE):   fid=fopen("_OUTIN",'i',20000,'v');
MPRINT(EM_COPYFILE):   if fid > 0 then do;
MPRINT(EM_COPYFILE):   do while(^fread(fid));
MPRINT(EM_COPYFILE):   rlen = frlen(fid);
MPRINT(EM_COPYFILE):   rc= fget(fid,line,20000);
MPRINT(EM_COPYFILE):   start = length(line)-length(left(line))+1;
MPRINT(EM_COPYFILE):   line=strip(line);
MPRINT(EM_COPYFILE):   put @start line;
MPRINT(EM_COPYFILE):   end;
MPRINT(EM_COPYFILE):   if fid > 0 then rc=fclose(fid);
MPRINT(EM_COPYFILE):   end;
MPRINT(EM_COPYFILE):   run;
MPRINT(EM_DIAGRAM):  ;
MPRINT(EM_DIAGRAM):   filename _OUTIN;
MPRINT(EM_DIAGRAM):    data _null_;
MPRINT(EM_DIAGRAM):   file _OUT mod;
MPRINT(EM_DIAGRAM):   put _page_;
MPRINT(EM_DIAGRAM):   put // "*------------------------------------------------------------*";
MPRINT(EM_DIAGRAM):   put "* Score Output";
MPRINT(EM_DIAGRAM):   put "*------------------------------------------------------------*";
MPRINT(EM_DIAGRAM):   run;
MPRINT(EM_DIAGRAM):    filename _OUTIN "C:\\predictive-models-project\Workspaces\EMWS8\PRINCOMP\EMSCORE.out" encoding="UTF-8" NOBOM;
MPRINT(EM_DIAGRAM):  ;
MPRINT(EM_DIAGRAM):   filename _OUTIN;
MPRINT(EM_DIAGRAM):    data _null_;
MPRINT(EM_DIAGRAM):   file _OUT mod;
MPRINT(EM_DIAGRAM):   put _page_;
MPRINT(EM_DIAGRAM):   put // "*------------------------------------------------------------*";
MPRINT(EM_DIAGRAM):   put "* Report Output";
MPRINT(EM_DIAGRAM):   put "*------------------------------------------------------------*";
MPRINT(EM_DIAGRAM):   run;
MPRINT(EM_DIAGRAM):    filename _OUTIN "C:\\predictive-models-project\Workspaces\EMWS8\PRINCOMP\EMREPORT.out" encoding="UTF-8" NOBOM;
MPRINT(EM_DIAGRAM):  ;
MPRINT(EM_DIAGRAM):   filename _OUTIN;
MPRINT(EM_DIAGRAM):    filename _OUT;
MPRINT(EM_DIAGRAM):    filename _emtool_ 'C:\\predictive-models-project\Workspaces\EMWS8\PRINCOMP\EMRUNSTATUS.xml' encoding="UTF-8" NOBOM;
72776      proc freq data=EMWS8.PRINCOMP_VariableSet noprint;
MPRINT(EM_DIAGRAM):    proc freq data=EMWS8.PRINCOMP_VariableSet noprint;
72777      table ROLE*LEVEL/out=WORK.PRINCOMPMETA;
MPRINT(EM_DIAGRAM):   table ROLE*LEVEL/out=WORK.PRINCOMPMETA;
72778      run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 33 observations read from the data set EMWS8.PRINCOMP_VARIABLESET.
NOTE: The data set WORK.PRINCOMPMETA has 3 observations and 4 variables.
NOTE: PROCEDURE FREQ used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

72779      proc print data=WORK.PRINCOMPMETA label noobs;
MPRINT(EM_DIAGRAM):   proc print data=WORK.PRINCOMPMETA label noobs;
72780      var ROLE LEVEL COUNT;
MPRINT(EM_DIAGRAM):   var ROLE LEVEL COUNT;
72781      label ROLE = "%sysfunc(sasmsg(sashelp.dmine, meta_role_vlabel, NOQUOTE))" LEVEL = "%sysfunc(sasmsg(sashelp.dmine, meta_level_vlabel, NOQUOTE))" COUNT = "%sysfunc(sasmsg(sashelp.dmine, rpt_count_vlabel, NOQUOTE))";
MPRINT(EM_DIAGRAM):   label ROLE = "Role" LEVEL = "Measurement Level" COUNT = "Frequency Count";
72782      title9 ' ';
MPRINT(EM_DIAGRAM):   title9 ' ';
72783      title10 "%sysfunc(sasmsg(sashelp.dmine, rpt_varSummary_title  , NOQUOTE))";
MPRINT(EM_DIAGRAM):   title10 "Variable Summary";
MPRINT(EM_DIAGRAM):   run;
72784      run;

NOTE: There were 3 observations read from the data set WORK.PRINCOMPMETA.
NOTE: The PROCEDURE PRINT printed page 24.
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

72785      title10;
MPRINT(EM_DIAGRAM):   title10;
72786      data WORK.M3TT_HO1;
MPRINT(EM_DIAGRAM):    data WORK.M3TT_HO1;
72787      set WORK.M3TT_HO1;
MPRINT(EM_DIAGRAM):   set WORK.M3TT_HO1;
72788      if role = 'INPUT' and use in ('Y','D') then do;
MPRINT(EM_DIAGRAM):   if role = 'INPUT' and use in ('Y','D') then do;
72789      role = 'INPUT';
MPRINT(EM_DIAGRAM):   role = 'INPUT';
72790      output;
MPRINT(EM_DIAGRAM):   output;
72791      end;
MPRINT(EM_DIAGRAM):   end;
72792      if role = 'REJECTED' and use = 'Y' then do;
MPRINT(EM_DIAGRAM):   if role = 'REJECTED' and use = 'Y' then do;
72793      role = 'INPUT';
MPRINT(EM_DIAGRAM):   role = 'INPUT';
72794      output;
MPRINT(EM_DIAGRAM):   output;
72795      end;
MPRINT(EM_DIAGRAM):   end;
72796      if role = 'FREQ' then do;
MPRINT(EM_DIAGRAM):   if role = 'FREQ' then do;
72797      role = 'FREQ';
MPRINT(EM_DIAGRAM):   role = 'FREQ';
72798      output;
MPRINT(EM_DIAGRAM):   output;
72799      end;
MPRINT(EM_DIAGRAM):   end;
72800      run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 33 observations read from the data set WORK.M3TT_HO1.
NOTE: The data set WORK.M3TT_HO1 has 32 observations and 21 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

72801      *------------------------------------------------------------* ;
MPRINT(EM_DIAGRAM):    *------------------------------------------------------------* ;
72802      * EM: DMDBClass Macro ;
MPRINT(EM_DIAGRAM):   * EM: DMDBClass Macro ;
72803      *------------------------------------------------------------* ;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------* ;
72804      %macro DMDBClass;
72805          AcceptedCmp1(ASC) AcceptedCmp2(ASC) AcceptedCmp3(ASC) AcceptedCmp4(ASC)
72806         AcceptedCmp5(ASC) Complain(ASC) Education(ASC) HigherEducationBinary(ASC)
72807         Marital_Status(ASC)
72808      %mend DMDBClass;
72809      *------------------------------------------------------------* ;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------* ;
72810      * EM: DMDBVar Macro ;
MPRINT(EM_DIAGRAM):   * EM: DMDBVar Macro ;
72811      *------------------------------------------------------------* ;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------* ;
72812      %macro DMDBVar;
72813          AcceptedCmpTotal Age Frq Income Kidhome Mnt MntFishProducts MntFruits
72814         MntGoldProds MntMeatProducts MntSweetProducts MntWines MonthsAsCustomer
72815         NumCatalogPurchases NumDealsPurchases NumDistPurchases NumStorePurchases
72816         NumWebPurchases NumWebVisitsMonth RFMstat RMntFrq Recency Teenhome
72817      %mend DMDBVar;
72818      *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
72819      * EM: Create DMDB;
MPRINT(EM_DIAGRAM):   * EM: Create DMDB;
72820      *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
72821      proc dmdb batch data=EMWS8.Part_TRAIN
72822      dmdbcat=WORK.EM_DMDB
72823      maxlevel = 513
72824      ;
MPRINT(EM_DIAGRAM):   proc dmdb batch data=EMWS8.Part_TRAIN dmdbcat=WORK.EM_DMDB maxlevel = 513 ;
MPRINT(EM_DIAGRAM):   class
72825      class %DMDBClass;
MPRINT(DMDBCLASS):   AcceptedCmp1(ASC) AcceptedCmp2(ASC) AcceptedCmp3(ASC) AcceptedCmp4(ASC) AcceptedCmp5(ASC) Complain(ASC) Education(ASC) HigherEducationBinary(ASC) Marital_Status(ASC)
MPRINT(EM_DIAGRAM):  ;
MPRINT(EM_DIAGRAM):   var
72826      var %DMDBVar;
MPRINT(DMDBVAR):   AcceptedCmpTotal Age Frq Income Kidhome Mnt MntFishProducts MntFruits MntGoldProds MntMeatProducts MntSweetProducts MntWines MonthsAsCustomer NumCatalogPurchases NumDealsPurchases NumDistPurchases NumStorePurchases NumWebPurchases 
NumWebVisitsMonth RFMstat RMntFrq Recency Teenhome
MPRINT(EM_DIAGRAM):  ;
72827      run;
MPRINT(EM_DIAGRAM):   run;

NOTE: Records processed = 2374   Memory used = 511K.
NOTE: There were 2374 observations read from the data set EMWS8.PART_TRAIN.
NOTE: PROCEDURE DMDB used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

MPRINT(EM_DIAGRAM):   quit;
MPRINT(EM_DIAGRAM):   *--- end code ---*;
72828      quit;
72829      *--- end code ---*;

72830      *------------------------------------------------------------* ;
MPRINT(EM_DIAGRAM):    *------------------------------------------------------------* ;
72831      * PRINCOMP: Input Variables Macro ;
MPRINT(EM_DIAGRAM):   * PRINCOMP: Input Variables Macro ;
72832      *------------------------------------------------------------* ;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------* ;
72833      %macro INPUTS;
72834          AcceptedCmp1 AcceptedCmp2 AcceptedCmp3 AcceptedCmp4 AcceptedCmp5
72835         AcceptedCmpTotal Age Complain Education Frq HigherEducationBinary Income
72836         Kidhome Marital_Status Mnt MntFishProducts MntFruits MntGoldProds
72837         MntMeatProducts MntSweetProducts MntWines MonthsAsCustomer NumCatalogPurchases
72838         NumDealsPurchases NumDistPurchases NumStorePurchases NumWebPurchases
72839         NumWebVisitsMonth RFMstat RMntFrq Recency Teenhome
72840      %mend INPUTS;
72841      proc dmneurl data=EMWS8.Part_TRAIN dmdbcat=WORK.EM_DMDB
72842      outstat=EMWS8.PRINCOMP_OUTSTAT outclass=EMWS8.PRINCOMP_OUTCLASS
72843      CORR
72844      NOMONITOR
72845      ;
MPRINT(EM_DIAGRAM):   proc dmneurl data=EMWS8.Part_TRAIN dmdbcat=WORK.EM_DMDB outstat=EMWS8.PRINCOMP_OUTSTAT outclass=EMWS8.PRINCOMP_OUTCLASS CORR NOMONITOR ;
MPRINT(EM_DIAGRAM):   var
72846      var %INPUTS;
MPRINT(INPUTS):   AcceptedCmp1 AcceptedCmp2 AcceptedCmp3 AcceptedCmp4 AcceptedCmp5 AcceptedCmpTotal Age Complain Education Frq HigherEducationBinary Income Kidhome Marital_Status Mnt MntFishProducts MntFruits MntGoldProds MntMeatProducts MntSweetProducts 
MntWines MonthsAsCustomer NumCatalogPurchases NumDealsPurchases NumDistPurchases NumStorePurchases NumWebPurchases NumWebVisitsMonth RFMstat RMntFrq Recency Teenhome
MPRINT(EM_DIAGRAM):  ;
72847      ;
MPRINT(EM_DIAGRAM):   ;
72848      run;
MPRINT(EM_DIAGRAM):   run;

NOTE: The data set EMWS8.PRINCOMP_OUTCLASS has 24 observations and 3 variables.

Building X'X  for target:  rows=48 memory=0.01 meg.
2374 records read
2374 records read
NOTE: The data set EMWS8.PRINCOMP_OUTSTAT has 53 observations and 49 variables.
*** Total Number of Runs through Data :        2
*** Total Number of NL Optimizations  :        0
NOTE: The PROCEDURE DMNEURL printed pages 25-26.
NOTE: PROCEDURE DMNEURL used (Total process time):
      real time           0.02 seconds
      cpu time            0.03 seconds
      

72849      data EMWS8.PRINCOMP_STDMEAN;
MPRINT(EM_DIAGRAM):    data EMWS8.PRINCOMP_STDMEAN;
72850      set EMWS8.PRINCOMP_OUTSTAT;
MPRINT(EM_DIAGRAM):   set EMWS8.PRINCOMP_OUTSTAT;
72851      if _TYPE_='_STDEV_' or _TYPE_='_MEAN_' then output;
MPRINT(EM_DIAGRAM):   if _TYPE_='_STDEV_' or _TYPE_='_MEAN_' then output;
72852      DROP _EIGVAL_;
MPRINT(EM_DIAGRAM):   DROP _EIGVAL_;
72853      run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 53 observations read from the data set EMWS8.PRINCOMP_OUTSTAT.
NOTE: The data set EMWS8.PRINCOMP_STDMEAN has 2 observations and 48 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

72854      /*----create a data set of eigenvalue-eigenvector pairs---*/
72855      data EMWS8.PRINCOMP_EIGENVECTOR;
MPRINT(EM_DIAGRAM):    data EMWS8.PRINCOMP_EIGENVECTOR;
72856      set EMWS8.PRINCOMP_OUTSTAT;
MPRINT(EM_DIAGRAM):   set EMWS8.PRINCOMP_OUTSTAT;
72857      if upcase(_TYPE_)='_V_MAP_' or upcase(_TYPE_)='_C_MAP_' or upcase(_TYPE_)='_MEAN_' or upcase(_TYPE_)='_STDEV_' or upcase(_TYPE_)='_EIGVAL_' or _EIGVAL_=0 then delete;
MPRINT(EM_DIAGRAM):   if upcase(_TYPE_)='_V_MAP_' or upcase(_TYPE_)='_C_MAP_' or upcase(_TYPE_)='_MEAN_' or upcase(_TYPE_)='_STDEV_' or upcase(_TYPE_)='_EIGVAL_' or _EIGVAL_=0 then delete;
72858      drop _TYPE_;
MPRINT(EM_DIAGRAM):   drop _TYPE_;
72859      rename _EIGVAL_=Eigenvalue;
MPRINT(EM_DIAGRAM):   rename _EIGVAL_=Eigenvalue;
72860      /*--------- eigenvalue data set------------ */

NOTE: There were 53 observations read from the data set EMWS8.PRINCOMP_OUTSTAT.
NOTE: The data set EMWS8.PRINCOMP_EIGENVECTOR has 33 observations and 48 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

72861      data EMWS8.PRINCOMP_EIGEN;
MPRINT(EM_DIAGRAM):   data EMWS8.PRINCOMP_EIGEN;
72862      set EMWS8.PRINCOMP_EIGENVECTOR;
MPRINT(EM_DIAGRAM):   set EMWS8.PRINCOMP_EIGENVECTOR;
72863      Keep EigenValue;
MPRINT(EM_DIAGRAM):   Keep EigenValue;

NOTE: There were 33 observations read from the data set EMWS8.PRINCOMP_EIGENVECTOR.
NOTE: The data set EMWS8.PRINCOMP_EIGEN has 33 observations and 1 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

72864      proc transpose data=EMWS8.PRINCOMP_EIGEN out=EMWS8.PRINCOMP_EIGEN prefix=PC_;
MPRINT(EM_DIAGRAM):   proc transpose data=EMWS8.PRINCOMP_EIGEN out=EMWS8.PRINCOMP_EIGEN prefix=PC_;

NOTE: There were 33 observations read from the data set EMWS8.PRINCOMP_EIGEN.
NOTE: The data set EMWS8.PRINCOMP_EIGEN has 1 observations and 34 variables.
NOTE: PROCEDURE TRANSPOSE used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

72865      proc transpose data=EMWS8.PRINCOMP_EIGEN out=EMWS8.PRINCOMP_EIGEN;
MPRINT(EM_DIAGRAM):   proc transpose data=EMWS8.PRINCOMP_EIGEN out=EMWS8.PRINCOMP_EIGEN;
72866      /*----------Eigenvector data set ------------*/

NOTE: There were 1 observations read from the data set EMWS8.PRINCOMP_EIGEN.
NOTE: The data set EMWS8.PRINCOMP_EIGEN has 33 observations and 2 variables.
NOTE: PROCEDURE TRANSPOSE used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

72867      data EMWS8.PRINCOMP_EIGENVECTOR;
MPRINT(EM_DIAGRAM):   data EMWS8.PRINCOMP_EIGENVECTOR;
72868      merge EMWS8.PRINCOMP_EIGEN EMWS8.PRINCOMP_EIGENVECTOR;
MPRINT(EM_DIAGRAM):   merge EMWS8.PRINCOMP_EIGEN EMWS8.PRINCOMP_EIGENVECTOR;
72869      DROP EigenValue;
MPRINT(EM_DIAGRAM):   DROP EigenValue;

NOTE: There were 33 observations read from the data set EMWS8.PRINCOMP_EIGEN.
NOTE: There were 33 observations read from the data set EMWS8.PRINCOMP_EIGENVECTOR.
NOTE: The data set EMWS8.PRINCOMP_EIGENVECTOR has 33 observations and 48 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

72870      proc sort data=EMWS8.PRINCOMP_EIGEN;
MPRINT(EM_DIAGRAM):   proc sort data=EMWS8.PRINCOMP_EIGEN;
72871      by EigenValue;
MPRINT(EM_DIAGRAM):   by EigenValue;

NOTE: There were 33 observations read from the data set EMWS8.PRINCOMP_EIGEN.
NOTE: The data set EMWS8.PRINCOMP_EIGEN has 33 observations and 2 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

72872      data EMWS8.PRINCOMP_EIGEN;
MPRINT(EM_DIAGRAM):   data EMWS8.PRINCOMP_EIGEN;
72873      set EMWS8.PRINCOMP_EIGEN;
MPRINT(EM_DIAGRAM):   set EMWS8.PRINCOMP_EIGEN;
72874      Difference=Eigenvalue-lag(Eigenvalue);
MPRINT(EM_DIAGRAM):   Difference=Eigenvalue-lag(Eigenvalue);
72875      ProportionalEigenvalue=EigenValue/47;
MPRINT(EM_DIAGRAM):   ProportionalEigenvalue=EigenValue/47;
72876      LagProportionalEigenvalue=lag(ProportionalEigenvalue);
MPRINT(EM_DIAGRAM):   LagProportionalEigenvalue=lag(ProportionalEigenvalue);
72877      label EigenValue = "EigenValue";
MPRINT(EM_DIAGRAM):   label EigenValue = "EigenValue";
72878      label Difference = "Difference";
MPRINT(EM_DIAGRAM):   label Difference = "Difference";

NOTE: Missing values were generated as a result of performing an operation on missing values.
      Each place is given by: (Number of times) at (Line):(Column).
      1 at 72874:22   
NOTE: There were 33 observations read from the data set EMWS8.PRINCOMP_EIGEN.
NOTE: The data set EMWS8.PRINCOMP_EIGEN has 33 observations and 5 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

72879      proc sort data=EMWS8.PRINCOMP_EIGEN;
MPRINT(EM_DIAGRAM):   proc sort data=EMWS8.PRINCOMP_EIGEN;
72880      by DESCENDING EigenValue;
MPRINT(EM_DIAGRAM):   by DESCENDING EigenValue;
72881      run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 33 observations read from the data set EMWS8.PRINCOMP_EIGEN.
NOTE: The data set EMWS8.PRINCOMP_EIGEN has 33 observations and 5 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

72882      data EMWS8.PRINCOMP_EIGEN;
MPRINT(EM_DIAGRAM):    data EMWS8.PRINCOMP_EIGEN;
72883      set EMWS8.PRINCOMP_EIGEN;
MPRINT(EM_DIAGRAM):   set EMWS8.PRINCOMP_EIGEN;
72884      CumProportionalEigenvalue+ProportionalEigenvalue;
MPRINT(EM_DIAGRAM):   CumProportionalEigenvalue+ProportionalEigenvalue;
72885      /* to avoid  CumProportionalEigenvalue > 1 because of the precision */
72886      if CumProportionalEigenvalue > 1.0 then CumProportionalEigenvalue=1.0;
MPRINT(EM_DIAGRAM):   if CumProportionalEigenvalue > 1.0 then CumProportionalEigenvalue=1.0;
72887      LogEigenvalue=Log(Eigenvalue);
MPRINT(EM_DIAGRAM):   LogEigenvalue=Log(Eigenvalue);
72888      length Exported $8;
MPRINT(EM_DIAGRAM):   length Exported $8;
72889      Exported = 'NO';
MPRINT(EM_DIAGRAM):   Exported = 'NO';
72890      label LogEigenvalue = "Log Eigenvalue";
MPRINT(EM_DIAGRAM):   label LogEigenvalue = "Log Eigenvalue";
72891      label Exported = "Exported";
MPRINT(EM_DIAGRAM):   label Exported = "Exported";

NOTE: There were 33 observations read from the data set EMWS8.PRINCOMP_EIGEN.
NOTE: The data set EMWS8.PRINCOMP_EIGEN has 33 observations and 8 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

72892      data WORK._DSEIGENCHART;
MPRINT(EM_DIAGRAM):   data WORK._DSEIGENCHART;
72893      set EMWS8.PRINCOMP_EIGEN;
MPRINT(EM_DIAGRAM):   set EMWS8.PRINCOMP_EIGEN;
72894      PC_=_N_;
MPRINT(EM_DIAGRAM):   PC_=_N_;
72895      DROP _NAME_;
MPRINT(EM_DIAGRAM):   DROP _NAME_;
72896      run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 33 observations read from the data set EMWS8.PRINCOMP_EIGEN.
NOTE: The data set WORK._DSEIGENCHART has 33 observations and 8 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

72897      data WORK._EMPRINDSSUBEIGEN;
MPRINT(EM_DIAGRAM):    data WORK._EMPRINDSSUBEIGEN;
72898      set EMWS8.PRINCOMP_EIGEN;
MPRINT(EM_DIAGRAM):   set EMWS8.PRINCOMP_EIGEN;
72899      if ( CumProportionalEigenvalue GE 0.99 ) or (LagProportionalEigenvalue LT 0.001 and CumProportionalEigenvalue GE 0.9 )
72900      or ( _N_ > 17-1)
72901      then delete;
MPRINT(EM_DIAGRAM):   if ( CumProportionalEigenvalue GE 0.99 ) or (LagProportionalEigenvalue LT 0.001 and CumProportionalEigenvalue GE 0.9 ) or ( _N_ > 17-1) then delete;
72902      run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 33 observations read from the data set EMWS8.PRINCOMP_EIGEN.
NOTE: The data set WORK._EMPRINDSSUBEIGEN has 16 observations and 8 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

72903      data EMWS8.PRINCOMP_EIGEN;
MPRINT(EM_DIAGRAM):    data EMWS8.PRINCOMP_EIGEN;
72904      length PC 8.;
MPRINT(EM_DIAGRAM):   length PC 8.;
72905      set EMWS8.PRINCOMP_EIGEN;
MPRINT(EM_DIAGRAM):   set EMWS8.PRINCOMP_EIGEN;
72906      if _N_ < 17+1 then Exported = 'YES';
MPRINT(EM_DIAGRAM):   if _N_ < 17+1 then Exported = 'YES';
72907      Drop LagProportionalEigenvalue;
MPRINT(EM_DIAGRAM):   Drop LagProportionalEigenvalue;
72908      PC = _N_;
MPRINT(EM_DIAGRAM):   PC = _N_;
72909      format PC 8.;
MPRINT(EM_DIAGRAM):   format PC 8.;
72910      rename _NAME_ = Component;
MPRINT(EM_DIAGRAM):   rename _NAME_ = Component;
72911      label _NAME_ = "Principal components";
MPRINT(EM_DIAGRAM):   label _NAME_ = "Principal components";
72912      rename ProportionalEigenvalue = Proportion;
MPRINT(EM_DIAGRAM):   rename ProportionalEigenvalue = Proportion;
72913      label ProportionalEigenvalue = "Proportional Eigenvalue";
MPRINT(EM_DIAGRAM):   label ProportionalEigenvalue = "Proportional Eigenvalue";
72914      rename CumProportionalEigenvalue = Cumulative;
MPRINT(EM_DIAGRAM):   rename CumProportionalEigenvalue = Cumulative;
72915      label CumProportionalEigenvalue ="Cumulative Proportional Eigenvalue";
MPRINT(EM_DIAGRAM):   label CumProportionalEigenvalue = "Cumulative Proportional Eigenvalue";
72916      label PC = "PC ID";
MPRINT(EM_DIAGRAM):   label PC = "PC ID";
72917      run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 33 observations read from the data set EMWS8.PRINCOMP_EIGEN.
NOTE: The data set EMWS8.PRINCOMP_EIGEN has 33 observations and 8 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

72918      data EMWS8.PRINCOMP_SUBEIGENVECTOR;
MPRINT(EM_DIAGRAM):    data EMWS8.PRINCOMP_SUBEIGENVECTOR;
72919      set EMWS8.PRINCOMP_EIGENVECTOR;
MPRINT(EM_DIAGRAM):   set EMWS8.PRINCOMP_EIGENVECTOR;
72920      if _N_ > 17 then delete;
MPRINT(EM_DIAGRAM):   if _N_ > 17 then delete;

NOTE: There were 33 observations read from the data set EMWS8.PRINCOMP_EIGENVECTOR.
NOTE: The data set EMWS8.PRINCOMP_SUBEIGENVECTOR has 17 observations and 48 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

72921      data WORK._EMPRINDSSUBEIGEN;
MPRINT(EM_DIAGRAM):   data WORK._EMPRINDSSUBEIGEN;
72922      set EMWS8.PRINCOMP_EIGEN;
MPRINT(EM_DIAGRAM):   set EMWS8.PRINCOMP_EIGEN;
72923      if _N_ > 17 then delete;
MPRINT(EM_DIAGRAM):   if _N_ > 17 then delete;
72924      run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 33 observations read from the data set EMWS8.PRINCOMP_EIGEN.
NOTE: The data set WORK._EMPRINDSSUBEIGEN has 17 observations and 8 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

72925      proc transpose data=EMWS8.PRINCOMP_EIGENVECTOR name=Variable label=Label out=EMWS8.PRINCOMP_EIGENVECTOR;
MPRINT(EM_DIAGRAM):    proc transpose data=EMWS8.PRINCOMP_EIGENVECTOR name=Variable label=Label out=EMWS8.PRINCOMP_EIGENVECTOR;
72926      run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 33 observations read from the data set EMWS8.PRINCOMP_EIGENVECTOR.
NOTE: The data set EMWS8.PRINCOMP_EIGENVECTOR has 47 observations and 35 variables.
NOTE: PROCEDURE TRANSPOSE used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

72927      data EMWS8.PRINCOMP_EIGENVECTOR;
MPRINT(EM_DIAGRAM):   data EMWS8.PRINCOMP_EIGENVECTOR;
72928      set EMWS8.PRINCOMP_EIGENVECTOR;
MPRINT(EM_DIAGRAM):   set EMWS8.PRINCOMP_EIGENVECTOR;
72929      label Label = "Label";
MPRINT(EM_DIAGRAM):   label Label = "Label";
72930      label Variable = "Variable";
MPRINT(EM_DIAGRAM):   label Variable = "Variable";
72931      run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 47 observations read from the data set EMWS8.PRINCOMP_EIGENVECTOR.
NOTE: The data set EMWS8.PRINCOMP_EIGENVECTOR has 47 observations and 35 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

72932      data _null_;
MPRINT(EM_DIAGRAM):    data _null_;
72933      file print;
MPRINT(EM_DIAGRAM):   file print;
72934      put "*------------------------------------------------------------*";
MPRINT(EM_DIAGRAM):   put "*------------------------------------------------------------*";
72935      put "%sysfunc(sasmsg(sashelp.dmine, rpt_princomp_sum_title , NOQUOTE))";
MPRINT(EM_DIAGRAM):   put "Summary of Exported Principal Components";
72936      put "*------------------------------------------------------------*";
MPRINT(EM_DIAGRAM):   put "*------------------------------------------------------------*";
72937      put " ";
MPRINT(EM_DIAGRAM):   put " ";
72938      put "%sysfunc(sasmsg(sashelp.dmine, rpt_princomp_sum_ninput , NOQUOTE, 32))";
MPRINT(EM_DIAGRAM):   put "Total number of input variables: 32";
72939      put "%sysfunc(sasmsg(sashelp.dmine, rpt_princomp_sum_maxpc , NOQUOTE, 17))";
MPRINT(EM_DIAGRAM):   put "Maximum number cutoff of principal components: 17";
72940      put "%sysfunc(sasmsg(sashelp.dmine, rpt_princomp_sum_cumcut , NOQUOTE, 0.99))";
MPRINT(EM_DIAGRAM):   put "Cumulative proportional eigenvalue cutoff: 0.99";
72941      put "%sysfunc(sasmsg(sashelp.dmine, rpt_princomp_sum_increcut , NOQUOTE, 0.001))";
MPRINT(EM_DIAGRAM):   put "Proportional eigenvalue increment cutoff: 0.001";
72942      put "%sysfunc(sasmsg(sashelp.dmine, rpt_princomp_sum_nselpc , NOQUOTE, 17))";
MPRINT(EM_DIAGRAM):   put "Number of the selected principal components: 17";
72943      put "%sysfunc(sasmsg(sashelp.dmine, rpt_princomp_sum_totvar , NOQUOTE, 0.838223791))";
MPRINT(EM_DIAGRAM):   put "Total variation explained by the selected principal components: 0.838223791";
72944      run;
MPRINT(EM_DIAGRAM):   run;

NOTE: 9 lines were written to file PRINT.
NOTE: The DATA step printed page 27.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

72945      data EMWS8.PRINCOMP_EMSCOREVAR;
MPRINT(EM_DIAGRAM):    data EMWS8.PRINCOMP_EMSCOREVAR;
72946      length Name $32 formula $70 file $200;
MPRINT(EM_DIAGRAM):   length Name $32 formula $70 file $200;
72947      keep NAME Formula file;
MPRINT(EM_DIAGRAM):   keep NAME Formula file;
72948      name='';
MPRINT(EM_DIAGRAM):   name='';
72949      file="OPTCODE\"!!"_ALL_.sas";
MPRINT(EM_DIAGRAM):   file="OPTCODE\"!!"_ALL_.sas";
72950      output;
MPRINT(EM_DIAGRAM):   output;
72951      name = "PC_1";
MPRINT(EM_DIAGRAM):   name = "PC_1";
72952      file="OPTCODE\PC_1.sas";
MPRINT(EM_DIAGRAM):   file="OPTCODE\PC_1.sas";
72953      output;
MPRINT(EM_DIAGRAM):   output;
72954      name = "PC_10";
MPRINT(EM_DIAGRAM):   name = "PC_10";
72955      file="OPTCODE\PC_10.sas";
MPRINT(EM_DIAGRAM):   file="OPTCODE\PC_10.sas";
72956      output;
MPRINT(EM_DIAGRAM):   output;
72957      name = "PC_11";
MPRINT(EM_DIAGRAM):   name = "PC_11";
72958      file="OPTCODE\PC_11.sas";
MPRINT(EM_DIAGRAM):   file="OPTCODE\PC_11.sas";
72959      output;
MPRINT(EM_DIAGRAM):   output;
72960      name = "PC_12";
MPRINT(EM_DIAGRAM):   name = "PC_12";
72961      file="OPTCODE\PC_12.sas";
MPRINT(EM_DIAGRAM):   file="OPTCODE\PC_12.sas";
72962      output;
MPRINT(EM_DIAGRAM):   output;
72963      name = "PC_13";
MPRINT(EM_DIAGRAM):   name = "PC_13";
72964      file="OPTCODE\PC_13.sas";
MPRINT(EM_DIAGRAM):   file="OPTCODE\PC_13.sas";
72965      output;
MPRINT(EM_DIAGRAM):   output;
72966      name = "PC_14";
MPRINT(EM_DIAGRAM):   name = "PC_14";
72967      file="OPTCODE\PC_14.sas";
MPRINT(EM_DIAGRAM):   file="OPTCODE\PC_14.sas";
72968      output;
MPRINT(EM_DIAGRAM):   output;
72969      name = "PC_15";
MPRINT(EM_DIAGRAM):   name = "PC_15";
72970      file="OPTCODE\PC_15.sas";
MPRINT(EM_DIAGRAM):   file="OPTCODE\PC_15.sas";
72971      output;
MPRINT(EM_DIAGRAM):   output;
72972      name = "PC_16";
MPRINT(EM_DIAGRAM):   name = "PC_16";
72973      file="OPTCODE\PC_16.sas";
MPRINT(EM_DIAGRAM):   file="OPTCODE\PC_16.sas";
72974      output;
MPRINT(EM_DIAGRAM):   output;
72975      name = "PC_17";
MPRINT(EM_DIAGRAM):   name = "PC_17";
72976      file="OPTCODE\PC_17.sas";
MPRINT(EM_DIAGRAM):   file="OPTCODE\PC_17.sas";
72977      output;
MPRINT(EM_DIAGRAM):   output;
72978      name = "PC_2";
MPRINT(EM_DIAGRAM):   name = "PC_2";
72979      file="OPTCODE\PC_2.sas";
MPRINT(EM_DIAGRAM):   file="OPTCODE\PC_2.sas";
72980      output;
MPRINT(EM_DIAGRAM):   output;
72981      name = "PC_3";
MPRINT(EM_DIAGRAM):   name = "PC_3";
72982      file="OPTCODE\PC_3.sas";
MPRINT(EM_DIAGRAM):   file="OPTCODE\PC_3.sas";
72983      output;
MPRINT(EM_DIAGRAM):   output;
72984      name = "PC_4";
MPRINT(EM_DIAGRAM):   name = "PC_4";
72985      file="OPTCODE\PC_4.sas";
MPRINT(EM_DIAGRAM):   file="OPTCODE\PC_4.sas";
72986      output;
MPRINT(EM_DIAGRAM):   output;
72987      name = "PC_5";
MPRINT(EM_DIAGRAM):   name = "PC_5";
72988      file="OPTCODE\PC_5.sas";
MPRINT(EM_DIAGRAM):   file="OPTCODE\PC_5.sas";
72989      output;
MPRINT(EM_DIAGRAM):   output;
72990      name = "PC_6";
MPRINT(EM_DIAGRAM):   name = "PC_6";
72991      file="OPTCODE\PC_6.sas";
MPRINT(EM_DIAGRAM):   file="OPTCODE\PC_6.sas";
72992      output;
MPRINT(EM_DIAGRAM):   output;
72993      name = "PC_7";
MPRINT(EM_DIAGRAM):   name = "PC_7";
72994      file="OPTCODE\PC_7.sas";
MPRINT(EM_DIAGRAM):   file="OPTCODE\PC_7.sas";
72995      output;
MPRINT(EM_DIAGRAM):   output;
72996      name = "PC_8";
MPRINT(EM_DIAGRAM):   name = "PC_8";
72997      file="OPTCODE\PC_8.sas";
MPRINT(EM_DIAGRAM):   file="OPTCODE\PC_8.sas";
72998      output;
MPRINT(EM_DIAGRAM):   output;
72999      name = "PC_9";
MPRINT(EM_DIAGRAM):   name = "PC_9";
73000      file="OPTCODE\PC_9.sas";
MPRINT(EM_DIAGRAM):   file="OPTCODE\PC_9.sas";
73001      output;
MPRINT(EM_DIAGRAM):   output;
73002      run;
MPRINT(EM_DIAGRAM):   run;

NOTE: Variable formula is uninitialized.
NOTE: The data set EMWS8.PRINCOMP_EMSCOREVAR has 18 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

MPRINT(EM_DIAGRAM):    proc printto;
MPRINT(EM_DIAGRAM):   run;
