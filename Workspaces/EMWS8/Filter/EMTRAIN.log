MPRINT(EM_DIAGRAM):    data _null_;
MPRINT(EM_DIAGRAM):   call symput('NLDATE', strip(put(date(), NLDATE.)));
MPRINT(EM_DIAGRAM):   call symput('NLTIME', strip(put(datetime(), NLTIME.)));
MPRINT(EM_DIAGRAM):   run;
MPRINT(EM_DIAGRAM):   data _null_;
MPRINT(EM_DIAGRAM):   nldate= sasmsg("sashelp.dmine", "log_date_note", 'N', "11. April 2016" );
MPRINT(EM_DIAGRAM):   nltime= sasmsg("sashelp.dmine", "log_time_note", 'N', "16.41 Uhr" );
MPRINT(EM_DIAGRAM):   put "*------------------------------------------------------------*";
MPRINT(EM_DIAGRAM):   put "* Training Log";
MPRINT(EM_DIAGRAM):   put nldate;
MPRINT(EM_DIAGRAM):   put nltime;
MPRINT(EM_DIAGRAM):   put "*------------------------------------------------------------*";
MPRINT(EM_DIAGRAM):   run;
*------------------------------------------------------------*
* Training Log
Date:                11. April 2016
Time:                16.41 Uhr
*------------------------------------------------------------*
MPRINT(EM_DIAGRAM):    filename O0TYSUEM "C:\\predictive-models-project\Workspaces\EMWS8\Filter\EMTRAIN.out" encoding="UTF-8" NOBOM;
MPRINT(EM_DIAGRAM):   proc printto print=O0TYSUEM new;
MPRINT(EM_DIAGRAM):   run;
MPRINT(EM_DIAGRAM):    filename _LOG "C:\\predictive-models-project\Workspaces\EMWS8\Filter\EMLOG.log" encoding="UTF-8" NOBOM;
MPRINT(EM_DIAGRAM):    data _null_;
MPRINT(EM_DIAGRAM):   call symput('NLDATE', strip(put(date(), NLDATE.)));
MPRINT(EM_DIAGRAM):   call symput('NLTIME', strip(put(datetime(), NLTIME.)));
MPRINT(EM_DIAGRAM):   run;
MPRINT(EM_DIAGRAM):   data _null_;
MPRINT(EM_DIAGRAM):   nldate= sasmsg("sashelp.dmine", "log_date_note", 'N', "11. April 2016" );
MPRINT(EM_DIAGRAM):   nltime= sasmsg("sashelp.dmine", "log_time_note", 'N', "16.41 Uhr" );
MPRINT(EM_DIAGRAM):   file _LOG;
MPRINT(EM_DIAGRAM):   put "*------------------------------------------------------------*";
MPRINT(EM_DIAGRAM):   put "User:                Lukas Fahr";
MPRINT(EM_DIAGRAM):   put nldate;
MPRINT(EM_DIAGRAM):   put nltime;
MPRINT(EM_DIAGRAM):   put "Site:                70107571";
MPRINT(EM_DIAGRAM):   put "Platform:            X64_7PRO";
MPRINT(EM_DIAGRAM):   put "Maintenance Release: 9.03.01M2P081512";
MPRINT(EM_DIAGRAM):   put "EM Version:          12.1";
MPRINT(EM_DIAGRAM):   put "* ";
MPRINT(EM_DIAGRAM):   run;
MPRINT(EM_DIAGRAM):    filename _LOGIN "C:\\predictive-models-project\Workspaces\EMWS8\Filter\EMTRAIN.log" encoding="UTF-8" NOBOM;
MPRINT(EM_COPYFILE):   data _null_;
MPRINT(EM_COPYFILE):   length line $20000;
MPRINT(EM_COPYFILE):   file _LOG MOD lrecl=20000;
MPRINT(EM_COPYFILE):   fid=fopen("_LOGIN",'i',20000,'v');
MPRINT(EM_COPYFILE):   if fid > 0 then do;
MPRINT(EM_COPYFILE):   do while(^fread(fid));
MPRINT(EM_COPYFILE):   rlen = frlen(fid);
MPRINT(EM_COPYFILE):   rc= fget(fid,line,20000);
MPRINT(EM_COPYFILE):   start = length(line)-length(left(line))+1;
MPRINT(EM_COPYFILE):   line=strip(line);
MPRINT(EM_COPYFILE):   put @start line;
MPRINT(EM_COPYFILE):   end;
MPRINT(EM_COPYFILE):   if fid > 0 then rc=fclose(fid);
MPRINT(EM_COPYFILE):   end;
MPRINT(EM_COPYFILE):   run;
MPRINT(EM_DIAGRAM):  ;
MPRINT(EM_DIAGRAM):   filename _LOGIN;
MPRINT(EM_DIAGRAM):    data _null_;
MPRINT(EM_DIAGRAM):   file _LOG mod;
MPRINT(EM_DIAGRAM):   put _page_;
MPRINT(EM_DIAGRAM):   run;
MPRINT(EM_DIAGRAM):   filename _LOGIN "C:\\predictive-models-project\Workspaces\EMWS8\Filter\EMSCORE.log" encoding="UTF-8" NOBOM;
MPRINT(EM_DIAGRAM):  ;
MPRINT(EM_DIAGRAM):   data _null_;
MPRINT(EM_DIAGRAM):   file _LOG mod;
MPRINT(EM_DIAGRAM):   put _page_;
MPRINT(EM_DIAGRAM):   run;
MPRINT(EM_DIAGRAM):    filename _LOGIN "C:\\predictive-models-project\Workspaces\EMWS8\Filter\EMREPORT.log" encoding="UTF-8" NOBOM;
MPRINT(EM_DIAGRAM):  ;
MPRINT(EM_DIAGRAM):   filename _LOGIN;
MPRINT(EM_DIAGRAM):    filename _LOG;
MPRINT(EM_DIAGRAM):    filename _OUT "C:\\predictive-models-project\Workspaces\EMWS8\Filter\EMOUTPUT.out" encoding="UTF-8" NOBOM;
MPRINT(EM_DIAGRAM):    data _null_;
MPRINT(EM_DIAGRAM):   call symput('NLDATE', strip(put(date(), NLDATE.)));
MPRINT(EM_DIAGRAM):   call symput('NLTIME', strip(put(datetime(), NLTIME.)));
MPRINT(EM_DIAGRAM):   run;
MPRINT(EM_DIAGRAM):   data _null_;
MPRINT(EM_DIAGRAM):   nldate= sasmsg("sashelp.dmine", "log_date_note", 'N', "11. April 2016" );
MPRINT(EM_DIAGRAM):   nltime= sasmsg("sashelp.dmine", "log_time_note", 'N', "16.41 Uhr" );
MPRINT(EM_DIAGRAM):   file _OUT;
MPRINT(EM_DIAGRAM):   put "*------------------------------------------------------------*";
MPRINT(EM_DIAGRAM):   put "User:                Lukas Fahr";
MPRINT(EM_DIAGRAM):   put nldate;
MPRINT(EM_DIAGRAM):   put nltime;
MPRINT(EM_DIAGRAM):   put "*------------------------------------------------------------*";
MPRINT(EM_DIAGRAM):   put "* Training Output";
MPRINT(EM_DIAGRAM):   put "*------------------------------------------------------------*";
MPRINT(EM_DIAGRAM):   run;
MPRINT(EM_DIAGRAM):    filename _OUTIN "C:\\predictive-models-project\Workspaces\EMWS8\Filter\EMTRAIN.out" encoding="UTF-8" NOBOM;
MPRINT(EM_DIAGRAM):   ;
MPRINT(EM_COPYFILE):   data _null_;
MPRINT(EM_COPYFILE):   length line $20000;
MPRINT(EM_COPYFILE):   file _OUT MOD lrecl=20000;
MPRINT(EM_COPYFILE):   fid=fopen("_OUTIN",'i',20000,'v');
MPRINT(EM_COPYFILE):   if fid > 0 then do;
MPRINT(EM_COPYFILE):   do while(^fread(fid));
MPRINT(EM_COPYFILE):   rlen = frlen(fid);
MPRINT(EM_COPYFILE):   rc= fget(fid,line,20000);
MPRINT(EM_COPYFILE):   start = length(line)-length(left(line))+1;
MPRINT(EM_COPYFILE):   line=strip(line);
MPRINT(EM_COPYFILE):   put @start line;
MPRINT(EM_COPYFILE):   end;
MPRINT(EM_COPYFILE):   if fid > 0 then rc=fclose(fid);
MPRINT(EM_COPYFILE):   end;
MPRINT(EM_COPYFILE):   run;
MPRINT(EM_DIAGRAM):  ;
MPRINT(EM_DIAGRAM):   filename _OUTIN;
MPRINT(EM_DIAGRAM):    data _null_;
MPRINT(EM_DIAGRAM):   file _OUT mod;
MPRINT(EM_DIAGRAM):   put _page_;
MPRINT(EM_DIAGRAM):   put // "*------------------------------------------------------------*";
MPRINT(EM_DIAGRAM):   put "* Score Output";
MPRINT(EM_DIAGRAM):   put "*------------------------------------------------------------*";
MPRINT(EM_DIAGRAM):   run;
MPRINT(EM_DIAGRAM):    filename _OUTIN "C:\\predictive-models-project\Workspaces\EMWS8\Filter\EMSCORE.out" encoding="UTF-8" NOBOM;
MPRINT(EM_DIAGRAM):  ;
MPRINT(EM_DIAGRAM):   filename _OUTIN;
MPRINT(EM_DIAGRAM):    data _null_;
MPRINT(EM_DIAGRAM):   file _OUT mod;
MPRINT(EM_DIAGRAM):   put _page_;
MPRINT(EM_DIAGRAM):   put // "*------------------------------------------------------------*";
MPRINT(EM_DIAGRAM):   put "* Report Output";
MPRINT(EM_DIAGRAM):   put "*------------------------------------------------------------*";
MPRINT(EM_DIAGRAM):   run;
MPRINT(EM_DIAGRAM):    filename _OUTIN "C:\\predictive-models-project\Workspaces\EMWS8\Filter\EMREPORT.out" encoding="UTF-8" NOBOM;
MPRINT(EM_DIAGRAM):  ;
MPRINT(EM_DIAGRAM):   filename _OUTIN;
MPRINT(EM_DIAGRAM):    filename _OUT;
MPRINT(EM_DIAGRAM):    filename _emtool_ 'C:\\predictive-models-project\Workspaces\EMWS8\Filter\EMRUNSTATUS.xml' encoding="UTF-8" NOBOM;
20798      proc freq data=EMWS8.Filter_VariableSet noprint;
MPRINT(EM_DIAGRAM):    proc freq data=EMWS8.Filter_VariableSet noprint;
20799      table ROLE*LEVEL/out=WORK.FilterMETA;
MPRINT(EM_DIAGRAM):   table ROLE*LEVEL/out=WORK.FilterMETA;
20800      run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 26 observations read from the data set EMWS8.FILTER_VARIABLESET.
NOTE: The data set WORK.FILTERMETA has 4 observations and 4 variables.
NOTE: PROCEDURE FREQ used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

20801      proc print data=WORK.FilterMETA label noobs;
MPRINT(EM_DIAGRAM):   proc print data=WORK.FilterMETA label noobs;
20802      var ROLE LEVEL COUNT;
MPRINT(EM_DIAGRAM):   var ROLE LEVEL COUNT;
20803      label ROLE = "%sysfunc(sasmsg(sashelp.dmine, meta_role_vlabel, NOQUOTE))" LEVEL = "%sysfunc(sasmsg(sashelp.dmine, meta_level_vlabel, NOQUOTE))" COUNT = "%sysfunc(sasmsg(sashelp.dmine, rpt_count_vlabel, NOQUOTE))";
MPRINT(EM_DIAGRAM):   label ROLE = "Role" LEVEL = "Measurement Level" COUNT = "Frequency Count";
20804      title9 ' ';
MPRINT(EM_DIAGRAM):   title9 ' ';
20805      title10 "%sysfunc(sasmsg(sashelp.dmine, rpt_varSummary_title  , NOQUOTE))";
MPRINT(EM_DIAGRAM):   title10 "Variable Summary";
MPRINT(EM_DIAGRAM):   run;
20806      run;

NOTE: There were 4 observations read from the data set WORK.FILTERMETA.
NOTE: The PROCEDURE PRINT printed page 1.
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

20807      title10;
MPRINT(EM_DIAGRAM):   title10;
MPRINT(EM_DIAGRAM):    *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   * Filter: Preparing metadata for training;
MPRINT(EM_DIAGRAM):   ;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   data WORK.M1IG_8ES;
MPRINT(EM_DIAGRAM):   set WORK.M1IG_8ES;
MPRINT(EM_DIAGRAM):   if CALCMETHOD eq 'DEFAULT' then do;
MPRINT(EM_DIAGRAM):   if ROLE ne 'INPUT' then CALCMETHOD='NONE';
MPRINT(EM_DIAGRAM):   else do;
MPRINT(EM_DIAGRAM):   if level='INTERVAL' then CALCMETHOD='NONE';
MPRINT(EM_DIAGRAM):   else CALCMETHOD='NONE';
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   if KEEPMISSING eq 'D' then do;
MPRINT(EM_DIAGRAM):   if ROLE ne 'INPUT' then KEEPMISSING='Y';
MPRINT(EM_DIAGRAM):   else do;
MPRINT(EM_DIAGRAM):   if level='INTERVAL' then KEEPMISSING='N';
MPRINT(EM_DIAGRAM):   else KEEPMISSING='N';
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   if CALCMETHOD='NONE' and KEEPMISSING='Y' then delete;
MPRINT(EM_DIAGRAM):   run;
*------------------------------------------------------------* 
*  createhistogramtable 
*------------------------------------------------------------* 
*------------------------------------------------------------* 
* Summary Table:  EMWS8.Filter_VARDIST 
* already exists and is up to date. 
* The table will not be recreated. 
*------------------------------------------------------------* 
MPRINT(EM_DIAGRAM):    data WORK.M118KMUD;
MPRINT(EM_DIAGRAM):   retain _MAXLEVEL 25;
MPRINT(EM_DIAGRAM):   set WORK.M118KMUD end=eof;
MPRINT(EM_DIAGRAM):   if ROLE ^in('TARGET', 'INPUT', 'FREQ') and CALCMETHOD ne 'NONE' then ROLE ='INPUT';
MPRINT(EM_DIAGRAM):   drop _MAXLEVEL;
MPRINT(EM_DIAGRAM):   if MAXVALUES = . then MAXVALUES =25;
MPRINT(EM_DIAGRAM):   if MAXVALUES>_MAXLEVEL then _MAXLEVEL=MAXVALUES;
MPRINT(EM_DIAGRAM):   if eof then call symput('_MAXLEVEL', strip(put(_MAXLEVEL, best.)));
MPRINT(EM_DIAGRAM):   run;
20840      *------------------------------------------------------------* ;
MPRINT(EM_DIAGRAM):    *------------------------------------------------------------* ;
20841      * Filter: DMDBClass Macro ;
MPRINT(EM_DIAGRAM):   * Filter: DMDBClass Macro ;
20842      *------------------------------------------------------------* ;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------* ;
20843      %macro DMDBClass;
20844          AcceptedCmp1(ASC) AcceptedCmp2(ASC) AcceptedCmp3(ASC) AcceptedCmp4(ASC)
20845         AcceptedCmp5(ASC) Complain(ASC) Education(ASC) Marital_Status(ASC)
20846      %mend DMDBClass;
20847      *------------------------------------------------------------* ;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------* ;
20848      * Filter: DMDBVar Macro ;
MPRINT(EM_DIAGRAM):   * Filter: DMDBVar Macro ;
20849      *------------------------------------------------------------* ;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------* ;
20850      %macro DMDBVar;
20851          Dt_Customer Income Kidhome MntFishProducts MntFruits MntGoldProds
20852         MntMeatProducts MntSweetProducts MntWines NumCatalogPurchases NumDealsPurchases
20853         NumStorePurchases NumWebPurchases NumWebVisitsMonth Recency Teenhome Year_Birth
20854      %mend DMDBVar;
20855      *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
20856      * Filter: Create DMDB;
MPRINT(EM_DIAGRAM):   * Filter: Create DMDB;
20857      *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
20858      proc dmdb batch data=EMWS8.Stat_TRAIN
20859      classout=WORK._EMFILTERCLASS
20860      varout=WORK._EMFILTERVAR
20861      maxlevel = 26
20862      ;
MPRINT(EM_DIAGRAM):   proc dmdb batch data=EMWS8.Stat_TRAIN classout=WORK._EMFILTERCLASS varout=WORK._EMFILTERVAR maxlevel = 26 ;
MPRINT(EM_DIAGRAM):   class
20863      class %DMDBClass;
MPRINT(DMDBCLASS):   AcceptedCmp1(ASC) AcceptedCmp2(ASC) AcceptedCmp3(ASC) AcceptedCmp4(ASC) AcceptedCmp5(ASC) Complain(ASC) Education(ASC) Marital_Status(ASC)
MPRINT(EM_DIAGRAM):  ;
MPRINT(EM_DIAGRAM):   var
20864      var %DMDBVar;
MPRINT(DMDBVAR):   Dt_Customer Income Kidhome MntFishProducts MntFruits MntGoldProds MntMeatProducts MntSweetProducts MntWines NumCatalogPurchases NumDealsPurchases NumStorePurchases NumWebPurchases NumWebVisitsMonth Recency Teenhome Year_Birth
MPRINT(EM_DIAGRAM):  ;
20865      run;
MPRINT(EM_DIAGRAM):   run;

NOTE: Records processed = 3500   Memory used = 511K.
NOTE: There were 3500 observations read from the data set EMWS8.FIMPORT_DATA.
NOTE: View EMWS8.STAT_TRAIN.VIEW used (Total process time):
      real time           0.04 seconds
      cpu time            0.04 seconds
      
NOTE: There were 3500 observations read from the data set EMWS8.FIMPORT_TRAIN.
NOTE: There were 3500 observations read from the data set EMWS8.STAT_TRAIN.
NOTE: The data set WORK._EMFILTERCLASS has 22 observations and 9 variables.
NOTE: The data set WORK._EMFILTERVAR has 17 observations and 9 variables.
NOTE: PROCEDURE DMDB used (Total process time):
      real time           0.05 seconds
      cpu time            0.04 seconds
      

MPRINT(EM_DIAGRAM):   quit;
MPRINT(EM_DIAGRAM):   *--- end code ---*;
20866      quit;
20867      *--- end code ---*;

20868      data WORK.M118KMUD;
MPRINT(EM_DIAGRAM):    data WORK.M118KMUD;
20869      set WORK.M118KMUD;
MPRINT(EM_DIAGRAM):   set WORK.M118KMUD;
20870      if ROLE ^in('TARGET', 'INPUT', 'FREQ') and CALCMETHOD ne 'NONE' then ROLE ='INPUT';
MPRINT(EM_DIAGRAM):   if ROLE ^in('TARGET', 'INPUT', 'FREQ') and CALCMETHOD ne 'NONE' then ROLE ='INPUT';
20871      if LEVEL ne 'INTERVAL' and KEEPMISSING IN('D', '', 'N');
MPRINT(EM_DIAGRAM):   if LEVEL ne 'INTERVAL' and KEEPMISSING IN('D', '', 'N');
20872      run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 25 observations read from the data set WORK.M118KMUD.
NOTE: The data set WORK.M118KMUD has 8 observations and 26 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

20873      *------------------------------------------------------------* ;
MPRINT(EM_DIAGRAM):    *------------------------------------------------------------* ;
20874      * Filter: DMDBClass Macro ;
MPRINT(EM_DIAGRAM):   * Filter: DMDBClass Macro ;
20875      *------------------------------------------------------------* ;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------* ;
20876      %macro DMDBClass;
20877          AcceptedCmp1(ASC) AcceptedCmp2(ASC) AcceptedCmp3(ASC) AcceptedCmp4(ASC)
20878         AcceptedCmp5(ASC) Complain(ASC) Education(ASC) Marital_Status(ASC)
20879      %mend DMDBClass;
20880      *------------------------------------------------------------* ;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------* ;
20881      * Filter: DMDBVar Macro ;
MPRINT(EM_DIAGRAM):   * Filter: DMDBVar Macro ;
20882      *------------------------------------------------------------* ;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------* ;
20883      %macro DMDBVar;
20884      
20885      %mend DMDBVar;
20886      *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
20887      * Filter: Create DMDB;
MPRINT(EM_DIAGRAM):   * Filter: Create DMDB;
20888      *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
20889      proc dmdb batch data=EMWS8.Stat_TRAIN
20890      classout=_MissingDs
20891      maxlevel = 26
20892      missingOnly
20893      ;
MPRINT(EM_DIAGRAM):   proc dmdb batch data=EMWS8.Stat_TRAIN classout=_MissingDs maxlevel = 26 missingOnly ;
MPRINT(EM_DIAGRAM):   class
20894      class %DMDBClass;
MPRINT(DMDBCLASS):   AcceptedCmp1(ASC) AcceptedCmp2(ASC) AcceptedCmp3(ASC) AcceptedCmp4(ASC) AcceptedCmp5(ASC) Complain(ASC) Education(ASC) Marital_Status(ASC)
MPRINT(EM_DIAGRAM):  ;
20895      run;
MPRINT(EM_DIAGRAM):   run;

NOTE: Records processed = 3500   Memory used = 511K.
NOTE: There were 3500 observations read from the data set EMWS8.FIMPORT_DATA.
NOTE: View EMWS8.STAT_TRAIN.VIEW used (Total process time):
      real time           0.03 seconds
      cpu time            0.04 seconds
      
NOTE: There were 3500 observations read from the data set EMWS8.FIMPORT_TRAIN.
NOTE: There were 3500 observations read from the data set EMWS8.STAT_TRAIN.
NOTE: The data set WORK._MISSINGDS has 16 observations and 9 variables.
NOTE: PROCEDURE DMDB used (Total process time):
      real time           0.04 seconds
      cpu time            0.06 seconds
      

MPRINT(EM_DIAGRAM):   quit;
MPRINT(EM_DIAGRAM):   *--- end code ---*;
20896      quit;
20897      *--- end code ---*;

20898      proc freq data=WORK._EMFILTERCLASS noprint;
MPRINT(EM_DIAGRAM):    proc freq data=WORK._EMFILTERCLASS noprint;
20899      table NAME / out=WORK._EMFILTERFREQ(keep=NAME COUNT rename=(COUNT=NUMLEVELS));
MPRINT(EM_DIAGRAM):   table NAME / out=WORK._EMFILTERFREQ(keep=NAME COUNT rename=(COUNT=NUMLEVELS));
20900      run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 22 observations read from the data set WORK._EMFILTERCLASS.
NOTE: The data set WORK._EMFILTERFREQ has 8 observations and 2 variables.
NOTE: PROCEDURE FREQ used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

20901      data WORK._EMFILTERCLASS;
MPRINT(EM_DIAGRAM):   data WORK._EMFILTERCLASS;
20902      set WORK._EMFILTERCLASS (rename=(FREQUENCY=COUNT FREQPERCENT=PERCENT));
MPRINT(EM_DIAGRAM):   set WORK._EMFILTERCLASS (rename=(FREQUENCY=COUNT FREQPERCENT=PERCENT));
20903      _OBS_= _N_;
MPRINT(EM_DIAGRAM):   _OBS_= _N_;
20904      if (CRAW eq '' and NRAW eq .) then _OBS_=0;
MPRINT(EM_DIAGRAM):   if (CRAW eq '' and NRAW eq .) then _OBS_=0;
20905      run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 22 observations read from the data set WORK._EMFILTERCLASS.
NOTE: The data set WORK._EMFILTERCLASS has 22 observations and 10 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

20906      data _MissingDs;
MPRINT(EM_DIAGRAM):    data _MissingDs;
20907      retain _OBS_ 0;
MPRINT(EM_DIAGRAM):   retain _OBS_ 0;
20908      set _MissingDs(rename=(FREQUENCY=COUNT FREQPERCENT=PERCENT));
MPRINT(EM_DIAGRAM):   set _MissingDs(rename=(FREQUENCY=COUNT FREQPERCENT=PERCENT));
20909      where substr(LEVEL, 1, 1) ='M';
MPRINT(EM_DIAGRAM):   where substr(LEVEL, 1, 1) ='M';
20910      if type = 'C' then LEVEL = '';
MPRINT(EM_DIAGRAM):   if type = 'C' then LEVEL = '';
20911      else LEVEL='.';
MPRINT(EM_DIAGRAM):   else LEVEL='.';
20912      run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 8 observations read from the data set WORK._MISSINGDS.
      WHERE SUBSTR(LEVEL, 1, 1)='M';
NOTE: The data set WORK._MISSINGDS has 8 observations and 10 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

20913      data WORK._EMFILTERCLASS;
MPRINT(EM_DIAGRAM):   data WORK._EMFILTERCLASS;
20914      set WORK._EMFILTERCLASS _MissingDs;
MPRINT(EM_DIAGRAM):   set WORK._EMFILTERCLASS _MissingDs;
20915      run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 22 observations read from the data set WORK._EMFILTERCLASS.
NOTE: There were 8 observations read from the data set WORK._MISSINGDS.
NOTE: The data set WORK._EMFILTERCLASS has 30 observations and 10 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

20916      proc sort data=WORK._EMFILTERCLASS nodupkey;
MPRINT(EM_DIAGRAM):    proc sort data=WORK._EMFILTERCLASS nodupkey;
20917      by NAME _OBS_;
MPRINT(EM_DIAGRAM):   by NAME _OBS_;
20918      run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 30 observations read from the data set WORK._EMFILTERCLASS.
NOTE: 0 observations with duplicate key values were deleted.
NOTE: The data set WORK._EMFILTERCLASS has 30 observations and 10 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

20919      proc sort data=WORK._EMFILTERFREQ;
MPRINT(EM_DIAGRAM):   proc sort data=WORK._EMFILTERFREQ;
20920      by NAME;
MPRINT(EM_DIAGRAM):   by NAME;
20921      run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 8 observations read from the data set WORK._EMFILTERFREQ.
NOTE: The data set WORK._EMFILTERFREQ has 8 observations and 2 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

20922      data WORK._EMFILTERCLASS;
MPRINT(EM_DIAGRAM):   data WORK._EMFILTERCLASS;
20923      merge WORK._EMFILTERCLASS WORK._EMFILTERFREQ;
MPRINT(EM_DIAGRAM):   merge WORK._EMFILTERCLASS WORK._EMFILTERFREQ;
20924      by NAME;
MPRINT(EM_DIAGRAM):   by NAME;
20925      run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 30 observations read from the data set WORK._EMFILTERCLASS.
NOTE: There were 8 observations read from the data set WORK._EMFILTERFREQ.
NOTE: The data set WORK._EMFILTERCLASS has 30 observations and 11 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

20926      data work._FilterMinFreq;
MPRINT(EM_DIAGRAM):    data work._FilterMinFreq;
20927      set WORK.M1IG_8ES;
MPRINT(EM_DIAGRAM):   set WORK.M1IG_8ES;
20928      where level ne 'INTERVAL';
MPRINT(EM_DIAGRAM):   where level ne 'INTERVAL';
20929      if KEEPMISSING in('D', '') then
20930      KEEPMISSING = "N";
MPRINT(EM_DIAGRAM):   if KEEPMISSING in('D', '') then KEEPMISSING = "N";
20931      *if ROLE='REJECTED' and CALCMETHOD in('', 'DEFAULT') and KEEPMISSING="Y" then delete;
MPRINT(EM_DIAGRAM):   *if ROLE='REJECTED' and CALCMETHOD in('', 'DEFAULT') and KEEPMISSING="Y" then delete;
20932      if ROLE ^in('INPUT','TARGET') and CALCMETHOD in('', 'DEFAULT') and KEEPMISSING="Y" then delete;
MPRINT(EM_DIAGRAM):   if ROLE ^in('INPUT','TARGET') and CALCMETHOD in('', 'DEFAULT') and KEEPMISSING="Y" then delete;
20933      if CALCMETHOD in('', 'DEFAULT') then CALCMETHOD = "NONE";
MPRINT(EM_DIAGRAM):   if CALCMETHOD in('', 'DEFAULT') then CALCMETHOD = "NONE";
20934      if minfreq = . then minfreq=1;
MPRINT(EM_DIAGRAM):   if minfreq = . then minfreq=1;
20935      if MAXVALUES = . then MAXVALUES = 25;
MPRINT(EM_DIAGRAM):   if MAXVALUES = . then MAXVALUES = 25;
20936      minClassPct = 0.01;
MPRINT(EM_DIAGRAM):   minClassPct = 0.01;
20937      run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 8 observations read from the data set WORK.M1IG_8ES.
      WHERE level not = 'INTERVAL';
NOTE: The data set WORK._FILTERMINFREQ has 8 observations and 27 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

20938      proc sort data=work._FilterMinFreq;
MPRINT(EM_DIAGRAM):   proc sort data=work._FilterMinFreq;
20939      by NAME;
MPRINT(EM_DIAGRAM):   by NAME;
20940      run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 8 observations read from the data set WORK._FILTERMINFREQ.
NOTE: The data set WORK._FILTERMINFREQ has 8 observations and 27 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

20941      proc sort data=WORK._EMFILTERCLASS;
MPRINT(EM_DIAGRAM):   proc sort data=WORK._EMFILTERCLASS;
20942      by NAME;
MPRINT(EM_DIAGRAM):   by NAME;
20943      run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 30 observations read from the data set WORK._EMFILTERCLASS.
NOTE: The data set WORK._EMFILTERCLASS has 30 observations and 11 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

20944      data work._FilterMinFreq;
MPRINT(EM_DIAGRAM):   data work._FilterMinFreq;
20945      merge work._FilterMinFreq(drop=LEVEL in=_a) WORK._EMFILTERCLASS (in=_b);
MPRINT(EM_DIAGRAM):   merge work._FilterMinFreq(drop=LEVEL in=_a) WORK._EMFILTERCLASS (in=_b);
20946      if _a and _b then output;
MPRINT(EM_DIAGRAM):   if _a and _b then output;
20947      by NAME;
MPRINT(EM_DIAGRAM):   by NAME;
20948      run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 8 observations read from the data set WORK._FILTERMINFREQ.
NOTE: There were 30 observations read from the data set WORK._EMFILTERCLASS.
NOTE: The data set WORK._FILTERMINFREQ has 30 observations and 35 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

20949      data work._FilterExclude;
MPRINT(EM_DIAGRAM):    data work._FilterExclude;
20950      set work._FilterMinFreq;
MPRINT(EM_DIAGRAM):   set work._FilterMinFreq;
20951      where ( ((CALCMETHOD = 'MINFREQ' and (COUNT ne . and COUNT <= minfreq)) or (CALCMETHOD = 'MINPCT' and (NMISSPERCENT ne . and 0.01*NMISSPERCENT <=minClassPct))) and (NUMLEVELS <= MAXVALUES)) or (KEEPMISSING eq 'N' and NRAW=. and CRAW='');
MPRINT(EM_DIAGRAM):   where ( ((CALCMETHOD = 'MINFREQ' and (COUNT ne . and COUNT <= minfreq)) or (CALCMETHOD = 'MINPCT' and (NMISSPERCENT ne . and 0.01*NMISSPERCENT <=minClassPct))) and (NUMLEVELS <= MAXVALUES)) or (KEEPMISSING eq 'N' and NRAW=. and 
CRAW='');
20952      run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 8 observations read from the data set WORK._FILTERMINFREQ.
      WHERE ((((CALCMETHOD='MINFREQ') and (COUNT not = .) and (COUNT<=minfreq)) or ((CALCMETHOD='MINPCT') and (NMISSPERCENT not = .) and (minClassPct>=(0.01*NMISSPERCENT)))) and (NUMLEVELS<=MAXVALUES)) or ((KEEPMISSING='N') and (NRAW=.) and (CRAW=' '));
NOTE: The data set WORK._FILTEREXCLUDE has 8 observations and 35 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

20953      data work._ManualExclude;
MPRINT(EM_DIAGRAM):   data work._ManualExclude;
20954      set WORK.M1IG_8ES;
MPRINT(EM_DIAGRAM):   set WORK.M1IG_8ES;
20955      if CALCMETHOD in('', 'DEFAULT') then CALCMETHOD = "NONE";
MPRINT(EM_DIAGRAM):   if CALCMETHOD in('', 'DEFAULT') then CALCMETHOD = "NONE";
20956      if level ne 'INTERVAL' and calcmethod='MANUAL' then output;
MPRINT(EM_DIAGRAM):   if level ne 'INTERVAL' and calcmethod='MANUAL' then output;
20957      run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 25 observations read from the data set WORK.M1IG_8ES.
NOTE: The data set WORK._MANUALEXCLUDE has 0 observations and 26 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

20958      proc sort data=work._ManualExclude;
MPRINT(EM_DIAGRAM):   proc sort data=work._ManualExclude;
20959      by NAME;
MPRINT(EM_DIAGRAM):   by NAME;
20960      run;
MPRINT(EM_DIAGRAM):   run;

NOTE: Input data set is empty.
NOTE: The data set WORK._MANUALEXCLUDE has 0 observations and 26 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

20961      proc sort data=EMWS8.Filter_CLASSFILTER(rename=(VARIABLE=NAME VALUE=LEVEL)) out=_temp;
MPRINT(EM_DIAGRAM):   proc sort data=EMWS8.Filter_CLASSFILTER(rename=(VARIABLE=NAME VALUE=LEVEL)) out=_temp;
20962      by NAME;
MPRINT(EM_DIAGRAM):   by NAME;
20963      run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 0 observations read from the data set EMWS8.FILTER_CLASSFILTER.
NOTE: View EMWS8.FILTER_CLASSFILTER.VIEW used (Total process time):
      real time           0.03 seconds
      cpu time            0.03 seconds
      
NOTE: There were 0 observations read from the data set EMWS8.FILTER_CLASSDIST.
      WHERE Filter='Y';
NOTE: Input data set is empty.
NOTE: The data set WORK._TEMP has 0 observations and 5 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.03 seconds
      cpu time            0.04 seconds
      

20964      data work._ManualExclude;
MPRINT(EM_DIAGRAM):   data work._ManualExclude;
20965      merge work._ManualExclude(drop=LEVEL in=_a) _temp(in=_b);
MPRINT(EM_DIAGRAM):   merge work._ManualExclude(drop=LEVEL in=_a) _temp(in=_b);
20966      _OBS_=_N_;
MPRINT(EM_DIAGRAM):   _OBS_=_N_;
20967      if strip(Level) in('.', '') then _OBS_=0;
MPRINT(EM_DIAGRAM):   if strip(Level) in('.', '') then _OBS_=0;
20968      if _a and _b then output;
MPRINT(EM_DIAGRAM):   if _a and _b then output;
20969      by NAME;
MPRINT(EM_DIAGRAM):   by NAME;
20970      run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 0 observations read from the data set WORK._MANUALEXCLUDE.
NOTE: There were 0 observations read from the data set WORK._TEMP.
NOTE: The data set WORK._MANUALEXCLUDE has 0 observations and 30 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

20971      data work._FilterExclude;
MPRINT(EM_DIAGRAM):   data work._FilterExclude;
20972      set work._ManualExclude work._FilterExclude;
MPRINT(EM_DIAGRAM):   set work._ManualExclude work._FilterExclude;
20973      if type = 'N' and format='' then level= strip(level);
MPRINT(EM_DIAGRAM):   if type = 'N' and format='' then level= strip(level);
20974      run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 0 observations read from the data set WORK._MANUALEXCLUDE.
NOTE: There were 8 observations read from the data set WORK._FILTEREXCLUDE.
NOTE: The data set WORK._FILTEREXCLUDE has 8 observations and 36 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

20975      proc sort data=work._FilterExclude nodupkey;
MPRINT(EM_DIAGRAM):    proc sort data=work._FilterExclude nodupkey;
20976      by NAME _OBS_;
MPRINT(EM_DIAGRAM):   by NAME _OBS_;
20977      run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 8 observations read from the data set WORK._FILTEREXCLUDE.
NOTE: 0 observations with duplicate key values were deleted.
NOTE: The data set WORK._FILTEREXCLUDE has 8 observations and 36 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

20978      %let _FilterClassNum= 0;
20979      data work._FilterExclude;
MPRINT(EM_DIAGRAM):   data work._FilterExclude;
20980      retain newvarindex 0;
MPRINT(EM_DIAGRAM):   retain newvarindex 0;
20981      length newvar normvar $32;
MPRINT(EM_DIAGRAM):   length newvar normvar $32;
20982      drop newvarindex string;
MPRINT(EM_DIAGRAM):   drop newvarindex string;
20983      set work._FilterExclude end=eof;
MPRINT(EM_DIAGRAM):   set work._FilterExclude end=eof;
20984      by NAME;
MPRINT(EM_DIAGRAM):   by NAME;
20985      if first.NAME then do;
MPRINT(EM_DIAGRAM):   if first.NAME then do;
20986      newvarindex + 1;
MPRINT(EM_DIAGRAM):   newvarindex + 1;
20987      if format ne '' then do;
MPRINT(EM_DIAGRAM):   if format ne '' then do;
20988      newvar = strip("_FILTERFMT")!!strip(put(newvarindex, best.));
MPRINT(EM_DIAGRAM):   newvar = strip("_FILTERFMT")!!strip(put(newvarindex, best.));
20989      end;
MPRINT(EM_DIAGRAM):   end;
20990      else newvar = name;
MPRINT(EM_DIAGRAM):   else newvar = name;
20991      if CALCMETHOD ne 'MANUAL' then do;
MPRINT(EM_DIAGRAM):   if CALCMETHOD ne 'MANUAL' then do;
20992      if format ne '' or type = 'C' then do;
MPRINT(EM_DIAGRAM):   if format ne '' or type = 'C' then do;
20993      normvar = strip("_FILTERNORM")!!strip(put(newvarindex, best.));
MPRINT(EM_DIAGRAM):   normvar = strip("_FILTERNORM")!!strip(put(newvarindex, best.));
20994      end;
MPRINT(EM_DIAGRAM):   end;
20995      end;
MPRINT(EM_DIAGRAM):   end;
20996      end;
MPRINT(EM_DIAGRAM):   end;
20997      if eof then call symput('_FilterClassNum', strip(put(_N_, best.)));
MPRINT(EM_DIAGRAM):   if eof then call symput('_FilterClassNum', strip(put(_N_, best.)));
20998      run;
MPRINT(EM_DIAGRAM):   run;

WARNING: The variable string in the DROP, KEEP, or RENAME list has never been referenced.
NOTE: There were 8 observations read from the data set WORK._FILTEREXCLUDE.
NOTE: The data set WORK._FILTEREXCLUDE has 8 observations and 38 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

20999      data EMWS8.Filter_CLASS;
MPRINT(EM_DIAGRAM):    data EMWS8.Filter_CLASS;
21000      label NAME = "%sysfunc(sasmsg(sashelp.dmine, rpt_variable_vlabel,     NOQUOTE))" ROLE = "%sysfunc(sasmsg(sashelp.dmine, meta_role_vlabel,        NOQUOTE))" VALUE = "%sysfunc(sasmsg(sashelp.dmine, rpt_value_vlabel,        NOQUOTE))" COUNT =
21001         "%sysfunc(sasmsg(sashelp.dmine, rpt_count_vlabel,        NOQUOTE))" PERCENT = "%sysfunc(sasmsg(sashelp.dmine, rpt_percent_vlabel,      NOQUOTE))" LABEL = "%sysfunc(sasmsg(sashelp.dmine, meta_label_vlabel,       NOQUOTE))" CALCMETHOD =
21002         "%sysfunc(sasmsg(sashelp.dmine, rpt_filtermethod_vlabel, NOQUOTE))";
MPRINT(EM_DIAGRAM):   label NAME = "Variable" ROLE = "Role" VALUE = "Value" COUNT = "Frequency Count" PERCENT = "Percent" LABEL = "Label" CALCMETHOD = "Filter Method";
21003      length VALUE $12;
MPRINT(EM_DIAGRAM):   length VALUE $12;
21004      set work._FilterExclude;
MPRINT(EM_DIAGRAM):   set work._FilterExclude;
21005      keep NAME ROLE VALUE COUNT PERCENT LABEL CALCMETHOD;
MPRINT(EM_DIAGRAM):   keep NAME ROLE VALUE COUNT PERCENT LABEL CALCMETHOD;
21006      if COUNT = . then COUNT = 0;
MPRINT(EM_DIAGRAM):   if COUNT = . then COUNT = 0;
21007      if PERCENT = . then PERCENT = 0;
MPRINT(EM_DIAGRAM):   if PERCENT = . then PERCENT = 0;
21008      VALUE = LEVEL;
MPRINT(EM_DIAGRAM):   VALUE = LEVEL;
21009      if _OBS_ = 0 and KEEPMISSING='N' then do;
MPRINT(EM_DIAGRAM):   if _OBS_ = 0 and KEEPMISSING='N' then do;
21010      CALCMETHOD= '';
MPRINT(EM_DIAGRAM):   CALCMETHOD= '';
21011      KEEPMISSING = '';
MPRINT(EM_DIAGRAM):   KEEPMISSING = '';
21012      if VALUE = '' and type eq 'C' then VALUE = '_BLANK_';
MPRINT(EM_DIAGRAM):   if VALUE = '' and type eq 'C' then VALUE = '_BLANK_';
21013      if type eq 'N' then do;
MPRINT(EM_DIAGRAM):   if type eq 'N' then do;
21014      VALUE = strip(VALUE);
MPRINT(EM_DIAGRAM):   VALUE = strip(VALUE);
21015      if VALUE = '' then VALUE = '.';
MPRINT(EM_DIAGRAM):   if VALUE = '' then VALUE = '.';
21016      end;
MPRINT(EM_DIAGRAM):   end;
21017      end;
MPRINT(EM_DIAGRAM):   end;
21018      run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 8 observations read from the data set WORK._FILTEREXCLUDE.
NOTE: The data set EMWS8.FILTER_CLASS has 8 observations and 7 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

21019      %let _FOBS=0;
21020      filename _X "C:\Users\LUKASF~1\AppData\Local\Temp\SAS Temporary Files\_TD17696_WN7LF-LEAVE_\Prc2\NEWVAR.txt";
MPRINT(EM_DIAGRAM):    filename _X "C:\Users\LUKASF~1\AppData\Local\Temp\SAS Temporary Files\_TD17696_WN7LF-LEAVE_\Prc2\NEWVAR.txt";
21021      data _null_;
MPRINT(EM_DIAGRAM):   data _null_;
21022      length string $200;
MPRINT(EM_DIAGRAM):   length string $200;
21023      set work._FilterExclude end=eof;
MPRINT(EM_DIAGRAM):   set work._FilterExclude end=eof;
21024      file _X;
MPRINT(EM_DIAGRAM):   file _X;
21025      by NAME;
MPRINT(EM_DIAGRAM):   by NAME;
21026      if first.NAME then do;
MPRINT(EM_DIAGRAM):   if first.NAME then do;
21027      if format ne '' then do;
MPRINT(EM_DIAGRAM):   if format ne '' then do;
21028      put ' ';
MPRINT(EM_DIAGRAM):   put ' ';
21029      put ' ';
MPRINT(EM_DIAGRAM):   put ' ';
21030      put 'length ' newvar ' $200;';
MPRINT(EM_DIAGRAM):   put 'length ' newvar ' $200;';
21031      put 'drop ' newvar ';';
MPRINT(EM_DIAGRAM):   put 'drop ' newvar ';';
21032      string = strip(newvar)!!'= put('!!strip(NAME)!!','!!strip(format)!!');';
MPRINT(EM_DIAGRAM):   string = strip(newvar)!!'= put('!!strip(NAME)!!','!!strip(format)!!');';
21033      put string;
MPRINT(EM_DIAGRAM):   put string;
21034      end;
MPRINT(EM_DIAGRAM):   end;
21035      else newvar = name;
MPRINT(EM_DIAGRAM):   else newvar = name;
21036      if CALCMETHOD ne 'MANUAL' then do;
MPRINT(EM_DIAGRAM):   if CALCMETHOD ne 'MANUAL' then do;
21037      if format ne '' or type = 'C' then do;
MPRINT(EM_DIAGRAM):   if format ne '' or type = 'C' then do;
21038      if (newvar eq name) then do;
MPRINT(EM_DIAGRAM):   if (newvar eq name) then do;
21039      put ' ';
MPRINT(EM_DIAGRAM):   put ' ';
21040      end;
MPRINT(EM_DIAGRAM):   end;
21041      put 'length ' normvar " $%dmnorlen;";
MPRINT(EM_DIAGRAM):   put 'length ' normvar
MPRINT(EM_DIAGRAM):   " $32;";
21042      put 'drop ' normvar ';';
MPRINT(EM_DIAGRAM):   put 'drop ' normvar ';';
21043      string = '%dmnormcp('!!strip(newvar)!!','!!strip(normvar)!!');';
MPRINT(EM_DIAGRAM):   string = '%dmnormcp('!!strip(newvar)!!','!!strip(normvar)!!');';
21044      put string;
MPRINT(EM_DIAGRAM):   put string;
21045      end;
MPRINT(EM_DIAGRAM):   end;
21046      end;
MPRINT(EM_DIAGRAM):   end;
21047      end;
MPRINT(EM_DIAGRAM):   end;
21048      if eof then call symput('_FOBS', '1');
MPRINT(EM_DIAGRAM):   if eof then call symput('_FOBS', '1');
21049      run;
MPRINT(EM_DIAGRAM):   run;

NOTE: The file _X is:
      Filename=C:\Users\LUKASF~1\AppData\Local\Temp\SAS Temporary Files\_TD17696_WN7LF-LEAVE_\Prc2\NEWVAR.txt,
      RECFM=V,LRECL=256,File Size (bytes)=0,
      Last Modified=11. April 2016 16.41 Uhr,
      Create Time=11. April 2016 16.41 Uhr

NOTE: 64 records were written to the file _X.
      The minimum record length was 1.
      The maximum record length was 38.
NOTE: There were 8 observations read from the data set WORK._FILTEREXCLUDE.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

21050      %let _FOBS=0;
21051      filename _X "C:\Users\LUKASF~1\AppData\Local\Temp\SAS Temporary Files\_TD17696_WN7LF-LEAVE_\Prc2\PUBLISHNEWVAR.txt";
MPRINT(EM_DIAGRAM):    filename _X "C:\Users\LUKASF~1\AppData\Local\Temp\SAS Temporary Files\_TD17696_WN7LF-LEAVE_\Prc2\PUBLISHNEWVAR.txt";
21052      data _null_;
MPRINT(EM_DIAGRAM):   data _null_;
21053      length string $200;
MPRINT(EM_DIAGRAM):   length string $200;
21054      set work._FilterExclude end=eof;
MPRINT(EM_DIAGRAM):   set work._FilterExclude end=eof;
21055      where ROLE ne 'TARGET';
MPRINT(EM_DIAGRAM):   where ROLE ne 'TARGET';
21056      file _X;
MPRINT(EM_DIAGRAM):   file _X;
21057      by NAME;
MPRINT(EM_DIAGRAM):   by NAME;
21058      if first.NAME then do;
MPRINT(EM_DIAGRAM):   if first.NAME then do;
21059      if format ne '' then do;
MPRINT(EM_DIAGRAM):   if format ne '' then do;
21060      put ' ';
MPRINT(EM_DIAGRAM):   put ' ';
21061      put ' ';
MPRINT(EM_DIAGRAM):   put ' ';
21062      put 'length ' newvar ' $200;';
MPRINT(EM_DIAGRAM):   put 'length ' newvar ' $200;';
21063      put 'drop ' newvar ';';
MPRINT(EM_DIAGRAM):   put 'drop ' newvar ';';
21064      string = strip(newvar)!!'= put('!!strip(NAME)!!','!!strip(format)!!');';
MPRINT(EM_DIAGRAM):   string = strip(newvar)!!'= put('!!strip(NAME)!!','!!strip(format)!!');';
21065      put string;
MPRINT(EM_DIAGRAM):   put string;
21066      end;
MPRINT(EM_DIAGRAM):   end;
21067      else newvar = name;
MPRINT(EM_DIAGRAM):   else newvar = name;
21068      if CALCMETHOD ne 'MANUAL' then do;
MPRINT(EM_DIAGRAM):   if CALCMETHOD ne 'MANUAL' then do;
21069      if format ne '' or type = 'C' then do;
MPRINT(EM_DIAGRAM):   if format ne '' or type = 'C' then do;
21070      if (newvar eq name) then do;
MPRINT(EM_DIAGRAM):   if (newvar eq name) then do;
21071      put ' ';
MPRINT(EM_DIAGRAM):   put ' ';
21072      end;
MPRINT(EM_DIAGRAM):   end;
21073      put 'length ' normvar " $%dmnorlen;";
MPRINT(EM_DIAGRAM):   put 'length ' normvar
MPRINT(EM_DIAGRAM):   " $32;";
21074      put 'drop ' normvar ';';
MPRINT(EM_DIAGRAM):   put 'drop ' normvar ';';
21075      string = '%dmnormcp('!!strip(newvar)!!','!!strip(normvar)!!');';
MPRINT(EM_DIAGRAM):   string = '%dmnormcp('!!strip(newvar)!!','!!strip(normvar)!!');';
21076      put string;
MPRINT(EM_DIAGRAM):   put string;
21077      end;
MPRINT(EM_DIAGRAM):   end;
21078      end;
MPRINT(EM_DIAGRAM):   end;
21079      end;
MPRINT(EM_DIAGRAM):   end;
21080      if eof then call symput('_FOBS', '1');
MPRINT(EM_DIAGRAM):   if eof then call symput('_FOBS', '1');
21081      run;
MPRINT(EM_DIAGRAM):   run;

NOTE: The file _X is:
      Filename=C:\Users\LUKASF~1\AppData\Local\Temp\SAS Temporary Files\_TD17696_WN7LF-LEAVE_\Prc2\PUBLISHNEWVAR.txt,
      RECFM=V,LRECL=256,File Size (bytes)=0,
      Last Modified=11. April 2016 16.41 Uhr,
      Create Time=11. April 2016 16.41 Uhr

NOTE: 64 records were written to the file _X.
      The minimum record length was 1.
      The maximum record length was 38.
NOTE: There were 8 observations read from the data set WORK._FILTEREXCLUDE.
      WHERE ROLE not = 'TARGET';
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

21082      %let _FOBS=0;
21083      filename _X "C:\Users\LUKASF~1\AppData\Local\Temp\SAS Temporary Files\_TD17696_WN7LF-LEAVE_\Prc2\CLASSFILTERCODE.txt";
MPRINT(EM_DIAGRAM):    filename _X "C:\Users\LUKASF~1\AppData\Local\Temp\SAS Temporary Files\_TD17696_WN7LF-LEAVE_\Prc2\CLASSFILTERCODE.txt";
21084      data _null_;
MPRINT(EM_DIAGRAM):   data _null_;
21085      length line string $200 _filtervar $32;
MPRINT(EM_DIAGRAM):   length line string $200 _filtervar $32;
21086      drop newvarindex string;
MPRINT(EM_DIAGRAM):   drop newvarindex string;
21087      retain line '';
MPRINT(EM_DIAGRAM):   retain line '';
21088      set work._FilterExclude end=eof;
MPRINT(EM_DIAGRAM):   set work._FilterExclude end=eof;
21089      file _X;
MPRINT(EM_DIAGRAM):   file _X;
21090      by NAME;
MPRINT(EM_DIAGRAM):   by NAME;
21091      if first.NAME then do;
MPRINT(EM_DIAGRAM):   if first.NAME then do;
21092      _filtervar = NAME;
MPRINT(EM_DIAGRAM):   _filtervar = NAME;
21093      if newvar ne '' then _filtervar = newvar;
MPRINT(EM_DIAGRAM):   if newvar ne '' then _filtervar = newvar;
21094      if normvar ne '' then _filtervar = normvar;
MPRINT(EM_DIAGRAM):   if normvar ne '' then _filtervar = normvar;
21095      if _N_ ne 1 then put ' and ';
MPRINT(EM_DIAGRAM):   if _N_ ne 1 then put ' and ';
21096      if format ne '' or type = 'C' then do;
MPRINT(EM_DIAGRAM):   if format ne '' or type = 'C' then do;
21097      line = strip(_filtervar)!!" not in ( '"!! tranwrd(trim(level), "'", "''")!!"'";
MPRINT(EM_DIAGRAM):   line = strip(_filtervar)!!" not in ( '"!! tranwrd(trim(level), "'", "''")!!"'";
21098      end;
MPRINT(EM_DIAGRAM):   end;
21099      else do;
MPRINT(EM_DIAGRAM):   else do;
21100      if CALCMETHOD = 'MANUAL' then line = '('!!strip(NAME)!!' ne '!!strip(LEVEL)!!')';
MPRINT(EM_DIAGRAM):   if CALCMETHOD = 'MANUAL' then line = '('!!strip(NAME)!!' ne '!!strip(LEVEL)!!')';
21101      else line = '('!!strip(NAME)!!' ne '!!strip(put(NRAW, best.))!!')';
MPRINT(EM_DIAGRAM):   else line = '('!!strip(NAME)!!' ne '!!strip(put(NRAW, best.))!!')';
21102      end;
MPRINT(EM_DIAGRAM):   end;
21103      end;
MPRINT(EM_DIAGRAM):   end;
21104      else do;
MPRINT(EM_DIAGRAM):   else do;
21105      if format ne '' or type = 'C' then do;
MPRINT(EM_DIAGRAM):   if format ne '' or type = 'C' then do;
21106      string = ", '"!! tranwrd(trim(level), "'", "''")!!"'";
MPRINT(EM_DIAGRAM):   string = ", '"!! tranwrd(trim(level), "'", "''")!!"'";
21107      end;
MPRINT(EM_DIAGRAM):   end;
21108      else do;
MPRINT(EM_DIAGRAM):   else do;
21109      if CALCMETHOD = 'MANUAL' then string = 'and ('!!strip(NAME)!!' ne '!!strip(LEVEL)!!')';
MPRINT(EM_DIAGRAM):   if CALCMETHOD = 'MANUAL' then string = 'and ('!!strip(NAME)!!' ne '!!strip(LEVEL)!!')';
21110      else string = 'and ('!!strip(NAME)!!' ne '!!strip(put(NRAW, best.))!!')';
MPRINT(EM_DIAGRAM):   else string = 'and ('!!strip(NAME)!!' ne '!!strip(put(NRAW, best.))!!')';
21111      end;
MPRINT(EM_DIAGRAM):   end;
21112      if length(strip(string)) + length(strip(line)) < 80 then do;
MPRINT(EM_DIAGRAM):   if length(strip(string)) + length(strip(line)) < 80 then do;
21113      line = strip(line)!!' '!!strip(string);
MPRINT(EM_DIAGRAM):   line = strip(line)!!' '!!strip(string);
21114      end;
MPRINT(EM_DIAGRAM):   end;
21115      else do;
MPRINT(EM_DIAGRAM):   else do;
21116      put line;
MPRINT(EM_DIAGRAM):   put line;
21117      line = string;
MPRINT(EM_DIAGRAM):   line = string;
21118      end;
MPRINT(EM_DIAGRAM):   end;
21119      end;
MPRINT(EM_DIAGRAM):   end;
21120      if last.name then do;
MPRINT(EM_DIAGRAM):   if last.name then do;
21121      if (format ne '' or type eq 'C') then do;
MPRINT(EM_DIAGRAM):   if (format ne '' or type eq 'C') then do;
21122      line = strip(line)!!')';
MPRINT(EM_DIAGRAM):   line = strip(line)!!')';
21123      end;
MPRINT(EM_DIAGRAM):   end;
21124      put line;
MPRINT(EM_DIAGRAM):   put line;
21125      end;
MPRINT(EM_DIAGRAM):   end;
21126      if eof then call symput('_FOBS', '1');
MPRINT(EM_DIAGRAM):   if eof then call symput('_FOBS', '1');
21127      run;
MPRINT(EM_DIAGRAM):   run;

NOTE: The file _X is:
      Filename=C:\Users\LUKASF~1\AppData\Local\Temp\SAS Temporary Files\_TD17696_WN7LF-LEAVE_\Prc2\CLASSFILTERCODE.txt,
      RECFM=V,LRECL=256,File Size (bytes)=0,
      Last Modified=11. April 2016 16.41 Uhr,
      Create Time=11. April 2016 16.41 Uhr

NOTE: 15 records were written to the file _X.
      The minimum record length was 5.
      The maximum record length was 26.
NOTE: There were 8 observations read from the data set WORK._FILTEREXCLUDE.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

21128      filename _X;
MPRINT(EM_DIAGRAM):   filename _X;
NOTE: Fileref _X has been deassigned.
21129      %let _FOBS=0;
21130      filename _X "C:\Users\LUKASF~1\AppData\Local\Temp\SAS Temporary Files\_TD17696_WN7LF-LEAVE_\Prc2\CLASSPUBLISHFILTERCODE.txt";
MPRINT(EM_DIAGRAM):    filename _X "C:\Users\LUKASF~1\AppData\Local\Temp\SAS Temporary Files\_TD17696_WN7LF-LEAVE_\Prc2\CLASSPUBLISHFILTERCODE.txt";
21131      data _null_;
MPRINT(EM_DIAGRAM):   data _null_;
21132      length line string $200 _filtervar $32;
MPRINT(EM_DIAGRAM):   length line string $200 _filtervar $32;
21133      drop newvarindex string;
MPRINT(EM_DIAGRAM):   drop newvarindex string;
21134      retain line '';
MPRINT(EM_DIAGRAM):   retain line '';
21135      set work._FilterExclude end=eof;
MPRINT(EM_DIAGRAM):   set work._FilterExclude end=eof;
21136      where ROLE ne 'TARGET';
MPRINT(EM_DIAGRAM):   where ROLE ne 'TARGET';
21137      file _X;
MPRINT(EM_DIAGRAM):   file _X;
21138      by NAME;
MPRINT(EM_DIAGRAM):   by NAME;
21139      if first.NAME then do;
MPRINT(EM_DIAGRAM):   if first.NAME then do;
21140      _filtervar = NAME;
MPRINT(EM_DIAGRAM):   _filtervar = NAME;
21141      if newvar ne '' then _filtervar = newvar;
MPRINT(EM_DIAGRAM):   if newvar ne '' then _filtervar = newvar;
21142      if normvar ne '' then _filtervar = normvar;
MPRINT(EM_DIAGRAM):   if normvar ne '' then _filtervar = normvar;
21143      if _N_ ne 1 then put ' and ';
MPRINT(EM_DIAGRAM):   if _N_ ne 1 then put ' and ';
21144      if format ne '' or type = 'C' then do;
MPRINT(EM_DIAGRAM):   if format ne '' or type = 'C' then do;
21145      line = strip(_filtervar)!!" not in ( '"!! tranwrd(trim(level), "'", "''")!!"'";
MPRINT(EM_DIAGRAM):   line = strip(_filtervar)!!" not in ( '"!! tranwrd(trim(level), "'", "''")!!"'";
21146      end;
MPRINT(EM_DIAGRAM):   end;
21147      else do;
MPRINT(EM_DIAGRAM):   else do;
21148      if CALCMETHOD = 'MANUAL' then line = '('!!strip(NAME)!!' ne '!!strip(LEVEL)!!')';
MPRINT(EM_DIAGRAM):   if CALCMETHOD = 'MANUAL' then line = '('!!strip(NAME)!!' ne '!!strip(LEVEL)!!')';
21149      else line = '('!!strip(NAME)!!' ne '!!strip(put(NRAW, best.))!!')';
MPRINT(EM_DIAGRAM):   else line = '('!!strip(NAME)!!' ne '!!strip(put(NRAW, best.))!!')';
21150      end;
MPRINT(EM_DIAGRAM):   end;
21151      end;
MPRINT(EM_DIAGRAM):   end;
21152      else do;
MPRINT(EM_DIAGRAM):   else do;
21153      if format ne '' or type = 'C' then do;
MPRINT(EM_DIAGRAM):   if format ne '' or type = 'C' then do;
21154      string = ", '"!! tranwrd(trim(level), "'", "''")!!"'";
MPRINT(EM_DIAGRAM):   string = ", '"!! tranwrd(trim(level), "'", "''")!!"'";
21155      end;
MPRINT(EM_DIAGRAM):   end;
21156      else do;
MPRINT(EM_DIAGRAM):   else do;
21157      if CALCMETHOD = 'MANUAL' then string = 'and ('!!strip(NAME)!!' ne '!!strip(LEVEL)!!')';
MPRINT(EM_DIAGRAM):   if CALCMETHOD = 'MANUAL' then string = 'and ('!!strip(NAME)!!' ne '!!strip(LEVEL)!!')';
21158      else string = 'and ('!!strip(NAME)!!' ne '!!strip(put(NRAW, best.))!!')';
MPRINT(EM_DIAGRAM):   else string = 'and ('!!strip(NAME)!!' ne '!!strip(put(NRAW, best.))!!')';
21159      end;
MPRINT(EM_DIAGRAM):   end;
21160      if length(strip(string)) + length(strip(line)) < 80 then do;
MPRINT(EM_DIAGRAM):   if length(strip(string)) + length(strip(line)) < 80 then do;
21161      line = strip(line)!!' '!!strip(string);
MPRINT(EM_DIAGRAM):   line = strip(line)!!' '!!strip(string);
21162      end;
MPRINT(EM_DIAGRAM):   end;
21163      else do;
MPRINT(EM_DIAGRAM):   else do;
21164      put line;
MPRINT(EM_DIAGRAM):   put line;
21165      line = string;
MPRINT(EM_DIAGRAM):   line = string;
21166      end;
MPRINT(EM_DIAGRAM):   end;
21167      end;
MPRINT(EM_DIAGRAM):   end;
21168      if last.name then do;
MPRINT(EM_DIAGRAM):   if last.name then do;
21169      if (format ne '' or type eq 'C') then do;
MPRINT(EM_DIAGRAM):   if (format ne '' or type eq 'C') then do;
21170      line = strip(line)!!')';
MPRINT(EM_DIAGRAM):   line = strip(line)!!')';
21171      end;
MPRINT(EM_DIAGRAM):   end;
21172      put line;
MPRINT(EM_DIAGRAM):   put line;
21173      end;
MPRINT(EM_DIAGRAM):   end;
21174      if eof then call symput('_FOBS', '1');
MPRINT(EM_DIAGRAM):   if eof then call symput('_FOBS', '1');
21175      run;
MPRINT(EM_DIAGRAM):   run;

NOTE: The file _X is:
      Filename=C:\Users\LUKASF~1\AppData\Local\Temp\SAS Temporary Files\_TD17696_WN7LF-LEAVE_\Prc2\CLASSPUBLISHFILTERCODE.txt,
      RECFM=V,LRECL=256,File Size (bytes)=0,
      Last Modified=11. April 2016 16.41 Uhr,
      Create Time=11. April 2016 16.41 Uhr

NOTE: 15 records were written to the file _X.
      The minimum record length was 5.
      The maximum record length was 26.
NOTE: There were 8 observations read from the data set WORK._FILTEREXCLUDE.
      WHERE ROLE not = 'TARGET';
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

21176      filename _X;
MPRINT(EM_DIAGRAM):   filename _X;
NOTE: Fileref _X has been deassigned.
21177      %let _FilterIntervalNum= 0;
21178      proc sort data=EMWS8.Filter_INTERVAL;
MPRINT(EM_DIAGRAM):    proc sort data=EMWS8.Filter_INTERVAL;
21179      by NAME;
MPRINT(EM_DIAGRAM):   by NAME;
21180      run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 17 observations read from the data set EMWS8.FILTER_INTERVAL.
NOTE: The data set EMWS8.FILTER_INTERVAL has 17 observations and 7 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

21181      filename _X "C:\Users\LUKASF~1\AppData\Local\Temp\SAS Temporary Files\_TD17696_WN7LF-LEAVE_\Prc2\INTERVALFILTERCODE.txt";
MPRINT(EM_DIAGRAM):   filename _X "C:\Users\LUKASF~1\AppData\Local\Temp\SAS Temporary Files\_TD17696_WN7LF-LEAVE_\Prc2\INTERVALFILTERCODE.txt";
21182      data _null_;
MPRINT(EM_DIAGRAM):   data _null_;
21183      length string $200;
MPRINT(EM_DIAGRAM):   length string $200;
21184      set EMWS8.Filter_INTERVAL end=eof;
MPRINT(EM_DIAGRAM):   set EMWS8.Filter_INTERVAL end=eof;
21185      file _X;
MPRINT(EM_DIAGRAM):   file _X;
21186      where (INTERVALMIN ne . or INTERVALMAX ne . or KEEPMISSING eq 'N')
21187      ;
MPRINT(EM_DIAGRAM):   where (INTERVALMIN ne . or INTERVALMAX ne . or KEEPMISSING eq 'N') ;
21188      by NAME;
MPRINT(EM_DIAGRAM):   by NAME;
21189      if _N_ = 1 then do;
MPRINT(EM_DIAGRAM):   if _N_ = 1 then do;
21190      string = ' (';
MPRINT(EM_DIAGRAM):   string = ' (';
21191      end;
MPRINT(EM_DIAGRAM):   end;
21192      else do;
MPRINT(EM_DIAGRAM):   else do;
21193      string = ' and (';
MPRINT(EM_DIAGRAM):   string = ' and (';
21194      end;
MPRINT(EM_DIAGRAM):   end;
21195      if INTERVALMIN ne . or INTERVALMAX ne . then do;
MPRINT(EM_DIAGRAM):   if INTERVALMIN ne . or INTERVALMAX ne . then do;
21196      if KEEPMISSING = 'N' then string = trim(string)!!' '!!strip(NAME)!!' ne . and ';
MPRINT(EM_DIAGRAM):   if KEEPMISSING = 'N' then string = trim(string)!!' '!!strip(NAME)!!' ne . and ';
21197      else string = trim(string)!!' '!!strip(NAME)!!' eq . or ';
MPRINT(EM_DIAGRAM):   else string = trim(string)!!' '!!strip(NAME)!!' eq . or ';
21198      if INTERVALMIN ne . and INTERVALMAX ne . then do;
MPRINT(EM_DIAGRAM):   if INTERVALMIN ne . and INTERVALMAX ne . then do;
21199      string = trim(string)!!' ('!!strip(put(INTERVALMIN, best12.))!!'<='!!strip(NAME)!!') and ('!!strip(NAME)!!'<='!!strip(put(INTERVALMAX, best12.))!!')';
MPRINT(EM_DIAGRAM):   string = trim(string)!!' ('!!strip(put(INTERVALMIN, best12.))!!'<='!!strip(NAME)!!') and ('!!strip(NAME)!!'<='!!strip(put(INTERVALMAX, best12.))!!')';
21200      end;
MPRINT(EM_DIAGRAM):   end;
21201      else if INTERVALMIN eq . and INTERVALMAX ne . then do;
MPRINT(EM_DIAGRAM):   else if INTERVALMIN eq . and INTERVALMAX ne . then do;
21202      string = trim(string)!!' ('!!strip(NAME)!!'<='!!strip(put(INTERVALMAX, best12.))!!')';
MPRINT(EM_DIAGRAM):   string = trim(string)!!' ('!!strip(NAME)!!'<='!!strip(put(INTERVALMAX, best12.))!!')';
21203      end;
MPRINT(EM_DIAGRAM):   end;
21204      else if INTERVALMIN ne . and INTERVALMAX eq . then do;
MPRINT(EM_DIAGRAM):   else if INTERVALMIN ne . and INTERVALMAX eq . then do;
21205      string = trim(string)!!' ('!!strip(put(INTERVALMIN, best12.)) || '<=' || NAME||')';
MPRINT(EM_DIAGRAM):   string = trim(string)!!' ('!!strip(put(INTERVALMIN, best12.)) || '<=' || NAME||')';
21206      end;
MPRINT(EM_DIAGRAM):   end;
21207      end;
MPRINT(EM_DIAGRAM):   end;
21208      else do;
MPRINT(EM_DIAGRAM):   else do;
21209      string = trim(string)!!' '!!strip(name)!!' ne .';
MPRINT(EM_DIAGRAM):   string = trim(string)!!' '!!strip(name)!!' ne .';
21210      end;
MPRINT(EM_DIAGRAM):   end;
21211      string = trim(string)!!')';
MPRINT(EM_DIAGRAM):   string = trim(string)!!')';
21212      put string;
MPRINT(EM_DIAGRAM):   put string;
21213      if eof then call symput('_FilterIntervalNum', strip(put(_N_, best.)));
MPRINT(EM_DIAGRAM):   if eof then call symput('_FilterIntervalNum', strip(put(_N_, best.)));
21214      run;
MPRINT(EM_DIAGRAM):   run;

NOTE: The file _X is:
      Filename=C:\Users\LUKASF~1\AppData\Local\Temp\SAS Temporary Files\_TD17696_WN7LF-LEAVE_\Prc2\INTERVALFILTERCODE.txt,
      RECFM=V,LRECL=256,File Size (bytes)=0,
      Last Modified=11. April 2016 16.41 Uhr,
      Create Time=11. April 2016 16.41 Uhr

NOTE: 17 records were written to the file _X.
      The minimum record length was 19.
      The maximum record length was 61.
NOTE: There were 17 observations read from the data set EMWS8.FILTER_INTERVAL.
      WHERE (INTERVALMIN not = .) or (INTERVALMAX not = .) or (KEEPMISSING='N');
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

21215      %let _FilterIntervalNum= 0;
21216      proc sort data=EMWS8.Filter_INTERVAL;
MPRINT(EM_DIAGRAM):    proc sort data=EMWS8.Filter_INTERVAL;
21217      by NAME;
MPRINT(EM_DIAGRAM):   by NAME;
21218      run;
MPRINT(EM_DIAGRAM):   run;

NOTE: Input data set is already sorted, no sorting done.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

21219      filename _X "C:\Users\LUKASF~1\AppData\Local\Temp\SAS Temporary Files\_TD17696_WN7LF-LEAVE_\Prc2\INTERVALPUBLISHFILTERCODE.txt";
MPRINT(EM_DIAGRAM):   filename _X "C:\Users\LUKASF~1\AppData\Local\Temp\SAS Temporary Files\_TD17696_WN7LF-LEAVE_\Prc2\INTERVALPUBLISHFILTERCODE.txt";
21220      data _null_;
MPRINT(EM_DIAGRAM):   data _null_;
21221      length string $200;
MPRINT(EM_DIAGRAM):   length string $200;
21222      set EMWS8.Filter_INTERVAL end=eof;
MPRINT(EM_DIAGRAM):   set EMWS8.Filter_INTERVAL end=eof;
21223      file _X;
MPRINT(EM_DIAGRAM):   file _X;
21224      where (INTERVALMIN ne . or INTERVALMAX ne . or KEEPMISSING eq 'N')
21225      and ROLE ne 'TARGET';
MPRINT(EM_DIAGRAM):   where (INTERVALMIN ne . or INTERVALMAX ne . or KEEPMISSING eq 'N') and ROLE ne 'TARGET';
21226      ;
MPRINT(EM_DIAGRAM):   ;
21227      by NAME;
MPRINT(EM_DIAGRAM):   by NAME;
21228      if _N_ = 1 then do;
MPRINT(EM_DIAGRAM):   if _N_ = 1 then do;
21229      string = ' (';
MPRINT(EM_DIAGRAM):   string = ' (';
21230      end;
MPRINT(EM_DIAGRAM):   end;
21231      else do;
MPRINT(EM_DIAGRAM):   else do;
21232      string = ' and (';
MPRINT(EM_DIAGRAM):   string = ' and (';
21233      end;
MPRINT(EM_DIAGRAM):   end;
21234      if INTERVALMIN ne . or INTERVALMAX ne . then do;
MPRINT(EM_DIAGRAM):   if INTERVALMIN ne . or INTERVALMAX ne . then do;
21235      if KEEPMISSING = 'N' then string = trim(string)!!' '!!strip(NAME)!!' ne . and ';
MPRINT(EM_DIAGRAM):   if KEEPMISSING = 'N' then string = trim(string)!!' '!!strip(NAME)!!' ne . and ';
21236      else string = trim(string)!!' '!!strip(NAME)!!' eq . or ';
MPRINT(EM_DIAGRAM):   else string = trim(string)!!' '!!strip(NAME)!!' eq . or ';
21237      if INTERVALMIN ne . and INTERVALMAX ne . then do;
MPRINT(EM_DIAGRAM):   if INTERVALMIN ne . and INTERVALMAX ne . then do;
21238      string = trim(string)!!' ('!!strip(put(INTERVALMIN, best12.))!!'<='!!strip(NAME)!!') and ('!!strip(NAME)!!'<='!!strip(put(INTERVALMAX, best12.))!!')';
MPRINT(EM_DIAGRAM):   string = trim(string)!!' ('!!strip(put(INTERVALMIN, best12.))!!'<='!!strip(NAME)!!') and ('!!strip(NAME)!!'<='!!strip(put(INTERVALMAX, best12.))!!')';
21239      end;
MPRINT(EM_DIAGRAM):   end;
21240      else if INTERVALMIN eq . and INTERVALMAX ne . then do;
MPRINT(EM_DIAGRAM):   else if INTERVALMIN eq . and INTERVALMAX ne . then do;
21241      string = trim(string)!!' ('!!strip(NAME)!!'<='!!strip(put(INTERVALMAX, best12.))!!')';
MPRINT(EM_DIAGRAM):   string = trim(string)!!' ('!!strip(NAME)!!'<='!!strip(put(INTERVALMAX, best12.))!!')';
21242      end;
MPRINT(EM_DIAGRAM):   end;
21243      else if INTERVALMIN ne . and INTERVALMAX eq . then do;
MPRINT(EM_DIAGRAM):   else if INTERVALMIN ne . and INTERVALMAX eq . then do;
21244      string = trim(string)!!' ('!!strip(put(INTERVALMIN, best12.)) || '<=' || NAME||')';
MPRINT(EM_DIAGRAM):   string = trim(string)!!' ('!!strip(put(INTERVALMIN, best12.)) || '<=' || NAME||')';
21245      end;
MPRINT(EM_DIAGRAM):   end;
21246      end;
MPRINT(EM_DIAGRAM):   end;
21247      else do;
MPRINT(EM_DIAGRAM):   else do;
21248      string = trim(string)!!' '!!strip(name)!!' ne .';
MPRINT(EM_DIAGRAM):   string = trim(string)!!' '!!strip(name)!!' ne .';
21249      end;
MPRINT(EM_DIAGRAM):   end;
21250      string = trim(string)!!')';
MPRINT(EM_DIAGRAM):   string = trim(string)!!')';
21251      put string;
MPRINT(EM_DIAGRAM):   put string;
21252      if eof then call symput('_FilterIntervalNum', strip(put(_N_, best.)));
MPRINT(EM_DIAGRAM):   if eof then call symput('_FilterIntervalNum', strip(put(_N_, best.)));
21253      run;
MPRINT(EM_DIAGRAM):   run;

NOTE: The file _X is:
      Filename=C:\Users\LUKASF~1\AppData\Local\Temp\SAS Temporary Files\_TD17696_WN7LF-LEAVE_\Prc2\INTERVALPUBLISHFILTERCODE.txt,
      RECFM=V,LRECL=256,File Size (bytes)=0,
      Last Modified=11. April 2016 16.41 Uhr,
      Create Time=11. April 2016 16.41 Uhr

NOTE: 17 records were written to the file _X.
      The minimum record length was 19.
      The maximum record length was 61.
NOTE: There were 17 observations read from the data set EMWS8.FILTER_INTERVAL.
      WHERE ((INTERVALMIN not = .) or (INTERVALMAX not = .) or (KEEPMISSING='N')) and (ROLE not = 'TARGET');
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

NOTE: This SAS session is using a registry in WORK.  All changes will be lost at the end of this session.
21254      data EMWS8.Filter_TRAIN / view=EMWS8.Filter_TRAIN;
MPRINT(EM_DIAGRAM):    data EMWS8.Filter_TRAIN / view=EMWS8.Filter_TRAIN;
21255      set EMWS8.Stat_TRAIN;
MPRINT(EM_DIAGRAM):   set EMWS8.Stat_TRAIN;
21256      
21257      
21258      length _FILTERFMT1  $200;
MPRINT(EM_DIAGRAM):   length _FILTERFMT1 $200;
21259      drop _FILTERFMT1 ;
MPRINT(EM_DIAGRAM):   drop _FILTERFMT1 ;
21260      _FILTERFMT1= put(AcceptedCmp1,BEST.);
MPRINT(EM_DIAGRAM):   _FILTERFMT1= put(AcceptedCmp1,BEST.);
21261      length _FILTERNORM1  $32;
MPRINT(EM_DIAGRAM):   length _FILTERNORM1 $32;
21262      drop _FILTERNORM1 ;
MPRINT(EM_DIAGRAM):   drop _FILTERNORM1 ;
21263      %dmnormcp(_FILTERFMT1,_FILTERNORM1);
MPRINT(DMNORMCP):   _FILTERNORM1=dmnorm(_FILTERFMT1,
MPRINT(DMNORLEN):  32
MPRINT(DMNORMCP):  );
MPRINT(EM_DIAGRAM):  ;
MPRINT(EM_DIAGRAM):   length _FILTERFMT2 $200;
21264      
MPRINT(EM_DIAGRAM):   drop _FILTERFMT2 ;
21265      
MPRINT(EM_DIAGRAM):   _FILTERFMT2= put(AcceptedCmp2,BEST.);
21266      length _FILTERFMT2  $200;
MPRINT(EM_DIAGRAM):   length _FILTERNORM2 $32;
21267      drop _FILTERFMT2 ;
MPRINT(EM_DIAGRAM):   drop _FILTERNORM2 ;
21268      _FILTERFMT2= put(AcceptedCmp2,BEST.);
21269      length _FILTERNORM2  $32;
21270      drop _FILTERNORM2 ;
MPRINT(DMNORMCP):   _FILTERNORM2=dmnorm(_FILTERFMT2,
21271      %dmnormcp(_FILTERFMT2,_FILTERNORM2);
MPRINT(DMNORLEN):  32
MPRINT(DMNORMCP):  );
MPRINT(EM_DIAGRAM):  ;
MPRINT(EM_DIAGRAM):   length _FILTERFMT3 $200;
21272      
MPRINT(EM_DIAGRAM):   drop _FILTERFMT3 ;
21273      
MPRINT(EM_DIAGRAM):   _FILTERFMT3= put(AcceptedCmp3,BEST.);
21274      length _FILTERFMT3  $200;
MPRINT(EM_DIAGRAM):   length _FILTERNORM3 $32;
21275      drop _FILTERFMT3 ;
MPRINT(EM_DIAGRAM):   drop _FILTERNORM3 ;
21276      _FILTERFMT3= put(AcceptedCmp3,BEST.);
21277      length _FILTERNORM3  $32;
21278      drop _FILTERNORM3 ;
MPRINT(DMNORMCP):   _FILTERNORM3=dmnorm(_FILTERFMT3,
21279      %dmnormcp(_FILTERFMT3,_FILTERNORM3);
MPRINT(DMNORLEN):  32
MPRINT(DMNORMCP):  );
MPRINT(EM_DIAGRAM):  ;
MPRINT(EM_DIAGRAM):   length _FILTERFMT4 $200;
21280      
MPRINT(EM_DIAGRAM):   drop _FILTERFMT4 ;
21281      
MPRINT(EM_DIAGRAM):   _FILTERFMT4= put(AcceptedCmp4,BEST.);
21282      length _FILTERFMT4  $200;
MPRINT(EM_DIAGRAM):   length _FILTERNORM4 $32;
21283      drop _FILTERFMT4 ;
MPRINT(EM_DIAGRAM):   drop _FILTERNORM4 ;
21284      _FILTERFMT4= put(AcceptedCmp4,BEST.);
21285      length _FILTERNORM4  $32;
21286      drop _FILTERNORM4 ;
MPRINT(DMNORMCP):   _FILTERNORM4=dmnorm(_FILTERFMT4,
21287      %dmnormcp(_FILTERFMT4,_FILTERNORM4);
MPRINT(DMNORLEN):  32
MPRINT(DMNORMCP):  );
MPRINT(EM_DIAGRAM):  ;
MPRINT(EM_DIAGRAM):   length _FILTERFMT5 $200;
21288      
MPRINT(EM_DIAGRAM):   drop _FILTERFMT5 ;
21289      
MPRINT(EM_DIAGRAM):   _FILTERFMT5= put(AcceptedCmp5,BEST.);
21290      length _FILTERFMT5  $200;
MPRINT(EM_DIAGRAM):   length _FILTERNORM5 $32;
21291      drop _FILTERFMT5 ;
MPRINT(EM_DIAGRAM):   drop _FILTERNORM5 ;
21292      _FILTERFMT5= put(AcceptedCmp5,BEST.);
21293      length _FILTERNORM5  $32;
21294      drop _FILTERNORM5 ;
MPRINT(DMNORMCP):   _FILTERNORM5=dmnorm(_FILTERFMT5,
21295      %dmnormcp(_FILTERFMT5,_FILTERNORM5);
MPRINT(DMNORLEN):  32
MPRINT(DMNORMCP):  );
MPRINT(EM_DIAGRAM):  ;
MPRINT(EM_DIAGRAM):   length _FILTERFMT6 $200;
21296      
MPRINT(EM_DIAGRAM):   drop _FILTERFMT6 ;
21297      
MPRINT(EM_DIAGRAM):   _FILTERFMT6= put(Complain,BEST.);
21298      length _FILTERFMT6  $200;
MPRINT(EM_DIAGRAM):   length _FILTERNORM6 $32;
21299      drop _FILTERFMT6 ;
MPRINT(EM_DIAGRAM):   drop _FILTERNORM6 ;
21300      _FILTERFMT6= put(Complain,BEST.);
21301      length _FILTERNORM6  $32;
21302      drop _FILTERNORM6 ;
MPRINT(DMNORMCP):   _FILTERNORM6=dmnorm(_FILTERFMT6,
21303      %dmnormcp(_FILTERFMT6,_FILTERNORM6);
MPRINT(DMNORLEN):  32
MPRINT(DMNORMCP):  );
MPRINT(EM_DIAGRAM):  ;
MPRINT(EM_DIAGRAM):   length _FILTERFMT7 $200;
21304      
MPRINT(EM_DIAGRAM):   drop _FILTERFMT7 ;
21305      
MPRINT(EM_DIAGRAM):   _FILTERFMT7= put(Education,$10.0);
21306      length _FILTERFMT7  $200;
MPRINT(EM_DIAGRAM):   length _FILTERNORM7 $32;
21307      drop _FILTERFMT7 ;
MPRINT(EM_DIAGRAM):   drop _FILTERNORM7 ;
21308      _FILTERFMT7= put(Education,$10.0);
21309      length _FILTERNORM7  $32;
21310      drop _FILTERNORM7 ;
MPRINT(DMNORMCP):   _FILTERNORM7=dmnorm(_FILTERFMT7,
21311      %dmnormcp(_FILTERFMT7,_FILTERNORM7);
MPRINT(DMNORLEN):  32
MPRINT(DMNORMCP):  );
MPRINT(EM_DIAGRAM):  ;
MPRINT(EM_DIAGRAM):   length _FILTERFMT8 $200;
21312      
MPRINT(EM_DIAGRAM):   drop _FILTERFMT8 ;
21313      
MPRINT(EM_DIAGRAM):   _FILTERFMT8= put(Marital_Status,$8.0);
21314      length _FILTERFMT8  $200;
MPRINT(EM_DIAGRAM):   length _FILTERNORM8 $32;
21315      drop _FILTERFMT8 ;
MPRINT(EM_DIAGRAM):   drop _FILTERNORM8 ;
21316      _FILTERFMT8= put(Marital_Status,$8.0);
21317      length _FILTERNORM8  $32;
21318      drop _FILTERNORM8 ;
MPRINT(DMNORMCP):   _FILTERNORM8=dmnorm(_FILTERFMT8,
21319      %dmnormcp(_FILTERFMT8,_FILTERNORM8);
MPRINT(DMNORLEN):  32
MPRINT(DMNORMCP):  );
MPRINT(EM_DIAGRAM):  ;
21320      if
21321      _FILTERNORM1 not in ( '.')
21322       and
21323      _FILTERNORM2 not in ( '.')
21324       and
21325      _FILTERNORM3 not in ( '.')
21326       and
21327      _FILTERNORM4 not in ( '.')
21328       and
21329      _FILTERNORM5 not in ( '.')
21330       and
21331      _FILTERNORM6 not in ( '.')
21332       and
21333      _FILTERNORM7 not in ( ' ')
21334       and
21335      _FILTERNORM8 not in ( ' ')
21336      and
21337      ( Dt_Customer ne .)
21338      and ( Income ne . and (Income<=107000))
21339      and ( Kidhome ne .)
21340      and ( MntFishProducts ne . and (MntFishProducts<=200))
21341      and ( MntFruits ne . and (MntFruits<=157))
21342      and ( MntGoldProds ne . and (MntGoldProds<=196))
21343      and ( MntMeatProducts ne . and (MntMeatProducts<=964))
21344      and ( MntSweetProducts ne . and (MntSweetProducts<=143.2))
21345      and ( MntWines ne . and (MntWines<=1325))
21346      and ( NumCatalogPurchases ne . and (NumCatalogPurchases<=14))
21347      and ( NumDealsPurchases ne . and (NumDealsPurchases<=10.5))
21348      and ( NumStorePurchases ne .)
21349      and ( NumWebPurchases ne .)
MPRINT(EM_DIAGRAM):   if _FILTERNORM1 not in ( '.') and _FILTERNORM2 not in ( '.') and _FILTERNORM3 not in ( '.') and _FILTERNORM4 not in ( '.') and _FILTERNORM5 not in ( '.') and _FILTERNORM6 not in ( '.') and _FILTERNORM7 not in ( ' ') and _FILTERNORM8 
not in ( ' ') and ( Dt_Customer ne .) and ( Income ne . and (Income<=107000)) and ( Kidhome ne .) and ( MntFishProducts ne . and (MntFishProducts<=200)) and ( MntFruits ne . and (MntFruits<=157)) and ( MntGoldProds ne . and (MntGoldProds<=196)) and ( 
MntMeatProducts ne . and (MntMeatProducts<=964)) and ( MntSweetProducts ne . and (MntSweetProducts<=143.2)) and ( MntWines ne . and (MntWines<=1325)) and ( NumCatalogPurchases ne . and (NumCatalogPurchases<=14)) and ( NumDealsPurchases ne . and 
(NumDealsPurchases<=10.5)) and ( NumStorePurchases ne .) and ( NumWebPurchases ne .) and ( NumWebVisitsMonth ne . and (NumWebVisitsMonth<=13.42)) and ( Recency ne .) and ( Teenhome ne .) and ( Year_Birth ne .) ;
21350      and ( NumWebVisitsMonth ne . and (NumWebVisitsMonth<=13.42))
MPRINT(EM_DIAGRAM):   run;
21351      and ( Recency ne .)
21352      and ( Teenhome ne .)
21353      and ( Year_Birth ne .)
21354      ;
21355      run;

NOTE: DATA STEP view saved on file EMWS8.FILTER_TRAIN.
NOTE: A stored DATA STEP view cannot run under a different operating system.
NOTE: View EMWS8.STAT_TRAIN.VIEW used (Total process time):
      real time           0.06 seconds
      cpu time            0.06 seconds
      
NOTE: DATA statement used (Total process time):
      real time           0.07 seconds
      cpu time            0.07 seconds
      

21356      data WORK.FilterFILTERVAR;
MPRINT(EM_DIAGRAM):    data WORK.FilterFILTERVAR;
21357      set
21358      EMWS8.Filter_INTERVAL(where=(INTERVALMIN ne . or INTERVALMAX ne . or KEEPMISSING='N'))
21359      EMWS8.Filter_CLASS(where=(CALCMETHOD ne 'NONE'))
21360      ;
MPRINT(EM_DIAGRAM):   set EMWS8.Filter_INTERVAL(where=(INTERVALMIN ne . or INTERVALMAX ne . or KEEPMISSING='N')) EMWS8.Filter_CLASS(where=(CALCMETHOD ne 'NONE')) ;
21361      keep NAME;
MPRINT(EM_DIAGRAM):   keep NAME;
21362      run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 17 observations read from the data set EMWS8.FILTER_INTERVAL.
      WHERE (INTERVALMIN not = .) or (INTERVALMAX not = .) or (KEEPMISSING='N');
NOTE: There were 8 observations read from the data set EMWS8.FILTER_CLASS.
      WHERE CALCMETHOD not = 'NONE';
NOTE: The data set WORK.FILTERFILTERVAR has 25 observations and 1 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

21363      proc sort data= WORK.FilterFILTERVAR nodupkey;
MPRINT(EM_DIAGRAM):   proc sort data= WORK.FilterFILTERVAR nodupkey;
21364      by NAME;
MPRINT(EM_DIAGRAM):   by NAME;
21365      run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 25 observations read from the data set WORK.FILTERFILTERVAR.
NOTE: 0 observations with duplicate key values were deleted.
NOTE: The data set WORK.FILTERFILTERVAR has 25 observations and 1 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

21366      proc sort data=WORK.M094VQHQ;
MPRINT(EM_DIAGRAM):    proc sort data=WORK.M094VQHQ;
21367      by NAME;
MPRINT(EM_DIAGRAM):   by NAME;
21368      run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 26 observations read from the data set WORK.M094VQHQ.
NOTE: The data set WORK.M094VQHQ has 26 observations and 26 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

21369      data WORK.FilterDMDBC;
MPRINT(EM_DIAGRAM):   data WORK.FilterDMDBC;
21370      merge WORK.M094VQHQ WORK.FilterFILTERVAR(in=_b);
MPRINT(EM_DIAGRAM):   merge WORK.M094VQHQ WORK.FilterFILTERVAR(in=_b);
21371      by NAME;
MPRINT(EM_DIAGRAM):   by NAME;
21372      if (REPORT = 'Y' or ROLE in('FREQ','TARGET') or _b) then output;
MPRINT(EM_DIAGRAM):   if (REPORT = 'Y' or ROLE in('FREQ','TARGET') or _b) then output;
21373      run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 26 observations read from the data set WORK.M094VQHQ.
NOTE: There were 25 observations read from the data set WORK.FILTERFILTERVAR.
NOTE: The data set WORK.FILTERDMDBC has 26 observations and 26 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

21374      *------------------------------------------------------------* ;
MPRINT(EM_DIAGRAM):    *------------------------------------------------------------* ;
21375      * Filter: DMDBClass Macro ;
MPRINT(EM_DIAGRAM):   * Filter: DMDBClass Macro ;
21376      *------------------------------------------------------------* ;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------* ;
21377      %macro DMDBClass;
21378          AcceptedCmp1(ASC) AcceptedCmp2(ASC) AcceptedCmp3(ASC) AcceptedCmp4(ASC)
21379         AcceptedCmp5(ASC) Complain(ASC) DepVar(DESC) Education(ASC) Marital_Status(ASC)
21380      %mend DMDBClass;
21381      *------------------------------------------------------------* ;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------* ;
21382      * Filter: DMDBVar Macro ;
MPRINT(EM_DIAGRAM):   * Filter: DMDBVar Macro ;
21383      *------------------------------------------------------------* ;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------* ;
21384      %macro DMDBVar;
21385          Dt_Customer Income Kidhome MntFishProducts MntFruits MntGoldProds
21386         MntMeatProducts MntSweetProducts MntWines NumCatalogPurchases NumDealsPurchases
21387         NumStorePurchases NumWebPurchases NumWebVisitsMonth Recency Teenhome Year_Birth
21388      %mend DMDBVar;
21389      *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
21390      * Filter: Create DMDB;
MPRINT(EM_DIAGRAM):   * Filter: Create DMDB;
21391      *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
21392      proc dmdb batch data=EMWS8.Stat_TRAIN
21393      dmdbcat=WORK.Filter_DMDB
21394      varout=WORK.FILTER_VARSTATS
21395      maxlevel = 513
21396      ;
MPRINT(EM_DIAGRAM):   proc dmdb batch data=EMWS8.Stat_TRAIN dmdbcat=WORK.Filter_DMDB varout=WORK.FILTER_VARSTATS maxlevel = 513 ;
MPRINT(EM_DIAGRAM):   class
21397      class %DMDBClass;
MPRINT(DMDBCLASS):   AcceptedCmp1(ASC) AcceptedCmp2(ASC) AcceptedCmp3(ASC) AcceptedCmp4(ASC) AcceptedCmp5(ASC) Complain(ASC) DepVar(DESC) Education(ASC) Marital_Status(ASC)
MPRINT(EM_DIAGRAM):  ;
MPRINT(EM_DIAGRAM):   var
21398      var %DMDBVar;
MPRINT(DMDBVAR):   Dt_Customer Income Kidhome MntFishProducts MntFruits MntGoldProds MntMeatProducts MntSweetProducts MntWines NumCatalogPurchases NumDealsPurchases NumStorePurchases NumWebPurchases NumWebVisitsMonth Recency Teenhome Year_Birth
MPRINT(EM_DIAGRAM):  ;
21399      target
21400      DepVar
21401      ;
MPRINT(EM_DIAGRAM):   target DepVar ;
21402      run;
MPRINT(EM_DIAGRAM):   run;

NOTE: Records processed = 3500   Memory used = 511K.
NOTE: There were 3500 observations read from the data set EMWS8.FIMPORT_DATA.
NOTE: View EMWS8.STAT_TRAIN.VIEW used (Total process time):
      real time           0.05 seconds
      cpu time            0.04 seconds
      
NOTE: There were 3500 observations read from the data set EMWS8.FIMPORT_TRAIN.
NOTE: There were 3500 observations read from the data set EMWS8.STAT_TRAIN.
NOTE: The data set WORK.FILTER_VARSTATS has 17 observations and 9 variables.
NOTE: PROCEDURE DMDB used (Total process time):
      real time           0.06 seconds
      cpu time            0.06 seconds
      

MPRINT(EM_DIAGRAM):   quit;
MPRINT(EM_DIAGRAM):   *--- end code ---*;
21403      quit;
21404      *--- end code ---*;

21405      data WORK.FILTER_VARSTATS;
MPRINT(EM_DIAGRAM):    data WORK.FILTER_VARSTATS;
21406      length DATAROLE $10 TYPE $8 NAME $32;
MPRINT(EM_DIAGRAM):   length DATAROLE $10 TYPE $8 NAME $32;
21407      label DATAROLE = "%sysfunc(sasmsg(sashelp.dmine, rpt_datarole_vlabel, NOQUOTE))";
MPRINT(EM_DIAGRAM):   label DATAROLE = "Data Role";
21408      label N = "%sysfunc(sasmsg(sashelp.dmine, rpt_nonMiss_vlabel, NOQUOTE))";
MPRINT(EM_DIAGRAM):   label N = "Non Missing";
21409      label NMISS = "%sysfunc(sasmsg(sashelp.dmine, rpt_missing_vlabel, NOQUOTE))";
MPRINT(EM_DIAGRAM):   label NMISS = "Missing";
21410      label MIN = "%sysfunc(sasmsg(sashelp.dmine, rpt_minimum_vlabel, NOQUOTE))";
MPRINT(EM_DIAGRAM):   label MIN = "Minimum";
21411      label MAX = "%sysfunc(sasmsg(sashelp.dmine, rpt_maximum_vlabel, NOQUOTE))";
MPRINT(EM_DIAGRAM):   label MAX = "Maximum";
21412      label MEAN = "%sysfunc(sasmsg(sashelp.dmine, rpt_mean_vlabel,    NOQUOTE))";
MPRINT(EM_DIAGRAM):   label MEAN = "Mean";
21413      label STD = "%sysfunc(sasmsg(sashelp.dmine, rpt_std_vlabel,     NOQUOTE))";
MPRINT(EM_DIAGRAM):   label STD = "Standard Deviation";
21414      label SKEWNESS = "%sysfunc(sasmsg(sashelp.dmine, rpt_skewness_vlabel, NOQUOTE))";
MPRINT(EM_DIAGRAM):   label SKEWNESS = "Skewness";
21415      label KURTOSIS = "%sysfunc(sasmsg(sashelp.dmine, rpt_kurtosis_vlabel, NOQUOTE))";
MPRINT(EM_DIAGRAM):   label KURTOSIS = "Kurtosis";
21416      label NUMCAT = "%sysfunc(sasmsg(sashelp.dmine, rpt_numcat_vlabel,   NOQUOTE))";
MPRINT(EM_DIAGRAM):   label NUMCAT = "Number of Levels";
21417      retain DATAROLE "TRAIN" type "ORIGINAL";
MPRINT(EM_DIAGRAM):   retain DATAROLE "TRAIN" type "ORIGINAL";
21418      set WORK.FILTER_VARSTATS;
MPRINT(EM_DIAGRAM):   set WORK.FILTER_VARSTATS;
21419      run;
MPRINT(EM_DIAGRAM):   run;

NOTE: Variable NUMCAT is uninitialized.
NOTE: There were 17 observations read from the data set WORK.FILTER_VARSTATS.
NOTE: The data set WORK.FILTER_VARSTATS has 17 observations and 11 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      

21420      proc append base=EMWS8.Filter_STATS data=WORK.FILTER_VARSTATS;
MPRINT(EM_DIAGRAM):   proc append base=EMWS8.Filter_STATS data=WORK.FILTER_VARSTATS;
21421      run;
MPRINT(EM_DIAGRAM):   run;

NOTE: Appending WORK.FILTER_VARSTATS to EMWS8.FILTER_STATS.
NOTE: BASE data set does not exist. DATA file is being copied to BASE file.
NOTE: There were 17 observations read from the data set WORK.FILTER_VARSTATS.
NOTE: The data set EMWS8.FILTER_STATS has 17 observations and 11 variables.
NOTE: PROCEDURE APPEND used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

MPRINT(EM_DIAGRAM):    proc printto;
MPRINT(EM_DIAGRAM):   run;
